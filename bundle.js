/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={187:t=>{"use strict";function e(t,e,o){o=o||2;var s,a,h,c,d,p,_,y=e&&e.length,m=y?e[0]*o:t.length,v=r(t,0,m,o,!0),g=[];if(!v||v.next===v.prev)return g;if(y&&(v=function(t,e,n,o){var s,a,h,c=[];for(s=0,a=e.length;s<a;s++)(h=r(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===h.next&&(h.steiner=!0),c.push(f(h));for(c.sort(u),s=0;s<c.length;s++)l(c[s],n),n=i(n,n.next);return n}(t,e,v,o)),t.length>80*o){s=h=t[0],a=c=t[1];for(var b=o;b<m;b+=o)(d=t[b])<s&&(s=d),(p=t[b+1])<a&&(a=p),d>h&&(h=d),p>c&&(c=p);_=0!==(_=Math.max(h-s,c-a))?1/_:0}return n(v,g,o,s,a,_),g}function r(t,e,r,i,n){var o,s;if(n===S(t,e,r,i)>0)for(o=e;o<r;o+=i)s=E(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=E(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(A(s),s=s.next),s}function i(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!m(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(A(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function n(t,e,r,u,l,c,f){if(t){!f&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=d(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,u,l,c);for(var p,_,y=t;t.prev!==t.next;)if(p=t.prev,_=t.next,c?s(t,u,l,c):o(t))e.push(p.i/r),e.push(t.i/r),e.push(_.i/r),A(t),t=_.next,y=_.next;else if((t=_)===y){f?1===f?n(t=a(i(t),e,r),e,r,u,l,c,2):2===f&&h(t,e,r,u,l,c):n(i(t),e,r,u,l,c,1);break}}}function o(t){var e=t.prev,r=t,i=t.next;if(y(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(p(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(t,e,r,i){var n=t.prev,o=t,s=t.next;if(y(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=d(a,h,e,r,i),f=d(u,l,e,r,i),_=t.prevZ,m=t.nextZ;_&&_.z>=c&&m&&m.z<=f;){if(_!==t.prev&&_!==t.next&&p(n.x,n.y,o.x,o.y,s.x,s.y,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,m!==t.prev&&m!==t.next&&p(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;_&&_.z>=c;){if(_!==t.prev&&_!==t.next&&p(n.x,n.y,o.x,o.y,s.x,s.y,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;m&&m.z<=f;){if(m!==t.prev&&m!==t.next&&p(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function a(t,e,r){var n=t;do{var o=n.prev,s=n.next.next;!m(o,s)&&v(o,n,n.next,s)&&T(o,s)&&T(s,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(s.i/r),A(n),A(n.next),n=t=s),n=n.next}while(n!==t);return i(n)}function h(t,e,r,o,s,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&_(h,u)){var l=x(h,u);return h=i(h,h.next),l=i(l,l.next),n(h,e,r,o,s,a),void n(l,e,r,o,s,a)}u=u.next}h=h.next}while(h!==t)}function u(t,e){return t.x-e.x}function l(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,d=r.y,f=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&p(o<d?n:s,o,l,d,o<d?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),T(i,t)&&(h<f||h===f&&(i.x>r.x||i.x===r.x&&c(r,i)))&&(r=i,f=h)),i=i.next}while(i!==u);return r}(t,e)){var r=x(e,t);i(e,e.next),i(r,r.next)}}function c(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function d(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function p(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(T(t,e)&&T(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||m(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,r,i){var n=b(y(t,e,r)),o=b(y(t,e,i)),s=b(y(r,i,t)),a=b(y(r,i,e));return n!==o&&s!==a||!(0!==n||!g(t,r,e))||!(0!==o||!g(t,i,e))||!(0!==s||!g(r,t,i))||!(0!==a||!g(r,e,i))}function g(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function b(t){return t>0?1:t<0?-1:0}function T(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function x(t,e){var r=new O(t.i,t.x,t.y),i=new O(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function E(t,e,r,i){var n=new O(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(S(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,f=i[a+1]*r,p=i[a+2]*r;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,o||t,s),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,o),!0;case 6:return l.fn.call(l.context,e,i,n,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||i&&a[h].context!==i)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,h=n(t),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))r.call(s,l)&&(h[l]=s[l]);if(e){a=e(s);for(var c=0;c<a.length;c++)i.call(s,a[c])&&(h[a[c]]=s[a[c]])}}return h}},571:t=>{"use strict";t.exports=function(t,e){if(t){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}}},587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,i,n){r=r||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var l,c,d,f,p=t[u].replace(s,"%20"),_=p.indexOf(i);_>=0?(l=p.substr(0,_),c=p.substr(_+1)):(l=p,c=""),d=decodeURIComponent(l),f=decodeURIComponent(c),e(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o}},361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,i,n){return r=r||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var o=encodeURIComponent(e(n))+i;return Array.isArray(t[n])?t[n].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[n]))})).join(r):n?encodeURIComponent(e(n))+i+encodeURIComponent(e(t)):""}},673:(t,e,r)=>{"use strict";e.decode=e.parse=r(587),e.encode=e.stringify=r(361)},574:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentId=void 0,e.getComponentId=function(t,e){return void 0===e&&(e=!1),t.hasOwnProperty(r)?t[r]:e?t[r]=i++:void 0};var r="__componentClassId__",i=1},492:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Engine=void 0;var i=r(655),n=r(17),o=r(370),s=r(797),a=function(){function t(){var t=this;this.onEntityAdded=new s.Signal,this.onEntityRemoved=new s.Signal,this._entityMap=new Map,this._entities=[],this._systems=[],this._queries=[],this._subscriptions=[],this._sharedConfig=new n.Entity,this.onComponentAdded=function(e,r,i){t._queries.forEach((function(t){return t.entityComponentAdded(e,r,i)}))},this.onInvalidationRequested=function(e){t._queries.forEach((function(t){return t.validateEntity(e)}))},this.onComponentRemoved=function(e,r,i){t._queries.forEach((function(t){return t.entityComponentRemoved(e,r,i)}))},this.connectEntity(this._sharedConfig)}return Object.defineProperty(t.prototype,"entities",{get:function(){return Array.from(this._entities)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"systems",{get:function(){return this._systems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"queries",{get:function(){return this._queries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subscriptions",{get:function(){return this._subscriptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedConfig",{get:function(){return this._sharedConfig},enumerable:!1,configurable:!0}),t.prototype.addEntity=function(t){return this._entityMap.has(t.id)||(this._entities.push(t),this._entityMap.set(t.id,t),this.onEntityAdded.emit(t),this.connectEntity(t)),this},t.prototype.removeEntity=function(t){if(!this._entityMap.has(t.id))return this;var e=this._entities.indexOf(t);return this._entities.splice(e,1),this._entityMap.delete(t.id),this.onEntityRemoved.emit(t),this.disconnectEntity(t),this},t.prototype.removeSystem=function(t){var e=this._systems.indexOf(t);return-1===e||(this._systems.splice(e,1),t.onRemovedFromEngine(),t.setEngine(void 0)),this},t.prototype.getEntityById=function(t){return this._entityMap.get(t)},t.prototype.getSystem=function(t){return this._systems.find((function(e){return e instanceof t}))},t.prototype.removeAllSystems=function(){var t,e,r=this._systems;this._systems=[];try{for(var n=i.__values(r),o=n.next();!o.done;o=n.next())o.value.onRemovedFromEngine()}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.removeAllQueries=function(){var t,e,r=this._queries;this._queries=[];try{for(var n=i.__values(r),o=n.next();!o.done;o=n.next()){var s=o.value;this.disconnectQuery(s),s.clear()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.removeAllEntities=function(){this.removeAllEntitiesInternal(!1)},t.prototype.clear=function(){this.removeAllEntitiesInternal(!0),this.removeAllSystems(),this.removeAllQueries()},t.prototype.update=function(t){var e,r;try{for(var n=i.__values(this._systems),o=n.next();!o.done;o=n.next())o.value.update(t)}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.addQuery=function(t){return this.connectQuery(t),t.matchEntities(this.entities),this._queries[this._queries.length]=t,this},t.prototype.addSystem=function(t,e){if(void 0===e&&(e=0),t.setPriority(e),0===this._systems.length)this._systems[0]=t;else{var r=this._systems.findIndex((function(t){return t.priority>e}));-1===r?this._systems[this._systems.length]=t:this._systems.splice(r,0,t)}return t.setEngine(this),t.onAddedToEngine(),this},t.prototype.removeQuery=function(t){var e=this._queries.indexOf(t);if(-1!=e)return this._queries.splice(e,1),this.disconnectQuery(t),t.clear(),this},t.prototype.subscribe=function(t,e){this.addSubscription(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscription(t,e)},t.prototype.unsubscribeAll=function(){this._subscriptions.length=0},t.prototype.addSubscription=function(t,e){var r,n;try{for(var s=i.__values(this._subscriptions),a=s.next();!a.done;a=s.next()){var h=a.value;if(h.equals(t,e))return h}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}var u=new o.Subscription(t,e);return this._subscriptions.push(u),u},t.prototype.removeSubscription=function(t,e){for(var r=this._subscriptions.length;--r>=0;)if(this._subscriptions[r].equals(t,e)&&(this._subscriptions.splice(r,1),void 0!==e))return},t.prototype.dispatch=function(t){var e,r;try{for(var n=i.__values(this._subscriptions),o=n.next();!o.done;o=n.next()){var s=o.value;("function"==typeof s.messageType&&t instanceof s.messageType||t===s.messageType)&&s.handler(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.connectEntity=function(t){t.onComponentAdded.connect(this.onComponentAdded),t.onComponentRemoved.connect(this.onComponentRemoved),t.onInvalidationRequested.connect(this.onInvalidationRequested)},t.prototype.disconnectEntity=function(t){t.onComponentAdded.disconnect(this.onComponentAdded),t.onComponentRemoved.disconnect(this.onComponentRemoved),t.onInvalidationRequested.disconnect(this.onInvalidationRequested)},t.prototype.connectQuery=function(t){this.onEntityAdded.connect(t.entityAdded),this.onEntityRemoved.connect(t.entityRemoved)},t.prototype.disconnectQuery=function(t){this.onEntityAdded.disconnect(t.entityAdded),this.onEntityRemoved.disconnect(t.entityRemoved)},t.prototype.removeAllEntitiesInternal=function(t){var e,r,n=this._entities;this._entities=[],this._entityMap.clear();try{for(var o=i.__values(n),s=o.next();!s.done;s=o.next()){var a=s.value;t||this.onEntityRemoved.emit(a),this.disconnectEntity(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},t}();e.Engine=a},17:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntitySnapshot=e.Entity=void 0;var i=r(574),n=r(797),o=r(210),s=function(){function t(){this.onComponentAdded=new n.Signal,this.onComponentRemoved=new n.Signal,this.onInvalidationRequested=new n.Signal,this.id=h++,this._components={},this._tags=new Set}return Object.defineProperty(t.prototype,"components",{get:function(){return this._components},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){return o.isTag(t)?this.addTag(t):this.addComponent(t,e),this},t.prototype.append=function(t,e){return this.appendComponent(t,e)},t.prototype.addComponent=function(t,e){var r=Object.getPrototypeOf(t).constructor;if(e){if(!(t instanceof e&&r!=e))throw new Error("Resolve class should be an ancestor of component class");r=e}var n=i.getComponentId(r,!0);if(void 0!==this._components[n]){if(t===this._components[n])return;this.remove(r)}this._components[n]=t,this.onComponentAdded.hasHandlers&&this.onComponentAdded.emit(this,t)},t.prototype.appendComponent=function(t,e){var r=Object.getPrototypeOf(t).constructor;if(e){if(!(t instanceof e&&r!=e))throw new Error("Resolve class should be an ancestor of component class");r=e}if(this.hasComponent(r)){for(var i=this.get(r);i!==t&&void 0!==i.next;)i=i.next;if(i===t)throw new Error("Component is already appended, appending it once again will break linked items order");i.next=t}else this.addComponent(t,e);return this},t.prototype.addTag=function(t){this._tags.has(t)||(this._tags.add(t),this.onComponentAdded.hasHandlers&&this.onComponentAdded.emit(this,t))},t.prototype.has=function(t){return o.isTag(t)?this.hasTag(t):this.hasComponent(t)},t.prototype.hasComponent=function(t){var e=i.getComponentId(t);return void 0!==e&&void 0!==this._components[e]},t.prototype.hasTag=function(t){return this._tags.has(t)},t.prototype.hasAny=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some((function(e){return t.has(e)}))},t.prototype.hasAll=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.every((function(e){return t.has(e)}))},t.prototype.get=function(t){var e=i.getComponentId(t);if(void 0!==e)return this._components[e]},t.prototype.getComponents=function(){return Array.from(Object.values(this._components))},t.prototype.getTags=function(){return Array.from(this._tags)},t.prototype.remove=function(t){if(!o.isTag(t))return this.removeComponent(t);this.removeTag(t)},t.prototype.removeComponent=function(t){var e=i.getComponentId(t);if(void 0!==e&&void 0!==this._components[e]){var r=this._components[e];return delete this._components[e],this.onComponentRemoved.hasHandlers&&this.onComponentRemoved.emit(this,r),r}},t.prototype.removeTag=function(t){this._tags.has(t)&&(this._tags.delete(t),this.onComponentRemoved.hasHandlers&&this.onComponentRemoved.emit(this,t))},t.prototype.clear=function(){this._components={},this._tags.clear()},t.prototype.copyFrom=function(t){return this._components=Object.assign({},t._components),this._tags=new Set(t._tags),this},t.prototype.takeSnapshot=function(t,e,r){t.current=this;var n=t.previous;if(n.copyFrom(this),void 0!==e)if(o.isTag(e)){var s=n._tags;this.has(e)?s.delete(e):s.add(e)}else{var a=null!=r?r:Object.getPrototypeOf(e).constructor,h=i.getComponentId(a,!0),u=n._components;this.has(a)?delete u[h]:u[h]=e}},t.prototype.invalidate=function(){this.onInvalidationRequested.emit(this)},t}();e.Entity=s;var a=function(){function t(){this._previous=new s}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},set:function(t){this._current=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previous",{get:function(){return this._previous},enumerable:!1,configurable:!0}),t}();e.EntitySnapshot=a;var h=1},724:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IterativeSystem=void 0;var i=r(655),n=function(t){function e(e){var r=t.call(this,e)||this;return r._removed=!1,r}return i.__extends(e,t),e.prototype.update=function(t){this.updateEntities(t)},e.prototype.onRemovedFromEngine=function(){this._removed=!0,t.prototype.onRemovedFromEngine.call(this)},e.prototype.updateEntities=function(t){var e,r;try{for(var n=i.__values(this.query.entities),o=n.next();!o.done;o=n.next()){var s=o.value;if(this._removed)return;this.updateEntity(s,t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},e}(r(134).ReactionSystem);e.IterativeSystem=n},644:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedComponent=void 0;e.LinkedComponent=function(){}},997:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQueryBuilder=e.isQueryPredicate=e.QueryBuilder=e.Query=void 0;var i=r(655),n=r(574),o=r(17),s=r(210),a=r(797),h=function(){function t(t){var e=this;this.onEntityAdded=new a.Signal,this.onEntityRemoved=new a.Signal,this._helper=new o.Entity,this._snapshot=new o.EntitySnapshot,this._entities=[],this.entityAdded=function(t){-1===e._entities.indexOf(t)&&e._predicate(t)&&(e._entities.push(t),e.onEntityAdded.hasHandlers&&(t.takeSnapshot(e._snapshot),e.onEntityAdded.emit(e._snapshot)))},this.entityRemoved=function(t){var r=e._entities.indexOf(t);-1!==r&&(e._entities.splice(r,1),e.onEntityRemoved.hasHandlers&&(t.takeSnapshot(e._snapshot),e.onEntityRemoved.emit(e._snapshot)))},this.entityComponentAdded=function(t,r,i){var n=e.onEntityAdded.hasHandlers,o=e.onEntityRemoved.hasHandlers;e.updateHelper(t,r);var s=e._entities.indexOf(t),a=e._predicate(e._helper);-1===s&&a?(e._entities.push(t),n&&(t.takeSnapshot(e._snapshot,r,i),e.onEntityAdded.emit(e._snapshot))):-1===s||a||(e._entities.splice(s,1),o&&(t.takeSnapshot(e._snapshot,r,i),e.onEntityRemoved.emit(e._snapshot)))},this.entityComponentRemoved=function(t,r,i){var n=e.onEntityAdded.hasHandlers,o=e.onEntityRemoved.hasHandlers;e.updateHelper(t,r);var s=e._entities.indexOf(t);-1!==s&&e._predicate(e._helper)&&!e._predicate(t)?(e._entities.splice(s,1),o&&(t.takeSnapshot(e._snapshot,r,i),e.onEntityRemoved.emit(e._snapshot))):-1===s&&e._predicate(t)&&!e._predicate(e._helper)&&(e._entities.push(t),n&&(t.takeSnapshot(e._snapshot,r,i),e.onEntityAdded.emit(e._snapshot)))},this._predicate=t}return Object.defineProperty(t.prototype,"entities",{get:function(){return this._entities},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){if(0!==this._entities.length)return this._entities[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){if(0!==this._entities.length)return this._entities[this._entities.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._entities.length},enumerable:!1,configurable:!0}),t.prototype.countBy=function(t){var e,r,n=0;try{for(var o=i.__values(this._entities),s=o.next();!s.done;s=o.next())t(s.value)&&n++}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.find=function(t){return this._entities.find(t)},t.prototype.filter=function(t){return this._entities.filter(t)},t.prototype.has=function(t){return-1!==this._entities.indexOf(t)},t.prototype.matchEntities=function(t){var e=this;t.forEach((function(t){return e.entityAdded(t)}))},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0==this.entities.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this._entities=[]},t.prototype.validateEntity=function(t){var e=this.entities.indexOf(t),r=this._predicate(t);-1===e||r?this.entityAdded(t):this.entityRemoved(t)},t.prototype.updateHelper=function(t,e){this._helper.clear(),this._helper.copyFrom(t),this._helper.add(e)},t}();e.Query=h;var u=function(){function t(){this._components=new Set,this._tags=new Set}return t.prototype.contains=function(){for(var t,e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{for(var a=i.__values(r),h=a.next();!h.done;h=a.next()){var u=h.value;if(s.isTag(u))this._tags.has(u)||this._tags.add(u);else{var l=n.getComponentId(u,!0);this._components.has(l)||this._components.add(l)}}}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return this},t.prototype.build=function(){var t=this;return new h((function(e){return function(t,e,r){var n,o,s,a;if(e.size>0)try{for(var h=i.__values(e),u=h.next();!u.done;u=h.next()){var l=u.value;if(void 0===t.components[l])return!1}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}if(r.size>0)try{for(var c=i.__values(r),d=c.next();!d.done;d=c.next()){var f=d.value;if(!t.tags.has(f))return!1}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}return!0}(e,t._components,t._tags)}))},t.prototype.getComponents=function(){return this._components},t.prototype.getTags=function(){return this._tags},t}();e.QueryBuilder=u,e.isQueryPredicate=function(t){return"function"==typeof t},e.isQueryBuilder=function(t){return t instanceof u}},134:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReactionSystem=void 0;var i=r(655),n=r(997),o=function(t){function e(e){var r=t.call(this)||this;return r.entityAdded=function(t){},r.entityRemoved=function(t){},n.isQueryBuilder(e)?r.query=e.build():n.isQueryPredicate(e)?r.query=new n.Query(e):r.query=e,r}return i.__extends(e,t),Object.defineProperty(e.prototype,"entities",{get:function(){return this.query.entities},enumerable:!1,configurable:!0}),e.prototype.onAddedToEngine=function(){this.engine.addQuery(this.query),this.prepare(),this.query.onEntityAdded.connect(this.entityAdded),this.query.onEntityRemoved.connect(this.entityRemoved)},e.prototype.onRemovedFromEngine=function(){this.engine.removeQuery(this.query),this.query.onEntityAdded.disconnect(this.entityAdded),this.query.onEntityRemoved.disconnect(this.entityRemoved),this.query.clear()},e.prototype.prepare=function(){},e}(r(7).System);e.ReactionSystem=o},370:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Subscription=void 0;var r=function(){function t(t,e){this.messageType=t,this.handler=e}return t.prototype.equals=function(t,e){return this.messageType===t&&(void 0===e||this.handler===e)},t}();e.Subscription=r},7:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.System=void 0;var r=function(){function t(){this._priority=0}return Object.defineProperty(t.prototype,"engine",{get:function(){if(void 0===this._engine)throw new Error('Property "engine" can\'t be accessed when system is not added to the engine');return this._engine},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedConfig",{get:function(){if(void 0===this._engine)throw new Error('Property "sharedConfig" can\'t be accessed when system is not added to the engine');return this._engine.sharedConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),t.prototype.update=function(t){},t.prototype.onAddedToEngine=function(){},t.prototype.onRemovedFromEngine=function(){},t.prototype.dispatch=function(t){if(void 0===this._engine)throw new Error("Dispatching a message can't be done while system is not attached to the engine");this.engine.dispatch(t)},t.prototype.setEngine=function(t){this._engine=t},t.prototype.setPriority=function(t){this._priority=t},t}();e.System=r},210:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTag=void 0,e.isTag=function(t){var e=typeof t;return"string"===e||"number"===e}},111:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(655);i.__exportStar(r(87),e),i.__exportStar(r(797),e),i.__exportStar(r(574),e),i.__exportStar(r(210),e),i.__exportStar(r(644),e),i.__exportStar(r(492),e),i.__exportStar(r(17),e),i.__exportStar(r(7),e),i.__exportStar(r(997),e),i.__exportStar(r(724),e)},87:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},797:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Signal=void 0;var i=r(655),n=function(){function t(){this.handlers=[]}return Object.defineProperty(t.prototype,"hasHandlers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handlersAmount",{get:function(){return this.handlers.length},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.handlers.indexOf(t)<0&&this.handlers.push(t)},t.prototype.disconnect=function(t){var e=this.handlers.indexOf(t);e>=0&&this.handlers.splice(e,1)},t.prototype.disconnectAll=function(){this.handlers.length=0},t.prototype.emit=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i.__values(this.handlers),s=o.next();!s.done;s=o.next()){var a=s.value;a.apply(void 0,i.__spreadArray([],i.__read(r)))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t}();e.Signal=n},655:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__extends:()=>n,__assign:()=>o,__rest:()=>s,__decorate:()=>a,__param:()=>h,__metadata:()=>u,__awaiter:()=>l,__generator:()=>c,__createBinding:()=>d,__exportStar:()=>f,__values:()=>p,__read:()=>_,__spread:()=>y,__spreadArrays:()=>m,__spreadArray:()=>v,__await:()=>g,__asyncGenerator:()=>b,__asyncDelegator:()=>T,__asyncValues:()=>x,__makeTemplateObject:()=>E,__importStar:()=>O,__importDefault:()=>S,__classPrivateFieldGet:()=>R,__classPrivateFieldSet:()=>w});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return(o=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function s(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}function a(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function h(t,e){return function(r,i){e(r,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))}function c(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]};function f(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||d(e,t,r)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}function v(t,e){for(var r=0,i=e.length,n=t.length;r<i;r++,n++)t[n]=e[r];return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function b(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){n[t]&&(i[t]=function(e){return new Promise((function(r,i){o.push([t,e,r,i])>1||a(t,e)}))})}function a(t,e){try{(r=n[t](e)).value instanceof g?Promise.resolve(r.value.v).then(h,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function h(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function T(t){var e,r;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,n){e[i]=t[i]?function(e){return(r=!r)?{value:g(t[i](e)),done:"return"===i}:n?n(e):e}:n}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=t[r]&&function(e){return new Promise((function(i,n){!function(t,e,r,i){Promise.resolve(i).then((function(e){t({value:e,done:r})}),e)}(i,n,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var A=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&d(e,t,r);return A(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function R(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)}function w(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r}},511:function(t,e,r){var i;t=r.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function _(t){throw RangeError(d[t])}function y(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function m(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+y((t=t.replace(c,".")).split("."),e).join(".")}function v(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function g(t){return y(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+p(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function T(t,e,r){var i=0;for(t=r?f(t/700):t>>1,t+=f(t/e);t>455;i+=h)t=f(t/35);return f(i+36*t/(t+38))}function x(t){var e,r,i,n,o,s,u,l,c,d,p,y=[],m=t.length,v=0,b=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&_("not-basic"),y.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<m;){for(o=v,s=1,u=h;n>=m&&_("invalid-input"),((l=(p=t.charCodeAt(n++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:h)>=h||l>f((a-v)/s))&&_("overflow"),v+=l*s,!(l<(c=u<=x?1:u>=x+26?26:u-x));u+=h)s>f(a/(d=h-c))&&_("overflow"),s*=d;x=T(v-o,e=y.length+1,0==o),f(v/e)>a-b&&_("overflow"),b+=f(v/e),v%=e,y.splice(v++,0,b)}return g(y)}function E(t){var e,r,i,n,o,s,u,l,c,d,y,m,g,x,E,A=[];for(m=(t=v(t)).length,e=128,r=0,o=72,s=0;s<m;++s)(y=t[s])<128&&A.push(p(y));for(i=n=A.length,n&&A.push("-");i<m;){for(u=a,s=0;s<m;++s)(y=t[s])>=e&&y<u&&(u=y);for(u-e>f((a-r)/(g=i+1))&&_("overflow"),r+=(u-e)*g,e=u,s=0;s<m;++s)if((y=t[s])<e&&++r>a&&_("overflow"),y==e){for(l=r,c=h;!(l<(d=c<=o?1:c>=o+26?26:c-o));c+=h)E=l-d,x=h-d,A.push(p(b(d+E%x,0))),l=f(E/x);A.push(p(b(l,0))),o=T(r,g,i==n),r=0,++i}++r,++e}return A.join("")}s={version:"1.3.2",ucs2:{decode:v,encode:g},decode:x,encode:E,toASCII:function(t){return m(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return m(t,(function(t){return u.test(t)?x(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,r,e,t))||(t.exports=i)}()},575:(t,e,r)=>{"use strict";var i=r(511),n=r(502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.Qc=g,e.DB=function(t,e){return g(t,!1,!0).resolve(e)},e.WU=function(t){return n.isString(t)&&(t=g(t)),t instanceof o?t.format():o.prototype.format.call(t)};var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(673);function g(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var g=t=u.join(a);if(g=g.trim(),!r&&1===t.split("#").length){var b=h.exec(g);if(b)return this.path=g,this.href=g,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var T=s.exec(g);if(T){var x=(T=T[0]).toLowerCase();this.protocol=x,g=g.substr(T.length)}if(r||T||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===g.substr(0,2);!E||T&&y[T]||(g=g.substr(2),this.slashes=!0)}if(!y[T]&&(E||T&&!m[T])){for(var A,O,S=-1,R=0;R<d.length;R++)-1!==(w=g.indexOf(d[R]))&&(-1===S||w<S)&&(S=w);for(-1!==(O=-1===S?g.lastIndexOf("@"):g.lastIndexOf("@",S))&&(A=g.slice(0,O),g=g.slice(O+1),this.auth=decodeURIComponent(A)),S=-1,R=0;R<c.length;R++){var w;-1!==(w=g.indexOf(c[R]))&&(-1===S||w<S)&&(S=w)}-1===S&&(S=g.length),this.host=g.slice(0,S),g=g.slice(S),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),M=(R=0,P.length);R<M;R++){var C=P[R];if(C&&!C.match(f)){for(var D="",N=0,L=C.length;N<L;N++)C.charCodeAt(N)>127?D+="x":D+=C[N];if(!D.match(f)){var F=P.slice(0,R),U=P.slice(R+1),B=C.match(p);B&&(F.push(B[1]),U.unshift(B[2])),U.length&&(g="/"+U.join(".")+g),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var G=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+G,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!_[x])for(R=0,M=l.length;R<M;R++){var k=l[R];if(-1!==g.indexOf(k)){var j=encodeURIComponent(k);j===k&&(j=escape(k)),g=g.split(k).join(j)}}var H=g.indexOf("#");-1!==H&&(this.hash=g.substr(H),g=g.slice(0,H));var Y=g.indexOf("?");if(-1!==Y?(this.search=g.substr(Y),this.query=g.substr(Y+1),e&&(this.query=v.parse(this.query)),g=g.slice(0,Y)):e&&(this.search="",this.query={}),g&&(this.pathname=g),m[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){G=this.pathname||"";var V=this.search||"";this.path=G+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var f=c[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var _=r.pathname||"",v=r.search||"";r.path=_+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),T=b||g||r.host&&t.pathname,x=T,E=r.pathname&&r.pathname.split("/")||[],A=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),T=T&&(""===p[0]||""===E[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search))return A&&(r.hostname=r.host=E.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=E.slice(-1)[0],S=(r.host||t.host||E.length>1)&&("."===O||".."===O)||""===O,R=0,w=E.length;w>=0;w--)"."===(O=E[w])?E.splice(w,1):".."===O?(E.splice(w,1),R++):R&&(E.splice(w,1),R--);if(!T&&!x)for(;R--;R)E.unshift("..");!T||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var I,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);return A&&(r.hostname=r.host=P?"":E.length?E.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),(T=T||r.host&&E.length)&&!P&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=r(111);var e=setTimeout;function i(t){return Boolean(t&&void 0!==t.length)}function n(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var i;try{i=r(t._value)}catch(t){return void h(e.promise,t)}a(e.promise,i)}else(1===t._state?a:h)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof r)return void c((i=r,n=e,function(){i.apply(n,arguments)}),t)}t._state=1,t._value=e,u(t)}catch(e){h(t,e)}var i,n}function h(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,r=t._deferreds.length;e<r;e++)s(t,t._deferreds[e]);t._deferreds=null}function l(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function c(t,e){var r=!1;try{t((function(t){r||(r=!0,a(e,t))}),(function(t){r||(r=!0,h(e,t))}))}catch(t){if(r)return;r=!0,h(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new this.constructor(n);return s(this,new l(t,e,r)),r},o.prototype.finally=function(t){var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){return e.reject(r)}))}))},o.all=function(t){return new o((function(e,r){if(!i(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var o=n.length;function s(t,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a)return void a.call(i,(function(e){s(t,e)}),r)}n[t]=i,0==--o&&e(n)}catch(t){r(t)}}for(var a=0;a<n.length;a++)s(a,n[a])}))},o.allSettled=function(t){return new this((function(e,r){if(!t||void 0===t.length)return r(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var n=i.length;function o(t,r){if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(e){o(t,e)}),(function(r){i[t]={status:"rejected",reason:r},0==--n&&e(i)}))}i[t]={status:"fulfilled",value:r},0==--n&&e(i)}for(var s=0;s<i.length;s++)o(s,i[s])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,r){r(t)}))},o.race=function(t){return new o((function(e,r){if(!i(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,s=t.length;n<s;n++)o.resolve(t[n]).then(e,r)}))},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const d=o;var f=r(418),p=r.n(f);if(self.Promise||(self.Promise=d),Object.assign||(Object.assign=p()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var _=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-_}}for(var y=Date.now(),m=["ms","moz","webkit","o"],v=0;v<m.length&&!self.requestAnimationFrame;++v){var g=m[v];self.requestAnimationFrame=self[g+"RequestAnimationFrame"],self.cancelAnimationFrame=self[g+"CancelAnimationFrame"]||self[g+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+y-e;return r<0&&(r=0),y=e,self.setTimeout((function(){y=Date.now(),t(performance.now())}),r)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var b,T,x,E,A,O,S,R,w,I,P,M,C,D,N,L,F,U,B=/iPhone/i,G=/iPod/i,X=/iPad/i,k=/\biOS-universal(?:.+)Mac\b/i,j=/\bAndroid(?:.+)Mobile\b/i,H=/Android/i,Y=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,V=/Silk/i,z=/Windows Phone/i,W=/\bWindows(?:.+)ARM\b/i,q=/BlackBerry/i,K=/BB10/i,Z=/Opera Mini/i,Q=/\b(CriOS|Chrome)(?:.+)Mobile/i,J=/Mobile(?:.+)Firefox\b/i,$=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},tt=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:n(B)&&!n(z),ipod:n(G),tablet:!n(B)&&(n(X)||$(e))&&!n(z),universal:n(k),device:(n(B)||n(G)||n(X)||n(k)||$(e))&&!n(z)},amazon:{phone:n(Y),tablet:!n(Y)&&n(V),device:n(Y)||n(V)},android:{phone:!n(z)&&n(Y)||!n(z)&&n(j),tablet:!n(z)&&!n(Y)&&!n(j)&&(n(V)||n(H)),device:!n(z)&&(n(Y)||n(V)||n(j)||n(H))||n(/\bokhttp\b/i)},windows:{phone:n(z),tablet:n(W),device:n(z)||n(W)},other:{blackberry:n(q),blackberry10:n(K),opera:n(Z),firefox:n(J),chrome:n(Q),device:n(q)||n(K)||n(Z)||n(J)||n(Q)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(self.navigator);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(b||(b={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(T||(T={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(x||(x={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(E||(E={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(A||(A={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(O||(O={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(S||(S={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(R||(R={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(w||(w={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(I||(I={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(P||(P={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(M||(M={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(C||(C={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(D||(D={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(N||(N={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(L||(L={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(F||(F={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(U||(U={}));var et,rt,it,nt,ot,st,at,ht,ut,lt,ct,dt,ft,pt,_t,yt,mt,vt,gt={MIPMAP_TEXTURES:M.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e,r=!0;(tt.tablet||tt.phone)&&(tt.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(r=!1),tt.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(r=!1));return r?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:N.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:P.CLAMP,SCALE_MODE:I.LINEAR,PRECISION_VERTEX:L.HIGH,PRECISION_FRAGMENT:tt.apple.device?L.HIGH:L.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!tt.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},bt=r(729),Tt=r.n(bt),xt=r(187),Et=r.n(xt),At=r(575);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(et||(et={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(rt||(rt={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(it||(it={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(nt||(nt={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(ot||(ot={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(st||(st={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(at||(at={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(ht||(ht={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(ut||(ut={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(lt||(lt={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(ct||(ct={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(dt||(dt={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(ft||(ft={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(pt||(pt={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(_t||(_t={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(yt||(yt={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(mt||(mt={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(vt||(vt={}));var Ot={parse:At.Qc,format:At.WU,resolve:At.DB};gt.RETINA_PREFIX=/@([0-9\.]+)x/,gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var St,Rt=!1,wt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function It(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Pt(t){var e=t.toString(16);return"#"+("000000".substr(0,6-e.length)+e)}function Mt(t){return"string"==typeof t&&"#"===(t=wt[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)}var Ct=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[nt.NORMAL_NPM]=nt.NORMAL,t[nt.ADD_NPM]=nt.ADD,t[nt.SCREEN_NPM]=nt.SCREEN,e[nt.NORMAL]=nt.NORMAL_NPM,e[nt.ADD]=nt.ADD_NPM,e[nt.SCREEN]=nt.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function Dt(t,e){return Ct[e?1:0][t]}function Nt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n*e+.5|0)}function Lt(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Ft(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function Ut(t){return!(t&t-1||!t)}function Bt(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function Gt(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function Xt(t){return 0===t?0:t<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var kt=0;function jt(){return++kt}var Ht={};function Yt(t,e,r){if(void 0===r&&(r=3),!Ht[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),Ht[e]=!0}}var Vt,zt={},Wt=Object.create(null),qt=Object.create(null),Kt=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||gt.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function Zt(t,e){var r=gt.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var Qt,Jt=2*Math.PI,$t=180/Math.PI,te=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(Qt||(Qt={}));var ee=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=Qt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),re=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=Qt.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new ee(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),ie=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=Qt.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new ee(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),ne=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var n=[],o=0,s=i.length;o<s;o++)n.push(i[o].x,i[o].y);i=n}this.points=i,this.type=Qt.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),oe=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=Qt.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),se=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),ae=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),he=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new se;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new se;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=t.pivot,s=-Math.atan2(-i,n),a=Math.atan2(r,e),h=Math.abs(s+a);return h<1e-5||Math.abs(Jt-h)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx+(o.x*e+o.y*i),t.position.y=this.ty+(o.x*r+o.y*n),t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),ue=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],le=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ce=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],de=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],fe=[],pe=[],_e=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];fe.push(e);for(var r=0;r<16;r++)for(var i=_e(ue[t]*ue[r]+ce[t]*le[r]),n=_e(le[t]*ue[r]+de[t]*le[r]),o=_e(ue[t]*ce[r]+ce[t]*de[r]),s=_e(le[t]*ce[r]+de[t]*de[r]),a=0;a<16;a++)if(ue[a]===i&&le[a]===n&&ce[a]===o&&de[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new he;h.set(ue[t],le[t],ce[t],de[t],0,0),pe.push(h)}}();var ye={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ue[t]},uY:function(t){return le[t]},vX:function(t){return ce[t]},vY:function(t){return de[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return fe[t][e]},sub:function(t,e){return fe[t][ye.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?ye.S:ye.N:2*Math.abs(e)<=Math.abs(t)?t>0?ye.E:ye.W:e>0?t>0?ye.SE:ye.SW:t>0?ye.NE:ye.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=pe[ye.inv(e)];n.tx=r,n.ty=i,t.append(n)}},me=function(){function t(){this.worldTransform=new he,this.localTransform=new he,this.position=new ae(this.onChange,this,0,0),this.scale=new ae(this.onChange,this,1,1),this.pivot=new ae(this.onChange,this,0,0),this.skew=new ae(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();gt.SORTABLE_CHILDREN=!1;var ve=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?ee.EMPTY:((t=t||new ee(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var r=t.a,i=t.b,n=t.c,o=t.d,s=t.tx,a=t.ty,h=r*e.x+n*e.y+s,u=i*e.x+o*e.y+a;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},t.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,f=this.maxX,p=this.maxY,_=o*e+a*r+u,y=s*e+h*r+l;c=_<c?_:c,d=y<d?y:d,f=_>f?_:f,p=y>p?y:p,c=(_=o*i+a*r+u)<c?_:c,d=(y=s*i+h*r+l)<d?y:d,f=_>f?_:f,p=y>p?y:p,c=(_=o*e+a*n+u)<c?_:c,d=(y=s*e+h*n+l)<d?y:d,f=_>f?_:f,p=y>p?y:p,c=(_=o*i+a*n+u)<c?_:c,d=(y=s*i+h*n+l)<d?y:d,f=_>f?_:f,p=y>p?y:p,this.minX=c,this.minY=d,this.maxX=f,this.maxY=p},t.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},t.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,f=this.minY,p=this.maxX,_=this.maxY,y=r;y<i;y+=2){var m=e[y],v=e[y+1],g=s*m+h*v+l,b=u*v+a*m+c;d=Math.min(d,g-n),p=Math.max(p,g+n),f=Math.min(f,b-o),_=Math.max(_,b+o)}this.minX=d,this.minY=f,this.maxX=p,this.maxY=_},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),ge=function(t,e){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function be(t,e){function r(){this.constructor=t}ge(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Te=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new me,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new ve,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return be(e,t),e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new ee),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new ee),t=this._localBoundsRect),this._localBounds||(this._localBounds=new ve);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new xe),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*$t},set:function(t){this.transform.rotation=t*te},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(Tt()),xe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return be(e,t),e}(Te);function Ee(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Te.prototype.displayObjectUpdateTransform=Te.prototype.updateTransform;var Ae=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=gt.SORTABLE_CHILDREN,e.sortDirty=!1,e}return be(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);Gt(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,Gt(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Gt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=t,n=e-i;if(n>0&&n<=e){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Ee),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t),i=0;for(var n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Te);Ae.prototype.containerUpdateTransform=Ae.prototype.updateTransform,Te.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Oe,Se=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(tt.tablet||tt.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(tt.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.left,i=e.top,n=e.width,o=e.height,s=this.renderer,a=s.width,h=s.height,u=s.resolution,l=n/a*u,c=o/h*u,d=this.div;d.style.left=r+"px",d.style.top=i+"px",d.style.width=a+"px",d.style.height=h+"px";for(var f=0;f<this.children.length;f++){var p=this.children[f];if(p.renderId!==this.renderId)p._accessibleActive=!1,Gt(this.children,f,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,f--;else{d=p._accessibleDiv;var _=p.hitArea,y=p.worldTransform;p.hitArea?(d.style.left=(y.tx+_.x*y.a)*l+"px",d.style.top=(y.ty+_.y*y.d)*c+"px",d.style.width=_.width*y.a*l+"px",d.style.height=_.height*y.d*c+"px"):(_=p.getBounds(),this.capHitArea(_),d.style.left=_.x*l+"px",d.style.top=_.y*c+"px",d.style.width=_.width*l+"px",d.style.height=_.height*c+"px",d.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(d.title=p.accessibleTitle),d.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&d.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===d.title&&p.tabIndex===d.tabIndex||(d.title=p.accessibleTitle,d.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,r=e.width,i=e.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>i&&(t.height=i-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"click",i),e.dispatchEvent(r,"pointertap",i),e.dispatchEvent(r,"tap",i)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"mouseover",i)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"mouseout",i)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();gt.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Oe||(Oe={}));var Re=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=i}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),we=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Re(null,null,1/0),this.deltaMS=1/gt.TARGET_FPMS,this.elapsedMS=1/gt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=Oe.NORMAL),this._addListener(new Re(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Oe.NORMAL),this._addListener(new Re(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*gt.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,gt.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Ie=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Oe.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?we.shared:new we,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Pe=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new se,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),Me=function(t,e){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Ce=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),De=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Ne=function(){function t(){this._tempPoint=new se}return t.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},t.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},t}(),Le={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Te.mixin(Le);var Fe={target:null,data:{global:null}},Ue=function(t){function e(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new Pe,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new Ce,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in self),i.supportsTouchEvents="ontouchstart"in self,i.supportsPointerEvents=!!self.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Ne,i._tempDisplayObject=new xe,i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){function r(){this.constructor=t}Me(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return Fe.target=null,Fe.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(Fe,e,null,!0),Fe.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(we.system.add(this.tickerUpdate,this,Oe.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(we.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),self.addEventListener("pointercancel",this.onPointerCancel,!0),self.addEventListener("pointerup",this.onPointerUp,!0)):(self.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),self.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),self.removeEventListener("pointercancel",this.onPointerCancel,!0),self.removeEventListener("pointerup",this.onPointerUp,!0)):(self.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),self.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,r)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new De(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=De.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new De(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new Pe).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!self.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof self.PointerEvent)){var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}else e.push(t);return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Tt()),Be=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Be.prototype,{dispatch:{value:Be.prototype.emit},run:{value:Be.prototype.emit}}),gt.PREFER_ENV=tt.any?et.WEBGL:et.WEBGL2,gt.STRICT_TEXTURE_CACHE=!1;var Ge=[];function Xe(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=Ge.length-1;n>=0;--n){var o=Ge[n];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var ke=function(t,e){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function je(t,e){function r(){this.constructor=t}ke(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var He=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Be("setRealSize"),this.onUpdate=new Be("update"),this.onError=new Be("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),Ye=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)||this).data=e,i}return je(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ft.UNPACK);var n=e.realWidth,o=e.realHeight;return r.width===n&&r.height===o?i.texSubImage2D(e.target,0,0,0,n,o,e.format,e.type,this.data):(r.width=n,r.height=o,i.texImage2D(e.target,0,r.internalFormat,n,o,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(He),Ve={scaleMode:lt.NEAREST,format:st.RGBA,alphaMode:ft.NPM},ze=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=t.call(this)||this,n=(r=r||{}).alphaMode,o=r.mipmap,s=r.anisotropicLevel,a=r.scaleMode,h=r.width,u=r.height,l=r.wrapMode,c=r.format,d=r.type,f=r.target,p=r.resolution,_=r.resourceOptions;return!e||e instanceof He||((e=Xe(e,_)).internal=!0),i.width=h||0,i.height=u||0,i.resolution=p||gt.RESOLUTION,i.mipmap=void 0!==o?o:gt.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:gt.ANISOTROPIC_LEVEL,i.wrapMode=l||gt.WRAP_MODE,i.scaleMode=void 0!==a?a:gt.SCALE_MODE,i.format=c||st.RGBA,i.type=d||ht.UNSIGNED_BYTE,i.target=f||at.TEXTURE_2D,i.alphaMode=void 0!==n?n:ft.UNPACK,i.uid=jt(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=h>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return je(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Ut(this.realWidth)&&Ut(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete qt[this.cacheId],delete Wt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,i){void 0===i&&(i=gt.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;if(n)o=t;else{if(!t._pixiId){var s=r&&r.pixiIdPrefix||"pixiid";t._pixiId=s+"_"+jt()}o=t._pixiId}var a=qt[o];if(n&&i&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new e(t,r)).cacheId=o,e.addToCache(a,o)),a},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new Ye(t,{width:r,height:i}),s=t instanceof Float32Array?ht.FLOAT:ht.UNSIGNED_BYTE;return new e(o,Object.assign(Ve,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),qt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),qt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=qt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete qt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete qt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Tt()),We=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;(i=t.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new ze;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return je(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof He?this.addResourceAt(t[r],r):this.addResourceAt(Xe(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;return t.resize(r,i),Promise.resolve(t)})),this._load},e}(He),qe=function(t){function e(e,r){var i,n,o=this,s=r||{},a=s.width,h=s.height;return Array.isArray(e)?(i=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:h})||this,i&&o.initFromArray(i,r),o}return je(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=at.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var i=this,n=i.length,o=i.itemDirtyIds,s=i.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var h=0;h<n;h++){var u=s[h];o[h]<u.dirtyId&&(o[h]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(We),Ke=function(t){function e(e){var r=this,i=e,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,n,o)||this).source=e,r.noSubImage=!1,r}return je(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,Vt||(Vt=document.createElement("a")),Vt.href=t;var r=Ot.parse(Vt.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ft.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(He),Ze=function(t){function e(e){return t.call(this,e)||this}return je(e,t),e.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(Ke),Qe=function(t){function e(r,i){var n=this,o=i||{},s=o.width,a=o.height,h=o.autoLoad,u=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");n=t.call(this,6,{width:s,height:a})||this;for(var l=0;l<e.SIDES;l++)n.items[l].target=at.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=!1!==u,r&&n.initFromArray(r,i),!1!==h&&n.load(),n}return je(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=at.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=at.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(We),Je=function(t){function e(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var n=new Image;Ke.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:gt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return je(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var i=e.source;e.url=i.src;var n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&self.createImageBitmap?(this._process=self.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===ft.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(Ke),$e=function(t){function e(e,r){var i=this;return r=r||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return je(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;Ke.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*t.scale,o=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/i*r,o=t._overrideHeight||t._overrideWidth/r*i),n=Math.round(n),o=Math.round(o);var s=t.source;s.width=n,s.height=o,s._pixiId="canvas_"+jt(),s.getContext("2d").drawImage(e,0,0,r,i,0,0,n,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Ke),tr=function(t){function e(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];Ke.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var h=document.createElement("source"),u=r[a],l=u.src,c=u.mime,d=(l=l||r[a]).split("?").shift().toLowerCase(),f=d.substr(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[f]||"video/"+f,h.src=l,h.type=c,o.appendChild(h)}r=o}return(n=t.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return je(e,t),e.prototype.update=function(e){if(!this.destroyed){var r=we.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(we.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(we.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&we.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(we.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(we.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Ke),er=function(t){function e(e){return t.call(this,e)||this}return je(e,t),e.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},e}(Ke);Ge.push(Je,er,Ze,tr,$e,Ye,Qe,qe);var rr={__proto__:null,Resource:He,BaseImageResource:Ke,INSTALLED:Ge,autoDetectResource:Xe,AbstractMultiResource:We,ArrayResource:qe,BufferResource:Ye,CanvasResource:Ze,CubeResource:Qe,ImageResource:Je,SVGResource:$e,VideoResource:tr,ImageBitmapResource:er},ir=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return je(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ft.UNPACK);var n=e.realWidth,o=e.realHeight;return r.width===n&&r.height===o?i.texSubImage2D(e.target,0,0,0,n,o,e.format,e.type,this.data):(r.width=n,r.height=o,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,n,o,0,e.format,e.type,this.data)),!0},e}(Ye),or=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Be("disposeFramebuffer"),this.multisample=vt.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new ze(null,{scaleMode:lt.NEAREST,resolution:1,mipmap:dt.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ze(new nr(null,{width:this.width,height:this.height}),{scaleMode:lt.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:dt.OFF,format:st.DEPTH_COMPONENT,type:ht.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),sr=function(t){function e(e){var r=this;if("number"==typeof e){var i=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:n,scaleMode:o,resolution:s}}r=t.call(this,null,e)||this;var a=e||{},h=a.width,u=a.height;return r.mipmap=dt.OFF,r.width=Math.ceil(h)||100,r.height=Math.ceil(u)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new or(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return je(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(ze),ar=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=ye.add(r,ye.NW),this.x0=a+o*ye.uX(r),this.y0=h+s*ye.uY(r),r=ye.add(r,2),this.x1=a+o*ye.uX(r),this.y1=h+s*ye.uY(r),r=ye.add(r,2),this.x2=a+o*ye.uX(r),this.y2=h+s*ye.uY(r),r=ye.add(r,2),this.x3=a+o*ye.uX(r),this.y3=h+s*ye.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),hr=new ar,ur=function(t){function e(r,i,n,o,s,a){var h=t.call(this)||this;if(h.noFrame=!1,i||(h.noFrame=!0,i=new ee(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=i,h.trim=o,h.valid=!1,h._uvs=hr,h.uvMatrix=null,h.orig=n||i,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new se(a.x,a.y):new se(0,0),h._updateID=0,h.textureCacheIds=[],r.valid?h.noFrame?r.valid&&h.onBaseTextureUpdated(r):h.frame=i:r.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&r.on("update",h.onBaseTextureUpdated,h),h}return je(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&r.url&&Wt[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&t,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=t),i},e.prototype.updateUvs=function(){this._uvs===hr&&(this._uvs=new ar),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=gt.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;if(n)o=t;else{if(!t._pixiId){var s=r&&r.pixiIdPrefix||"pixiid";t._pixiId=s+"_"+jt()}o=t._pixiId}var a=Wt[o];if(n&&i&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||(r.resolution||(r.resolution=Zt(t)),(a=new e(new ze(t,r))).baseTexture.cacheId=o,ze.addToCache(a.baseTexture,o),e.addToCache(a,o)),a},e.fromURL=function(t,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),n=e.from(t,Object.assign({resourceOptions:i},r),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,r,i,n){return new e(ze.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i,n){var o=new ze(t,Object.assign({scaleMode:gt.SCALE_MODE,resolution:Zt(r)},n)),s=o.resource;s instanceof Je&&(s.url=r);var a=new e(o);return i||(i=r),ze.addToCache(a.baseTexture,i),e.addToCache(a,i),i!==r&&(ze.addToCache(a.baseTexture,r),e.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise((function(t){a.baseTexture.once("loaded",(function(){return t(a)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Wt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Wt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Wt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Wt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)Wt[t.textureCacheIds[i]]===t&&delete Wt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Tt());function lr(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}ur.EMPTY=new ur(new ze),lr(ur.EMPTY),lr(ur.EMPTY.baseTexture),ur.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new ur(new ze(new Ze(t)))}(),lr(ur.WHITE),lr(ur.WHITE.baseTexture);var cr=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return je(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var r=arguments,i=[],n=1;n<arguments.length;n++)i[n-1]=r[n];return"number"==typeof t&&(Yt("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new sr(t))},e}(ur),dr=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new sr(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new cr(r)},t.prototype.getOptimalTexture=function(e,r,i){void 0===i&&(i=1);var n=t.SCREEN_KEY;e*=i,r*=i,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(n=(65535&(e=Ft(e)))<<16|65535&(r=Ft(r))),this.texturePool[n]||(this.texturePool[n]=[]);var o=this.texturePool[n].pop();return o||(o=this.createTexture(e,r)),o.filterPoolKey=n,o.setResolution(i),o},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),fr=function(){function t(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=ht.FLOAT),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,i,n,o){return new t(e,r,i,n,o)},t}(),pr=0,_r=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=pr++,this.disposeRunner=new Be("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function yr(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var mr={Float32Array,Uint32Array,Int32Array,Uint8Array},vr={5126:4,5123:2,5121:1},gr=0,br={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Tr=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=gr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Be("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof _r||(e instanceof Array&&(e=new Float32Array(e)),e=new _r(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new fr(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof _r||(t instanceof Array&&(t=new Uint16Array(t)),t=new _r(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new _r;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*vr[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=yr(l);n[c]||(n[c]=new mr[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new _r(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];e.attributes[r]=new fr(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,i=new t,n=[],o=[],s=[],a=0;a<e.length;a++){r=e[a];for(var h=0;h<r.buffers.length;h++)o[h]=o[h]||0,o[h]+=r.buffers[h].data.length,s[h]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(br[yr(r.buffers[a].data)])(o[a]),i.buffers[a]=new _r(n[a]);for(a=0;a<e.length;a++)for(r=e[a],h=0;h<r.buffers.length;h++)n[h].set(r.buffers[h].data,s[h]),s[h]+=r.buffers[h].data.length;if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var u=0,l=0,c=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var f=r.attributes[a];(0|f.buffer)===d&&(l+=f.size*vr[f.type]/4)}for(a=0;a<e.length;a++){var p=e[a].indexBuffer.data;for(h=0;h<p.length;h++)i.indexBuffer.data[h+c]+=u;u+=r.buffers[d].data.length/l,c+=p.length}}return i},t}(),xr=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return je(e,t),e}(Tr),Er=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new _r(e.vertices),e.uvBuffer=new _r(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return je(e,t),e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Tr),Ar=0,Or=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ar++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,i){this.uniforms[e]=new t(r,i)},t.from=function(e,r){return new t(e,r)},t}(),Sr=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new ee,this.destinationFrame=new ee,this.bindingSourceFrame=new ee,this.bindingDestinationFrame=new ee,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Rr=[new se,new se,new se,new se],wr=new he,Ir=function(t){function e(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new dr,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new xr,r.quadUv=new Er,r.tempRect=new ee,r.activeState={},r.globalUniforms=new Or({outputFrame:new ee,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return je(e,t),e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new Sr,o=this.renderer.renderTexture,s=e[0].resolution,a=e[0].padding,h=e[0].autoFit,u=e[0].legacy,l=1;l<e.length;l++){var c=e[l];s=Math.min(s,c.resolution),a=this.useMaxPadding?Math.max(a,c.padding):a+c.padding,h=h&&c.autoFit,u=u||c.legacy}if(1===i.length&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(n),n.resolution=s,n.legacy=u,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(a),h){var d=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(wr.copyFrom(r.projection.transform).invert(),d),n.sourceFrame.fit(d)}this.roundFrame(n.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,s),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var f=this.tempRect;f.x=0,f.y=0,f.width=n.sourceFrame.width,f.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,n.bindingSourceFrame.copyFrom(o.sourceFrame),n.bindingDestinationFrame.copyFrom(o.destinationFrame),n.transform=r.projection.transform,r.projection.transform=null,o.bind(n.renderTexture,n.sourceFrame,f),r.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,pt.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<r.length-1;++c){r[c].apply(this,u,l,pt.CLEAR,e);var d=u;u=l,l=d}r[c].apply(this,u,h.renderTexture,pt.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){void 0===e&&(e=pt.CLEAR);var r=this.renderer,i=r.renderTexture,n=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,i.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&n.stateId||this.forceClear;(e===pt.CLEAR||e===pt.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;n.state.set(t.state),this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(ot.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(ot.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(he.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,e){var r=Rr[0],i=Rr[1],n=Rr[2],o=Rr[3];r.set(e.left,e.top),i.set(e.left,e.bottom),n.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(r,r),t.apply(i,i),t.apply(n,n),t.apply(o,o);var s=Math.min(r.x,i.x,n.x,o.x),a=Math.min(r.y,i.y,n.y,o.y),h=Math.max(r.x,i.x,n.x,o.x),u=Math.max(r.y,i.y,n.y,o.y);e.x=s,e.y=a,e.width=h-s,e.height=u-a},e.prototype.roundFrame=function(t,e,r,i,n){if(n){var o=n.a,s=n.b,a=n.c,h=n.d;if(!(0===s&&0===a||0===o&&0===h))return}(n=n?wr.copyFrom(n):wr.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(n,t),t.ceil(e),this.transformAABB(n.invert(),t)},e}(ir),Pr=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),Mr=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new Pr(e),r.currentRenderer=r.emptyRenderer,r}return je(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(ir),Cr=0,Dr=function(t){function e(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return je(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Cr++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Cr++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(gt.PREFER_ENV>=et.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(ir),Nr=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=vt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},Lr=new ee,Fr=function(t){function e(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new or(10,10),r.msaaSamples=null,r}return je(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ee,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;gt.PREFER_ENV===et.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,r,i,n){void 0===n&&(n=it.COLOR|it.DEPTH);var o=this.gl;o.clearColor(t,e,r,i),o.clear(n)},e.prototype.initFramebuffer=function(t){var e=this.gl,r=new Nr(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if(n.length>1&&e.drawBuffers(n),t.depthTexture&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,r=vt.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=vt.NONE),r},e.prototype.blit=function(t,e,r){var i=this,n=i.current,o=i.renderer,s=i.gl,a=i.CONTEXT_UID;if(2===o.context.webGLVersion&&n){var h=n.glFramebuffers[a];if(h){if(!t){if(h.multisample<=1)return;h.blitFramebuffer||(h.blitFramebuffer=new or(n.width,n.height),h.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=h.blitFramebuffer).width=n.width,t.height=n.height}e||((e=Lr).width=n.width,e.height=n.height),r||(r=e);var u=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,h.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,s.COLOR_BUFFER_BIT,u?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ee},e}(ir),Ur=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Br={5126:4,5123:2,5121:1},Gr=function(t){function e(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return je(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;gt.PREFER_ENV===et.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var o=i[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0),this.checkCompatibility(t,e);var i=this.gl,n=this.CONTEXT_UID,o=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[e.id]=a,a;var h=t.buffers,u=t.attributes,l={},c={};for(var d in h)l[d]=0,c[d]=0;for(var d in u)!u[d].size&&e.attributeData[d]?u[d].size=e.attributeData[d].size:u[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[u[d].buffer]+=u[d].size*Br[u[d].type];for(var d in u){var f=u[d],p=f.size;void 0===f.stride&&(l[f.buffer]===p*Br[f.type]?f.stride=0:f.stride=l[f.buffer]),void 0===f.start&&(f.start=c[f.buffer],c[f.buffer]+=p*Br[f.type])}a=i.createVertexArray(),i.bindVertexArray(a);for(var _=0;_<h.length;_++){var y=h[_];y._glBuffers[n]||(y._glBuffers[n]=new Ur(i.createBuffer()),this.managedBuffers[y.id]=y,y.disposeRunner.add(this)),r&&y._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,s[e.id]=a,s[o]=a,a},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);for(e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ir),Xr=function(){function t(t){void 0===t&&(t=null),this.type=mt.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=mt.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function kr(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function jr(t,e,r,i){var n=kr(t,t.VERTEX_SHADER,e),o=kr(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function Hr(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Yr(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Hr(2*e);case"bvec3":return Hr(3*e);case"bvec4":return Hr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Vr,zr={},Wr=zr;function qr(){if(Wr===zr||Wr&&Wr.isContextLost()){var t=document.createElement("canvas"),e=void 0;gt.PREFER_ENV>=et.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),Wr=e}return Wr}function Kr(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===yt.HIGH&&r!==yt.HIGH&&(i=yt.MEDIUM),"precision "+i+" float;\n"+t}return r!==yt.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Zr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Qr(t){return Zr[t]}var Jr=null,$r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ti(t,e){if(!Jr){var r=Object.keys($r);Jr={};for(var i=0;i<r.length;++i){var n=r[i];Jr[t[n]]=$r[n]}}return Jr[e]}var ei,ri=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],ii={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},ni={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},oi=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function si(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var ai=0,hi={},ui=function(){function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=ai++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),hi[i]?(hi[i]++,i+="-"+hi[i]):hi[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=Kr(this.vertexSrc,gt.PRECISION_VERTEX,yt.HIGH),this.fragmentSrc=Kr(this.fragmentSrc,gt.PRECISION_FRAGMENT,function(){if(!Vr){Vr=yt.MEDIUM;var t=qr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Vr=e.precision?yt.HIGH:yt.MEDIUM}}return Vr}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var r=qr();if(r){var i=jr(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=ti(e,s.type),h={type:a,name:s.name,size:Qr(a),location:0};r[s.name]=h,i.push(h)}for(i.sort((function(t,e){return t.name>e.name?1:-1})),o=0;o<i.length;o++)i[o].location=o;return r},t.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),h=ti(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:Yr(h,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,i){var n=e+r,o=zt[n];return o||(zt[n]=o=new t(e,r,i)),o},t}(),li=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Or?e:new Or(e):new Or({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,i){return new t(ui.from(e,r),i)},t}(),ci=function(){function t(){this.data=0,this.blendMode=nt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==nt.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),di=function(t){function e(r,i,n){var o=this,s=ui.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(o=t.call(this,s,n)||this).padding=0,o.resolution=gt.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new ci,o}return je(e,t),e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(li),fi=new he,pi=function(){function t(t,e){this._texture=t,this.mapCoord=new he,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(fi.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(fi));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),_i=function(t){function e(e){var r=this,i=new he;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return je(e,t),e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new pi(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},e}(di),yi=function(t){function e(e){var r=t.call(this,e)||this;return r.enableScissor=!0,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return je(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new Xr;i.pooled=!0,i.maskObject=e,r=i}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case mt.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case mt.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case mt.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case mt.SCISSOR:this.renderer.scissor.pop();break;case mt.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case mt.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=mt.SPRITE;else if(t.type=mt.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a),n=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100),n=((n=Math.round(n*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0==(i=(i%9e3+9e3)%9e3)&&9e3===n&&(t.type=mt.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new _i(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(ir),mi=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return je(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(ir),vi=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return je(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=o.width/n.width,h=o.height/n.height,u=((t.x-n.x)*a+o.x)*s,l=((t.y-n.y)*h+o.y)*s,c=t.width*a*s,d=t.height*h*s;i&&(u+=i.tx*s,l+=i.ty*s),e||(l=this.renderer.height-d-l),this.renderer.gl.scissor(u,l,c,d)},e}(mi),gi=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return je(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),this.renderer.framebuffer.blit(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(mi),bi=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new he,r.transform=null,r}return je(e,t),e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},e.prototype.setTransform=function(t){},e}(ir),Ti=new ee,xi=new ee,Ei=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new ee,r.destinationFrame=new ee,r.viewportFrame=new ee,r}return je(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;this.current=t,t?(o=(i=t.baseTexture).resolution,e||(Ti.width=t.frame.width,Ti.height=t.frame.height,e=Ti),r||(xi.x=t.frame.x,xi.y=t.frame.y,xi.width=e.width,xi.height=e.height,r=xi),n=i.framebuffer):(o=s.resolution,e||(Ti.width=s.screen.width,Ti.height=s.screen.height,e=Ti),r||((r=Ti).width=e.width,r.height=e.height));var a=this.viewportFrame;a.x=r.x*o,a.y=r.y*o,a.width=r.width*o,a.height=r.height*o,t||(a.y=s.view.height-(a.y+a.height)),this.renderer.framebuffer.bind(n,a),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,n=r.width!==i.width||r.height!==i.height;if(n){var o=this.viewportFrame,s=o.x,a=o.y,h=o.width,u=o.height;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,a,h,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),n&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ir),Ai=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Oi=0,Si={textureCount:0},Ri=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Oi++,r}return je(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof ei)return ei;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");ei=!0===t({a:"b"},"a","b")}catch(t){ei=!1}return ei}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(Si.textureCount=0,this.syncUniformGroup(t.uniformGroup,Si)),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(n){for(var o=t.uniforms[i],s=!1,a=0;a<ri.length;a++)if(ri[a].test(n,o)){r.push(ri[a].code(i,o)),s=!0;break}if(!s){var h=(1===n.size?ii:ni)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+h+";")}}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=jr(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:Yr(a.type,a.size)}}var h=new Ai(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=h,h},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ir),wi=function(t){function e(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=nt.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.map[5]=r.setDepthMask,r.checks=[],r.defaultState=new ci,r.defaultState.blend=!0,r}return je(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[nt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.ADD]=[t.ONE,t.ONE],e[nt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.NONE]=[0,0],e[nt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[nt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[nt.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[nt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[nt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[nt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[nt.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[nt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[nt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[nt.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[nt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(ir),Ii=function(t){function e(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=gt.GC_MAX_IDLE,r.checkCountMax=gt.GC_MAX_CHECK_COUNT,r.mode=gt.GC_MODE,r}return je(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==_t.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(ir),Pi=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121,this.samplerType=0},Mi=function(t){function e(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new ze,r.hasIntegerTextures=!1,r}return je(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Pi(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Pi(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)},e.prototype.ensureSamplerType=function(t){var e=this,r=e.boundTextures,i=e.hasIntegerTextures,n=e.CONTEXT_UID;if(i)for(var o=t-1;o>=0;--o){var s=r[o];s&&s._glTextures[n].samplerType!==ut.FLOAT&&this.renderer.texture.unbind(s)}},e.prototype.initTexture=function(t){var e=new Pi(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===ht.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e))e.samplerType!==ut.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&Gt(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==dt.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=ct.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&t.mipmap!==dt.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===lt.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===lt.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===lt.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===lt.LINEAR?r.LINEAR:r.NEAREST)},e}(ir),Ci={__proto__:null,FilterSystem:Ir,BatchSystem:Mr,ContextSystem:Dr,FramebufferSystem:Fr,GeometrySystem:Gr,MaskSystem:yi,ScissorSystem:vi,StencilSystem:gi,ProjectionSystem:bi,RenderTextureSystem:Ei,ShaderSystem:Ri,StateSystem:wi,TextureGCSystem:Ii,TextureSystem:Mi},Di=new he,Ni=function(t){function e(r){var i=t.call(this,rt.WEBGL,r)||this;return r=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new Be("destroy"),contextChange:new Be("contextChange"),reset:new Be("reset"),update:new Be("update"),postrender:new Be("postrender"),prerender:new Be("prerender"),resize:new Be("resize")},i.globalUniforms=new Or({projectionMatrix:new he},!0),i.addSystem(yi,"mask").addSystem(Dr,"context").addSystem(wi,"state").addSystem(Ri,"shader").addSystem(Mi,"texture").addSystem(Gr,"geometry").addSystem(Fr,"framebuffer").addSystem(vi,"scissor").addSystem(gi,"stencil").addSystem(bi,"projection").addSystem(Ii,"textureGC").addSystem(Ir,"filter").addSystem(Ei,"renderTexture").addSystem(Mr,"batch"),i.initPlugins(e.__plugins),r.context?i.context.initFromContext(r.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:r.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function(t){var e;if(!Rt){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 6.0.4 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=self.console).log.apply(e,r)}else self.console&&self.console.log("PixiJS 6.0.4 - "+t+" - http://www.pixijs.com/");Rt=!0}}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return je(e,t),e.create=function(t){if(void 0===St&&(St=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),St)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e){var r,i,n,o;if(e&&(e instanceof cr?(Yt("6.0.0","Renderer#render arguments changed, use options instead."),r=e,i=arguments[2],n=arguments[3],o=arguments[4]):(r=e.renderTexture,i=e.clear,n=e.transform,o=e.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(r||(this._lastObjectRendered=t),!o){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Yt("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(function(t){function e(e,r){void 0===e&&(e=rt.UNKNOWN);var i=t.call(this)||this;return r=Object.assign({},gt.RENDER_OPTIONS,r),i.options=r,i.type=e,i.screen=new ee(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||gt.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&(Yt("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return je(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=cr.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return Di.tx=-i.x,Di.ty=-i.y,this.render(t,{renderTexture:n,clear:!1,transform:Di,skipUpdateTransform:!!t.parent}),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=rt.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Pt(t),It(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(Tt())),Li="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Fi=function(){this.texArray=null,this.blend=0,this.type=ot.TRIANGLES,this.start=0,this.size=0,this.data=null},Ui=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),Bi=function(){function t(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),Gi=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=ci.for2d(),r.size=4*gt.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return je(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;gt.PREFER_ENV===et.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),gt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=oi.replace(/%forloop%/gi,si(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new Fi);for(;r.length<n;)r.push(new Ui);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,i=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++ze._globalBatch,h=0,u=i[0],l=0;n.copyBoundTextures(o,r);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=r&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,c),l=c,u=i[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}for(u.count>0&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,this._bufferSize),++h,++a),c=0;c<o.length;c++)o[c]=null;ze._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,i){var n=this,o=n._bufferedElements,s=n._attributeBuffer,a=n._indexBuffer,h=n.vertexSize,u=e._drawCallPool,l=this._dcIndex,c=this._aIndex,d=this._iIndex,f=u[l];f.start=this._iIndex,f.texArray=t;for(var p=r;p<i;++p){var _=o[p],y=_._texture.baseTexture,m=Ct[y.alphaMode?1:0][_.blendMode];o[p]=null,r<p&&f.blend!==m&&(f.size=d-f.start,r=p,(f=u[++l]).texArray=t,f.start=d),this.packInterleavedGeometry(_,s,a,c,d),c+=_.vertexData.length/2*h,d+=_.indices.length,f.blend=m}r<i&&(f.size=d-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,i=t._indexBuffer;gt.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,f=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=f,n.set(this.state),i.drawElements(l,c,i.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),gt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Ft(Math.ceil(t/8)),r=Bt(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new Bi(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=Ft(Math.ceil(t/12)),r=Bt(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?Nt(t._tintRGB,d):t._tintRGB+(255*d<<24),p=0;p<l.length;p+=2)s[i++]=l[p],s[i++]=l[p+1],s[i++]=h[p],s[i++]=h[p+1],o[i++]=f,s[i++]=c;for(p=0;p<u.length;p++)r[n++]=a+u[p]},e._drawCallPool=[],e._textureArrayPool=[],e}(Pr),Xi=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Or.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new ui(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new he,default:this.defaultGroupCache[t]};return new li(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),ki=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new _r(null,e,!1),r._indexBuffer=new _r(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,ht.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,ht.FLOAT).addAttribute("aColor",r._buffer,4,!0,ht.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,ht.FLOAT).addIndex(r._indexBuffer),r}return je(e,t),e}(Tr),ji="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Hi="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Yi=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:ji,fragment:Hi,geometryClass:ki,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new Xi(r,i),s.geometryClass=o,s.vertexSize=n,s}return je(e,t),e}(Gi)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ji},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Hi},enumerable:!1,configurable:!0}),t}().create(),Vi={},zi=function(t){Object.defineProperty(Vi,t,{get:function(){return Yt("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),rr[t]}})};for(var Wi in rr)zi(Wi);var qi={},Ki=function(t){Object.defineProperty(qi,t,{get:function(){return Yt("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Ci[t]}})};for(var Wi in Ci)Ki(Wi);var Zi=function(){function t(e){var r=this;this.stage=new Ae,e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){return Ni.create(t)}(e),t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var i=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),Qi=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===self)t=self.innerWidth,r=self.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,r=i.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Zi.registerPlugin(Qi);var Ji=new ee,$i=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,i,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof cr?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(r=n.baseTexture.resolution,i=n.frame,s=!1,o.renderTexture.bind(n)):(r=this.renderer.resolution,s=!0,(i=Ji).width=this.renderer.width,i.height=this.renderer.height,o.renderTexture.bind(null));var h=Math.floor(i.width*r+1e-4),u=Math.floor(i.height*r+1e-4),l=new Kt(h,u,1),c=new Uint8Array(4*h*u),d=o.gl;d.readPixels(i.x*r,i.y*r,h,u,d.RGBA,d.UNSIGNED_BYTE,c);var f=l.context.getImageData(0,0,h,u);if(t.arrayPostDivide(c,f.data),l.context.putImageData(f,0,0),s){var p=new Kt(l.width,l.height,1);p.context.scale(1,-1),p.context.drawImage(l.canvas,0,-u),l.destroy(),l=p}return a&&n.destroy(!0),l.canvas},t.prototype.pixels=function(e){var r,i,n,o=this.renderer,s=!1;e&&(e instanceof cr?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(r=n.baseTexture.resolution,i=n.frame,o.renderTexture.bind(n)):(r=o.resolution,(i=Ji).width=o.width,i.height=o.height,o.renderTexture.bind(null));var a=i.width*r,h=i.height*r,u=new Uint8Array(4*a*h),l=o.gl;return l.readPixels(i.x*r,i.y*r,a,h,l.RGBA,l.UNSIGNED_BYTE,u),s&&n.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),tn=r(571),en=r.n(tn),rn=r(940),nn=r.n(rn);function on(){}function sn(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function an(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var hn={};function un(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ln(t,e,r){return e&&un(t.prototype,e),r&&un(t,r),t}var cn=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),dn=null;function fn(){}var pn=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=fn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(nn()),this.onProgress=new(nn()),this.onComplete=new(nn()),this.onAfterMiddleware=new(nn())}t.setExtensionLoadType=function(e,r){_n(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){_n(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:cn&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(yn(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(yn(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(yn(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,dn||(dn=document.createElement("a")),dn.href=t;var r=!(t=en()(dn.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},ln(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function _n(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function yn(t){return t.toString().replace("object ","")}pn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},pn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},pn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},pn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},pn._loadTypeMap={gif:pn.LOAD_TYPE.IMAGE,png:pn.LOAD_TYPE.IMAGE,bmp:pn.LOAD_TYPE.IMAGE,jpg:pn.LOAD_TYPE.IMAGE,jpeg:pn.LOAD_TYPE.IMAGE,tif:pn.LOAD_TYPE.IMAGE,tiff:pn.LOAD_TYPE.IMAGE,webp:pn.LOAD_TYPE.IMAGE,tga:pn.LOAD_TYPE.IMAGE,svg:pn.LOAD_TYPE.IMAGE,"svg+xml":pn.LOAD_TYPE.IMAGE,mp3:pn.LOAD_TYPE.AUDIO,ogg:pn.LOAD_TYPE.AUDIO,wav:pn.LOAD_TYPE.AUDIO,mp4:pn.LOAD_TYPE.VIDEO,webm:pn.LOAD_TYPE.VIDEO},pn._xhrTypeMap={xhtml:pn.XHR_RESPONSE_TYPE.DOCUMENT,html:pn.XHR_RESPONSE_TYPE.DOCUMENT,htm:pn.XHR_RESPONSE_TYPE.DOCUMENT,xml:pn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:pn.XHR_RESPONSE_TYPE.DOCUMENT,svg:pn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:pn.XHR_RESPONSE_TYPE.DOCUMENT,gif:pn.XHR_RESPONSE_TYPE.BLOB,png:pn.XHR_RESPONSE_TYPE.BLOB,bmp:pn.XHR_RESPONSE_TYPE.BLOB,jpg:pn.XHR_RESPONSE_TYPE.BLOB,jpeg:pn.XHR_RESPONSE_TYPE.BLOB,tif:pn.XHR_RESPONSE_TYPE.BLOB,tiff:pn.XHR_RESPONSE_TYPE.BLOB,webp:pn.XHR_RESPONSE_TYPE.BLOB,tga:pn.XHR_RESPONSE_TYPE.BLOB,json:pn.XHR_RESPONSE_TYPE.JSON,text:pn.XHR_RESPONSE_TYPE.TEXT,txt:pn.XHR_RESPONSE_TYPE.TEXT,ttf:pn.XHR_RESPONSE_TYPE.BUFFER,otf:pn.XHR_RESPONSE_TYPE.BUFFER},pn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var mn=window.URL||window.webkitURL,vn={caching:function(t,e){var r=this;hn[t.url]?(t.data=hn[t.url],t.complete()):t.onComplete.once((function(){return hn[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===pn.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=mn.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=pn.TYPE.IMAGE,void(t.data.onload=function(){mn.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=pn.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},gn=/(#[\w-]+)?$/,bn=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:on,unsaturated:on,buffer:e/4,empty:on,drain:on,error:on,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=on,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,an(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:on};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(nn()),this.onError=new(nn()),this.onLoad=new(nn()),this.onStart=new(nn()),this.onComplete=new(nn());for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new pn(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=en()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=gn.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,sn(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),sn(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},ln(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();bn._defaultBeforeMiddleware=[],bn._defaultAfterMiddleware=[],bn.pre=function(t){return bn._defaultBeforeMiddleware.push(t),bn},bn.use=function(t){return bn._defaultAfterMiddleware.push(t),bn};var Tn=function(t,e){return(Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},xn=function(){function t(){}return t.add=function(){pn.setExtensionLoadType("svg",pn.LOAD_TYPE.XHR),pn.setExtensionXhrType("svg",pn.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==pn.TYPE.IMAGE&&"svg"!==t.extension)e();else{var r=t.data,i=t.url,n=t.name,o=t.metadata;ur.fromLoader(r,i,n,o).then((function(r){t.texture=r,e()})).catch(e)}},t}(),En=function(t){function e(r,i){for(var n=t.call(this,r,i)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&n.pre(a),h&&n.use(h)}return n._protected=!1,n}return function(t,e){function r(){this.constructor=t}Tn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(bn);En.registerPlugin({use:vn.parsing}),En.registerPlugin(xn);var An,On,Sn=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?En.shared:new En},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),Rn=pn;!function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(On||(On={}));var wn=((An={})[On.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,An[On.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,An[On.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,An[On.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,An[On.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,An[On.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,An[On.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,An[On.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,An[On.COMPRESSED_R11_EAC]=.5,An[On.COMPRESSED_SIGNED_R11_EAC]=.5,An[On.COMPRESSED_RG11_EAC]=1,An[On.COMPRESSED_SIGNED_RG11_EAC]=1,An[On.COMPRESSED_RGB8_ETC2]=.5,An[On.COMPRESSED_RGBA8_ETC2_EAC]=1,An[On.COMPRESSED_SRGB8_ETC2]=.5,An[On.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,An[On.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,An[On.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,An[On.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,An[On.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,An[On.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,An[On.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,An[On.COMPRESSED_RGB_ETC1_WEBGL]=.5,An[On.COMPRESSED_RGB_ATC_WEBGL]=.5,An[On.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,An[On.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,An),In=function(t,e){return(In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Pn(t,e){function r(){this.constructor=t}In(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Mn,Cn,Dn=function(t){function e(r,i){var n=t.call(this,r,i)||this;return n.format=i.format,n.levels=i.levels||1,n._width=i.width,n._height=i.height,n._extension=e._formatToExtension(n.format),(i.levelBuffers||n.buffer)&&(n._levelBuffers=i.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return Pn(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var n=0,o=this.levels;n<o;n++){var s=this._levelBuffers[n],a=s.levelID,h=s.levelWidth,u=s.levelHeight,l=s.levelBuffer;i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,h,u,0,l)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,r,i,n,o,s){for(var a=new Array(r),h=t.byteOffset,u=o,l=s,c=u+i-1&~(i-1),d=l+n-1&~(n-1),f=c*d*wn[e],p=0;p<r;p++)a[p]={levelID:p,levelWidth:r>1?u:c,levelHeight:r>1?l:d,levelBuffer:new Uint8Array(t.buffer,h,f)},h+=f,f=(c=(u=u>>1||1)+i-1&~(i-1))*(d=(l=l>>1||1)+n-1&~(n-1))*wn[e];return a},e}(function(t){function e(e,r){void 0===r&&(r={width:1,height:1,autoLoad:!0});var i,n,o=this;return"string"==typeof e?(i=e,n=new Uint8Array):(i=null,n=e),(o=t.call(this,n,r)||this).origin=i,o.buffer=n?new Bi(n):null,o.origin&&!1!==r.autoLoad&&o.load(),n&&n.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return Pn(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return t=this,void 0,r=function(){var t;return function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new Bi(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))},new((e=Promise)||(e=Promise))((function(i,n){function o(t){try{a(r.next(t))}catch(t){n(t)}}function s(t){try{a(r.throw(t))}catch(t){n(t)}}function a(t){t.done?i(t.value):new e((function(e){e(t.value)})).then(o,s)}a((r=r.apply(t,[])).next())}));var t,e,r},e}(Ye)),Nn=function(){function t(){}return t.use=function(e,r){var i=e.data;if(e.type===Rn.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var n=i.textures,o=void 0,s=void 0,a=0,h=n.length;a<h;a++){var u=n[a],l=u.src,c=u.format;if(c||(s=l),t.textureFormats[c]){o=l;break}}if(!(o=o||s))return void r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));if(o===e.url)return void r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},f=Ot.resolve(e.url.replace(this.baseUrl,""),o),p=i.cacheID;this.add(p,f,d,(function(t){if(t.error)r(t.error);else{var i=t.texture,n=void 0===i?null:i,o=t.textures,s=void 0===o?{}:o;Object.assign(e,{texture:n,textures:s}),r()}}))}else r()},t.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var r={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var i in t.textureExtensions=r,t.textureFormats={},r){var n=r[i];n&&Object.assign(t.textureFormats,Object.getPrototypeOf(n))}}else console.error("WebGL not available for compressed textures. Silently failing.")},t}();function Ln(t,e,r){var i={textures:{},texture:null};return e?(e.map((function(t){return new ur(new ze(t,Object.assign({mipmap:dt.OFF,alphaMode:ft.NO_PREMULTIPLIED_ALPHA},r)))})).forEach((function(e,r){var n=e.baseTexture,o=t+"-"+(r+1);ze.addToCache(n,o),ur.addToCache(e,o),0===r&&(ze.addToCache(n,t),ur.addToCache(e,t),i.texture=e),i.textures[o]=e})),i):i}Rn.setExtensionXhrType("dds",Rn.XHR_RESPONSE_TYPE.BUFFER);var Fn,Un;!function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(Fn||(Fn={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(Un||(Un={}));var Bn,Gn,Xn,kn=((Mn={})[827611204]=On.COMPRESSED_RGBA_S3TC_DXT1_EXT,Mn[861165636]=On.COMPRESSED_RGBA_S3TC_DXT3_EXT,Mn[894720068]=On.COMPRESSED_RGBA_S3TC_DXT5_EXT,Mn),jn=((Cn={})[Fn.DXGI_FORMAT_BC1_TYPELESS]=On.COMPRESSED_RGBA_S3TC_DXT1_EXT,Cn[Fn.DXGI_FORMAT_BC1_UNORM]=On.COMPRESSED_RGBA_S3TC_DXT1_EXT,Cn[Fn.DXGI_FORMAT_BC2_TYPELESS]=On.COMPRESSED_RGBA_S3TC_DXT3_EXT,Cn[Fn.DXGI_FORMAT_BC2_UNORM]=On.COMPRESSED_RGBA_S3TC_DXT3_EXT,Cn[Fn.DXGI_FORMAT_BC3_TYPELESS]=On.COMPRESSED_RGBA_S3TC_DXT5_EXT,Cn[Fn.DXGI_FORMAT_BC3_UNORM]=On.COMPRESSED_RGBA_S3TC_DXT5_EXT,Cn[Fn.DXGI_FORMAT_BC1_UNORM_SRGB]=On.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Cn[Fn.DXGI_FORMAT_BC2_UNORM_SRGB]=On.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Cn[Fn.DXGI_FORMAT_BC3_UNORM_SRGB]=On.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Cn),Hn=function(){function t(){}return t.use=function(e,r){if("dds"===e.extension&&e.data)try{Object.assign(e,Ln(e.name||e.url,t.parse(e.data),e.metadata))}catch(t){return void r(t)}r()},t.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),i=r[3],n=r[4],o=r[7],s=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=s[1];if(4&a){var h=s[2];if(808540228!==h){var u=kn[h],l=new Uint8Array(t,128);return[new Dn(l,{format:u,width:n,height:i,levels:o})]}var c=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),d=c[0],f=c[1],p=c[2],_=c[3],y=jn[d];if(void 0===y)throw new Error("DDSLoader cannot parse texture data with DXGI format "+d);if(4===p)throw new Error("DDSLoader does not support cubemap textures");if(f===Un.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var m=new Array;if(1===_)m.push(new Uint8Array(t,148));else{for(var v=wn[y],g=0,b=n,T=i,x=0;x<o;x++)g+=Math.max(1,b+3&-4)*Math.max(1,T+3&-4)*v,b>>>=1,T>>>=1;var E=148;for(x=0;x<_;x++)m.push(new Uint8Array(t,E,g)),E+=g}return m.map((function(t){return new Dn(t,{format:y,width:n,height:i,levels:o})}))}if(64&a)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&a)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&a)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&a)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}();Rn.setExtensionXhrType("ktx",Rn.XHR_RESPONSE_TYPE.BUFFER);var Yn=[171,75,84,88,32,49,49,187,13,10,26,10],Vn=((Bn={})[ht.UNSIGNED_BYTE]=1,Bn[ht.UNSIGNED_SHORT]=2,Bn[ht.FLOAT]=4,Bn[ht.HALF_FLOAT]=8,Bn),zn=((Gn={})[st.RGBA]=4,Gn[st.RGB]=3,Gn[st.LUMINANCE]=1,Gn[st.LUMINANCE_ALPHA]=2,Gn[st.ALPHA]=1,Gn),Wn=((Xn={})[ht.UNSIGNED_SHORT_4_4_4_4]=2,Xn[ht.UNSIGNED_SHORT_5_5_5_1]=2,Xn[ht.UNSIGNED_SHORT_5_6_5]=2,Xn),qn=function(){function t(){}return t.use=function(e,r){if("ktx"===e.extension&&e.data)try{var i=e.name||e.url;Object.assign(e,Ln(i,t.parse(i,e.data),e.metadata))}catch(t){return void r(t)}r()},t.parse=function(e,r){var i=new DataView(r);if(!t.validate(e,i))return null;var n=67305985===i.getUint32(12,!0),o=i.getUint32(16,n),s=i.getUint32(24,n),a=i.getUint32(28,n),h=i.getUint32(36,n),u=i.getUint32(40,n)||1,l=i.getUint32(44,n)||1,c=i.getUint32(48,n)||1,d=i.getUint32(52,n),f=i.getUint32(56,n),p=i.getUint32(60,n);if(0===u||1!==l)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==c)throw new Error("WebGL does not support array textures");var _,y=h+3&-4,m=u+3&-4,v=new Array(c),g=h*u;if(0===o&&(g=y*m),void 0===(_=0!==o?Vn[o]?Vn[o]*zn[s]:Wn[o]:wn[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var b=g*_,T=h,x=u,E=y,A=m,O=64+p,S=0;S<f;S++){for(var R=i.getUint32(O,n),w=O+4,I=0;I<c;I++){var P=v[I];P||(P=v[I]=new Array(f)),P[S]={levelID:S,levelWidth:f>1?T:E,levelHeight:f>1?x:A,levelBuffer:new Uint8Array(r,w,b)},w+=b}O=(O+=R+4)%4!=0?O+4-O%4:O,b=(E=(T=T>>1||1)+4-1&-4)*(A=(x=x>>1||1)+4-1&-4)*_}if(0!==o)throw new Error("TODO: Uncompressed");return v.map((function(t){return new Dn(null,{format:a,width:h,height:u,levels:f,levelBuffers:t})}))},t.validate=function(t,e){for(var r=0;r<Yn.length;r++)if(e.getUint8(r)!==Yn[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},t}(),Kn=function(t,e){return(Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Zn(t,e){function r(){this.constructor=t}Kn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}!function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return i>16384&&(i=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=nt.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}Zn(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,It(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Ae);var Qn,Jn,$n=function(){function t(t,e,r){this.geometry=new Tr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||ht.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new _r(function(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size;var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new _r(this.dynamicData,!1,!1);var n=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(s=this.staticProperties[r]).offset=n,n+=s.size,this.staticStride+=s.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new _r(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===ht.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r)s=this.staticProperties[r],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===ht.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===ht.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===ht.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),to=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new he,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ht.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=li.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=ci.for2d(),r}return Zn(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=Dt(t.blendMode,a.alphaMode),n.state.set(this.state);var h,u,l,c,d=n.gl,f=t.worldTransform.copyTo(this.tempMatrix);f.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=(h=t.tintRgb,u=t.worldAlpha,l=this.shader.uniforms.uColor,c=a.alphaMode,l=l||new Float32Array(4),c||void 0===c?(l[0]=h[0]*u,l[1]=h[1]*u,l[2]=h[2]*u):(l[0]=h[0],l[1]=h[1],l[2]=h[2]),l[3]=u,l),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var p=!1,_=0,y=0;_<o;_+=i,y+=1){var m=o-_;m>i&&(m=i),y>=s.length&&s.push(this._generateOneMoreBuffer(t));var v=s[y];v.uploadDynamic(e,_,m);var g=t._bufferUpdateIDs[y]||0;(p=p||v._updateID<g)&&(v._updateID=t._updateID,v.uploadStatic(e,_,m)),n.geometry.bind(v.geometry),d.drawElements(d.TRIANGLES,6*m,d.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new $n(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new $n(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,f=c.scale.x,p=c.scale.y,_=d.trim,y=d.orig;_?(s=(a=_.x-c.anchor.x*y.width)+_.width,h=(u=_.y-c.anchor.y*y.height)+_.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,h=y.height*(1-c.anchor.y),u=y.height*-c.anchor.y),i[o]=a*f,i[o+1]=u*p,i[o+n]=s*f,i[o+n+1]=u*p,i[o+2*n]=s*f,i[o+2*n+1]=h*p,i[o+3*n]=a*f,i[o+3*n+1]=h*p,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?Nt(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Pr);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(Qn||(Qn={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Jn||(Jn={}));var eo={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},ro=function(){function t(){this.color=16777215,this.alpha=1,this.texture=ur.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ur.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),io=function(t,e){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function no(t,e){function r(){this.constructor=t}io(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var oo={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=Et()(r,s,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<r.length;a++)n.push(r[a])}}},so={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===Qt.CIRC)e=i.radius,r=i.radius;else{var a=t.shape;e=a.width,r=a.height}if(0!==e&&0!==r){var h=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(e+r));h/=2.3;for(var u=2*Math.PI/h,l=0;l<h-.5;l++)n.push(o+Math.sin(-u*l)*e,s+Math.cos(-u*l)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,h=t.matrix,u=a.x,l=a.y;i.push(t.matrix?h.a*u+h.c*l+h.tx:u,t.matrix?h.b*u+h.d*l+h.ty:l);for(var c=0;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(o++,s,o)}};function ao(t,e,r){return t+(e-t)*r}function ho(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,f=0,p=0,_=0;p<=20;++p)h=ao(t,r,_=p/20),u=ao(e,i,_),l=ao(r,n,_),c=ao(i,o,_),d=ao(h,l,_),f=ao(u,c,_),a.push(d,f);return a}var uo={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(ho(i,n+a,i,n,i+a,n,r),ho(i+o-a,n,i+o,n,i+o,n+a,r),ho(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),ho(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=Et()(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)i.push(r[a],r[++a])}};function lo(t,e,r,i,n,o,s,a){var h,u;s?(h=i,u=-r):(h=-i,u=r);var l=t-r*n+h,c=e-i*n+u,d=t+r*o+h,f=e+i*o+u;return a.push(l,c),a.push(d,f),2}function co(t,e,r,i,n,o,s,a){var h=r-t,u=i-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,f=c-l,p=Math.abs(f),_=Math.sqrt(h*h+u*u),y=1+(15*p*Math.sqrt(_)/Math.PI>>0),m=f/y;if(d+=m,a){s.push(t,e),s.push(r,i);for(var v=1,g=d;v<y;v++,g+=m)s.push(t,e),s.push(t+Math.sin(g)*_,e+Math.cos(g)*_);s.push(t,e),s.push(n,o)}else{for(s.push(r,i),s.push(t,e),v=1,g=d;v<y;v++,g+=m)s.push(t+Math.sin(g)*_,e+Math.cos(g)*_),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*y}function fo(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==Qt.POLY||i.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o=t.lineStyle,s=new se(i[0],i[1]),a=new se(i[i.length-2],i[i.length-1]),h=r.type!==Qt.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var l=.5*(s.x+a.x),c=.5*(a.y+s.y);i.unshift(l,c),i.push(l,c)}var d=e.points,f=i.length/2,p=i.length,_=d.length/2,y=o.width/2,m=y*y,v=o.miterLimit*o.miterLimit,g=i[0],b=i[1],T=i[2],x=i[3],E=0,A=0,O=-(b-x),S=g-T,R=0,w=0,I=Math.sqrt(O*O+S*S);O/=I,S/=I,O*=y,S*=y;var P=o.alignment,M=2*(1-P),C=2*P;h||(o.cap===Jn.ROUND?p+=co(g-O*(M-C)*.5,b-S*(M-C)*.5,g-O*M,b-S*M,g+O*C,b+S*C,d,!0)+2:o.cap===Jn.SQUARE&&(p+=lo(g,b,O,S,M,C,!0,d))),d.push(g-O*M,b-S*M),d.push(g+O*C,b+S*C);for(var D=1;D<f-1;++D){g=i[2*(D-1)],b=i[2*(D-1)+1],T=i[2*D],x=i[2*D+1],E=i[2*(D+1)],A=i[2*(D+1)+1],O=-(b-x),S=g-T,O/=I=Math.sqrt(O*O+S*S),S/=I,O*=y,S*=y,R=-(x-A),w=T-E,R/=I=Math.sqrt(R*R+w*w),w/=I,R*=y,w*=y;var N=T-g,L=b-x,F=T-E,U=A-x,B=L*F-U*N,G=B<0;if(Math.abs(B)<.1)d.push(T-O*M,x-S*M),d.push(T+O*C,x+S*C);else{var X=(-O+g)*(-S+x)-(-O+T)*(-S+b),k=(-R+E)*(-w+x)-(-R+T)*(-w+A),j=(N*k-F*X)/B,H=(U*X-L*k)/B,Y=(j-T)*(j-T)+(H-x)*(H-x),V=T+(j-T)*M,z=x+(H-x)*M,W=T-(j-T)*C,q=x-(H-x)*C,K=G?M:C;Y<=Math.min(N*N+L*L,F*F+U*U)+K*K*m?o.join===Qn.BEVEL||Y/m>v?(G?(d.push(V,z),d.push(T+O*C,x+S*C),d.push(V,z),d.push(T+R*C,x+w*C)):(d.push(T-O*M,x-S*M),d.push(W,q),d.push(T-R*M,x-w*M),d.push(W,q)),p+=2):o.join===Qn.ROUND?G?(d.push(V,z),d.push(T+O*C,x+S*C),p+=co(T,x,T+O*C,x+S*C,T+R*C,x+w*C,d,!0)+4,d.push(V,z),d.push(T+R*C,x+w*C)):(d.push(T-O*M,x-S*M),d.push(W,q),p+=co(T,x,T-O*M,x-S*M,T-R*M,x-w*M,d,!1)+4,d.push(T-R*M,x-w*M),d.push(W,q)):(d.push(V,z),d.push(W,q)):(d.push(T-O*M,x-S*M),d.push(T+O*C,x+S*C),o.join===Qn.BEVEL||Y/m>v||(o.join===Qn.ROUND?p+=G?co(T,x,T+O*C,x+S*C,T+R*C,x+w*C,d,!0)+2:co(T,x,T-O*M,x-S*M,T-R*M,x-w*M,d,!1)+2:(G?(d.push(W,q),d.push(W,q)):(d.push(V,z),d.push(V,z)),p+=2)),d.push(T-R*M,x-w*M),d.push(T+R*C,x+w*C),p+=2)}}g=i[2*(f-2)],b=i[2*(f-2)+1],T=i[2*(f-1)],O=-(b-(x=i[2*(f-1)+1])),S=g-T,O/=I=Math.sqrt(O*O+S*S),S/=I,O*=y,S*=y,d.push(T-O*M,x-S*M),d.push(T+O*C,x+S*C),h||(o.cap===Jn.ROUND?p+=co(T-O*(M-C)*.5,x-S*(M-C)*.5,T-O*M,x-S*M,T+O*C,x+S*C,d,!1)+2:o.cap===Jn.SQUARE&&(p+=lo(T,x,O,S,M,C,!1,d)));var Z=e.indices,Q=eo.epsilon*eo.epsilon;for(D=_;D<p+_-2;++D)g=d[2*D],b=d[2*D+1],T=d[2*(D+1)],x=d[2*(D+1)+1],E=d[2*(D+2)],A=d[2*(D+2)+1],Math.abs(g*(x-A)+T*(A-b)+E*(b-x))<Q||Z.push(D,D+1,D+2)}}(t,e)}var po,_o,yo=function(){function t(){}return t.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,f=u*u+l*l,p=a*u+h*l,_=n*Math.sqrt(d)/c,y=n*Math.sqrt(f)/c,m=_*p/d,v=y*p/f,g=_*l+y*h,b=_*u+y*a,T=h*(y+m),x=a*(y+m),E=l*(_+v),A=u*(_+v);return{cx:g+t,cy:b+e,radius:n,startAngle:Math.atan2(x-b,T-g),endAngle:Math.atan2(A-b,E-g),anticlockwise:h*u>l*a}},t.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=eo._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/Jt)),c=u/(2*l),d=2*c,f=Math.cos(c),p=Math.sin(c),_=l-1,y=_%1/_,m=0;m<=_;++m){var v=c+o+d*(m+y*m),g=Math.cos(v),b=-Math.sin(v);h.push((f*g+p*b)*n+r,(f*-b+p*g)*n+i)}},t}(),mo=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,f=0,p=0,_=0,y=0,m=0,v=0,g=t,b=e,T=1;T<=10;++T)m=g-(_=(p=(f=(d=1-(u=T/10))*d)*d)*t+3*f*u*r+3*d*(l=u*u)*n+(c=l*u)*s),v=b-(y=p*e+3*f*u*i+3*d*l*o+c*a),g=_,b=y,h+=Math.sqrt(m*m+v*v);return h},t.curveTo=function(e,r,i,n,o,s,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=eo._segmentsCount(t.curveLength(h,u,e,r,i,n,o,s)),c=0,d=0,f=0,p=0,_=0;a.push(h,u);for(var y=1,m=0;y<=l;++y)f=(d=(c=1-(m=y/l))*c)*c,_=(p=m*m)*m,a.push(f*h+3*d*m*e+3*c*p*i+_*o,f*u+3*d*m*r+3*c*p*n+_*s)},t}(),vo=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,f=2*Math.sqrt(l+c+d),p=Math.sqrt(l),_=2*l*p,y=2*Math.sqrt(d),m=c/p;return(_*f+p*c*(f-y)+(4*d*l-c*c)*Math.log((2*p+m+f)/(m+y)))/(4*_)},t.curveTo=function(e,r,i,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=eo._segmentsCount(t.curveLength(s,a,e,r,i,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=s+(e-s)*d,l=a+(r-a)*d,o.push(u+(e+(i-e)*d-u)*d,l+(r+(n-r)*d-l)*d)}},t}(),go=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),bo=((po={})[Qt.POLY]=oo,po[Qt.CIRC]=so,po[Qt.ELIP]=so,po[Qt.RECT]={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},po[Qt.RREC]=uo,po),To=[],xo=[],Eo=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Ao=new se,Oo=new ve,So=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new ve,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return no(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),xo.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),To.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new Eo(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new Eo(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,Ao):Ao.copyFrom(t),i.shape.contains(Ao.x,Ao.y))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Ao.x,Ao.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,h=s.lineStyle;bo[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var l=0===u?a:h;if(l.visible){var c=l.texture.baseTexture,d=this.indices.length,f=this.points.length/2;c.wrapMode=ct.REPEAT,0===u?this.processFill(s):this.processLine(s);var p=this.points.length/2-f;0!==p&&(i&&!this._compareStyles(n,l)&&(i.end(d,f),i=null),i||((i=To.pop()||new go).begin(l,d,f),this.batches.push(i),n=l),this.addUvs(this.points,e,l.texture,f,p,l.matrix))}}}var _=this.indices.length,y=this.points.length/2;if(i&&i.end(_,y),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var m=y>65535&&t;this.indicesUint16=m?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++ze._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),xo.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=xo.pop();n||((n=new Fi).texArray=new Ui),n.texArray.count=0,n.start=0,n.size=0,n.type=ot.TRIANGLES;var o=0,s=null,a=0,h=!1,u=ot.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,f=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?ot.LINES:ot.TRIANGLES,s=null,o=8,t++),s!==f&&(s=f,f._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=xo.pop())||((n=new Fi).texArray=new Ui),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),f.touched=1,f._batchEnabled=t,f._batchLocation=o,f.wrapMode=ct.REPEAT,n.texArray.elements[n.texArray.count++]=f,o++)),n.size+=c.size,l+=c.size,a=f._batchLocation,this.addColors(r,d.color,d.alpha,c.attribSize),this.addTextureIds(i,a,c.attribSize)}ze._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),oo.triangulate(t,this)):bo[t.type].triangulate(t,this)},e.prototype.processLine=function(t){fo(t,this);for(var e=0;e<t.holes.length;e++)fo(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];bo[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=Oo,r=he.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,h=n.matrix||he.IDENTITY,u=0;if(a&&a.visible){var l=a.alignment;u=a.width,s===Qt.POLY?u*=.5+Math.abs(.5-l):u*=Math.max(0,l)}if(r!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=h),s===Qt.RECT||s===Qt.RREC){var c=o;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(s===Qt.CIRC){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(s===Qt.ELIP){var f=o;e.addFramePad(f.x,f.y,f.x,f.y,f.width+u,f.height+u)}else{var p=o;t.addVerticesMatrix(r,p.points,0,p.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=Nt((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,s=r+2*i,a=e.frame,h=a.width/n.width,u=a.height/n.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[r]+o),f=Math.floor(t[r+1]+o),p=r+2;p<s;p+=2)d=Math.min(d,Math.floor(t[p]+o)),f=Math.min(f,Math.floor(t[p+1]+o));for(l-=d,c-=f,p=r;p<s;p+=2)t[p]=(t[p]+l)*h,t[p+1]=(t[p+1]+c)*u},e.BATCHABLE_SIZE=100,e}(ki),Ro=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Jn.BUTT,e.join=Qn.MITER,e.miterLimit=10,e}return no(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(ro),wo=new Float32Array(3),Io={},Po=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new So,r._geometry.refCount++,r.shader=null,r.state=ci.for2d(),r._fillStyle=new ro,r._lineStyle=new Ro,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=nt.NORMAL,r}return no(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),"number"==typeof t&&(t={width:t,color:e,alpha:r,alignment:i,native:n}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:ur.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Jn.BUTT,join:Qn.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ne,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ne,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),vo.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),mo.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=yo.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=Jt:o&&i<=n&&(i+=Jt),0==n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return yo.arc(s,a,t,e,r,i,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:ur.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:ur.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new ee(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new oe(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new re(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new ie(t,e,r,i))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new ne(t);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==Qt.RECT||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:It(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!Io[r]){for(var i=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(i),o=0;o<i;o++)n[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new he,default:Or.from({uSamplers:n},!0)},a=t.plugins[r]._shader.program;Io[r]=new li(a,s)}e=Io[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=It(this.tint,wo),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],f=h[c+1];u[l++]=r*d+n*f+s,u[l++]=o*f+i*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new se,e}(Ae),Mo=function(t,e){return(Mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Co=new se,Do=new Uint16Array([0,1,2,0,2,3]),No=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new ae(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=nt.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||ur.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=Do,r.pluginName="batch",r.isSprite=!0,r._roundPixels=gt.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}Mo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Xt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Xt(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,f=0,p=0,_=0;if(u?(d=(f=u.x-c._x*l.width)+u.width,p=(_=u.y-c._y*l.height)+u.height):(d=(f=-c._x*l.width)+l.width,p=(_=-c._y*l.height)+l.height),h[0]=r*f+n*_+s,h[1]=o*_+i*f+a,h[2]=r*d+n*_+s,h[3]=o*_+i*d+a,h[4]=r*d+n*p+s,h[5]=o*p+i*d+a,h[6]=r*f+n*p+s,h[7]=o*p+i*f+a,this._roundPixels)for(var y=gt.RESOLUTION,m=0;m<h.length;++m)h[m]=Math.round((h[m]*y|0)/y)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,f=-i._y*r.height,p=f+r.height;e[0]=o*c+a*f+u,e[1]=h*f+s*c+l,e[2]=o*d+a*f+u,e[3]=h*f+s*d+l,e[4]=o*d+a*p+u,e[5]=h*p+s*d+l,e[6]=o*c+a*p+u,e[7]=h*p+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ee),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Co);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return Co.x>=i&&Co.x<i+e&&(n=-r*this.anchor.y,Co.y>=n&&Co.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof ur?t:ur.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Xt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Xt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||ur.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Ae),Lo=function(t,e){return(Lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(_o||(_o={}));var Fo={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:_o.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Uo=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Bo=function(){function t(t){this.styleID=0,this.reset(),ko(this,t,t)}return t.prototype.clone=function(){var e={};return ko(e,this,Fo),new t(e)},t.prototype.reset=function(){ko(this,Fo,Fo)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Xo(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Xo(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Xo(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Uo.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function Go(t){return"number"==typeof t?Pt(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Xo(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Go(t[e]);return t}return Go(t)}function ko(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var jo=function(){function t(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,r,i,n){void 0===n&&(n=t._canvas),i=null==i?r.wordWrap:i;var o=r.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var d=a.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;u[c]=d,l=Math.max(l,d)}var f=l+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,_=Math.max(p,s.fontSize+r.strokeThickness)+(h.length-1)*(p+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new t(e,r,f,_,h,u,p+r.leading,l,s)},t.wordWrap=function(e,r,i){void 0===i&&(i=t._canvas);for(var n=i.getContext("2d"),o=0,s="",a="",h=Object.create(null),u=r.letterSpacing,l=r.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),f=!c,p=r.wordWrapWidth+u,_=t.tokenize(e),y=0;y<_.length;y++){var m=_[y];if(t.isNewline(m)){if(!d){a+=t.addLine(s),f=!c,s="",o=0;continue}m=" "}if(c){var v=t.isBreakingSpace(m),g=t.isBreakingSpace(s[s.length-1]);if(v&&g)continue}var b=t.getFromCache(m,u,h,n);if(b>p)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(m,r.breakWords))for(var T=t.wordWrapSplit(m),x=0;x<T.length;x++){for(var E=T[x],A=1;T[x+A];){var O=T[x+A],S=E[E.length-1];if(t.canBreakChars(S,O,m,x,r.breakWords))break;E+=O,A++}x+=E.length-1;var R=t.getFromCache(E,u,h,n);R+o>p&&(a+=t.addLine(s),f=!1,s="",o=0),s+=E,o+=R}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var w=y===_.length-1;a+=t.addLine(m,!w),f=!1,s="",o=0}else b+o>p&&(f=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(m)||f)&&(s+=m,o+=b)}return a+t.addLine(s,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),r?e+"\n":e},t.getFromCache=function(t,e,r,i){var n=r[t];if("number"!=typeof n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var i=e[r];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],i="";if("string"!=typeof e)return r;for(var n=0;n<e.length;n++){var o=e[n],s=e[n+1];t.isBreakingSpace(o,s)||t.isNewline(o)?(""!==i&&(r.push(i),i=""),r.push(o)):i+=o}return""!==i&&r.push(i),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,i,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},i=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=Math.ceil(t.HEIGHT_MULTIPLIER*a);a=a*t.BASELINE_MULTIPLIER|0,i.width=s,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var u=n.getImageData(0,0,s,h).data,l=u.length,c=4*s,d=0,f=0,p=!1;for(d=0;d<a;++d){for(var _=0;_<c;_+=4)if(255!==u[f+_]){p=!0;break}if(p)break;f+=c}for(r.ascent=a-d,f=l-c,p=!1,d=h;d>a;--d){for(_=0;_<c;_+=4)if(255!==u[f+_]){p=!0;break}if(p)break;f-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Ho=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Ho.width=Ho.height=10,jo._canvas=Ho,jo._context=Ho.getContext("2d"),jo._fonts={},jo.METRICS_STRING="|ÉqÅ",jo.BASELINE_SYMBOL="M",jo.BASELINE_MULTIPLIER=1.4,jo.HEIGHT_MULTIPLIER=2,jo._newlines=[10,13],jo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Yo={texture:!0,children:!1,baseTexture:!0},Vo=function(t){function e(e,r,i){var n=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=ur.from(i);return s.orig=new ee,s.trim=new ee,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=gt.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=r,n.localStyleID=-1,n}return function(t,e){function r(){this.constructor=t}Lo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,n,o=this.context,s=jo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,h=s.height,u=s.lines,l=s.lineHeight,c=s.lineWidths,d=s.maxLineWidth,f=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,h)+2*r.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=r.strokeThickness,o.textBaseline=r.textBaseline,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit;for(var p=r.dropShadow?2:1,_=0;_<p;++_){var y=r.dropShadow&&0===_,m=y?Math.ceil(Math.max(1,h)+2*r.padding):0,v=m*this._resolution;if(y){o.fillStyle="black",o.strokeStyle="black";var g=r.dropShadowColor,b=It("number"==typeof g?g:Mt(g));o.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+r.dropShadowAlpha+")",o.shadowBlur=r.dropShadowBlur,o.shadowOffsetX=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,o.shadowOffsetY=Math.sin(r.dropShadowAngle)*r.dropShadowDistance+v}else o.fillStyle=this._generateFillStyle(r,u,s),o.strokeStyle=r.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var T=(l-f.fontSize)/2;(!e.nextLineHeightBehavior||l-f.fontSize<0)&&(T=0);for(var x=0;x<u.length;x++)i=r.strokeThickness/2,n=r.strokeThickness/2+x*l+f.ascent+T,"right"===r.align?i+=d-c[x]:"center"===r.align&&(i+=(d-c[x])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(u[x],i+r.padding,n+r.padding-m,!0),r.fill&&this.drawLetterSpacing(u[x],i+r.padding,n+r.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,o,r):this.context.fillText(l,o,r),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=function(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),(null===u.left||r<u.left)&&(u.left=r),(null===u.right||u.right<r)&&(u.right=r+1),(null===u.bottom||u.bottom<i)&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,h=Math.ceil(this.canvas.height/this._resolution)-o-2*s,u=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,d=1;d<c;++d)l.push(d/c);if(u.unshift(n[0]),l.unshift(0),u.push(n[n.length-1]),l.push(1),t.fillGradientType===_o.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,h+s);var f=(r.fontProperties.fontSize+t.strokeThickness)/h;for(d=0;d<e.length;d++)for(var p=r.lineHeight*d,_=0;_<u.length;_++){var y;y="number"==typeof l[_]?l[_]:_/u.length;var m=Math.min(1,Math.max(0,p/h+y*f));m=Number(m.toFixed(5)),i.addColorStop(m,u[_])}}else{i=this.context.createLinearGradient(s,h/2,a+s,h/2);var v=u.length+1,g=1;for(d=0;d<u.length;d++){var b;b="number"==typeof l[d]?l[d]:g/v,i.addColorStop(b,u[d]),g++}}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Yo,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Xt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Xt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Bo?t:new Bo(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e}(No);gt.UPLOADS_PER_FRAME=4;var zo=function(t,e){return(zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Wo=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function qo(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ur){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function Ko(t,e){if(t.baseTexture instanceof ze){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Zo(t,e){if(t._texture&&t._texture instanceof ur){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Qo(t,e){return e instanceof Vo&&(e.updateText(!0),!0)}function Jo(t,e){if(e instanceof Bo){var r=e.toFontString();return jo.measureFont(r),!0}return!1}function $o(t,e){if(t instanceof Vo){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function ts(t,e){return t instanceof Bo&&(-1===e.indexOf(t)&&e.push(t),!0)}function es(t,e){return e instanceof ze&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function rs(t,e){if(!(e instanceof Po))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&es(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function is(t,e){return t instanceof Po&&(e.push(t),!0)}var ns=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(is),r.registerUploadHook(es),r.registerUploadHook(rs),r}return function(t,e){function r(){this.constructor=t}zo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(function(){function t(t){var e=this;this.limiter=new Wo(gt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook($o),this.registerFindHook(ts),this.registerFindHook(qo),this.registerFindHook(Ko),this.registerFindHook(Zo),this.registerUploadHook(Qo),this.registerUploadHook(Jo)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,we.system.addOnce(this.tick,this,Oe.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)we.system.addOnce(this.tick,this,Oe.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,r=0,i=n.length;r<i;r++)n[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ae)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&we.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}()),os=(function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof ur?t:null,this.baseTexture=t instanceof ze?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=Zt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE;r-e<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],o=this._frames[n],s=o.frame;if(s){var a,h=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new ee(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new ee(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new ee(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new ee(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new ur(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),ur.addToCache(this.textures[n],n)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),ss=function(){function t(){}return t.use=function(e,r){var i,n,o=this,s=e.name+"_image";if(e.data&&e.type===Rn.TYPE.JSON&&e.data.frames&&!o.resources[s]){var a=null===(n=null===(i=e.data)||void 0===i?void 0:i.meta)||void 0===n?void 0:n.related_multi_packs;if(Array.isArray(a))for(var h=function(t){if("string"!=typeof t)return"continue";var r=t.replace(".json",""),i=Ot.resolve(e.url.replace(o.baseUrl,""),t);if(o.resources[r]||Object.values(o.resources).some((function(t){return Ot.format(Ot.parse(t.url))===i})))return"continue";var n={crossOrigin:e.crossOrigin,loadType:Rn.LOAD_TYPE.XHR,xhrType:Rn.XHR_RESPONSE_TYPE.JSON,parentResource:e};o.add(r,i,n)},u=0,l=a;u<l.length;u++)h(l[u]);var c={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=t.getResourcePath(e,o.baseUrl);o.add(s,d,c,(function(t){if(t.error)r(t.error);else{var i=new os(t.texture,e.data,e.url);i.parse((function(){e.spritesheet=i,e.textures=i.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Ot.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),as=function(t,e){return(as=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function hs(t,e){function r(){this.constructor=t}as(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var us=new se,ls=(function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=t.call(this,e)||this;return n.tileTransform=new me,n._width=r,n._height=i,n.uvMatrix=n.texture.uvMatrix||new pi(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}hs(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ee),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,us);var e=this._width,r=this._height,i=-e*this.anchor._x;if(us.x>=i&&us.x<i+e){var n=-r*this.anchor._y;if(us.y>=n&&us.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return new e(t instanceof ur?t:ur.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0})}(No),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),cs=new he,ds=function(t){function e(e){var r=t.call(this,e)||this,i={globals:r.renderer.globalUniforms};return r.shader=li.from(ls,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),r.simpleShader=li.from(ls,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),r.quad=new Er,r.state=ci.for2d(),r}return hs(e,t),e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);var n=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;(i=r.uvs)[0]=i[6]=-n,i[1]=i[3]=-o,i[2]=i[4]=1-n,i[5]=i[7]=1-o,r.invalidate();var s=t._texture,a=s.baseTexture,h=t.tileTransform.localTransform,u=t.uvMatrix,l=a.isPowerOfTwo&&s.frame.width===a.width&&s.frame.height===a.height;l&&(a._glTextures[e.CONTEXT_UID]?l=a.wrapMode!==ct.CLAMP:a.wrapMode===ct.CLAMP&&(a.wrapMode=ct.REPEAT));var c=l?this.simpleShader:this.shader,d=s.width,f=s.height,p=t._width,_=t._height;cs.set(h.a*d/p,h.b*d/_,h.c*f/p,h.d*f/_,h.tx/p,h.ty/_),cs.invert(),l?cs.prepend(u.mapCoord):(c.uniforms.uMapCoord=u.mapCoord.toArray(!0),c.uniforms.uClampFrame=u.uClampFrame,c.uniforms.uClampOffset=u.uClampOffset),c.uniforms.uTransform=cs.toArray(!0),c.uniforms.uColor=Lt(t.tint,t.worldAlpha,c.uniforms.uColor,a.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=s,e.shader.bind(c),e.geometry.bind(r),this.state.blendMode=Dt(t.blendMode,a.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Pr),fs=function(t,e){return(fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ps(t,e){function r(){this.constructor=t}fs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var _s=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),ys=new se,ms=new ne,vs=function(t){function e(e,r,i,n){void 0===n&&(n=ot.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=r,o.state=i||ci.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=gt.ROUND_PIXELS,o.batchUvs=null,o}return ps(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ot.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,n=i.a,o=i.b,s=i.c,a=i.d,h=i.tx,u=i.ty,l=this.vertexData,c=0;c<l.length/2;c++){var d=e[2*c],f=e[2*c+1];l[2*c]=n*d+s*f+h,l[2*c+1]=o*d+a*f+u}if(this._roundPixels){var p=gt.RESOLUTION;for(c=0;c<l.length;++c)l[c]=Math.round((l[c]*p|0)/p)}this.vertexDirty=r}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new _s(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ys);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=ms.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],ms.contains(ys.x,ys.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Ae),gs=function(t){function e(e,r){var i=this,n={uSampler:e,alpha:1,uTextureMatrix:he.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=t.call(this,r.program||ui.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,i.uvMatrix=new pi(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return ps(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Lt(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(li),bs=function(t){function e(e,r,i){var n=t.call(this)||this,o=new _r(e),s=new _r(r,!0),a=new _r(i,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,ht.FLOAT).addAttribute("aTextureCoord",s,2,!1,ht.FLOAT).addIndex(a),n._updateId=-1,n}return ps(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Tr),Ts=function(t,e){return(Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},xs=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Es=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}r[n].push(s)}var f=new xs;return r.info.forEach((function(t){return f.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return f.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return f.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return f.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return f.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),f},t}(),As=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new xs,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var h=o[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}(),Os=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return As.test(e)}return!1},t.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return As.parse(e)},t}(),Ss=[Es,As,Os];function Rs(t){for(var e=0;e<Ss.length;e++)if(Ss[e].test(t))return Ss[e];return null}function ws(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=Math.ceil(t.width/i)-h-2*u,c=Math.ceil(t.height/i)-h-2*u,d=a.slice(),f=r.fillGradientStops.slice();if(!f.length)for(var p=d.length+1,_=1;_<p;++_)f.push(_/p);if(d.unshift(a[0]),f.unshift(0),d.push(a[a.length-1]),f.push(1),r.fillGradientType===_o.LINEAR_VERTICAL){s=e.createLinearGradient(l/2,u,l/2,c+u);var y=0,m=(o.fontProperties.fontSize+r.strokeThickness)/c;for(_=0;_<n.length;_++)for(var v=o.lineHeight*_,g=0;g<d.length;g++){var b=v/c+("number"==typeof f[g]?f[g]:g/d.length)*m,T=Math.max(y,b);T=Math.min(T,1),s.addColorStop(T,d[g]),y=T}}else{s=e.createLinearGradient(u,c/2,l+u,c/2);var x=d.length+1,E=1;for(_=0;_<d.length;_++){var A;A="number"==typeof f[_]?f[_]:E/x,s.addColorStop(A,d[_]),E++}}return s}function Is(t,e,r,i,n,o,s){var a=r.text,h=r.fontProperties;e.translate(i,n),e.scale(o,o);var u=s.strokeThickness/2,l=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=ws(t,e,s,o,[a],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=ws(t,e,s,o,[a],r),e.strokeStyle=s.stroke;var c=s.dropShadowColor,d=It("number"==typeof c?c:Mt(c));s.dropShadow?(e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,u,l+r.lineHeight-h.descent),s.fill&&e.fillText(a,u,l+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var Ps=function(){function t(t,e,r){var i=t.info[0],n=t.common[0],o=Zt(t.page[0].file),s={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/o,this.chars={},this.pageTextures=s;for(var a=0;a<t.page.length;a++){var h=t.page[a],u=h.id,l=h.file;s[u]=e instanceof Array?e[a]:e[l]}for(a=0;a<t.char.length;a++){var c=t.char[a],d=(u=c.id,c.page),f=t.char[a],p=f.x,_=f.y,y=f.width,m=f.height,v=f.xoffset,g=f.yoffset,b=f.xadvance;_/=o,y/=o,m/=o,v/=o,g/=o,b/=o;var T=new ee((p/=o)+s[d].frame.x/o,_+s[d].frame.y/o,y,m);this.chars[u]={xOffset:v,yOffset:g,xAdvance:b,kerning:{},texture:new ur(s[d].baseTexture,T),page:d}}for(a=0;a<t.kerning.length;a++){var x=t.kerning[a],E=x.first,A=x.second,O=x.amount;E/=o,A/=o,O/=o,this.chars[A]&&(this.chars[A].kerning[E]=O)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,i){var n;if(e instanceof xs)n=e;else{var o=Rs(e);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(e)}r instanceof ur&&(r=[r]);var s=new t(n,r,i);return t.available[s.font]=s,s},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,i),o=n.chars,s=n.padding,a=n.resolution,h=n.textureWidth,u=n.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=r instanceof Bo?r:new Bo(r),d=h,f=new xs;f.info[0]={face:c.fontFamily,size:c.fontSize},f.common[0]={lineHeight:c.fontSize};for(var p,_,y,m=0,v=0,g=0,b=[],T=0;T<l.length;T++){p||((p=document.createElement("canvas")).width=h,p.height=u,_=p.getContext("2d"),y=new ze(p,{resolution:a}),b.push(new ur(y)),f.page.push({id:b.length-1,file:""}));var x=jo.measureText(l[T],c,!1,p),E=x.width,A=Math.ceil(x.height),O=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(v>=u-A*a){if(0===v)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+c.fontSize+"px fonts");--T,p=null,_=null,y=null,v=0,m=0,g=0}else if(g=Math.max(A+x.fontProperties.descent,g),O*a+m>=d)--T,v+=g*a,v=Math.ceil(v),m=0,g=0;else{Is(p,_,x,m,v,a,c);var S=x.text.charCodeAt(0);f.char.push({id:S,page:b.length-1,x:m/a,y:v/a,width:O,height:A,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),m+=(O+2*s)*a,m=Math.ceil(m)}}T=0;for(var R=l.length;T<R;T++)for(var w=l[T],I=0;I<R;I++){var P=l[I],M=_.measureText(w).width,C=_.measureText(P).width,D=_.measureText(w+P).width-(M+C);D&&f.kerning.push({first:w.charCodeAt(0),second:P.charCodeAt(0),amount:D})}var N=new t(f,b,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=N,N},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Ms=[],Cs=[],Ds=(function(t){function e(r,i){void 0===i&&(i={});var n=t.call(this)||this;n._tint=16777215;var o=Object.assign({},e.styleDefaults,i),s=o.align,a=o.tint,h=o.maxWidth,u=o.letterSpacing,l=o.fontName,c=o.fontSize;if(!Ps.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=l,n._fontSize=c||Ps.available[l].size,n._text=r,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new ae((function(){n.dirty=!0}),n,0,0),n._roundPixels=gt.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}(function(t,e){function r(){this.constructor=t}Ts(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.updateText=function(){for(var t,e=Ps.available[this._fontName],r=this._fontSize/e.size,i=new se,n=[],o=[],s=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",h=a.length,u=this._maxWidth*e.size/this._fontSize,l=null,c=0,d=0,f=0,p=-1,_=0,y=0,m=0,v=0,g=0;g<h;g++){var b=a.charCodeAt(g),T=a.charAt(g);if(/(?:\s)/.test(T)&&(p=g,_=c,v++),"\r"!==T&&"\n"!==T){var x=e.chars[b];if(x){l&&x.kerning[l]&&(i.x+=x.kerning[l]);var E=Cs.pop()||{texture:ur.EMPTY,line:0,charCode:0,prevSpaces:0,position:new se};E.texture=x.texture,E.line=f,E.charCode=b,E.position.x=i.x+x.xOffset+this._letterSpacing/2,E.position.y=i.y+x.yOffset,E.prevSpaces=v,n.push(E),i.x+=x.xAdvance+this._letterSpacing,c=i.x,m=Math.max(m,x.yOffset+x.texture.height),l=b,-1!==p&&u>0&&i.x>u&&(Gt(n,1+p-++y,1+g-p),g=p,p=-1,o.push(_),s.push(n.length>0?n[n.length-1].prevSpaces:0),d=Math.max(d,_),f++,i.x=0,i.y+=e.lineHeight,l=null,v=0)}}else o.push(c),s.push(-1),d=Math.max(d,c),++f,++y,i.x=0,i.y+=e.lineHeight,l=null,v=0}var A=a.charAt(a.length-1);"\r"!==A&&"\n"!==A&&(/(?:\s)/.test(A)&&(c=_),o.push(c),d=Math.max(d,c),s.push(-1));var O=[];for(g=0;g<=f;g++){var S=0;"right"===this._align?S=d-o[g]:"center"===this._align?S=(d-o[g])/2:"justify"===this._align&&(S=s[g]<0?0:(d-o[g])/s[g]),O.push(S)}var R=n.length,w={},I=[],P=this._activePagesMeshData;for(g=0;g<P.length;g++)Ms.push(P[g]);for(g=0;g<R;g++){var M=(X=n[g].texture).baseTexture.uid;if(!w[M]){if(!(W=Ms.pop())){var C=new bs,D=new gs(ur.EMPTY);W={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new vs(C,D),vertices:null,uvs:null,indices:null}}W.index=0,W.indexCount=0,W.vertexCount=0,W.uvsCount=0,W.total=0;var N=this._textureCache;N[M]=N[M]||new ur(X.baseTexture),W.mesh.texture=N[M],W.mesh.tint=this._tint,I.push(W),w[M]=W}w[M].total++}for(g=0;g<P.length;g++)-1===I.indexOf(P[g])&&this.removeChild(P[g].mesh);for(g=0;g<I.length;g++)I[g].mesh.parent!==this&&this.addChild(I[g].mesh);for(var g in this._activePagesMeshData=I,w){var L=(W=w[g]).total;if(!((null===(t=W.indices)||void 0===t?void 0:t.length)>6*L)||W.vertices.length<2*vs.BATCHABLE_SIZE)W.vertices=new Float32Array(8*L),W.uvs=new Float32Array(8*L),W.indices=new Uint16Array(6*L);else for(var F=W.total,U=W.vertices,B=4*F*2;B<U.length;B++)U[B]=0;W.mesh.size=6*L}for(g=0;g<R;g++){var G=(T=n[g]).position.x+O[T.line]*("justify"===this._align?T.prevSpaces:1);this._roundPixels&&(G=Math.round(G));var X,k=G*r,j=T.position.y*r,H=w[(X=T.texture).baseTexture.uid],Y=X.frame,V=X._uvs,z=H.index++;H.indices[6*z+0]=0+4*z,H.indices[6*z+1]=1+4*z,H.indices[6*z+2]=2+4*z,H.indices[6*z+3]=0+4*z,H.indices[6*z+4]=2+4*z,H.indices[6*z+5]=3+4*z,H.vertices[8*z+0]=k,H.vertices[8*z+1]=j,H.vertices[8*z+2]=k+Y.width*r,H.vertices[8*z+3]=j,H.vertices[8*z+4]=k+Y.width*r,H.vertices[8*z+5]=j+Y.height*r,H.vertices[8*z+6]=k,H.vertices[8*z+7]=j+Y.height*r,H.uvs[8*z+0]=V.x0,H.uvs[8*z+1]=V.y0,H.uvs[8*z+2]=V.x1,H.uvs[8*z+3]=V.y1,H.uvs[8*z+4]=V.x2,H.uvs[8*z+5]=V.y2,H.uvs[8*z+6]=V.x3,H.uvs[8*z+7]=V.y3}for(var g in this._textWidth=d*r,this._textHeight=(i.y+e.lineHeight)*r,w){var W=w[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var q=0,K=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y,Q=0;Q<W.total;Q++)W.vertices[q++]-=K,W.vertices[q++]-=Z,W.vertices[q++]-=K,W.vertices[q++]-=Z,W.vertices[q++]-=K,W.vertices[q++]-=Z,W.vertices[q++]-=K,W.vertices[q++]-=Z;this._maxLineHeight=m*r;var J=W.mesh.geometry.getBuffer("aVertexPosition"),$=W.mesh.geometry.getBuffer("aTextureCoord"),tt=W.mesh.geometry.getIndex();J.data=W.vertices,$.data=W.uvs,tt.data=W.indices,J.update(),$.update(),tt.update()}for(g=0;g<n.length;g++)Cs.push(n[g])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Ps.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var r=this._textureCache;for(var i in r)r[i].destroy(),delete r[i];this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Ae),function(){function t(){}return t.add=function(){Rn.setExtensionXhrType("fnt",Rn.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var i=Rs(e.data);if(i)for(var n=t.getBaseUrl(this,e),o=i.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=Ps.install(o,s,!0),r())},h=0;h<o.page.length;++h){var u=o.page[h].file,l=n+u,c=!1;for(var d in this.resources){var f=this.resources[d];if(f.url===l){f.metadata.pageFile=u,f.texture?a(f):f.onAfterMiddleware.add(a),c=!0;break}}if(!c){var p={crossOrigin:e.crossOrigin,loadType:Rn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,p,a)}}else r()},t.getBaseUrl=function(e,r){var i=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),e.baseUrl&&i&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(i+="/")),(i=i.replace(e.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()),Ns=function(t,e){return(Ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(t,e){function r(){this.constructor=t}Ns(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0})}(di);var Ls=function(t,e){return(Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Fs(t,e){function r(){this.constructor=t}Ls(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Us,Bs,Gs,Xs,ks,js,Hs,Ys,Vs,zs,Ws,qs,Ks,Zs,Qs,Js,$s,ta,ea={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ra=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Us||(Us={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Bs||(Bs={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Gs||(Gs={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Xs||(Xs={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(ks||(ks={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(js||(js={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Hs||(Hs={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Ys||(Ys={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(Vs||(Vs={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(zs||(zs={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Ws||(Ws={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(qs||(qs={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Ks||(Ks={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Zs||(Zs={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Qs||(Qs={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Js||(Js={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}($s||($s={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(ta||(ta={}));var ia=function(t){function e(e,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=gt.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),h=function(t){for(var e,r=ea[t],i=r.length,n=ra,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,h)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return Fs(e,t),e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Zs.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,Zs.BLIT),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(di),na=(function(t){function e(e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=gt.FILTER_RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new ia(!0,e,r,i,n),o.blurYFilter=new ia(!1,e,r,i,n),o.resolution=i,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}Fs(e,t),e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,Zs.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0})}(di),function(t,e){return(na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)}),oa=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,Li,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}na(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(di);oa.prototype.grayscale=oa.prototype.greyscale;var sa=function(t,e){return(sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e,r){var i=this,n=new he;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=n,null==r&&(r=20),i.scale=new se(r,r),i}(function(t,e){function r(){this.constructor=t}sa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0})}(di);var aa,ha=function(t,e){return(ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};(function(t,e){function r(){this.constructor=t}ha(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})((function(){return aa.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}),aa=di);var ua=function(t,e){return(ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,Li,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}(function(t,e){function r(){this.constructor=t}ua(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0})}(di);var la=new he;Te.prototype._cacheAsBitmap=!1,Te.prototype._cacheData=null,Te.prototype._cacheAsBitmapResolution=null;var ca=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Te.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new ca),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Te.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Te.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(gt.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,h=cr.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution}),u="cacheAsBitmap_"+jt();this._cacheData.textureCacheId=u,ze.addToCache(h.baseTexture,u),ur.addToCache(h,u);var l=this.transform.localTransform.copyTo(la).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:l,skipUpdateTransform:!1}),t.projection.transform=a,t.renderTexture.bind(n,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;var c=new No(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},Te.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Te.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,n=t._projTransform;e.ceil(gt.RESOLUTION);var o=cr.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+jt();this._cacheData.textureCacheId=s,ze.addToCache(o.baseTexture,s),ur.addToCache(o,s);var a=la;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:a,skipUpdateTransform:!1}),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var h=new No(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},Te.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Te.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Te.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ze.removeFromCache(this._cacheData.textureCacheId),ur.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Te.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Te.prototype.name=null,Ae.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++)if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}return null},Te.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new se),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var da=function(t,e){return(da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function fa(t,e){function r(){this.constructor=t}da(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var pa=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=e,o.height=r,o.build(),o}return fa(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}var c=n*o;for(h=0;h<c;h++){var d=h%n,f=h/n|0,p=f*this.segWidth+d,_=f*this.segWidth+d+1,y=(f+1)*this.segWidth+d,m=(f+1)*this.segWidth+d+1;i.push(p,_,y,_,m,y)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(bs),_a=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var n=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=e,n.textureScale=i,n.build(),n}return fa(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,f=a.y-t[l].y,p=Math.sqrt(d*d+f*f);a=t[l],s+=p/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var _=0;for(l=0;l<u-1;l++)c=2*l,o[_++]=c,o[_++]=c+1,o[_++]=c+2,o[_++]=c+2,o[_++]=c+1,o[_++]=c+3;r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(bs),ya=(function(t){function e(e,r,i){void 0===i&&(i=0);var n=this,o=new _a(e.height,r,i),s=new gs(e);return i>0&&(e.baseTexture.wrapMode=ct.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}fa(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)}}(vs),function(t){function e(e,r,i){var n=this,o=new pa(e.width,e.height,r,i),s=new gs(ur.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return fa(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(vs)),ma=(function(t){function e(e,r,i,n,o){void 0===e&&(e=ur.EMPTY);var s=this,a=new bs(r,i,n);a.getBuffer("aVertexPosition").static=!1;var h=new gs(e);return(s=t.call(this,a,h,null,o)||this).autoUpdate=!0,s}fa(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)}}(vs),function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,ur.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}fa(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(ya),function(t,e){return(ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)});!function(t){function e(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof ur?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}(function(t,e){function r(){this.constructor=t}ma(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(we.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(we.shared.add(this.update,this,Oe.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(ur.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(ur.from(t[i]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof ur)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(we.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(we.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(No),Ni.registerPlugin("accessibility",Se),Ni.registerPlugin("extract",$i),Ni.registerPlugin("interaction",Ue),Ni.registerPlugin("particle",to),Ni.registerPlugin("prepare",ns),Ni.registerPlugin("batch",Yi),Ni.registerPlugin("tilingSprite",ds),En.registerPlugin(Ds),En.registerPlugin(Nn),En.registerPlugin(Hn),En.registerPlugin(qn),En.registerPlugin(ss),Zi.registerPlugin(Ie),Zi.registerPlugin(Sn);const va=(t,e,r,i)=>{const n=new Ae;return n.x=t,n.y=e,n.width=r,n.height=i,n.mask=(new Po).beginFill(16777215).drawRect(t,e,r,i).endFill(),n};class ga{}ga.events=new class{constructor(){this.events=new Map}emit(t,e){const r=this.events.get(t);if(r)for(const t of r.values())t(e)}on(t,e){const r=this.events.get(t);if(r)r.add(e);else{const r=new Set;r.add(e),this.events.set(t,r)}}off(t,e){const r=this.events.get(t);r&&(e?r.delete(e):this.events.delete(t))}},ga.spinnersContainer=new Ae,ga.backgroundContainer=new Ae;class ba{constructor(t,e,r,i){this.destination=0,this.source=0,this.spinDelay=0,this.spinTime=500,this.sprite=new No(t),this.sprite.y=r,this.container=e,this.spinDelayMax=i}}class Ta extends t.System{constructor(){super(),this.query=new t.Query((t=>t.has(ba))),this.isSpinning=!1,this.query.onEntityAdded.connect((({current:t})=>{const e=t.get(ba);e&&e.container.addChild(e.sprite)})),ga.events.on("spin",(t=>{this.isSpinning||(this.isSpinning=!0,this.query.entities.forEach((e=>{const r=e.get(ba);r&&(r.source=r.sprite.y,r.destination=r.sprite.height*t,r.spinDelay=0,r.spinTime=0)})))}))}onAddedToEngine(){this.engine.addQuery(this.query)}update(t){super.update(t),this.isSpinning&&this.query.entities.forEach((e=>{const r=e.get(ba);if(r){if(this.isSpinning=!1,r.spinDelay>r.spinDelayMax&&r.spinTime<500){const e=(t=>{const e=1.3749095;return t<.5?Math.pow(2*t,2)*(2*(e+1)*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2})(r.spinTime/500),i=((t,e,r)=>0*(1-r)+e*r)(0,r.destination,e);let n=r.source+i;n>9*r.sprite.height&&(n=-r.sprite.height+n%(9*r.sprite.height)),r.sprite.y=n,r.spinTime+=.2*t}r.spinTime<500&&(this.isSpinning=!0),r.spinDelay+=t}}))}}const xa=new t.Engine,Ea=new Zi({width:1024,height:573,backgroundColor:5161162});document.querySelector(".game-container").appendChild(Ea.renderer.view);const Aa=document.querySelector(".button-spin");Aa.onpointerdown=()=>{Aa.style.opacity="1"},Aa.onpointerup=()=>{console.log("click"),Aa.style.opacity="0.5",ga.events.emit("spin",9)},Ea.loader.add("symbols","assets/symbols.json").load(((e,r)=>{ga.app=Ea,ga.resources=r,Ea.stage.addChild(ga.backgroundContainer),Ea.stage.addChild(ga.spinnersContainer);const i=No.from("./assets/table.png");i.scale.set(.6),i.x=25,ga.backgroundContainer.addChild(i);const n=va(130,115,130,350);ga.spinnersContainer.addChild(n);const o=va(280,115,130,350);ga.spinnersContainer.addChild(o);const s=va(435,115,130,350);ga.spinnersContainer.addChild(s);const a=va(590,115,130,350);ga.spinnersContainer.addChild(a);const h=va(745,115,130,350);ga.spinnersContainer.addChild(h);const u=Object.keys(r.symbols.textures),l=()=>{const t=Math.floor((0,e=u.length,Math.random()*(e-0)+0));var e;return r.symbols.textures[u[t]]},c=(e,r)=>{for(let i=0;i<10;i++){const n=new t.Entity,o=l();n.addComponent(new ba(o,e,-o.height+i*o.height,r)),xa.addEntity(n)}};c(n,0),c(o,100),c(s,200),c(a,300),c(h,400),xa.addSystem(new Ta);let d=16;const f=(t=0)=>{const e=t-d;d=t,xa.update(e),Ea.renderer.render(Ea.stage),requestAnimationFrame(f)};f()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL2VhcmN1dC9zcmMvZWFyY3V0LmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2RlY29kZS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2VuY29kZS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2luZGV4LmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvdGljay1rbm9jay9saWIvZWNzL0NvbXBvbmVudElkLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvdGljay1rbm9jay9saWIvZWNzL0VuZ2luZS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3RpY2sta25vY2svbGliL2Vjcy9FbnRpdHkuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy90aWNrLWtub2NrL2xpYi9lY3MvSXRlcmF0aXZlU3lzdGVtLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvdGljay1rbm9jay9saWIvZWNzL0xpbmtlZENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3RpY2sta25vY2svbGliL2Vjcy9RdWVyeS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3RpY2sta25vY2svbGliL2Vjcy9SZWFjdGlvblN5c3RlbS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3RpY2sta25vY2svbGliL2Vjcy9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy90aWNrLWtub2NrL2xpYi9lY3MvU3lzdGVtLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvdGljay1rbm9jay9saWIvZWNzL1RhZy5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3RpY2sta25vY2svbGliL2luZGV4LmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvdGljay1rbm9jay9saWIvdXRpbHMvQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy90aWNrLWtub2NrL2xpYi91dGlscy9TaWduYWwuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy91cmwvbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovL3Rlc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdGVzdC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly90ZXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90ZXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vdGVzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3Rlc3Qvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly90ZXN0L3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL3Byb21pc2UtcG9seWZpbGwvc3JjL2ZpbmFsbHkuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9hbGxTZXR0bGVkLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvZGlzdC9lc20vcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2VzbS9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2Rpc3QvZXNtL3NldHRpbmdzLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2Rpc3QvZXNtL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2Rpc3QvZXNtL3V0aWxzLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9kaXN0L2VzbS9tYXRoLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZGlzcGxheS9kaXN0L2VzbS9kaXNwbGF5LmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYWNjZXNzaWJpbGl0eS9kaXN0L2VzbS9hY2Nlc3NpYmlsaXR5LmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGlja2VyL2Rpc3QvZXNtL3RpY2tlci5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ludGVyYWN0aW9uL2Rpc3QvZXNtL2ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvcnVubmVyL2Rpc3QvZXNtL3J1bm5lci5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvZGlzdC9lc20vY29yZS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2FwcC9kaXN0L2VzbS9hcHAuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9leHRyYWN0L2Rpc3QvZXNtL2V4dHJhY3QuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvZGlzdC9yZXNvdXJjZS1sb2FkZXIuZXNtLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbG9hZGVycy9kaXN0L2VzbS9sb2FkZXJzLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9kaXN0L2VzbS9jb21wcmVzc2VkLXRleHR1cmVzLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvcGFydGljbGVzL2Rpc3QvZXNtL3BhcnRpY2xlcy5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2Rpc3QvZXNtL2dyYXBoaWNzLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC9kaXN0L2VzbS90ZXh0LmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlL2Rpc3QvZXNtL3Nwcml0ZS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvZGlzdC9lc20vcHJlcGFyZS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZXNoZWV0L2Rpc3QvZXNtL3Nwcml0ZXNoZWV0LmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9kaXN0L2VzbS9zcHJpdGUtdGlsaW5nLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC9kaXN0L2VzbS9tZXNoLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvZGlzdC9lc20vdGV4dC1iaXRtYXAuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYWxwaGEvZGlzdC9lc20vZmlsdGVyLWFscGhhLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWJsdXIvZGlzdC9lc20vZmlsdGVyLWJsdXIuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItY29sb3ItbWF0cml4L2Rpc3QvZXNtL2ZpbHRlci1jb2xvci1tYXRyaXguanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50L2Rpc3QvZXNtL2ZpbHRlci1kaXNwbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZnhhYS9kaXN0L2VzbS9maWx0ZXItZnhhYS5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ub2lzZS9kaXN0L2VzbS9maWx0ZXItbm9pc2UuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAvZGlzdC9lc20vbWl4aW4tY2FjaGUtYXMtYml0bWFwLmpzIiwid2VicGFjazovL3Rlc3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUvZGlzdC9lc20vbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uL2Rpc3QvZXNtL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9kaXN0L2VzbS9tZXNoLWV4dHJhcy5qcyIsIndlYnBhY2s6Ly90ZXN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS1hbmltYXRlZC9kaXN0L2VzbS9zcHJpdGUtYW5pbWF0ZWQuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2Rpc3QvZXNtL3BpeGkuanMiLCJ3ZWJwYWNrOi8vdGVzdC8uL3NyYy9oZWxwZXJzL1BpeGlIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vdGVzdC8uL3NyYy9HYW1lLnRzIiwid2VicGFjazovL3Rlc3QvLi9zcmMvRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL3Rlc3QvLi9zcmMvY29tcG9uZW50cy9TeW1ib2xDb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vdGVzdC8uL3NyYy9zeXN0ZW1zL1NwaW5uZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vdGVzdC8uL3NyYy9oZWxwZXJzL1V0aWwudHMiLCJ3ZWJwYWNrOi8vdGVzdC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJlYXJjdXQiLCJkYXRhIiwiaG9sZUluZGljZXMiLCJkaW0iLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwieCIsInkiLCJpbnZTaXplIiwiaGFzSG9sZXMiLCJsZW5ndGgiLCJvdXRlckxlbiIsIm91dGVyTm9kZSIsImxpbmtlZExpc3QiLCJ0cmlhbmdsZXMiLCJuZXh0IiwicHJldiIsImkiLCJsZW4iLCJsaXN0IiwicXVldWUiLCJzdGVpbmVyIiwicHVzaCIsImdldExlZnRtb3N0Iiwic29ydCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiTWF0aCIsIm1heCIsImVhcmN1dExpbmtlZCIsInN0YXJ0IiwiZW5kIiwiY2xvY2t3aXNlIiwibGFzdCIsInNpZ25lZEFyZWEiLCJpbnNlcnROb2RlIiwiZXF1YWxzIiwicmVtb3ZlTm9kZSIsImFnYWluIiwicCIsImFyZWEiLCJlYXIiLCJwYXNzIiwieiIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJxIiwiZSIsInRhaWwiLCJudW1NZXJnZXMiLCJwU2l6ZSIsInFTaXplIiwiaW5TaXplIiwic29ydExpbmtlZCIsImluZGV4Q3VydmUiLCJzdG9wIiwiaXNFYXJIYXNoZWQiLCJpc0VhciIsImN1cmVMb2NhbEludGVyc2VjdGlvbnMiLCJzcGxpdEVhcmN1dCIsImEiLCJiIiwiYyIsInBvaW50SW5UcmlhbmdsZSIsIm1pblRYIiwibWluVFkiLCJtYXhUWCIsIm1heFRZIiwibWluWiIsIm1heFoiLCJuIiwiaW50ZXJzZWN0cyIsImxvY2FsbHlJbnNpZGUiLCJpc1ZhbGlkRGlhZ29uYWwiLCJzcGxpdFBvbHlnb24iLCJob2xlIiwibSIsImh4IiwiaHkiLCJxeCIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJJbmZpbml0eSIsImFicyIsInNlY3RvckNvbnRhaW5zU2VjdG9yIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiY3giLCJjeSIsInB4IiwicHkiLCJpbnRlcnNlY3RzUG9seWdvbiIsImluc2lkZSIsIm1pZGRsZUluc2lkZSIsInIiLCJwMSIsInAyIiwicTEiLCJxMiIsIm8xIiwic2lnbiIsIm8yIiwibzMiLCJvNCIsIm9uU2VnbWVudCIsIm1pbiIsIm51bSIsImEyIiwiTm9kZSIsImIyIiwiYW4iLCJicCIsInRoaXMiLCJzdW0iLCJqIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwicmVzdWx0IiwidmVydGljZXMiLCJob2xlcyIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJkIiwiaGFzIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwiY29udGV4dCIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsIlR5cGVFcnJvciIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJjcmVhdGUiLCJfX3Byb3RvX18iLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZSIsIm5hbWVzIiwiY2FsbCIsInNsaWNlIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiY29uY2F0IiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJsIiwiZWUiLCJBcnJheSIsImxpc3RlbmVyQ291bnQiLCJlbWl0IiwiYTEiLCJhMyIsImE0IiwiYTUiLCJhcmdzIiwiYXJndW1lbnRzIiwicmVtb3ZlTGlzdGVuZXIiLCJ1bmRlZmluZWQiLCJhcHBseSIsIm9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJNaW5pU2lnbmFsQmluZGluZyIsInRoaXNBcmciLCJfZm4iLCJfb25jZSIsIl90aGlzQXJnIiwiX25leHQiLCJfcHJldiIsIl9vd25lciIsImRldGFjaCIsIl9hZGRNaW5pU2lnbmFsQmluZGluZyIsInNlbGYiLCJub2RlIiwiX2hlYWQiLCJfdGFpbCIsIk1pbmlTaWduYWwiLCJleGlzdHMiLCJFcnJvciIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvT2JqZWN0IiwidmFsIiwiYXNzaWduIiwidGVzdDEiLCJTdHJpbmciLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJtYXAiLCJqb2luIiwidGVzdDMiLCJzcGxpdCIsImZvckVhY2giLCJsZXR0ZXIiLCJrZXlzIiwiZXJyIiwic2hvdWxkVXNlTmF0aXZlIiwic291cmNlIiwiZnJvbSIsInN5bWJvbHMiLCJ0byIsInMiLCJzdHIiLCJvcHRzIiwibyIsInBhcnNlciIsInN0cmljdCIsImxvb3NlIiwic3RyaWN0TW9kZSIsImV4ZWMiLCJ1cmkiLCJyZXBsYWNlIiwiJDAiLCIkMSIsIiQyIiwib2JqIiwicHJvcCIsInFzIiwic2VwIiwiZXEiLCJvcHRpb25zIiwicmVnZXhwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwiayIsInYiLCJpZHgiLCJpbmRleE9mIiwic3Vic3RyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiaXNBcnJheSIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwia3MiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkZWNvZGUiLCJwYXJzZSIsImVuY29kZSIsInN0cmluZ2lmeSIsImdldENvbXBvbmVudElkIiwiY29tcG9uZW50IiwiY3JlYXRlSWZOb3RFeGlzdHMiLCJDT01QT05FTlRfQ0xBU1NfSUQiLCJjb21wb25lbnRDbGFzc0lkIiwiRW5naW5lIiwidHNsaWJfMSIsIkVudGl0eV8xIiwiU3Vic2NyaXB0aW9uXzEiLCJTaWduYWxfMSIsIl90aGlzIiwib25FbnRpdHlBZGRlZCIsIlNpZ25hbCIsIm9uRW50aXR5UmVtb3ZlZCIsIl9lbnRpdHlNYXAiLCJNYXAiLCJfZW50aXRpZXMiLCJfc3lzdGVtcyIsIl9xdWVyaWVzIiwiX3N1YnNjcmlwdGlvbnMiLCJfc2hhcmVkQ29uZmlnIiwiRW50aXR5Iiwib25Db21wb25lbnRBZGRlZCIsImVudGl0eSIsImNvbXBvbmVudENsYXNzIiwiZW50aXR5Q29tcG9uZW50QWRkZWQiLCJvbkludmFsaWRhdGlvblJlcXVlc3RlZCIsInZhbGlkYXRlRW50aXR5Iiwib25Db21wb25lbnRSZW1vdmVkIiwiZW50aXR5Q29tcG9uZW50UmVtb3ZlZCIsImNvbm5lY3RFbnRpdHkiLCJnZXQiLCJhZGRFbnRpdHkiLCJpZCIsInNldCIsInJlbW92ZUVudGl0eSIsImluZGV4Iiwic3BsaWNlIiwiZGVsZXRlIiwiZGlzY29ubmVjdEVudGl0eSIsInJlbW92ZVN5c3RlbSIsInN5c3RlbSIsIm9uUmVtb3ZlZEZyb21FbmdpbmUiLCJzZXRFbmdpbmUiLCJnZXRFbnRpdHlCeUlkIiwiZ2V0U3lzdGVtIiwic3lzdGVtQ2xhc3MiLCJmaW5kIiwicmVtb3ZlQWxsU3lzdGVtcyIsImVfMSIsIl9hIiwic3lzdGVtcyIsInN5c3RlbXNfMSIsIl9fdmFsdWVzIiwic3lzdGVtc18xXzEiLCJkb25lIiwiZV8xXzEiLCJlcnJvciIsInJldHVybiIsInJlbW92ZUFsbFF1ZXJpZXMiLCJlXzIiLCJxdWVyaWVzIiwicXVlcmllc18xIiwicXVlcmllc18xXzEiLCJxdWVyeSIsImRpc2Nvbm5lY3RRdWVyeSIsImNsZWFyIiwiZV8yXzEiLCJyZW1vdmVBbGxFbnRpdGllcyIsInJlbW92ZUFsbEVudGl0aWVzSW50ZXJuYWwiLCJ1cGRhdGUiLCJkdCIsImVfMyIsIl9iIiwiX2MiLCJlXzNfMSIsImFkZFF1ZXJ5IiwiY29ubmVjdFF1ZXJ5IiwibWF0Y2hFbnRpdGllcyIsImVudGl0aWVzIiwiYWRkU3lzdGVtIiwicHJpb3JpdHkiLCJzZXRQcmlvcml0eSIsImZpbmRJbmRleCIsIm9uQWRkZWRUb0VuZ2luZSIsInJlbW92ZVF1ZXJ5Iiwic3Vic2NyaWJlIiwibWVzc2FnZVR5cGUiLCJoYW5kbGVyIiwiYWRkU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZUFsbCIsImVfNCIsInN1YnNjcmlwdGlvbl8xIiwiZV80XzEiLCJzdWJzY3JpcHRpb24iLCJTdWJzY3JpcHRpb24iLCJkaXNwYXRjaCIsIm1lc3NhZ2UiLCJlXzUiLCJlXzVfMSIsImNvbm5lY3QiLCJkaXNjb25uZWN0IiwiZW50aXR5QWRkZWQiLCJlbnRpdHlSZW1vdmVkIiwic2lsZW50bHkiLCJlXzYiLCJlbnRpdGllc18xIiwiZW50aXRpZXNfMV8xIiwiZV82XzEiLCJFbnRpdHlTbmFwc2hvdCIsIkNvbXBvbmVudElkXzEiLCJUYWdfMSIsImVudGl0eUlkIiwiX2NvbXBvbmVudHMiLCJfdGFncyIsIlNldCIsImFkZCIsImNvbXBvbmVudE9yVGFnIiwicmVzb2x2ZUNsYXNzIiwiaXNUYWciLCJhZGRUYWciLCJhZGRDb21wb25lbnQiLCJhcHBlbmQiLCJhcHBlbmRDb21wb25lbnQiLCJnZXRQcm90b3R5cGVPZiIsImNvbnN0cnVjdG9yIiwicmVtb3ZlIiwiaGFzSGFuZGxlcnMiLCJoYXNDb21wb25lbnQiLCJleGlzdGluZ0NvbXBvbmVudCIsInRhZyIsImNvbXBvbmVudENsYXNzT3JUYWciLCJoYXNUYWciLCJoYXNBbnkiLCJfaSIsInNvbWUiLCJoYXNBbGwiLCJldmVyeSIsImdldENvbXBvbmVudHMiLCJ2YWx1ZXMiLCJnZXRUYWdzIiwicmVtb3ZlQ29tcG9uZW50IiwicmVtb3ZlVGFnIiwiY29weUZyb20iLCJ0YWtlU25hcHNob3QiLCJjaGFuZ2VkQ29tcG9uZW50T3JUYWciLCJjdXJyZW50IiwicHJldmlvdXNTdGF0ZSIsInByZXZpb3VzIiwicHJldmlvdXNUYWdzIiwiY29tcG9uZW50SWQiLCJwcmV2aW91c0NvbXBvbmVudHMiLCJpbnZhbGlkYXRlIiwiX3ByZXZpb3VzIiwiX2N1cnJlbnQiLCJJdGVyYXRpdmVTeXN0ZW0iLCJfc3VwZXIiLCJfcmVtb3ZlZCIsIl9fZXh0ZW5kcyIsInVwZGF0ZUVudGl0aWVzIiwidXBkYXRlRW50aXR5IiwiUmVhY3Rpb25TeXN0ZW0iLCJMaW5rZWRDb21wb25lbnQiLCJpc1F1ZXJ5QnVpbGRlciIsImlzUXVlcnlQcmVkaWNhdGUiLCJRdWVyeUJ1aWxkZXIiLCJRdWVyeSIsInByZWRpY2F0ZSIsIl9oZWxwZXIiLCJfc25hcHNob3QiLCJfcHJlZGljYXRlIiwiaGFzQWRkZWRIYW5kbGVycyIsImhhc1JlbW92ZWRIYW5kbGVycyIsInVwZGF0ZUhlbHBlciIsImlzTWF0Y2giLCJjb3VudEJ5IiwiZmlsdGVyIiwiY29udGFpbnMiLCJjb21wb25lbnRzT3JUYWdzIiwiY29tcG9uZW50c09yVGFnc18xIiwiY29tcG9uZW50c09yVGFnc18xXzEiLCJidWlsZCIsImNvbXBvbmVudHMiLCJ0YWdzIiwic2l6ZSIsImNvbXBvbmVudHNfMSIsImNvbXBvbmVudHNfMV8xIiwidGFnc18xIiwidGFnc18xXzEiLCJpdGVtIiwiUXVlcnlfMSIsImVuZ2luZSIsInByZXBhcmUiLCJTeXN0ZW0iLCJfcHJpb3JpdHkiLCJfZW5naW5lIiwic2hhcmVkQ29uZmlnIiwidHlwZSIsIl9fZXhwb3J0U3RhciIsImRpc2Nvbm5lY3RBbGwiLCJfX3NwcmVhZEFycmF5IiwiX19yZWFkIiwiZXh0ZW5kU3RhdGljcyIsInNldFByb3RvdHlwZU9mIiwiX18iLCJfX2Fzc2lnbiIsInQiLCJfX3Jlc3QiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJtZXRhZGF0YSIsIl9fYXdhaXRlciIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwicmVqZWN0ZWQiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9wIiwicG9wIiwiX19jcmVhdGVCaW5kaW5nIiwiazIiLCJhciIsIl9fc3ByZWFkIiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImpsIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsInNoaWZ0IiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsImNvb2tlZCIsInJhdyIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsIl9faW1wb3J0U3RhciIsIm1vZCIsIl9fZXNNb2R1bGUiLCJfX2ltcG9ydERlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0Iiwicm9vdCIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsIndpbmRvdyIsInB1bnljb2RlIiwibWF4SW50IiwiYmFzZSIsInJlZ2V4UHVueWNvZGUiLCJyZWdleE5vbkFTQ0lJIiwicmVnZXhTZXBhcmF0b3JzIiwiZXJyb3JzIiwiZmxvb3IiLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJSYW5nZUVycm9yIiwiYXJyYXkiLCJtYXBEb21haW4iLCJzdHJpbmciLCJwYXJ0cyIsInVjczJkZWNvZGUiLCJleHRyYSIsIm91dHB1dCIsImNvdW50ZXIiLCJjaGFyQ29kZUF0IiwidWNzMmVuY29kZSIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiZmxhZyIsImFkYXB0IiwiZGVsdGEiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJiYXNlTWludXNUTWluIiwiaW5wdXQiLCJvdXQiLCJiYXNpYyIsIm9sZGkiLCJ3IiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImxhc3RJbmRleE9mIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ0ZXN0IiwidG9Mb3dlckNhc2UiLCJ1dGlsIiwiVXJsIiwicHJvdG9jb2wiLCJzbGFzaGVzIiwiYXV0aCIsImhvc3QiLCJwb3J0IiwiaG9zdG5hbWUiLCJoYXNoIiwic2VhcmNoIiwicGF0aG5hbWUiLCJwYXRoIiwiaHJlZiIsInVybFBhcnNlIiwicmVsYXRpdmUiLCJpc1N0cmluZyIsImZvcm1hdCIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJ1bndpc2UiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwicXVlcnlzdHJpbmciLCJ1cmwiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwic2xhc2hlc0Rlbm90ZUhvc3QiLCJpc09iamVjdCIsInUiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXN0IiwidHJpbSIsInNpbXBsZVBhdGgiLCJwcm90byIsImxvd2VyUHJvdG8iLCJtYXRjaCIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJwYXJzZUhvc3QiLCJpcHY2SG9zdG5hbWUiLCJob3N0cGFydHMiLCJwYXJ0IiwibmV3cGFydCIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidW5zaGlmdCIsInRvQVNDSUkiLCJoIiwiYWUiLCJlc2MiLCJlc2NhcGUiLCJxbSIsImNoYXJBdCIsInJlc29sdmVPYmplY3QiLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJpc051bGxPclVuZGVmaW5lZCIsImF1dGhJbkhvc3QiLCJpc051bGwiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwiYXJnIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibG9hZGVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsImRlZmluaXRpb24iLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJ0b1N0cmluZ1RhZyIsIm5tZCIsInBhdGhzIiwiY2hpbGRyZW4iLCJzZXRUaW1lb3V0RnVuYyIsInNldFRpbWVvdXQiLCJCb29sZWFuIiwibm9vcCIsIl9zdGF0ZSIsIl9oYW5kbGVkIiwiX3ZhbHVlIiwiX2RlZmVycmVkcyIsImRvUmVzb2x2ZSIsImhhbmRsZSIsImRlZmVycmVkIiwiX2ltbWVkaWF0ZUZuIiwiY2IiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJyZXQiLCJwcm9taXNlIiwibmV3VmFsdWUiLCJmaW5hbGUiLCJfdW5oYW5kbGVkUmVqZWN0aW9uRm4iLCJIYW5kbGVyIiwicmVhc29uIiwiZXgiLCJwcm9tIiwiY2FsbGJhY2siLCJhbGwiLCJhcnIiLCJyZW1haW5pbmciLCJyZXMiLCJhbGxTZXR0bGVkIiwic3RhdHVzIiwicmFjZSIsInNldEltbWVkaWF0ZSIsImNvbnNvbGUiLCJ3YXJuIiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJwZXJmb3JtYW5jZSIsInN0YXJ0VGltZV8xIiwibGFzdFRpbWUiLCJ2ZW5kb3JzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjdXJyZW50VGltZSIsImRlbGF5IiwiY2xlYXJUaW1lb3V0IiwiTnVtYmVyIiwiaXNOYU4iLCJpc0ludGVnZXIiLCJBcnJheUJ1ZmZlciIsIkZsb2F0MzJBcnJheSIsIlVpbnQzMkFycmF5IiwiVWludDE2QXJyYXkiLCJVaW50OEFycmF5IiwiSW50MzJBcnJheSIsIkVOViIsIlJFTkRFUkVSX1RZUEUiLCJCVUZGRVJfQklUUyIsIkJMRU5EX01PREVTIiwiRFJBV19NT0RFUyIsIkZPUk1BVFMiLCJUQVJHRVRTIiwiVFlQRVMiLCJTQU1QTEVSX1RZUEVTIiwiU0NBTEVfTU9ERVMiLCJXUkFQX01PREVTIiwiTUlQTUFQX01PREVTIiwiQUxQSEFfTU9ERVMiLCJDTEVBUl9NT0RFUyIsIkdDX01PREVTIiwiUFJFQ0lTSU9OIiwiTUFTS19UWVBFUyIsIk1TQUFfUVVBTElUWSIsImFwcGxlSXBob25lIiwiYXBwbGVJcG9kIiwiYXBwbGVUYWJsZXQiLCJhcHBsZVVuaXZlcnNhbCIsImFuZHJvaWRQaG9uZSIsImFuZHJvaWRUYWJsZXQiLCJhbWF6b25QaG9uZSIsImFtYXpvblRhYmxldCIsIndpbmRvd3NQaG9uZSIsIndpbmRvd3NUYWJsZXQiLCJvdGhlckJsYWNrQmVycnkiLCJvdGhlckJsYWNrQmVycnkxMCIsIm90aGVyT3BlcmEiLCJvdGhlckNocm9tZSIsIm90aGVyRmlyZWZveCIsImlzQXBwbGVUYWJsZXRPbklvczEzIiwibmF2aWdhdG9yIiwicGxhdGZvcm0iLCJtYXhUb3VjaFBvaW50cyIsIk1TU3RyZWFtIiwicGFyYW0iLCJuYXYiLCJ1c2VyQWdlbnQiLCJ0bXAiLCJyZWdleCIsImNyZWF0ZU1hdGNoIiwiYXBwbGUiLCJwaG9uZSIsImlwb2QiLCJ0YWJsZXQiLCJ1bml2ZXJzYWwiLCJkZXZpY2UiLCJhbWF6b24iLCJhbmRyb2lkIiwid2luZG93cyIsIm90aGVyIiwiYmxhY2tiZXJyeSIsImJsYWNrYmVycnkxMCIsIm9wZXJhIiwiZmlyZWZveCIsImNocm9tZSIsImFueSIsImlzTW9iaWxlIiwic2V0dGluZ3MiLCJNSVBNQVBfVEVYVFVSRVMiLCJQT1cyIiwiQU5JU09UUk9QSUNfTEVWRUwiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwiYWxsb3dNYXgiLCJwYXJzZUludCIsIm1heFJlY29tbWVuZGVkVGV4dHVyZXMiLCJTUFJJVEVfQkFUQ0hfU0laRSIsIlJFTkRFUl9PUFRJT05TIiwidmlldyIsImFudGlhbGlhcyIsImF1dG9EZW5zaXR5IiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZEFscGhhIiwidXNlQ29udGV4dEFscGhhIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJ3aWR0aCIsImhlaWdodCIsImxlZ2FjeSIsIkdDX01PREUiLCJBVVRPIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJDTEFNUCIsIlNDQUxFX01PREUiLCJMSU5FQVIiLCJQUkVDSVNJT05fVkVSVEVYIiwiSElHSCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIk1FRElVTSIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJDUkVBVEVfSU1BR0VfQklUTUFQIiwiUk9VTkRfUElYRUxTIiwiUkVUSU5BX1BSRUZJWCIsIkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUIiwic3VwcG9ydGVkIiwic2FpZEhlbGxvIiwiY3NzQ29sb3JOYW1lcyIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImNyaW1zb24iLCJjeWFuIiwiZGFya2JsdWUiLCJkYXJrY3lhbiIsImRhcmtnb2xkZW5yb2QiLCJkYXJrZ3JheSIsImRhcmtncmVlbiIsImRhcmtncmV5IiwiZGFya2toYWtpIiwiZGFya21hZ2VudGEiLCJkYXJrb2xpdmVncmVlbiIsImRhcmtvcmFuZ2UiLCJkYXJrb3JjaGlkIiwiZGFya3JlZCIsImRhcmtzYWxtb24iLCJkYXJrc2VhZ3JlZW4iLCJkYXJrc2xhdGVibHVlIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJkYXJrdHVycXVvaXNlIiwiZGFya3Zpb2xldCIsImRlZXBwaW5rIiwiZGVlcHNreWJsdWUiLCJkaW1ncmF5IiwiZGltZ3JleSIsImRvZGdlcmJsdWUiLCJmaXJlYnJpY2siLCJmbG9yYWx3aGl0ZSIsImZvcmVzdGdyZWVuIiwiZnVjaHNpYSIsImdhaW5zYm9ybyIsImdob3N0d2hpdGUiLCJnb2xkZW5yb2QiLCJnb2xkIiwiZ3JheSIsImdyZWVuIiwiZ3JlZW55ZWxsb3ciLCJncmV5IiwiaG9uZXlkZXciLCJob3RwaW5rIiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyYmx1c2giLCJsYXZlbmRlciIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JheSIsImxpZ2h0Z3JlZW4iLCJsaWdodGdyZXkiLCJsaWdodHBpbmsiLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHRzdGVlbGJsdWUiLCJsaWdodHllbGxvdyIsImxpbWUiLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1hcXVhbWFyaW5lIiwibWVkaXVtYmx1ZSIsIm1lZGl1bW9yY2hpZCIsIm1lZGl1bXB1cnBsZSIsIm1lZGl1bXNlYWdyZWVuIiwibWVkaXVtc2xhdGVibHVlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJtZWRpdW10dXJxdW9pc2UiLCJtZWRpdW12aW9sZXRyZWQiLCJtaWRuaWdodGJsdWUiLCJtaW50Y3JlYW0iLCJtaXN0eXJvc2UiLCJtb2NjYXNpbiIsIm5hdmFqb3doaXRlIiwibmF2eSIsIm9sZGxhY2UiLCJvbGl2ZSIsIm9saXZlZHJhYiIsIm9yYW5nZSIsIm9yYW5nZXJlZCIsIm9yY2hpZCIsInBhbGVnb2xkZW5yb2QiLCJwYWxlZ3JlZW4iLCJwYWxldHVycXVvaXNlIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYWdyZWVuIiwic2Vhc2hlbGwiLCJzaWVubmEiLCJzaWx2ZXIiLCJza3libHVlIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic25vdyIsInNwcmluZ2dyZWVuIiwic3RlZWxibHVlIiwidGVhbCIsInRoaXN0bGUiLCJ0b21hdG8iLCJ0dXJxdW9pc2UiLCJ2aW9sZXQiLCJ3aGVhdCIsIndoaXRlIiwid2hpdGVzbW9rZSIsInllbGxvdyIsInllbGxvd2dyZWVuIiwiaGV4MnJnYiIsImhleCIsImhleDJzdHJpbmciLCJoZXhTdHJpbmciLCJ0b1N0cmluZyIsInN0cmluZzJoZXgiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwibWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5VGludCIsInRpbnQiLCJhbHBoYSIsIlIiLCJHIiwiQiIsInByZW11bHRpcGx5VGludFRvUmdiYSIsInByZW11bHRpcGx5IiwibmV4dFBvdzIiLCJpc1BvdzIiLCJsb2cyIiwicmVtb3ZlSXRlbXMiLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwibmV4dFVpZCIsInVpZCIsIndhcm5pbmdzIiwiZGVwcmVjYXRpb24iLCJ2ZXJzaW9uIiwiaWdub3JlRGVwdGgiLCJzdGFjayIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJ0ZW1wQW5jaG9yIiwiUHJvZ3JhbUNhY2hlIiwiVGV4dHVyZUNhY2hlIiwiQmFzZVRleHR1cmVDYWNoZSIsIkNhbnZhc1JlbmRlclRhcmdldCIsInJlc29sdXRpb24iLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb250ZXh0IiwicmVzaXplIiwic2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwiZGVzdHJveSIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJTSEFQRVMiLCJQSV8yIiwiUEkiLCJSQURfVE9fREVHIiwiREVHX1RPX1JBRCIsIlJlY3RhbmdsZSIsIlJFQ1QiLCJjbG9uZSIsInJlY3RhbmdsZSIsImNvcHlUbyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJlbmxhcmdlIiwiQ2lyY2xlIiwicmFkaXVzIiwiQ0lSQyIsInIyIiwiZHgiLCJkeSIsImdldEJvdW5kcyIsIkVsbGlwc2UiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwiRUxJUCIsIm5vcm14Iiwibm9ybXkiLCJQb2x5Z29uIiwiYXJndW1lbnRzJDEiLCJwb2ludHMiLCJmbGF0IiwiUE9MWSIsImNsb3NlU3Ryb2tlIiwicG9seWdvbiIsInhpIiwieWkiLCJ4aiIsInlqIiwicmVkdWNlIiwicG9pbnRzRGVzYyIsImN1cnJlbnRQb2ludCIsIlJvdW5kZWRSZWN0YW5nbGUiLCJSUkVDIiwicmFkaXVzMiIsIlBvaW50IiwiT2JzZXJ2YWJsZVBvaW50Iiwic2NvcGUiLCJfeCIsIl95IiwiTWF0cml4IiwidHgiLCJ0eSIsImZyb21BcnJheSIsInRvQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJhcHBseUludmVyc2UiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInJvdGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwiYzEiLCJ0eDEiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsInBpdm90IiwiYXRhbjIiLCJza2V3Iiwic3FydCIsInBvc2l0aW9uIiwiaW52ZXJ0IiwiaWRlbnRpdHkiLCJ1eCIsInV5IiwidngiLCJ2eSIsInJvdGF0aW9uQ2F5bGV5Iiwicm90YXRpb25NYXRyaWNlcyIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsIm1hdCIsImluaXQiLCJncm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk5XIiwiTiIsIk5FIiwiTUlSUk9SX1ZFUlRJQ0FMIiwiTUFJTl9ESUFHT05BTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwiUkVWRVJTRV9ESUFHT05BTCIsInVYIiwiaW5kIiwidVkiLCJ2WCIsInZZIiwiaW52Iiwicm90YXRpb25TZWNvbmQiLCJyb3RhdGlvbkZpcnN0Iiwic3ViIiwicm90YXRlMTgwIiwiaXNWZXJ0aWNhbCIsImJ5RGlyZWN0aW9uIiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJUcmFuc2Zvcm0iLCJ3b3JsZFRyYW5zZm9ybSIsImxvY2FsVHJhbnNmb3JtIiwib25DaGFuZ2UiLCJ1cGRhdGVTa2V3IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5IiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJfd29ybGRJRCIsIl9wYXJlbnRJRCIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwibHQiLCJ1cGRhdGVUcmFuc2Zvcm0iLCJwYXJlbnRUcmFuc2Zvcm0iLCJwdCIsInd0Iiwic2V0RnJvbU1hdHJpeCIsIklERU5USVRZIiwiU09SVEFCTEVfQ0hJTERSRU4iLCJCb3VuZHMiLCJyZWN0IiwidXBkYXRlSUQiLCJpc0VtcHR5IiwiZ2V0UmVjdGFuZ2xlIiwiRU1QVFkiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUG9pbnRNYXRyaXgiLCJhZGRRdWFkIiwiYWRkRnJhbWUiLCJ4MCIsInkwIiwiYWRkRnJhbWVNYXRyaXgiLCJhZGRWZXJ0ZXhEYXRhIiwidmVydGV4RGF0YSIsImJlZ2luT2Zmc2V0IiwiZW5kT2Zmc2V0IiwiYWRkVmVydGljZXMiLCJhZGRWZXJ0aWNlc01hdHJpeCIsInBhZFgiLCJwYWRZIiwicmF3WCIsInJhd1kiLCJhZGRCb3VuZHMiLCJib3VuZHMiLCJhZGRCb3VuZHNNYXNrIiwibWFzayIsIl9taW5YIiwiX21pblkiLCJfbWF4WCIsIl9tYXhZIiwiYWRkQm91bmRzTWF0cml4IiwiYWRkQm91bmRzQXJlYSIsImFkZEZyYW1lUGFkIiwiRGlzcGxheU9iamVjdCIsInRlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwidmlzaWJsZSIsInJlbmRlcmFibGUiLCJwYXJlbnQiLCJ3b3JsZEFscGhhIiwiX2xhc3RTb3J0ZWRJbmRleCIsIl96SW5kZXgiLCJmaWx0ZXJBcmVhIiwiZmlsdGVycyIsIl9lbmFibGVkRmlsdGVycyIsIl9ib3VuZHMiLCJfbG9jYWxCb3VuZHMiLCJfYm91bmRzSUQiLCJfYm91bmRzUmVjdCIsIl9sb2NhbEJvdW5kc1JlY3QiLCJfbWFzayIsIl9kZXN0cm95ZWQiLCJpc1Nwcml0ZSIsImlzTWFzayIsIm1peGluIiwicHJvcGVydHlOYW1lIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwiZ2V0TG9jYWxCb3VuZHMiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ3b3JsZEJvdW5kcyIsIndvcmxkQm91bmRzSUQiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJfb3B0aW9ucyIsInJlbW92ZUNoaWxkIiwiaGl0QXJlYSIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIlRlbXBvcmFyeURpc3BsYXlPYmplY3QiLCJlbmFibGVUZW1wUGFyZW50IiwibXlQYXJlbnQiLCJkaXNhYmxlVGVtcFBhcmVudCIsImNhY2hlUGFyZW50Iiwic29ydERpcnR5IiwibWFza09iamVjdCIsInNvcnRDaGlsZHJlbiIsInpJbmRleCIsIkNvbnRhaW5lciIsInNvcnRhYmxlQ2hpbGRyZW4iLCJvbkNoaWxkcmVuQ2hhbmdlIiwiX2xlbmd0aCIsImNoaWxkIiwiYWRkQ2hpbGRBdCIsInN3YXBDaGlsZHJlbiIsImNoaWxkMiIsImluZGV4MSIsImdldENoaWxkSW5kZXgiLCJpbmRleDIiLCJzZXRDaGlsZEluZGV4IiwiY3VycmVudEluZGV4IiwiZ2V0Q2hpbGRBdCIsInJlbW92ZUNoaWxkQXQiLCJyZW1vdmVDaGlsZHJlbiIsImJlZ2luSW5kZXgiLCJlbmRJbmRleCIsInJlbW92ZWQiLCJiZWdpbiIsInJhbmdlIiwic29ydFJlcXVpcmVkIiwiX2NhbGN1bGF0ZUJvdW5kcyIsInNraXBDaGlsZHJlblVwZGF0ZSIsInJlbmRlciIsInJlbmRlcmVyIiwicmVuZGVyQWR2YW5jZWQiLCJfcmVuZGVyIiwiYmF0Y2giLCJmbHVzaCIsImVuYWJsZWQiLCJfcmVuZGVyZXIiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJhY2Nlc3NpYmxlIiwiYWNjZXNzaWJsZVRpdGxlIiwiYWNjZXNzaWJsZUhpbnQiLCJ0YWJJbmRleCIsIl9hY2Nlc3NpYmxlQWN0aXZlIiwiX2FjY2Vzc2libGVEaXYiLCJhY2Nlc3NpYmxlVHlwZSIsImFjY2Vzc2libGVQb2ludGVyRXZlbnRzIiwiYWNjZXNzaWJsZUNoaWxkcmVuIiwicmVuZGVySWQiLCJVUERBVEVfUFJJT1JJVFkiLCJBY2Nlc3NpYmlsaXR5TWFuYWdlciIsImRlYnVnIiwiX2lzQWN0aXZlIiwiX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSIsInBvb2wiLCJhbmRyb2lkVXBkYXRlQ291bnQiLCJhbmRyb2lkVXBkYXRlRnJlcXVlbmN5IiwiX2hvb2tEaXYiLCJjcmVhdGVUb3VjaEhvb2siLCJkaXYiLCJzdHlsZSIsIkRJVl9UT1VDSF9TSVpFIiwidG9wIiwiRElWX1RPVUNIX1BPU19YIiwibGVmdCIsIkRJVl9UT1VDSF9QT1NfWSIsIl9vbktleURvd24iLCJiaW5kIiwiX29uTW91c2VNb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhvb2tEaXYiLCJESVZfSE9PS19TSVpFIiwiRElWX0hPT0tfUE9TX1giLCJESVZfSE9PS19QT1NfWSIsInRpdGxlIiwiYWN0aXZhdGUiLCJkZXN0cm95VG91Y2hIb29rIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGFyZW50Tm9kZSIsImRlYWN0aXZhdGUiLCJ1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsImRpc3BsYXlPYmplY3QiLCJyZW5kZXJpbmdUb1NjcmVlbiIsIl9sYXN0T2JqZWN0UmVuZGVyZWQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0Iiwic3giLCJzeSIsImNhcEhpdEFyZWEiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJ1cGRhdGVEZWJ1Z0hUTUwiLCJpbm5lckhUTUwiLCJib3JkZXJTdHlsZSIsIl9vbkNsaWNrIiwiX29uRm9jdXMiLCJfb25Gb2N1c091dCIsInBvaW50ZXJFdmVudHMiLCJpbnRlcmFjdGlvbk1hbmFnZXIiLCJwbHVnaW5zIiwiaW50ZXJhY3Rpb24iLCJldmVudERhdGEiLCJkaXNwYXRjaEV2ZW50Iiwia2V5Q29kZSIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsIlRBUkdFVF9GUE1TIiwiVGlja2VyTGlzdGVuZXIiLCJkZWx0YVRpbWUiLCJyZWRpcmVjdCIsImhhcmQiLCJUaWNrZXIiLCJhdXRvU3RhcnQiLCJzcGVlZCIsInN0YXJ0ZWQiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsIl9taW5FbGFwc2VkTVMiLCJfcHJvdGVjdGVkIiwiX2xhc3RGcmFtZSIsImRlbHRhTVMiLCJlbGFwc2VkTVMiLCJfdGljayIsInRpbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwiX2NhbmNlbElmTmVlZGVkIiwiX3N0YXJ0SWZQb3NzaWJsZSIsIk5PUk1BTCIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJjb3VudCIsImhlYWQiLCJmcHMiLCJtaW5GUFMiLCJtYXhGUFMiLCJtaW5GUE1TIiwicm91bmQiLCJfc2hhcmVkIiwic2hhcmVkIiwiX3N5c3RlbSIsIlRpY2tlclBsdWdpbiIsInNoYXJlZFRpY2tlciIsInRpY2tlciIsIl90aWNrZXIiLCJMT1ciLCJvbGRUaWNrZXIiLCJJbnRlcmFjdGlvbkRhdGEiLCJwcmVzc3VyZSIsInJvdGF0aW9uQW5nbGUiLCJ0d2lzdCIsInRhbmdlbnRpYWxQcmVzc3VyZSIsIm9yaWdpbmFsRXZlbnQiLCJpZGVudGlmaWVyIiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImdldExvY2FsUG9zaXRpb24iLCJnbG9iYWxQb3MiLCJjb3B5RXZlbnQiLCJ3aGljaCIsInJlc2V0IiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJzdG9wc1Byb3BhZ2F0aW5nQXQiLCJzdG9wUHJvcGFnYXRpb25IaW50IiwiY3VycmVudFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwicG9pbnRlcklkIiwiX3BvaW50ZXJJZCIsIl9mbGFncyIsIkZMQUdTIiwiTk9ORSIsIl9kb1NldCIsInluIiwiZmxhZ3MiLCJPVkVSIiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsImZyZWV6ZSIsIlRyZWVTZWFyY2giLCJfdGVtcFBvaW50IiwicmVjdXJzaXZlRmluZEhpdCIsImludGVyYWN0aW9uRXZlbnQiLCJmdW5jIiwiaGl0VGVzdCIsImhpdCIsImludGVyYWN0aXZlUGFyZW50IiwiaGl0VGVzdENoaWxkcmVuIiwiY29udGFpbnNQb2ludCIsImNoaWxkSGl0IiwiZmluZEhpdCIsImludGVyYWN0aXZlVGFyZ2V0IiwiY3Vyc29yIiwiX3RyYWNrZWRQb2ludGVycyIsImhpdFRlc3RFdmVudCIsIkludGVyYWN0aW9uTWFuYWdlciIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsInRpY2tlckFkZGVkIiwibW91c2VPdmVyUmVuZGVyZXIiLCJzdXBwb3J0c1RvdWNoRXZlbnRzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50Iiwib25Qb2ludGVyVXAiLCJwcm9jZXNzUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwicHJvY2Vzc1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJEb3duIiwicHJvY2Vzc1BvaW50ZXJEb3duIiwib25Qb2ludGVyTW92ZSIsInByb2Nlc3NQb2ludGVyTW92ZSIsIm9uUG9pbnRlck91dCIsInByb2Nlc3NQb2ludGVyT3Zlck91dCIsIm9uUG9pbnRlck92ZXIiLCJjdXJzb3JTdHlsZXMiLCJwb2ludGVyIiwiY3VycmVudEN1cnNvck1vZGUiLCJkZWxheWVkRXZlbnRzIiwiX3RlbXBEaXNwbGF5T2JqZWN0IiwiX3VzZVN5c3RlbVRpY2tlciIsInVzZVN5c3RlbVRpY2tlciIsInNldFRhcmdldEVsZW1lbnQiLCJhZGRUaWNrZXJMaXN0ZW5lciIsInJlbW92ZVRpY2tlckxpc3RlbmVyIiwiZ2xvYmFsUG9pbnQiLCJsYXN0T2JqZWN0UmVuZGVyZWQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJlbGVtZW50IiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwidGlja2VyVXBkYXRlIiwiSU5URVJBQ1RJT04iLCJtc1BvaW50ZXJFbmFibGVkIiwibXNDb250ZW50Wm9vbWluZyIsIm1zVG91Y2hBY3Rpb24iLCJ0b3VjaEFjdGlvbiIsIl9kZWx0YVRpbWUiLCJfZGlkTW92ZSIsImludGVyYWN0aW9uRGF0YSIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJtb2RlIiwiYXBwbHlTdHlsZXMiLCJPZmZzY3JlZW5DYW52YXMiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImRlbGF5ZWRMZW4iLCJkaXNwbGF5T2JqZWN0XzEiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiY2FuY2VsYWJsZSIsInByZXZlbnREZWZhdWx0IiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwidHJhY2tlZFBvaW50ZXJzIiwicmlnaHREb3duIiwibGVmdERvd24iLCJvblBvaW50ZXJDb21wbGV0ZSIsImNhbmNlbGxlZCIsImV2ZW50QXBwZW5kIiwicmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsInRyYWNraW5nRGF0YSIsImlzVG91Y2giLCJpc01vdXNlIiwiaXNNb3VzZVRhcCIsImlzRG93biIsIm92ZXIiLCJub25lIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJ0ZW1wRXZlbnQiLCJSdW5uZXIiLCJpdGVtcyIsIl9uYW1lIiwiX2FsaWFzQ291bnQiLCJhMCIsImE2IiwiYTciLCJlbnN1cmVOb25BbGlhc2VkSXRlbXMiLCJyZW1vdmVBbGwiLCJydW4iLCJQUkVGRVJfRU5WIiwiU1RSSUNUX1RFWFRVUkVfQ0FDSEUiLCJJTlNUQUxMRUQiLCJhdXRvRGV0ZWN0UmVzb3VyY2UiLCJleHRlbnNpb24iLCJSZXNvdXJjZVBsdWdpbiIsIlJlc291cmNlIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsImJhc2VUZXh0dXJlIiwidW5iaW5kIiwibG9hZCIsIl9iYXNlVGV4dHVyZSIsIl9nbFRleHR1cmUiLCJkaXNwb3NlIiwiX3NvdXJjZSIsIl9leHRlbnNpb24iLCJCdWZmZXJSZXNvdXJjZSIsInVwbG9hZCIsImdsVGV4dHVyZSIsImdsIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJhbHBoYU1vZGUiLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0IiwidGV4U3ViSW1hZ2UyRCIsInRleEltYWdlMkQiLCJpbnRlcm5hbEZvcm1hdCIsImRlZmF1bHRCdWZmZXJPcHRpb25zIiwic2NhbGVNb2RlIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInJlc291cmNlT3B0aW9ucyIsInRvdWNoZWQiLCJpc1Bvd2VyT2ZUd28iLCJfcmVmcmVzaFBPVCIsIl9nbFRleHR1cmVzIiwiZGlydHlJZCIsImRpcnR5U3R5bGVJZCIsImNhY2hlSWQiLCJ2YWxpZCIsInRleHR1cmVDYWNoZUlkcyIsIl9iYXRjaEVuYWJsZWQiLCJfYmF0Y2hMb2NhdGlvbiIsInBhcmVudFRleHR1cmVBcnJheSIsInNldFJlc291cmNlIiwic2V0U3R5bGUiLCJkaXJ0eSIsInNldFNpemUiLCJzZXRSZWFsU2l6ZSIsInNldFJlc29sdXRpb24iLCJvbGRSZXNvbHV0aW9uIiwicmVtb3ZlRnJvbUNhY2hlIiwiY2FzdFRvQmFzZVRleHR1cmUiLCJpc0ZyYW1lIiwiX3BpeGlJZCIsInBpeGlJZFByZWZpeCIsImFkZFRvQ2FjaGUiLCJmcm9tQnVmZmVyIiwiYnVmZmVyIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJfZ2xvYmFsQmF0Y2giLCJBYnN0cmFjdE11bHRpUmVzb3VyY2UiLCJpdGVtRGlydHlJZHMiLCJwYXJ0VGV4dHVyZSIsIl9sb2FkIiwiaW5pdEZyb21BcnJheSIsInJlc291cmNlcyIsImFkZEJhc2VUZXh0dXJlQXQiLCJhZGRSZXNvdXJjZUF0IiwicHJvbWlzZXMiLCJBcnJheVJlc291cmNlIiwidXJscyIsInRleHR1cmUiLCJ0ZXhJbWFnZTNEIiwiVEVYVFVSRV8yRF9BUlJBWSIsInRleFN1YkltYWdlM0QiLCJCYXNlSW1hZ2VSZXNvdXJjZSIsInNvdXJjZUFueSIsIm5hdHVyYWxXaWR0aCIsInZpZGVvV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJub1N1YkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJjcm9zc29yaWdpbiIsInVybCQxIiwibG9jIiwibG9jYXRpb24iLCJwYXJzZWRVcmwiLCJzYW1lUG9ydCIsImRldGVybWluZUNyb3NzT3JpZ2luIiwiVEVYVFVSRV8yRCIsIkNhbnZhc1Jlc291cmNlIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJDdWJlUmVzb3VyY2UiLCJhdXRvTG9hZCIsImxpbmtCYXNlVGV4dHVyZSIsIlNJREVTIiwic2lkZSIsIkltYWdlUmVzb3VyY2UiLCJIVE1MSW1hZ2VFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiSW1hZ2UiLCJzcmMiLCJjb21wbGV0ZSIsIl9wcm9jZXNzIiwicHJlc2VydmVCaXRtYXAiLCJjcmVhdGVCaXRtYXAiLCJjcmVhdGVJbWFnZUJpdG1hcCIsImJpdG1hcCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJwcm9jZXNzIiwicHJlbXVsdGlwbHlBbHBoYSIsImdsVGV4dHVyZXMiLCJvdGhlclRleCIsImNsb3NlIiwiU1ZHUmVzb3VyY2UiLCJzb3VyY2VCYXNlNjQiLCJzdmciLCJfb3ZlcnJpZGVXaWR0aCIsIl9vdmVycmlkZUhlaWdodCIsIl9yZXNvbHZlIiwiX2Nyb3Nzb3JpZ2luIiwiYnRvYSIsInVuZXNjYXBlIiwiX2xvYWRTdmciLCJ0ZW1wSW1hZ2UiLCJzdmdXaWR0aCIsInN2Z0hlaWdodCIsImRyYXdJbWFnZSIsImdldFNpemUiLCJzdmdTdHJpbmciLCJzaXplTWF0Y2giLCJTVkdfU0laRSIsIlZpZGVvUmVzb3VyY2UiLCJIVE1MVmlkZW9FbGVtZW50IiwidmlkZW9FbGVtZW50IiwiZmlyc3RTcmMiLCJzb3VyY2VFbGVtZW50IiwibWltZSIsImJhc2VTcmMiLCJleHQiLCJNSU1FX1RZUEVTIiwiX2F1dG9VcGRhdGUiLCJfaXNDb25uZWN0ZWRUb1RpY2tlciIsIl91cGRhdGVGUFMiLCJ1cGRhdGVGUFMiLCJfbXNUb05leHRVcGRhdGUiLCJhdXRvUGxheSIsIl9vbkNhblBsYXkiLCJfb25FcnJvciIsInBsYXliYWNrUmF0ZSIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX2lzU291cmNlUmVhZHkiLCJfaXNTb3VyY2VQbGF5aW5nIiwicGF1c2VkIiwiZW5kZWQiLCJhdXRvVXBkYXRlIiwicGxheSIsInBhdXNlIiwib2d2IiwibW92IiwibTR2IiwiSW1hZ2VCaXRtYXBSZXNvdXJjZSIsIkltYWdlQml0bWFwIiwiX3Jlc291cmNlcyIsIkRlcHRoUmVzb3VyY2UiLCJ3ZWJHTFZlcnNpb24iLCJERVBUSF9DT01QT05FTlQiLCJERVBUSF9DT01QT05FTlQxNiIsIkZyYW1lYnVmZmVyIiwic3RlbmNpbCIsImRlcHRoIiwiZGlydHlGb3JtYXQiLCJkaXJ0eVNpemUiLCJkZXB0aFRleHR1cmUiLCJjb2xvclRleHR1cmVzIiwiZ2xGcmFtZWJ1ZmZlcnMiLCJkaXNwb3NlUnVubmVyIiwibXVsdGlzYW1wbGUiLCJhZGRDb2xvclRleHR1cmUiLCJhZGREZXB0aFRleHR1cmUiLCJlbmFibGVEZXB0aCIsImVuYWJsZVN0ZW5jaWwiLCJkZXN0cm95RGVwdGhUZXh0dXJlIiwiQmFzZVJlbmRlclRleHR1cmUiLCJ3aWR0aF8xIiwiaGVpZ2h0XzEiLCJjbGVhckNvbG9yIiwiZnJhbWVidWZmZXIiLCJtYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJUZXh0dXJlIiwib3JpZyIsImFuY2hvciIsIm5vRnJhbWUiLCJfZnJhbWUiLCJfdXZzIiwidXZNYXRyaXgiLCJfcm90YXRlIiwiZGVmYXVsdEFuY2hvciIsIl91cGRhdGVJRCIsIm9uQmFzZVRleHR1cmVVcGRhdGVkIiwidXBkYXRlVXZzIiwiZGVzdHJveUJhc2UiLCJjbG9uZWRGcmFtZSIsImNsb25lZE9yaWciLCJjbG9uZWRUZXh0dXJlIiwiZnJvbVVSTCIsImZyb21Mb2FkZXIiLCJpbWFnZVVybCIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiV0hJVEUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsIlJlbmRlclRleHR1cmUiLCJiYXNlUmVuZGVyVGV4dHVyZSIsImZpbHRlckZyYW1lIiwiZmlsdGVyUG9vbEtleSIsInJlc2l6ZUJhc2VUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZVBvb2wiLCJ0ZXh0dXJlT3B0aW9ucyIsInRleHR1cmVQb29sIiwiZW5hYmxlRnVsbFNjcmVlbiIsIl9waXhlbHNXaWR0aCIsIl9waXhlbHNIZWlnaHQiLCJjcmVhdGVUZXh0dXJlIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIlNDUkVFTl9LRVkiLCJyZW5kZXJUZXh0dXJlIiwiZ2V0RmlsdGVyVGV4dHVyZSIsImZpbHRlclRleHR1cmUiLCJyZXR1cm5UZXh0dXJlIiwicmV0dXJuRmlsdGVyVGV4dHVyZSIsImRlc3Ryb3lUZXh0dXJlcyIsInRleHR1cmVzIiwic2V0U2NyZWVuU2l6ZSIsInNjcmVlbktleSIsIkF0dHJpYnV0ZSIsIm5vcm1hbGl6ZWQiLCJzdHJpZGUiLCJVSUQiLCJCdWZmZXIiLCJfc3RhdGljIiwiX2dsQnVmZmVycyIsInN0YXRpYyIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiYnl0ZVNpemVNYXAiLCI1MTI2IiwiNTEyMyIsIjUxMjEiLCJVSUQkMSIsIm1hcCQxIiwiR2VvbWV0cnkiLCJidWZmZXJzIiwiYXR0cmlidXRlcyIsImluZGV4QnVmZmVyIiwiZ2xWZXJ0ZXhBcnJheU9iamVjdHMiLCJpbnN0YW5jZWQiLCJpbnN0YW5jZUNvdW50IiwicmVmQ291bnQiLCJhZGRBdHRyaWJ1dGUiLCJpZHMiLCJidWZmZXJJbmRleCIsImdldEJ1ZmZlciIsImFkZEluZGV4IiwiZ2V0SW5kZXgiLCJpbnRlcmxlYXZlIiwiYXJyYXlzIiwic2l6ZXMiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsImF0dHJpYnV0ZSIsIm91dFNpemUiLCJ2aWV3cyIsImxpdHRsZU9mZnNldCIsImdlb21ldHJ5IiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImluZGV4QnVmZmVyRGF0YSIsIlF1YWQiLCJRdWFkVXYiLCJ1dnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ1dkJ1ZmZlciIsInRhcmdldFRleHR1cmVGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJVSUQkMiIsIlVuaWZvcm1Hcm91cCIsInVuaWZvcm1zIiwiZ3JvdXAiLCJzeW5jVW5pZm9ybXMiLCJGaWx0ZXJTdGF0ZSIsInNvdXJjZUZyYW1lIiwiYmluZGluZ1NvdXJjZUZyYW1lIiwiYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUiLCJ0ZW1wUG9pbnRzIiwidGVtcE1hdHJpeCIsIkZpbHRlclN5c3RlbSIsImRlZmF1bHRGaWx0ZXJTdGFjayIsInN0YXRlUG9vbCIsInF1YWQiLCJxdWFkVXYiLCJ0ZW1wUmVjdCIsImFjdGl2ZVN0YXRlIiwiZ2xvYmFsVW5pZm9ybXMiLCJvdXRwdXRGcmFtZSIsImlucHV0U2l6ZSIsImlucHV0UGl4ZWwiLCJpbnB1dENsYW1wIiwiZmlsdGVyQ2xhbXAiLCJmb3JjZUNsZWFyIiwidXNlTWF4UGFkZGluZyIsInJlbmRlclRleHR1cmVTeXN0ZW0iLCJwYWRkaW5nIiwiYXV0b0ZpdCIsInNvdXJjZUZyYW1lUHJvamVjdGVkIiwicHJvamVjdGlvbiIsInRyYW5zZm9ybUFBQkIiLCJyb3VuZEZyYW1lIiwiZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUiLCJsYXN0U3RhdGUiLCJibGl0IiwiZmxpcCIsImZsb3AiLCJDTEVBUiIsImJpbmRBbmRDbGVhciIsImNsZWFyTW9kZSIsInN0YXRlU3lzdGVtIiwiYXV0b0NsZWFyIiwic3RhdGVJZCIsImFwcGx5RmlsdGVyIiwidVNhbXBsZXIiLCJmaWx0ZXJHbG9iYWxzIiwic2hhZGVyIiwiZHJhdyIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsIl90ZXh0dXJlIiwibWFwcGVkTWF0cml4IiwiVEVNUF9NQVRSSVgiLCJzd2FwIiwiZW1wdHlQb29sIiwibGIiLCJydCIsInJiIiwiYm90dG9tIiwicmlnaHQiLCJPYmplY3RSZW5kZXJlciIsIl9vYmplY3QiLCJCYXRjaFN5c3RlbSIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJzZXRPYmplY3RSZW5kZXJlciIsIm9iamVjdFJlbmRlcmVyIiwiY29weUJvdW5kVGV4dHVyZXMiLCJtYXhUZXh0dXJlcyIsImJvdW5kVGV4dHVyZXMiLCJib3VuZEFycmF5IiwidGV4QXJyYXkiLCJiYXRjaElkIiwiZWxlbWVudHMiLCJib3VuZCIsIkNPTlRFWFRfVUlEX0NPVU5URVIiLCJDb250ZXh0U3lzdGVtIiwiZXh0ZW5zaW9ucyIsInN1cHBvcnRzIiwidWludDMySW5kaWNlcyIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiaXNDb250ZXh0TG9zdCIsImNvbnRleHRDaGFuZ2UiLCJDT05URVhUX1VJRCIsImdldEV4dGVuc2lvbiIsInJlc3RvcmVDb250ZXh0IiwiaW5pdEZyb21Db250ZXh0IiwidmFsaWRhdGVDb250ZXh0IiwicnVubmVycyIsImluaXRGcm9tT3B0aW9ucyIsImNyZWF0ZUNvbnRleHQiLCJnZXRFeHRlbnNpb25zIiwiY29tbW9uIiwiYW5pc290cm9waWNGaWx0ZXJpbmciLCJmbG9hdFRleHR1cmVMaW5lYXIiLCJzM3RjIiwiczN0Y19zUkdCIiwiZXRjIiwiZXRjMSIsInB2cnRjIiwiYXRjIiwiYXN0YyIsImRyYXdCdWZmZXJzIiwibG9zZUNvbnRleHQiLCJ2ZXJ0ZXhBcnJheU9iamVjdCIsInVpbnQzMkVsZW1lbnRJbmRleCIsImZsb2F0VGV4dHVyZSIsInRleHR1cmVIYWxmRmxvYXQiLCJ0ZXh0dXJlSGFsZkZsb2F0TGluZWFyIiwiY29sb3JCdWZmZXJGbG9hdCIsInVzZVByb2dyYW0iLCJwb3N0cmVuZGVyIiwiZ2V0Q29udGV4dEF0dHJpYnV0ZXMiLCJpc1dlYkdsMiIsIldlYkdMMlJlbmRlcmluZ0NvbnRleHQiLCJoYXN1aW50MzIiLCJHTEZyYW1lYnVmZmVyIiwibXNhYUJ1ZmZlciIsImJsaXRGcmFtZWJ1ZmZlciIsInRlbXBSZWN0YW5nbGUiLCJGcmFtZWJ1ZmZlclN5c3RlbSIsIm1hbmFnZWRGcmFtZWJ1ZmZlcnMiLCJ1bmtub3duRnJhbWVidWZmZXIiLCJtc2FhU2FtcGxlcyIsInZpZXdwb3J0IiwiaGFzTVJUIiwid3JpdGVEZXB0aFRleHR1cmUiLCJkaXNwb3NlQWxsIiwibmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSIsIm5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiIsImFjdGl2ZVRleHR1cmVzIiwiZHJhd0J1ZmZlcnNXRUJHTCIsImdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyIiwiUkVOREVSQlVGRkVSIiwiUkdCQTgiLCJTQU1QTEVTIiwiZmJvIiwiaW5pdEZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJ1cGRhdGVGcmFtZWJ1ZmZlciIsInJlc2l6ZUZyYW1lYnVmZmVyIiwic2V0Vmlld3BvcnQiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImRldGVjdFNhbXBsZXMiLCJiaW5kUmVuZGVyYnVmZmVyIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJyZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkNPTE9SX0FUVEFDSE1FTlQwIiwicGFyZW50VGV4dHVyZSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiREVQVEhfQVRUQUNITUVOVCIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInNhbXBsZXMiLCJzb3VyY2VQaXhlbHMiLCJkZXN0UGl4ZWxzIiwic2FtZVNpemUiLCJSRUFEX0ZSQU1FQlVGRkVSIiwiQ09MT1JfQlVGRkVSX0JJVCIsIk5FQVJFU1QiLCJkaXNwb3NlRnJhbWVidWZmZXIiLCJjb250ZXh0TG9zdCIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZGVsZXRlUmVuZGVyYnVmZmVyIiwiZm9yY2VTdGVuY2lsIiwiR0xCdWZmZXIiLCJieXRlTGVuZ3RoIiwiYnl0ZVNpemVNYXAkMSIsIkdlb21ldHJ5U3lzdGVtIiwiX2FjdGl2ZUdlb21ldHJ5IiwiX2FjdGl2ZVZhbyIsImhhc1ZhbyIsImhhc0luc3RhbmNlIiwiY2FuVXNlVUludDMyRWxlbWVudEluZGV4IiwibWFuYWdlZEdlb21ldHJpZXMiLCJtYW5hZ2VkQnVmZmVycyIsIm5hdGl2ZVZhb0V4dGVuc2lvbl8xIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsImJpbmRWZXJ0ZXhBcnJheSIsInZhbyIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsImRlbGV0ZVZlcnRleEFycmF5IiwiZGVsZXRlVmVydGV4QXJyYXlPRVMiLCJpbnN0YW5jZUV4dF8xIiwidmVydGV4QXR0cmliRGl2aXNvciIsInZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRSIsImRyYXdFbGVtZW50c0luc3RhbmNlZCIsImRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFIiwiZHJhd0FycmF5c0luc3RhbmNlZCIsImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSIsInZhb3MiLCJpbmNSZWZDb3VudCIsInByb2dyYW0iLCJpbml0R2VvbWV0cnlWYW8iLCJhY3RpdmF0ZVZhbyIsInVwZGF0ZUJ1ZmZlcnMiLCJnbEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiQVJSQVlfQlVGRkVSIiwiYmluZEJ1ZmZlciIsIl9ib3VuZEJ1ZmZlciIsImJ1ZmZlclN1YkRhdGEiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYnVmZmVyRGF0YSIsImNoZWNrQ29tcGF0aWJpbGl0eSIsImdlb21ldHJ5QXR0cmlidXRlcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVEYXRhIiwiZ2V0U2lnbmF0dXJlIiwiYXR0cmlicyIsInN0cmluZ3MiLCJzaWduYXR1cmUiLCJ2YW9PYmplY3RIYXNoIiwidGVtcFN0cmlkZSIsInRlbXBTdGFydCIsImF0dHJpYlNpemUiLCJjcmVhdGVCdWZmZXIiLCJkaXNwb3NlQnVmZmVyIiwiZGVsZXRlQnVmZmVyIiwiZGlzcG9zZUdlb21ldHJ5IiwiYnVmIiwidmFvSWQiLCJsYXN0QnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJieXRlU2l6ZSIsImdsVHlwZSIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiZHJhd0FycmF5cyIsIk1hc2tEYXRhIiwiYXV0b0RldGVjdCIsInBvb2xlZCIsImlzTWFza0RhdGEiLCJfc3RlbmNpbENvdW50ZXIiLCJfc2Npc3NvckNvdW50ZXIiLCJfc2Npc3NvclJlY3QiLCJfdGFyZ2V0IiwiY29weUNvdW50ZXJzT3JSZXNldCIsIm1hc2tBYm92ZSIsImNvbXBpbGVTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlUHJvZ3JhbSIsInZlcnRleFNyYyIsImZyYWdtZW50U3JjIiwiYXR0cmlidXRlTG9jYXRpb25zIiwiZ2xWZXJ0U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiYm9vbGVhbkFycmF5IiwibWF4RnJhZ21lbnRQcmVjaXNpb24iLCJ1bmtub3duQ29udGV4dCIsImdldFRlc3RDb250ZXh0Iiwic2V0UHJlY2lzaW9uIiwicmVxdWVzdGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwic3Vic3RyaW5nIiwicHJlY2lzaW9uIiwiR0xTTF9UT19TSVpFIiwiZmxvYXQiLCJ2ZWMyIiwidmVjMyIsInZlYzQiLCJpbnQiLCJpdmVjMiIsIml2ZWMzIiwiaXZlYzQiLCJ1aW50IiwidXZlYzIiLCJ1dmVjMyIsInV2ZWM0IiwiYm9vbCIsImJ2ZWMyIiwiYnZlYzMiLCJidmVjNCIsIm1hdDIiLCJtYXQzIiwibWF0NCIsInNhbXBsZXIyRCIsIm1hcFNpemUiLCJHTF9UQUJMRSIsIkdMX1RPX0dMU0xfVFlQRVMiLCJGTE9BVF9WRUMyIiwiRkxPQVRfVkVDMyIsIkZMT0FUX1ZFQzQiLCJJTlQiLCJJTlRfVkVDMiIsIklOVF9WRUMzIiwiSU5UX1ZFQzQiLCJVTlNJR05FRF9JTlRfVkVDMiIsIlVOU0lHTkVEX0lOVF9WRUMzIiwiVU5TSUdORURfSU5UX1ZFQzQiLCJCT09MIiwiQk9PTF9WRUMyIiwiQk9PTF9WRUMzIiwiQk9PTF9WRUM0IiwiRkxPQVRfTUFUMiIsIkZMT0FUX01BVDMiLCJGTE9BVF9NQVQ0IiwiU0FNUExFUl8yRCIsIklOVF9TQU1QTEVSXzJEIiwiVU5TSUdORURfSU5UX1NBTVBMRVJfMkQiLCJTQU1QTEVSX0NVQkUiLCJJTlRfU0FNUExFUl9DVUJFIiwiVU5TSUdORURfSU5UX1NBTVBMRVJfQ1VCRSIsIlNBTVBMRVJfMkRfQVJSQVkiLCJJTlRfU0FNUExFUl8yRF9BUlJBWSIsIlVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEX0FSUkFZIiwibWFwVHlwZSIsInR5cGVOYW1lcyIsInRuIiwidW5zYWZlRXZhbCIsInVuaWZvcm1QYXJzZXJzIiwiY29kZSIsInVuaWZvcm0iLCJHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCIsInNhbXBsZXJDdWJlIiwic2FtcGxlcjJEQXJyYXkiLCJHTFNMX1RPX0FSUkFZX1NFVFRFUlMiLCJmcmFnVGVtcGxhdGUiLCJnZW5lcmF0ZUlmVGVzdFNyYyIsIm1heElmcyIsIlVJRCQzIiwibmFtZUNhY2hlIiwiUHJvZ3JhbSIsImRlZmF1bHRWZXJ0ZXhTcmMiLCJkZWZhdWx0RnJhZ21lbnRTcmMiLCJnZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQiLCJzaGFkZXJGcmFnbWVudCIsIkhJR0hfRkxPQVQiLCJnZXRNYXhGcmFnbWVudFByZWNpc2lvbiIsImV4dHJhY3REYXRhIiwiZ2xQcm9ncmFtcyIsImdldEF0dHJpYnV0ZURhdGEiLCJ1bmlmb3JtRGF0YSIsImdldFVuaWZvcm1EYXRhIiwiYXR0cmlidXRlc0FycmF5IiwidG90YWxBdHRyaWJ1dGVzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWJEYXRhIiwiZ2V0QWN0aXZlQXR0cmliIiwidG90YWxVbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsImdldEFjdGl2ZVVuaWZvcm0iLCJTaGFkZXIiLCJ1bmlmb3JtR3JvdXAiLCJjaGVja1VuaWZvcm1FeGlzdHMiLCJTdGF0ZSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsImRlcHRoTWFzayIsIl9ibGVuZE1vZGUiLCJfcG9seWdvbk9mZnNldCIsImNsb2Nrd2lzZUZyb250RmFjZSIsImN1bGxpbmciLCJmb3IyZCIsImRlcHRoVGVzdCIsIkZpbHRlciIsImFUZXh0dXJlQ29vcmQiLCJmaWx0ZXJNYW5hZ2VyIiwiX2N1cnJlbnRTdGF0ZSIsInRlbXBNYXQiLCJUZXh0dXJlTWF0cml4IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiX3RleHR1cmVJRCIsImNsYW1wT2Zmc2V0IiwiaXNTaW1wbGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwidGV4QmFzZSIsIm1hcmdpbiIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJtYXNrQ2xhbXAiLCJNYXNrU3lzdGVtIiwiZW5hYmxlU2Npc3NvciIsImFscGhhTWFza1Bvb2wiLCJtYXNrRGF0YVBvb2wiLCJhbHBoYU1hc2tJbmRleCIsInNldE1hc2tTdGFjayIsInNjaXNzb3IiLCJtYXNrRGF0YU9yVGFyZ2V0IiwibWFza0RhdGEiLCJkZXRlY3QiLCJwdXNoU3ByaXRlTWFzayIsInBvcFNwcml0ZU1hc2siLCJpc0Zhc3RSZWN0Iiwicm90WCIsInJvdFhZIiwiYWxwaGFNYXNrRmlsdGVyIiwic3Rhc2hGaWx0ZXJBcmVhIiwiQWJzdHJhY3RNYXNrU3lzdGVtIiwiZ2xDb25zdCIsImdldFN0YWNrTGVuZ3RoIiwiY3VyU3RhY2tMZW4iLCJuZXdTdGFja0xlbiIsImRpc2FibGUiLCJlbmFibGUiLCJfdXNlQ3VycmVudCIsIlNjaXNzb3JTeXN0ZW0iLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJTQ0lTU09SX1RFU1QiLCJwcmV2RGF0YSIsIlN0ZW5jaWxTeXN0ZW0iLCJTVEVOQ0lMX1RFU1QiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsIlByb2plY3Rpb25TeXN0ZW0iLCJkZWZhdWx0RnJhbWUiLCJwcm9qZWN0aW9uTWF0cml4IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN5bmNVbmlmb3JtR3JvdXAiLCJnbG9iYWxzIiwiX2Rlc3RpbmF0aW9uRnJhbWUiLCJfcmVzb2x1dGlvbiIsIl9tYXRyaXgiLCJ0ZW1wUmVjdDIiLCJSZW5kZXJUZXh0dXJlU3lzdGVtIiwiX2JhY2tncm91bmRDb2xvclJnYmEiLCJkZWZhdWx0TWFza1N0YWNrIiwidmlld3BvcnRGcmFtZSIsInNjcmVlbiIsImNsZWFyTWFzayIsIkdMUHJvZ3JhbSIsInVuaWZvcm1Hcm91cHMiLCJVSUQkNCIsImRlZmF1bHRTeW5jRGF0YSIsInRleHR1cmVDb3VudCIsIlNoYWRlclN5c3RlbSIsInN5c3RlbUNoZWNrIiwiY2FjaGUiLCJ1bnNhZmVFdmFsU3VwcG9ydGVkIiwiZG9udFN5bmMiLCJnbFByb2dyYW0iLCJnZW5lcmF0ZVNoYWRlciIsInNldFVuaWZvcm1zIiwic3luY0RhdGEiLCJnZXRnbFByb2dyYW0iLCJjcmVhdGVTeW5jR3JvdXBzIiwiZnVuY0ZyYWdtZW50cyIsInBhcnNlZCIsInRlbXBsYXRlIiwiZ2VuZXJhdGVVbmlmb3Jtc1N5bmMiLCJhdHRyaWJNYXAiLCJzaGFkZXJQcm9ncmFtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiU3RhdGVTeXN0ZW0iLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJzZXREZXB0aE1hc2siLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIkRTVF9DT0xPUiIsIk9ORV9NSU5VU19TUkNfQ09MT1IiLCJTUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJaRVJPIiwiT05FX01JTlVTX0RTVF9BTFBIQSIsIkZVTkNfUkVWRVJTRV9TVUJUUkFDVCIsIkZVTkNfQUREIiwibWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiZGlmZiIsImZvcmNlU3RhdGUiLCJ1cGRhdGVDaGVjayIsImNoZWNrQmxlbmRNb2RlIiwiQkxFTkQiLCJjaGVja1BvbHlnb25PZmZzZXQiLCJQT0xZR09OX09GRlNFVF9GSUxMIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiYmxlbmRFcXVhdGlvblNlcGFyYXRlIiwic2V0UG9seWdvbk9mZnNldCIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJUZXh0dXJlR0NTeXN0ZW0iLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsIkdMVGV4dHVyZSIsInNhbXBsZXJUeXBlIiwiVGV4dHVyZVN5c3RlbSIsImN1cnJlbnRMb2NhdGlvbiIsIl91bmtub3duQm91bmRUZXh0dXJlcyIsInVua25vd25UZXh0dXJlIiwiaGFzSW50ZWdlclRleHR1cmVzIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJiaW5kVGV4dHVyZSIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwiVEVYVFVSRV9DVUJFX01BUCIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ0ZXh0dXJlR0MiLCJpbml0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVwZGF0ZVRleHR1cmUiLCJlbnN1cmVTYW1wbGVyVHlwZSIsImluaXRUZXh0dXJlVHlwZSIsIlJHQkEzMkYiLCJIQUxGX0ZMT0FUIiwiUkdCQTE2RiIsInVwZGF0ZVRleHR1cmVTdHlsZSIsInNraXBSZW1vdmUiLCJkZWxldGVUZXh0dXJlIiwiZ2VuZXJhdGVNaXBtYXAiLCJURVhUVVJFX1dSQVBfUyIsIlRFWFRVUkVfV1JBUF9UIiwiTElORUFSX01JUE1BUF9MSU5FQVIiLCJORUFSRVNUX01JUE1BUF9ORUFSRVNUIiwiYW5pc290cm9waWNFeHQiLCJsZXZlbCIsIk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsInRleFBhcmFtZXRlcmYiLCJURVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsInRlbXBNYXRyaXgkMSIsIlJlbmRlcmVyIiwicHJlcmVuZGVyIiwiaW5pdFBsdWdpbnMiLCJfX3BsdWdpbnMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJwb3dlclByZWZlcmVuY2UiLCJsb2ciLCJzYXlIZWxsbyIsImNvbnRleHRPcHRpb25zIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsInN1Y2Nlc3MiLCJDbGFzc1JlZiIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJpc0xvc3QiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsInJlbW92ZVZpZXciLCJleHRyYWN0IiwicmVnaXN0ZXJQbHVnaW4iLCJwbHVnaW5OYW1lIiwiY3RvciIsIkFic3RyYWN0UmVuZGVyZXIiLCJfYmFja2dyb3VuZENvbG9yIiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInRyYW5zcGFyZW50Iiwic3RhdGljTWFwIiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwidGhpc0FueSIsImRlZmF1bHRGaWx0ZXJWZXJ0ZXgiLCJCYXRjaERyYXdDYWxsIiwiQmF0Y2hUZXh0dXJlQXJyYXkiLCJWaWV3YWJsZUJ1ZmZlciIsInNpemVPckJ1ZmZlciIsInJhd0JpbmFyeURhdGEiLCJ1aW50MzJWaWV3IiwiZmxvYXQzMlZpZXciLCJfaW50OFZpZXciLCJJbnQ4QXJyYXkiLCJfdWludDhWaWV3IiwiX2ludDE2VmlldyIsIkludDE2QXJyYXkiLCJfdWludDE2VmlldyIsIl9pbnQzMlZpZXciLCJzaXplT2YiLCJBYnN0cmFjdEJhdGNoUmVuZGVyZXIiLCJzaGFkZXJHZW5lcmF0b3IiLCJnZW9tZXRyeUNsYXNzIiwidmVydGV4U2l6ZSIsIl92ZXJ0ZXhDb3VudCIsIl9pbmRleENvdW50IiwiX2J1ZmZlcmVkRWxlbWVudHMiLCJfYnVmZmVyZWRUZXh0dXJlcyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9hQnVmZmVycyIsIl9pQnVmZmVycyIsIk1BWF9URVhUVVJFUyIsIm9uUHJlcmVuZGVyIiwiX2RjSW5kZXgiLCJfYUluZGV4IiwiX2lJbmRleCIsIl9hdHRyaWJ1dGVCdWZmZXIiLCJfaW5kZXhCdWZmZXIiLCJfdGVtcEJvdW5kVGV4dHVyZXMiLCJjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIiwiaW5pdEZsdXNoQnVmZmVycyIsIl9kcmF3Q2FsbFBvb2wiLCJfdGV4dHVyZUFycmF5UG9vbCIsIk1BWF9TUFJJVEVTIiwiTUFYX1RBIiwiaW5kaWNlcyIsImJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMiLCJ0ZXh0dXJlQXJyYXlzIiwiVElDSyIsImNvdW50VGV4QXJyYXlzIiwiYnVpbGREcmF3Q2FsbHMiLCJmaW5pc2giLCJkcmF3Q2FsbHMiLCJkY0luZGV4IiwiYUluZGV4IiwiaUluZGV4IiwiZHJhd0NhbGwiLCJzcHJpdGVCbGVuZE1vZGUiLCJwYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeSIsImJpbmRBbmRDbGVhclRleEFycmF5IiwidGV4dHVyZVN5c3RlbSIsInVwZGF0ZUdlb21ldHJ5IiwicGFja2VkR2VvbWV0cmllcyIsImF0dHJpYnV0ZUJ1ZmZlciIsIl9idWZmZXIiLCJkcmF3QmF0Y2hlcyIsImRjQ291bnQiLCJjdXJUZXhBcnJheSIsImdldEF0dHJpYnV0ZUJ1ZmZlciIsImdldEluZGV4QnVmZmVyIiwicm91bmRlZFAyIiwicm91bmRlZFNpemVJbmRleCIsInJvdW5kZWRTaXplIiwicGFja2VkVmVydGljZXMiLCJpbmRpY2llcyIsInRleHR1cmVJZCIsImFyZ2IiLCJfdGludFJHQiIsIkJhdGNoU2hhZGVyR2VuZXJhdG9yIiwicHJvZ3JhbUNhY2hlIiwiZGVmYXVsdEdyb3VwQ2FjaGUiLCJzYW1wbGVWYWx1ZXMiLCJ1U2FtcGxlcnMiLCJnZW5lcmF0ZVNhbXBsZVNyYyIsInRyYW5zbGF0aW9uTWF0cml4IiwiQmF0Y2hHZW9tZXRyeSIsImRlZmF1bHRWZXJ0ZXgkMyIsImRlZmF1bHRGcmFnbWVudCQyIiwiQmF0Y2hSZW5kZXJlciIsIkJhdGNoUGx1Z2luRmFjdG9yeSIsInZlcnRleCIsImZyYWdtZW50IiwiQmF0Y2hQbHVnaW4iLCJfbG9vcF8xIiwiX2xvb3BfMiIsIkFwcGxpY2F0aW9uIiwic3RhZ2UiLCJmb3JjZUNhbnZhcyIsImF1dG9EZXRlY3RSZW5kZXJlciIsIl9wbHVnaW5zIiwicGx1Z2luIiwic3RhZ2VPcHRpb25zIiwicmV2ZXJzZSIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsInF1ZXVlUmVzaXplIiwiX3Jlc2l6ZVRvIiwiY2FuY2VsUmVzaXplIiwiX3Jlc2l6ZUlkIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJyZXNpemVUbyIsIlRFTVBfUkVDVCIsIkV4dHJhY3QiLCJpbWFnZSIsInF1YWxpdHkiLCJiYXNlNjQiLCJ0b0RhdGFVUkwiLCJmbGlwWSIsImdlbmVyYXRlZCIsImNhbnZhc0J1ZmZlciIsIndlYmdsUGl4ZWxzIiwicmVhZFBpeGVscyIsImNhbnZhc0RhdGEiLCJnZXRJbWFnZURhdGEiLCJhcnJheVBvc3REaXZpZGUiLCJwdXRJbWFnZURhdGEiLCJ0YXJnZXRfMSIsInBpeGVscyIsIl9ub29wIiwiZWFjaFNlcmllcyIsImRlZmVyTmV4dCIsIm9ubHlPbmNlIiwiY2FsbEZuIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ1c2VYZHIiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX25vb3AkMSIsIl9zZXRGbGFnIiwiU1RBVFVTX0ZMQUdTIiwiREFUQV9VUkwiLCJfZ2V0RXh0ZW5zaW9uIiwidGltZW91dCIsImxvYWRUeXBlIiwiX2RldGVybWluZUxvYWRUeXBlIiwieGhyVHlwZSIsInhociIsIlRZUEUiLCJVTktOT1dOIiwicHJvZ3Jlc3NDaHVuayIsIl9kZXF1ZXVlIiwiX29uTG9hZEJpbmRpbmciLCJfZWxlbWVudFRpbWVyIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX2JvdW5kT25Qcm9ncmVzcyIsIl9vblByb2dyZXNzIiwiX2JvdW5kT25UaW1lb3V0IiwiX29uVGltZW91dCIsIl9ib3VuZFhock9uRXJyb3IiLCJfeGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl94aHJPblRpbWVvdXQiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwib25TdGFydCIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25BZnRlck1pZGRsZXdhcmUiLCJzZXRFeHRlbnNpb25Mb2FkVHlwZSIsImV4dG5hbWUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfcHJvdG8iLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiaXNMb2FkaW5nIiwiaXNDb21wbGV0ZSIsIkxPQURJTkciLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJMT0FEX1RZUEUiLCJJTUFHRSIsIl9sb2FkRWxlbWVudCIsIkFVRElPIiwiX2xvYWRTb3VyY2VFbGVtZW50IiwiVklERU8iLCJYSFIiLCJfbG9hZFhkciIsIl9sb2FkWGhyIiwiX2hhc0ZsYWciLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiQ09NUExFVEUiLCJsb2FkRWxlbWVudCIsInNraXBTb3VyY2UiLCJBdWRpbyIsImlzQ29jb29uSlMiLCJtaW1lVHlwZXMiLCJtaW1lVHlwZSIsIl9jcmVhdGVTb3VyY2UiLCJfbWltZVR5cGVzIiwiX2RldGVybWluZVhoclR5cGUiLCJvcGVuIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJKU09OIiwiRE9DVU1FTlQiLCJyZXNwb25zZVR5cGUiLCJURVhUIiwic2VuZCIsIm5vZGVOYW1lIiwibGVuZ3RoQ29tcHV0YWJsZSIsInRvdGFsIiwicmVxVHlwZSIsInN0YXR1c1RleHQiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwiX2dldE1pbWVGcm9tWGhyVHlwZSIsIkJMT0IiLCJERUZBVUxUIiwiZ2lmIiwicG5nIiwiYm1wIiwianBnIiwianBlZyIsInRpZiIsInRpZmYiLCJ3ZWJwIiwidGdhIiwibXAzIiwib2dnIiwid2F2IiwibXA0Iiwid2VibSIsInhodG1sIiwiaHRtbCIsImh0bSIsInhtbCIsInRteCIsInRzeCIsImpzb24iLCJ0eHQiLCJ0dGYiLCJvdGYiLCJVUkwiLCJ3ZWJraXRVUkwiLCJjYWNoaW5nIiwicGFyc2luZyIsIkJsb2IiLCJjcmVhdGVPYmplY3RVUkwiLCJibG9iIiwicmV2b2tlT2JqZWN0VVJMIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJpbngiLCJieXRlYnVmZmVyIiwiZW5jb2RlZENoYXJJbmRleGVzIiwiam54IiwiX2pueCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsImNvbmN1cnJlbmN5IiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwid29ya2VyIiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiZW1wdHkiLCJkcmFpbiIsIl9pbnNlcnQiLCJraWxsIiwidGFzayIsInJ1bm5pbmciLCJpZGxlIiwiaW5zZXJ0QXRGcm9udCIsIm9uTG9hZCIsIl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSIsInByZSIsIl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlIiwidXNlIiwicGFyZW50UmVzb3VyY2UiLCJfcHJlcGFyZVVybCIsImluY29tcGxldGVDaGlsZHJlbiIsIl9pMiIsImVhY2hDaHVuayIsIl9pMyIsIl9vblN0YXJ0IiwiX29uQ29tcGxldGUiLCJjaHVuayIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiVGV4dHVyZUxvYWRlciIsImNhdGNoIiwiSU5URVJOQUxfRk9STUFUUyIsIkFwcExvYWRlclBsdWdpbiIsInNoYXJlZExvYWRlciIsImxvYWRlciIsIkxvYWRlclJlc291cmNlIiwiSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTCIsIkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQiLCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVCIsIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUIiwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQiLCJDT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVCIsIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUIiwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUM19FWFQiLCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVCIsIkNPTVBSRVNTRURfUjExX0VBQyIsIkNPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUMiLCJDT01QUkVTU0VEX1JHMTFfRUFDIiwiQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUMiLCJDT01QUkVTU0VEX1JHQjhfRVRDMiIsIkNPTVBSRVNTRURfUkdCQThfRVRDMl9FQUMiLCJDT01QUkVTU0VEX1NSR0I4X0VUQzIiLCJDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQyIsIkNPTVBSRVNTRURfUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzIiLCJDT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMiIsIkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUciLCJDT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNRyIsIkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUciLCJDT01QUkVTU0VEX1JHQkFfUFZSVENfMkJQUFYxX0lNRyIsIkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0wiLCJDT01QUkVTU0VEX1JHQl9BVENfV0VCR0wiLCJDT01QUkVTU0VEX1JHQkFfQVRDX0VYUExJQ0lUX0FMUEhBX1dFQkdMIiwiQ09NUFJFU1NFRF9SR0JBX0FUQ19JTlRFUlBPTEFURURfQUxQSEFfV0VCR0wiLCJfYSQxIiwiQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSIsImxldmVscyIsIl9mb3JtYXRUb0V4dGVuc2lvbiIsImxldmVsQnVmZmVycyIsIl9sZXZlbEJ1ZmZlcnMiLCJfY3JlYXRlTGV2ZWxCdWZmZXJzIiwidWludDhWaWV3IiwibGV2ZWxJRCIsImxldmVsV2lkdGgiLCJsZXZlbEhlaWdodCIsImxldmVsQnVmZmVyIiwiY29tcHJlc3NlZFRleEltYWdlMkQiLCJvbkJsb2JMb2FkZWQiLCJibG9ja1dpZHRoIiwiYmxvY2tIZWlnaHQiLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJieXRlT2Zmc2V0IiwiYWxpZ25lZExldmVsV2lkdGgiLCJhbGlnbmVkTGV2ZWxIZWlnaHQiLCJsZXZlbFNpemUiLCJCbG9iUmVzb3VyY2UiLCJfZGF0YSIsImFycmF5QnVmZmVyIiwiZmV0Y2giLCJDb21wcmVzc2VkVGV4dHVyZUxvYWRlciIsImNhY2hlSUQiLCJ0ZXh0dXJlVVJMIiwiZmFsbGJhY2tVUkwiLCJ1cmxfMSIsInRleHR1cmVGb3JtYXRzIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwicmVzb3VyY2VOYW1lIiwiZXh0ZW5zaW9uTmFtZSIsInRleHR1cmVFeHRlbnNpb25zIiwicmVnaXN0ZXJDb21wcmVzc2VkVGV4dHVyZXMiLCJEWEdJX0ZPUk1BVCIsIkQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTiIsIl9hJDIiLCJfYiQxIiwiRk9VUkNDX1RPX0ZPUk1BVCIsIkRYR0lfVE9fRk9STUFUIiwiRFhHSV9GT1JNQVRfQkMxX1RZUEVMRVNTIiwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNIiwiRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTIiwiRFhHSV9GT1JNQVRfQkMyX1VOT1JNIiwiRFhHSV9GT1JNQVRfQkMzX1RZUEVMRVNTIiwiRFhHSV9GT1JNQVRfQkMzX1VOT1JNIiwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNX1NSR0IiLCJEWEdJX0ZPUk1BVF9CQzJfVU5PUk1fU1JHQiIsIkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCIiwiRERTTG9hZGVyIiwiaGVhZGVyIiwibWlwbWFwQ291bnQiLCJwaXhlbEZvcm1hdCIsImZvcm1hdEZsYWdzIiwiZm91ckNDIiwiaW50ZXJuYWxGb3JtYXRfMSIsInRleERhdGEiLCJERFNfTUFHSUNfU0laRSIsImR4MTBIZWFkZXIiLCJkeGdpRm9ybWF0IiwicmVzb3VyY2VEaW1lbnNpb24iLCJtaXNjRmxhZyIsImFycmF5U2l6ZSIsImludGVybmFsRm9ybWF0XzIiLCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRCIsImltYWdlQnVmZmVycyIsInBpeGVsU2l6ZSIsImltYWdlU2l6ZSIsImltYWdlT2Zmc2V0IiwiRklMRV9JREVOVElGSUVSIiwiVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCIsIkZPUk1BVFNfVE9fQ09NUE9ORU5UUyIsIlRZUEVTX1RPX0JZVEVTX1BFUl9QSVhFTCIsIktUWExvYWRlciIsImRhdGFWaWV3IiwiRGF0YVZpZXciLCJ2YWxpZGF0ZSIsImxpdHRsZUVuZGlhbiIsImdldFVpbnQzMiIsImdsRm9ybWF0IiwiZ2xJbnRlcm5hbEZvcm1hdCIsInBpeGVsV2lkdGgiLCJwaXhlbEhlaWdodCIsInBpeGVsRGVwdGgiLCJudW1iZXJPZkFycmF5RWxlbWVudHMiLCJudW1iZXJPZkZhY2VzIiwibnVtYmVyT2ZNaXBtYXBMZXZlbHMiLCJieXRlc09mS2V5VmFsdWVEYXRhIiwiaW1hZ2VQaXhlbEJ5dGVTaXplIiwiYWxpZ25lZFdpZHRoIiwiYWxpZ25lZEhlaWdodCIsImltYWdlUGl4ZWxzIiwibWlwQnl0ZVNpemUiLCJtaXBXaWR0aCIsIm1pcEhlaWdodCIsImFsaWduZWRNaXBXaWR0aCIsImFsaWduZWRNaXBIZWlnaHQiLCJtaXBtYXBMZXZlbCIsImVsZW1lbnRPZmZzZXQiLCJhcnJheUVsZW1lbnQiLCJtaXBzIiwiZ2V0VWludDgiLCJQYXJ0aWNsZUNvbnRhaW5lciIsIm1heFNpemUiLCJwcm9wZXJ0aWVzIiwiYmF0Y2hTaXplIiwiYXV0b1Jlc2l6ZSIsIl9wcm9wZXJ0aWVzIiwiX21heFNpemUiLCJfYmF0Y2hTaXplIiwiX2J1ZmZlcnMiLCJfYnVmZmVyVXBkYXRlSURzIiwicm91bmRQaXhlbHMiLCJzZXRQcm9wZXJ0aWVzIiwiX3RpbnQiLCJ0aW50UmdiIiwicGFydGljbGUiLCJzbWFsbGVzdENoaWxkSW5kZXgiLCJMSU5FX0pPSU4iLCJMSU5FX0NBUCIsIlBhcnRpY2xlQnVmZmVyIiwiZHluYW1pY1Byb3BlcnR5RmxhZ3MiLCJkeW5hbWljUHJvcGVydGllcyIsInN0YXRpY1Byb3BlcnRpZXMiLCJwcm9wZXJ0eSIsImF0dHJpYnV0ZU5hbWUiLCJ1cGxvYWRGdW5jdGlvbiIsInN0YXRpY1N0cmlkZSIsInN0YXRpY0J1ZmZlciIsInN0YXRpY0RhdGEiLCJzdGF0aWNEYXRhVWludDMyIiwiZHluYW1pY1N0cmlkZSIsImR5bmFtaWNCdWZmZXIiLCJkeW5hbWljRGF0YSIsImR5bmFtaWNEYXRhVWludDMyIiwiaW5pdEJ1ZmZlcnMiLCJkeW5hbWljT2Zmc2V0Iiwib3V0QnVmZmVyIiwidG90YWxJbmRpY2VzIiwiY3JlYXRlSW5kaWNlc0ZvclF1YWRzIiwiZHluQnVmZmVyIiwic3RhdGljT2Zmc2V0Iiwic3RhdEJ1ZmZlciIsInVwbG9hZER5bmFtaWMiLCJzdGFydEluZGV4IiwiYW1vdW50IiwidXBsb2FkU3RhdGljIiwiUGFydGljbGVSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwidXBsb2FkUG9zaXRpb24iLCJ1cGxvYWRSb3RhdGlvbiIsInVwbG9hZFV2cyIsInVwbG9hZFRpbnQiLCJ0b3RhbENoaWxkcmVuIiwiZ2VuZXJhdGVCdWZmZXJzIiwicmdiIiwidUNvbG9yIiwidXBkYXRlU3RhdGljIiwiX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciIsImJpZCIsIlRSSUFOR0xFUyIsIncwIiwidzEiLCJoMCIsImgxIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJHUkFQSElDU19DVVJWRVMiLCJhZGFwdGl2ZSIsIm1heExlbmd0aCIsIm1pblNlZ21lbnRzIiwibWF4U2VnbWVudHMiLCJlcHNpbG9uIiwiX3NlZ21lbnRzQ291bnQiLCJkZWZhdWx0U2VnbWVudHMiLCJGaWxsU3R5bGUiLCJjb2xvciIsImJ1aWxkUG9seSIsImdyYXBoaWNzRGF0YSIsInNoYXBlIiwidHJpYW5ndWxhdGUiLCJncmFwaGljc0dlb21ldHJ5IiwidmVydHMiLCJob2xlQXJyYXkiLCJ2ZXJ0UG9zIiwiYnVpbGRDaXJjbGUiLCJjaXJjbGVEYXRhIiwiZWxsaXBzZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJjZW50ZXIiLCJjaXJjbGUiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJmcm9tWCIsImZyb21ZIiwiY3BYIiwiY3BZIiwidG9YIiwidG9ZIiwieGEiLCJ5YSIsInhiIiwieWIiLCJidWlsZFJvdW5kZWRSZWN0YW5nbGUiLCJycmVjdERhdGEiLCJ2ZWNQb3MiLCJzcXVhcmUiLCJueCIsIm55IiwiaW5uZXJXZWlnaHQiLCJvdXRlcldlaWdodCIsImV4eCIsImV5eSIsImVpeCIsImVpeSIsImVveCIsImVveSIsImV5IiwiY3gycDB4IiwiY3kycDB5IiwiYW5nbGUwIiwiYW5nbGUxIiwic3RhcnRBbmdsZSIsImFuZ2xlRGlmZiIsImFic0FuZ2xlRGlmZiIsInNlZ0NvdW50IiwiYW5nbGVJbmMiLCJidWlsZExpbmUiLCJsaW5lU3R5bGUiLCJuYXRpdmUiLCJjbG9zZWRTaGFwZSIsImJ1aWxkTmF0aXZlTGluZSIsImNsb3NlUG9pbnRFcHMiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwiY2xvc2VkUGF0aCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0Iiwid2lkdGhTcXVhcmVkIiwibWl0ZXJMaW1pdFNxdWFyZWQiLCJtaXRlckxpbWl0IiwicGVycHgiLCJwZXJweSIsInBlcnAxeCIsInBlcnAxeSIsImRpc3QiLCJyYXRpbyIsImFsaWdubWVudCIsImNhcCIsIlJPVU5EIiwiU1FVQVJFIiwiZHgwIiwiZHkwIiwiZHgxIiwiZHkxIiwiY3Jvc3MiLCJjMiIsInBkaXN0IiwiaW14IiwiaW15Iiwib214Iiwib215IiwiaW5zaWRlV2VpZ2h0IiwiQkVWRUwiLCJlcHMyIiwiYnVpbGROb25OYXRpdmVMaW5lIiwiVEVYVF9HUkFESUVOVCIsIkFyY1V0aWxzIiwiY3VydmVUbyIsIm1tIiwiZGQiLCJjYyIsInR0IiwiazEiLCJqMSIsImoyIiwicXkiLCJlbmRBbmdsZSIsImFudGljbG9ja3dpc2UiLCJhcmMiLCJfc3RhcnRYIiwiX3N0YXJ0WSIsIl9hbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJ0aGV0YSIsInRoZXRhMiIsImNUaGV0YSIsInNUaGV0YSIsInNlZ01pbnVzIiwicmVtYWluZGVyIiwiQmV6aWVyVXRpbHMiLCJjdXJ2ZUxlbmd0aCIsImNwWDIiLCJjcFkyIiwidDIiLCJ0MyIsIm50IiwibnQyIiwibnQzIiwicHJldlgiLCJwcmV2WSIsImR0MiIsImR0MyIsIlF1YWRyYXRpY1V0aWxzIiwiYTMyIiwiYmEiLCJCYXRjaFBhcnQiLCJhdHRyaWJTdGFydCIsImVuZEF0dHJpYiIsIkZJTExfQ09NTUFORFMiLCJyZWN0RGF0YSIsIkJBVENIX1BPT0wiLCJEUkFXX0NBTExfUE9PTCIsIkdyYXBoaWNzRGF0YSIsInRtcFBvaW50IiwidG1wQm91bmRzIiwiR3JhcGhpY3NHZW9tZXRyeSIsImluZGljZXNVaW50MTYiLCJjb2xvcnMiLCJ0ZXh0dXJlSWRzIiwiYmF0Y2hEaXJ0eSIsImNhY2hlRGlydHkiLCJjbGVhckRpcnR5IiwiYmF0Y2hlcyIsInNoYXBlSW5kZXgiLCJib3VuZHNEaXJ0eSIsImJvdW5kc1BhZGRpbmciLCJiYXRjaGFibGUiLCJiYXRjaFBhcnQiLCJkcmF3U2hhcGUiLCJkcmF3SG9sZSIsImxhc3RTaGFwZSIsImhpdEhvbGUiLCJpXzEiLCJ1cGRhdGVCYXRjaGVzIiwiYWxsb3czMkluZGljZXMiLCJ2YWxpZGF0ZUJhdGNoaW5nIiwiY3VycmVudFN0eWxlIiwidHJhbnNmb3JtUG9pbnRzIiwibmV4dFRleHR1cmUiLCJpbmRleF8xIiwiYXR0cmliSW5kZXgiLCJwcm9jZXNzRmlsbCIsInByb2Nlc3NMaW5lIiwiX2NvbXBhcmVTdHlsZXMiLCJhZGRVdnMiLCJuZWVkMzIiLCJpc0JhdGNoYWJsZSIsInBhY2tCYXRjaGVzIiwic3R5bGVBIiwic3R5bGVCIiwiZmlsbCIsImxpbmUiLCJCQVRDSEFCTEVfU0laRSIsImN1cnJlbnRHcm91cCIsImN1cnJlbnRUZXh0dXJlIiwiZHJhd01vZGUiLCJhZGRDb2xvcnMiLCJhZGRUZXh0dXJlSWRzIiwicGFja0F0dHJpYnV0ZXMiLCJnbFBvaW50cyIsImYzMiIsInUzMiIsInByb2Nlc3NIb2xlcyIsInNlcXVlbmNlQm91bmRzIiwiY3VyTWF0cml4IiwibmV4dE1hdHJpeCIsImxpbmVXaWR0aCIsImVsbGlwc2UiLCJwb2x5IiwicmdiYSIsInV2c1N0YXJ0IiwiYWRqdXN0VXZzIiwiTGluZVN0eWxlIiwiQlVUVCIsIk1JVEVSIiwidGVtcCIsIkRFRkFVTFRfU0hBREVSUyIsIkdyYXBoaWNzIiwiX2dlb21ldHJ5IiwiX2ZpbGxTdHlsZSIsIl9saW5lU3R5bGUiLCJfaG9sZU1vZGUiLCJjdXJyZW50UGF0aCIsImJhdGNoVGludCIsIl90cmFuc2Zvcm1JRCIsImZpbmlzaFBvbHkiLCJsaW5lVGV4dHVyZVN0eWxlIiwic3RhcnRQb2x5IiwibW92ZVRvIiwibGluZVRvIiwiX2luaXRDdXJ2ZSIsInF1YWRyYXRpY0N1cnZlVG8iLCJiZXppZXJDdXJ2ZVRvIiwiYXJjVG8iLCJyYWRpdXNfMSIsInN0YXJ0WCIsInN0YXJ0WSIsInhEaWZmIiwieURpZmYiLCJiZWdpbkZpbGwiLCJiZWdpblRleHR1cmVGaWxsIiwiZW5kRmlsbCIsImRyYXdSZWN0IiwiZHJhd1JvdW5kZWRSZWN0IiwiZHJhd0NpcmNsZSIsImRyYXdFbGxpcHNlIiwiZHJhd1BvbHlnb24iLCJfcG9wdWxhdGVCYXRjaGVzIiwiX3JlbmRlckJhdGNoZWQiLCJfcmVuZGVyRGlyZWN0IiwiZ0kiLCJfYmF0Y2hSR0IiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsImNhbGN1bGF0ZVRpbnRzIiwiX3Jlc29sdmVEaXJlY3RTaGFkZXIiLCJfcmVuZGVyRHJhd0NhbGxEaXJlY3QiLCJncm91cFRleHR1cmVDb3VudCIsIl9URU1QX1BPSU5UIiwidGludFJHQiIsInd0SUQiLCJjbG9zZVBhdGgiLCJzZXRNYXRyaXgiLCJiZWdpbkhvbGUiLCJlbmRIb2xlIiwidGVtcFBvaW50IiwiU3ByaXRlIiwiX2FuY2hvciIsIl9vbkFuY2hvclVwZGF0ZSIsIl9jYWNoZWRUaW50IiwidmVydGV4VHJpbW1lZERhdGEiLCJfdHJhbnNmb3JtVHJpbW1lZElEIiwiX3RleHR1cmVUcmltbWVkSUQiLCJfcm91bmRQaXhlbHMiLCJfb25UZXh0dXJlVXBkYXRlIiwiY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzIiwiZGVzdHJveUJhc2VUZXh0dXJlIiwiZGVmYXVsdFN0eWxlIiwiYWxpZ24iLCJicmVha1dvcmRzIiwiZHJvcFNoYWRvdyIsImRyb3BTaGFkb3dBbHBoYSIsImRyb3BTaGFkb3dBbmdsZSIsImRyb3BTaGFkb3dCbHVyIiwiZHJvcFNoYWRvd0NvbG9yIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwiZmlsbEdyYWRpZW50VHlwZSIsIkxJTkVBUl9WRVJUSUNBTCIsImZpbGxHcmFkaWVudFN0b3BzIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFN0eWxlIiwiZm9udFZhcmlhbnQiLCJmb250V2VpZ2h0IiwibGV0dGVyU3BhY2luZyIsImxpbmVIZWlnaHQiLCJsaW5lSm9pbiIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInRleHRCYXNlbGluZSIsIndoaXRlU3BhY2UiLCJ3b3JkV3JhcCIsIndvcmRXcmFwV2lkdGgiLCJsZWFkaW5nIiwiZ2VuZXJpY0ZvbnRGYW1pbGllcyIsIlRleHRTdHlsZSIsInN0eWxlSUQiLCJkZWVwQ29weVByb3BlcnRpZXMiLCJjbG9uZWRQcm9wZXJ0aWVzIiwiX2FsaWduIiwiX2JyZWFrV29yZHMiLCJfZHJvcFNoYWRvdyIsIl9kcm9wU2hhZG93QWxwaGEiLCJfZHJvcFNoYWRvd0FuZ2xlIiwiX2Ryb3BTaGFkb3dCbHVyIiwiX2Ryb3BTaGFkb3dDb2xvciIsIm91dHB1dENvbG9yIiwiZ2V0Q29sb3IiLCJfZHJvcFNoYWRvd0Rpc3RhbmNlIiwiX2ZpbGwiLCJfZmlsbEdyYWRpZW50VHlwZSIsIl9maWxsR3JhZGllbnRTdG9wcyIsImFycmF5MSIsImFycmF5MiIsImFyZUFycmF5c0VxdWFsIiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX2xlYWRpbmciLCJfbGluZUpvaW4iLCJfbWl0ZXJMaW1pdCIsIl9wYWRkaW5nIiwiX3N0cm9rZSIsIl9zdHJva2VUaGlja25lc3MiLCJfdGV4dEJhc2VsaW5lIiwiX3RyaW0iLCJfd2hpdGVTcGFjZSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwidG9Gb250U3RyaW5nIiwiZm9udFNpemVTdHJpbmciLCJmb250RmFtaWxpZXMiLCJnZXRTaW5nbGVDb2xvciIsInByb3BlcnR5T2JqIiwiVGV4dE1ldHJpY3MiLCJsaW5lcyIsImxpbmVXaWR0aHMiLCJtYXhMaW5lV2lkdGgiLCJmb250UHJvcGVydGllcyIsIm1lYXN1cmVUZXh0IiwiX2NhbnZhcyIsImZvbnQiLCJtZWFzdXJlRm9udCIsImFzY2VudCIsImNvbGxhcHNlU3BhY2VzIiwiY29sbGFwc2VOZXdsaW5lcyIsImNhblByZXBlbmRTcGFjZXMiLCJ0b2tlbnMiLCJ0b2tlbml6ZSIsInRva2VuIiwiaXNOZXdsaW5lIiwiYWRkTGluZSIsImN1cnJJc0JyZWFraW5nU3BhY2UiLCJpc0JyZWFraW5nU3BhY2UiLCJsYXN0SXNCcmVha2luZ1NwYWNlIiwidG9rZW5XaWR0aCIsImdldEZyb21DYWNoZSIsImNhbkJyZWFrV29yZHMiLCJjaGFyYWN0ZXJzIiwid29yZFdyYXBTcGxpdCIsImNoYXIiLCJuZXh0Q2hhciIsImxhc3RDaGFyIiwiY2FuQnJlYWtDaGFycyIsImNoYXJhY3RlcldpZHRoIiwiaXNMYXN0VG9rZW4iLCJuZXdMaW5lIiwidHJpbVJpZ2h0Iiwic3BhY2luZyIsIl9uZXdsaW5lcyIsIl9uZXh0Q2hhciIsIl9icmVha2luZ1NwYWNlcyIsIl90b2tlbiIsIl9jaGFyIiwiX2luZGV4IiwiX2ZvbnRzIiwiZGVzY2VudCIsIl9jb250ZXh0IiwibWV0cmljc1N0cmluZyIsIk1FVFJJQ1NfU1RSSU5HIiwiQkFTRUxJTkVfU1lNQk9MIiwiYmFzZWxpbmUiLCJIRUlHSFRfTVVMVElQTElFUiIsIkJBU0VMSU5FX01VTFRJUExJRVIiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImNsZWFyTWV0cmljcyIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIlRleHQiLCJvd25DYW52YXMiLCJfb3duQ2FudmFzIiwiX2F1dG9SZXNvbHV0aW9uIiwiX3RleHQiLCJfc3R5bGUiLCJfc3R5bGVMaXN0ZW5lciIsIl9mb250IiwibG9jYWxTdHlsZUlEIiwidXBkYXRlVGV4dCIsInJlc3BlY3REaXJ0eSIsImxpbmVQb3NpdGlvblgiLCJsaW5lUG9zaXRpb25ZIiwibWVhc3VyZWQiLCJwYXNzZXNDb3VudCIsImlzU2hhZG93UGFzcyIsImRzT2Zmc2V0VGV4dCIsImRzT2Zmc2V0U2hhZG93Iiwic3Ryb2tlU3R5bGUiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSIsIl9nZW5lcmF0ZUZpbGxTdHlsZSIsImxpbmVQb3NpdGlvbllTaGlmdCIsIm5leHRMaW5lSGVpZ2h0QmVoYXZpb3IiLCJkcmF3TGV0dGVyU3BhY2luZyIsImlzU3Ryb2tlIiwiY3VycmVudFBvc2l0aW9uIiwic3RyaW5nQXJyYXkiLCJwcmV2aW91c1dpZHRoIiwiY3VycmVudFdpZHRoIiwiY3VycmVudENoYXIiLCJzdHJva2VUZXh0IiwidHJpbW1lZCIsInRyaW1DYW52YXMiLCJtZXRyaWNzIiwiZ3JhZGllbnQiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJncmFkU3RvcExpbmVIZWlnaHQiLCJ0aGlzTGluZVRvcCIsImxpbmVTdG9wIiwiZ2xvYmFsU3RvcCIsInRvRml4ZWQiLCJhZGRDb2xvclN0b3AiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwiVVBMT0FEU19QRVJfRlJBTUUiLCJDb3VudExpbWl0ZXIiLCJtYXhJdGVtc1BlckZyYW1lIiwiaXRlbXNMZWZ0IiwiYmVnaW5GcmFtZSIsImFsbG93ZWRUb1VwbG9hZCIsImZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyIsIl90ZXh0dXJlcyIsImZpbmRCYXNlVGV4dHVyZSIsImZpbmRUZXh0dXJlIiwiZHJhd1RleHQiLCJjYWxjdWxhdGVUZXh0U3R5bGUiLCJmaW5kVGV4dCIsImZpbmRUZXh0U3R5bGUiLCJ1cGxvYWRCYXNlVGV4dHVyZXMiLCJ1cGxvYWRHcmFwaGljcyIsImZpbmRHcmFwaGljcyIsIlByZXBhcmUiLCJ1cGxvYWRIb29rSGVscGVyIiwicmVnaXN0ZXJGaW5kSG9vayIsInJlZ2lzdGVyVXBsb2FkSG9vayIsIkJhc2VQcmVwYXJlIiwibGltaXRlciIsImFkZEhvb2tzIiwidXBsb2FkSG9va3MiLCJjb21wbGV0ZXMiLCJ0aWNraW5nIiwiZGVsYXllZFRpY2siLCJwcmVwYXJlSXRlbXMiLCJ0aWNrIiwiVVRJTElUWSIsInVwbG9hZGVkIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJTcHJpdGVzaGVldCIsIlRpbWVMaW1pdGVyIiwibWF4TWlsbGlzZWNvbmRzIiwiZnJhbWVTdGFydCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJtZXRhIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibXVsdGlQYWNrcyIsInJlbGF0ZWRfbXVsdGlfcGFja3MiLCJpdGVtTmFtZSIsIml0ZW1VcmwiLCJtdWx0aVBhY2tzXzEiLCJnZXRSZXNvdXJjZVBhdGgiLCJzcHJpdGVzaGVldCIsIlRpbGluZ1Nwcml0ZSIsInRpbGVUcmFuc2Zvcm0iLCJ1dlJlc3BlY3RBbmNob3IiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsInNpbXBsZVNoYWRlciIsInRzIiwiYW5jaG9yWCIsImFuY2hvclkiLCJiYXNlVGV4IiwidXYiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsIk1lc2hCYXRjaFV2cyIsIl9idWZmZXJVcGRhdGVJZCIsIl90ZXh0dXJlVXBkYXRlSWQiLCJ0ZW1wUG9seWdvbiIsIk1lc2giLCJ2ZXJ0ZXhEaXJ0eSIsImJhdGNoVXZzIiwiX3JlbmRlclRvQmF0Y2giLCJfcmVuZGVyRGVmYXVsdCIsImNhbGN1bGF0ZVV2cyIsIm1hdGVyaWFsIiwidmVydGljZXNCdWZmZXIiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsImluZDAiLCJpbmQxIiwiaW5kMiIsIl9jYWNoZWRUZXh0dXJlIiwiTWVzaE1hdGVyaWFsIiwidVRleHR1cmVNYXRyaXgiLCJfY29sb3JEaXJ0eSIsIl9hbHBoYSIsIk1lc2hHZW9tZXRyeSIsInV2c0J1ZmZlciIsIl91cGRhdGVJZCIsIkJpdG1hcEZvbnREYXRhIiwiaW5mbyIsInBhZ2UiLCJrZXJuaW5nIiwiVGV4dEZvcm1hdCIsInJhd0RhdGEiLCJjaGFycyIsImtlcm5pbmdzIiwiYXR0cmlidXRlTGlzdCIsIml0ZW1EYXRhIiwic3RyVmFsdWUiLCJmbG9hdFZhbHVlIiwiZmFjZSIsImZpbGUiLCJ4b2Zmc2V0IiwieW9mZnNldCIsInhhZHZhbmNlIiwiZmlyc3QiLCJzZWNvbmQiLCJYTUxGb3JtYXQiLCJYTUxEb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiWE1MU3RyaW5nRm9ybWF0IiwieG1sVHh0IiwiZm9ybWF0cyIsImF1dG9EZXRlY3RGb3JtYXQiLCJnZW5lcmF0ZUZpbGxTdHlsZSIsImxhc3RJdGVyYXRpb25TdG9wIiwiY2xhbXBlZFN0b3AiLCJkcmF3R2x5cGgiLCJCaXRtYXBGb250Iiwib3duc1RleHR1cmVzIiwicGFnZVRleHR1cmVzIiwiX293bnNUZXh0dXJlcyIsInBhZ2VfMSIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJfZCIsImluc3RhbGwiLCJmb250RGF0YSIsImF2YWlsYWJsZSIsInVuaW5zdGFsbCIsInRleHRTdHlsZSIsImRlZmF1bHRPcHRpb25zIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsImNoYXJzTGlzdCIsInN0YXJ0Q29kZSIsImVuZENvZGUiLCJqXzEiLCJyZXNvbHZlQ2hhcmFjdGVycyIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsIm1heENoYXJIZWlnaHQiLCJ0ZXh0dXJlR2x5cGhXaWR0aCIsIkFMUEhBIiwiTlVNRVJJQyIsIkFMUEhBTlVNRVJJQyIsIkFTQ0lJIiwicGFnZU1lc2hEYXRhUG9vbCIsImNoYXJSZW5kZXJEYXRhUG9vbCIsIkJpdG1hcEZvbnRMb2FkZXIiLCJCaXRtYXBUZXh0Iiwic3R5bGVEZWZhdWx0cyIsIm1heFdpZHRoIiwiZm9udE5hbWUiLCJfYWN0aXZlUGFnZXNNZXNoRGF0YSIsIl90ZXh0V2lkdGgiLCJfdGV4dEhlaWdodCIsIl9mb250TmFtZSIsIl9tYXhXaWR0aCIsIl9tYXhMaW5lSGVpZ2h0IiwiX3RleHR1cmVDYWNoZSIsImxpbmVTcGFjZXMiLCJ0ZXh0TGVuZ3RoIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RCcmVha1BvcyIsImxhc3RCcmVha1dpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJzcGFjZUNvdW50IiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImNoYXJSZW5kZXJEYXRhIiwicHJldlNwYWNlcyIsImxpbmVBbGlnbk9mZnNldHMiLCJhbGlnbk9mZnNldCIsImxlbkNoYXJzIiwicGFnZXNNZXNoRGF0YSIsIm5ld1BhZ2VzTWVzaERhdGEiLCJhY3RpdmVQYWdlc01lc2hEYXRhIiwiYmFzZVRleHR1cmVVaWQiLCJwYWdlTWVzaERhdGEiLCJ2ZXJ0ZXhDb3VudCIsInV2c0NvdW50IiwibWVzaCIsInRvdGFsXzEiLCJ4UG9zIiwieVBvcyIsInBhZ2VNZXNoIiwidGV4dHVyZUZyYW1lIiwiYW5jaG9yT2Zmc2V0WCIsImFuY2hvck9mZnNldFkiLCJpXzIiLCJ0ZXh0dXJlQnVmZmVyIiwiZ2V0QmFzZVVybCIsInBhZ2VGaWxlIiwiYml0bWFwRm9udCIsImJpdG1hcFJlc291cmNlIiwicmVzVXJsIiwiZGlybmFtZSIsImRpciIsIkFscGhhRmlsdGVyIiwidUFscGhhIiwiR0FVU1NJQU5fVkFMVUVTIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwiQmx1ckZpbHRlclBhc3MiLCJob3Jpem9udGFsIiwic3RyZW5ndGgiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsImhhbGZMZW5ndGgiLCJ2ZXJ0U291cmNlIiwiYmx1ckxvb3AiLCJibHVyIiwiZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSIsImZyYWdTcmMiLCJrZXJuZWwiLCJmcmFnU291cmNlIiwiZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSIsIl9xdWFsaXR5IiwicGFzc2VzIiwicmVuZGVyVGFyZ2V0IiwiQkxJVCIsIkJsdXJGaWx0ZXIiLCJibHVyWEZpbHRlciIsImJsdXJZRmlsdGVyIiwicmVwZWF0RWRnZVBpeGVscyIsInhTdHJlbmd0aCIsInlTdHJlbmd0aCIsInVwZGF0ZVBhZGRpbmciLCJfcmVwZWF0RWRnZVBpeGVscyIsIkNvbG9yTWF0cml4RmlsdGVyIiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwibWFwU2FtcGxlciIsImZpbHRlck1hdHJpeCIsImxlblgiLCJsZW5ZIiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJyYW5kb20iLCJ1Tm9pc2UiLCJ1U2VlZCIsIl90ZW1wTWF0cml4IiwiX2NhY2hlQXNCaXRtYXAiLCJfY2FjaGVEYXRhIiwiX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uIiwiQ2FjaGVEYXRhIiwidGV4dHVyZUNhY2hlSWQiLCJvcmlnaW5hbFJlbmRlciIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJvcmlnaW5hbENvbnRhaW5zUG9pbnQiLCJjYWNoZUFzQml0bWFwUmVzb2x1dGlvbiIsImNhY2hlQXNCaXRtYXAiLCJyZW5kZXJDYW52YXMiLCJfcmVuZGVyQ2FjaGVkIiwiX3JlbmRlckNhY2hlZENhbnZhcyIsIl9jYWNoZUFzQml0bWFwRGVzdHJveSIsIl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCIsImNhY2hlQWxwaGEiLCJjYWNoZWRSZW5kZXJUZXh0dXJlIiwiY2FjaGVkU291cmNlRnJhbWUiLCJjYWNoZWREZXN0aW5hdGlvbkZyYW1lIiwiY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSIsIl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMiLCJfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMiLCJjYWNoZWRTcHJpdGUiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMiLCJfcmVuZGVyQ2FudmFzIiwiY2FjaGVkUmVuZGVyVGFyZ2V0IiwiX3Byb2pUcmFuc2Zvcm0iLCJnZXRDaGlsZEJ5TmFtZSIsImRlZXAiLCJnZXRHbG9iYWxQb3NpdGlvbiIsIlBsYW5lR2VvbWV0cnkiLCJzZWdXaWR0aCIsInNlZ0hlaWdodCIsInNlZ21lbnRzWCIsInNlZ21lbnRzWSIsInNpemVYIiwic2l6ZVkiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiUm9wZUdlb21ldHJ5IiwidGV4dHVyZVNjYWxlIiwiZGlzdGFuY2UiLCJ1cGRhdGVWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwiU2ltcGxlUGxhbmUiLCJTaW1wbGVSb3BlIiwicm9wZUdlb21ldHJ5IiwibWVzaE1hdGVyaWFsIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsInRleHR1cmVVcGRhdGVkIiwiU2ltcGxlTWVzaCIsIk5pbmVTbGljZVBsYW5lIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwiX3JlZnJlc2giLCJ1cGRhdGVIb3Jpem9udGFsVmVydGljZXMiLCJfZ2V0TWluU2NhbGUiLCJ1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzIiwic2NhbGVXIiwic2NhbGVIIiwiX3V2dyIsIl91dmgiLCJBbmltYXRlZFNwcml0ZSIsIl9kdXJhdGlvbnMiLCJhbmltYXRpb25TcGVlZCIsImxvb3AiLCJ1cGRhdGVBbmNob3IiLCJvbkZyYW1lQ2hhbmdlIiwib25Mb29wIiwiX2N1cnJlbnRUaW1lIiwiX3BsYXlpbmciLCJfcHJldmlvdXNGcmFtZSIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiY3VycmVudEZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJjcmVhdGVNYXNrZWRDb250YWluZXIiLCJHYW1lIiwic3Vic2NyaWJlcnMiLCJzdWJzY3JpYmVyIiwic3Bpbm5lcnNDb250YWluZXIiLCJiYWNrZ3JvdW5kQ29udGFpbmVyIiwiU3ltYm9sQ29tcG9uZW50IiwiZGVzdGluYXRpb24iLCJzcGluRGVsYXkiLCJzcGluVGltZSIsInNwaW5EZWxheU1heCIsIlNwaW5uZXJTeXN0ZW0iLCJzdXBlciIsImlzU3Bpbm5pbmciLCJlYXNlIiwicG93IiwiZWFzZUluT3V0QmFjayIsImxlcnAiLCJhcHAiLCJxdWVyeVNlbGVjdG9yIiwic3BpbkJ1dHRvbiIsIm9ucG9pbnRlcmRvd24iLCJvcGFjaXR5Iiwib25wb2ludGVydXAiLCJiYWNrZ3JvdW5kIiwiY29udGFpbmVyMCIsImNvbnRhaW5lcjEiLCJjb250YWluZXIyIiwiY29udGFpbmVyMyIsImNvbnRhaW5lcjQiLCJnZXRUZXh0dXJlIiwicG9wdWxhdGUiLCJsYXN0VGltZXN0YW1wIiwidGltZXN0YW1wIl0sIm1hcHBpbmdzIjoiO2tDQUtBLFNBQVNBLEVBQU9DLEVBQU1DLEVBQWFDLEdBRS9CQSxFQUFNQSxHQUFPLEVBRWIsSUFPSUMsRUFBTUMsRUFBTUMsRUFBTUMsRUFBTUMsRUFBR0MsRUFBR0MsRUFQOUJDLEVBQVdULEdBQWVBLEVBQVlVLE9BQ3RDQyxFQUFXRixFQUFXVCxFQUFZLEdBQUtDLEVBQU1GLEVBQUtXLE9BQ2xERSxFQUFZQyxFQUFXZCxFQUFNLEVBQUdZLEVBQVVWLEdBQUssR0FDL0NhLEVBQVksR0FFaEIsSUFBS0YsR0FBYUEsRUFBVUcsT0FBU0gsRUFBVUksS0FBTSxPQUFPRixFQU81RCxHQUhJTCxJQUFVRyxFQXFQbEIsU0FBd0JiLEVBQU1DLEVBQWFZLEVBQVdYLEdBQ2xELElBQ0lnQixFQUFHQyxFQUFpQkMsRUFEcEJDLEVBQVEsR0FHWixJQUFLSCxF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TTd6RSxFQUFNLENBQUM4ekUsRUFBWSxLQUN4QixNQUFNbGpILEVBQUtrakgsRUFBWUQsRUFDdkJBLEVBQWdCQyxFQUNoQng3RyxHQUFPM0gsT0FBT0MsR0FDZG1pSCxHQUFJN2tGLFNBQVNELE9BQU84a0YsR0FBSXR5QyxPQUN4QmgzRCxzQkFBc0J1MkIsSUFFdkJBLFEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBwID0gZWFyLm5leHQubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBlYXIucHJldikge1xuICAgICAgICBpZiAocG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IChhLnggPCBjLnggPyBhLnggOiBjLngpIDogKGIueCA8IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1pblRZID0gYS55IDwgYi55ID8gKGEueSA8IGMueSA/IGEueSA6IGMueSkgOiAoYi55IDwgYy55ID8gYi55IDogYy55KSxcbiAgICAgICAgbWF4VFggPSBhLnggPiBiLnggPyAoYS54ID4gYy54ID8gYS54IDogYy54KSA6IChiLnggPiBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtYXhUWSA9IGEueSA+IGIueSA/IChhLnkgPiBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA+IGMueSA/IGIueSA6IGMueSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKG1pblRYLCBtaW5UWSwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIobWF4VFgsIG1heFRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmIChvdXRlck5vZGUpIHtcbiAgICAgICAgdmFyIGIgPSBzcGxpdFBvbHlnb24ob3V0ZXJOb2RlLCBob2xlKTtcblxuICAgICAgICAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG07XG5cbiAgICBkbyB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcbiAgICAgICAgICAgICAgICAodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IChwLnggPT09IG0ueCAmJiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSkpKSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0b3ApO1xuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIHdoZXRoZXIgc2VjdG9yIGluIHZlcnRleCBtIGNvbnRhaW5zIHNlY3RvciBpbiB2ZXJ0ZXggcCBpbiB0aGUgc2FtZSBjb29yZGluYXRlc1xuZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkge1xuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IG51bGwpIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9IDMyNzY3ICogKHggLSBtaW5YKSAqIGludlNpemU7XG4gICAgeSA9IDMyNzY3ICogKHkgLSBtaW5ZKSAqIGludlNpemU7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2Vcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xuXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcblxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcbn1cblxuZnVuY3Rpb24gc2lnbihudW0pIHtcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIHBhcnNlVVJJIChzdHIsIG9wdHMpIHtcbiAgaWYgKCFzdHIpIHJldHVybiB1bmRlZmluZWRcblxuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogW1xuICAgICAgJ3NvdXJjZScsXG4gICAgICAncHJvdG9jb2wnLFxuICAgICAgJ2F1dGhvcml0eScsXG4gICAgICAndXNlckluZm8nLFxuICAgICAgJ3VzZXInLFxuICAgICAgJ3Bhc3N3b3JkJyxcbiAgICAgICdob3N0JyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdyZWxhdGl2ZScsXG4gICAgICAncGF0aCcsXG4gICAgICAnZGlyZWN0b3J5JyxcbiAgICAgICdmaWxlJyxcbiAgICAgICdxdWVyeScsXG4gICAgICAnYW5jaG9yJ1xuICAgIF0sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVVSSVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBvYmpba10ubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldENvbXBvbmVudElkID0gdm9pZCAwO1xuLyoqXG4gKiBHZXRzIGFuIGlkIGZvciBhIGNvbXBvbmVudCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCBjbGFzc1xuICogQHBhcmFtIGNyZWF0ZUlmTm90RXhpc3RzIC0gSWYgYHRydWVgIHRoZW4gdW5pcXVlIGlkIGZvciBjbGFzcyBjb21wb25lbnQgd2lsbCBiZSBjcmVhdGVkLFxuICogIGluIGNhc2UgaWYgaXQgd2Fzbid0IGFzc2lnbmVkIGVhcmxpZXJcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50SWQoY29tcG9uZW50LCBjcmVhdGVJZk5vdEV4aXN0cykge1xuICAgIGlmIChjcmVhdGVJZk5vdEV4aXN0cyA9PT0gdm9pZCAwKSB7IGNyZWF0ZUlmTm90RXhpc3RzID0gZmFsc2U7IH1cbiAgICBpZiAoY29tcG9uZW50Lmhhc093blByb3BlcnR5KENPTVBPTkVOVF9DTEFTU19JRCkpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFtDT01QT05FTlRfQ0xBU1NfSURdO1xuICAgIH1cbiAgICBlbHNlIGlmIChjcmVhdGVJZk5vdEV4aXN0cykge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50W0NPTVBPTkVOVF9DTEFTU19JRF0gPSBjb21wb25lbnRDbGFzc0lkKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnRzLmdldENvbXBvbmVudElkID0gZ2V0Q29tcG9uZW50SWQ7XG52YXIgQ09NUE9ORU5UX0NMQVNTX0lEID0gJ19fY29tcG9uZW50Q2xhc3NJZF9fJztcbnZhciBjb21wb25lbnRDbGFzc0lkID0gMTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbmdpbmUgPSB2b2lkIDA7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBFbnRpdHlfMSA9IHJlcXVpcmUoXCIuL0VudGl0eVwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbnZhciBTaWduYWxfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9TaWduYWxcIik7XG4vKipcbiAqIEVuZ2luZSByZXByZXNlbnRzIGdhbWUgc3RhdGUsIGFuZCBwcm92aWRlcyBlbnRpdGllcyB1cGRhdGUgbG9vcCBvbiB0b3Agb2Ygc3lzdGVtcy5cbiAqL1xudmFyIEVuZ2luZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbmdpbmUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaWduYWwgZGlzcGF0Y2hlcyB3aGVuIG5ldyBlbnRpdHkgd2VyZSBhZGRlZCB0byBlbmdpbmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FbnRpdHlBZGRlZCA9IG5ldyBTaWduYWxfMS5TaWduYWwoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpZ25hbCBkaXNwYXRjaGVzIHdoZW4gZW50aXR5IHdhcyByZW1vdmVkIGZyb20gZW5naW5lXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRW50aXR5UmVtb3ZlZCA9IG5ldyBTaWduYWxfMS5TaWduYWwoKTtcbiAgICAgICAgdGhpcy5fZW50aXR5TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9lbnRpdGllcyA9IFtdO1xuICAgICAgICB0aGlzLl9zeXN0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX3F1ZXJpZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9zaGFyZWRDb25maWcgPSBuZXcgRW50aXR5XzEuRW50aXR5KCk7XG4gICAgICAgIHRoaXMub25Db21wb25lbnRBZGRlZCA9IGZ1bmN0aW9uIChlbnRpdHksIGNvbXBvbmVudCwgY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIF90aGlzLl9xdWVyaWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZS5lbnRpdHlDb21wb25lbnRBZGRlZChlbnRpdHksIGNvbXBvbmVudCwgY29tcG9uZW50Q2xhc3MpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbkludmFsaWRhdGlvblJlcXVlc3RlZCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgIF90aGlzLl9xdWVyaWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZS52YWxpZGF0ZUVudGl0eShlbnRpdHkpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbkNvbXBvbmVudFJlbW92ZWQgPSBmdW5jdGlvbiAoZW50aXR5LCBjb21wb25lbnQsIGNvbXBvbmVudENsYXNzKSB7XG4gICAgICAgICAgICBfdGhpcy5fcXVlcmllcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUuZW50aXR5Q29tcG9uZW50UmVtb3ZlZChlbnRpdHksIGNvbXBvbmVudCwgY29tcG9uZW50Q2xhc3MpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb25uZWN0RW50aXR5KHRoaXMuX3NoYXJlZENvbmZpZyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbmdpbmUucHJvdG90eXBlLCBcImVudGl0aWVzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSBsaXN0IG9mIGVudGl0aWVzIGFkZGVkIHRvIGVuZ2luZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9lbnRpdGllcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW5naW5lLnByb3RvdHlwZSwgXCJzeXN0ZW1zXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSBsaXN0IG9mIHN5c3RlbXMgYWRkZWQgdG8gZW5naW5lXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zeXN0ZW1zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVuZ2luZS5wcm90b3R5cGUsIFwicXVlcmllc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgbGlzdCBvZiBxdWVyaWVzIGFkZGVkIHRvIGVuZ2luZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVlcmllcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbmdpbmUucHJvdG90eXBlLCBcInN1YnNjcmlwdGlvbnNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVuZ2luZS5wcm90b3R5cGUsIFwic2hhcmVkQ29uZmlnXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSBzaGFyZWQgY29uZmlnIGVudGl0eSwgdGhhdCdzIGFjY2Vzc2libGUgZnJvbSBldmVyeSBzeXN0ZW0gYWRkZWQgdG8gZW5naW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4ge0VudGl0eX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXJlZENvbmZpZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gZW50aXR5IHRvIGVuZ2luZS5cbiAgICAgKiBJZiBlbnRpdHkgaXMgYWxyZWFkeSBhZGRlZCB0byBlbmdpbmUgLSBpdCBkb2VzIG5vdGhpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW50aXR5IEVudGl0eSB0byBhZGQgdG8gZW5naW5lXG4gICAgICogQHNlZSBvbkVudGl0eUFkZGVkXG4gICAgICovXG4gICAgRW5naW5lLnByb3RvdHlwZS5hZGRFbnRpdHkgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgIGlmICh0aGlzLl9lbnRpdHlNYXAuaGFzKGVudGl0eS5pZCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgdGhpcy5fZW50aXRpZXMucHVzaChlbnRpdHkpO1xuICAgICAgICB0aGlzLl9lbnRpdHlNYXAuc2V0KGVudGl0eS5pZCwgZW50aXR5KTtcbiAgICAgICAgdGhpcy5vbkVudGl0eUFkZGVkLmVtaXQoZW50aXR5KTtcbiAgICAgICAgdGhpcy5jb25uZWN0RW50aXR5KGVudGl0eSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGVudGl0eSBmcm9tIGVuZ2luZVxuICAgICAqIElmIGVuZ2luZSBub3QgY29udGFpbnMgZW50aXR5IC0gaXQgZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVudGl0eSBFbnRpdHkgdG8gcmVtb3ZlIGZyb20gZW5naW5lXG4gICAgICogQHNlZSBvbkVudGl0eVJlbW92ZWRcbiAgICAgKi9cbiAgICBFbmdpbmUucHJvdG90eXBlLnJlbW92ZUVudGl0eSA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbnRpdHlNYXAuaGFzKGVudGl0eS5pZCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZW50aXRpZXMuaW5kZXhPZihlbnRpdHkpO1xuICAgICAgICB0aGlzLl9lbnRpdGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLl9lbnRpdHlNYXAuZGVsZXRlKGVudGl0eS5pZCk7XG4gICAgICAgIHRoaXMub25FbnRpdHlSZW1vdmVkLmVtaXQoZW50aXR5KTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0RW50aXR5KGVudGl0eSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHN5c3RlbSBmcm9tIGVuZ2luZVxuICAgICAqIEF2b2lkIHJlbW92ZSB0aGUgc3lzdGVtIGR1cmluZyB1cGRhdGUgY3ljbGUsIGRvIGl0IG9ubHkgaWYgeW91ciBzdXJlIHdoYXQgeW91ciBhcmUgZG9pbmcuXG4gICAgICogTm90ZToge0BsaW5rIEl0ZXJhdGl2ZVN5c3RlbX0gaGFzIGF3YXJlIGd1YXJkIGR1cmluZyB1cGRhdGUgbG9vcCwgaWYgc3lzdGVtIHJlbW92ZWQgLSB1cGRhdGluZyBpcyBiZWluZyBzdG9wcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN5c3RlbSBTeXN0ZW0gdG8gcmVtb3ZlXG4gICAgICovXG4gICAgRW5naW5lLnByb3RvdHlwZS5yZW1vdmVTeXN0ZW0gPSBmdW5jdGlvbiAoc3lzdGVtKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3N5c3RlbXMuaW5kZXhPZihzeXN0ZW0pO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHRoaXMuX3N5c3RlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgc3lzdGVtLm9uUmVtb3ZlZEZyb21FbmdpbmUoKTtcbiAgICAgICAgc3lzdGVtLnNldEVuZ2luZSh1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYW4gZW50aXR5IGJ5IGl0cyBpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkIEVudGl0eSBpZGVudGlmaWVyXG4gICAgICogQHJldHVybiB7RW50aXR5IHwgdW5kZWZpbmVkfSBjb3JyZXNwb25kaW5nIGVudGl0eSBvciB1bmRlZmluZWQgaWYgaXQncyBub3QgZm91bmQuXG4gICAgICovXG4gICAgRW5naW5lLnByb3RvdHlwZS5nZXRFbnRpdHlCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRpdHlNYXAuZ2V0KGlkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBzeXN0ZW0gb2YgdGhlIHNwZWNpZmljIGNsYXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3lzdGVtQ2xhc3MgQ2xhc3Mgb2YgdGhlIHN5c3RlbSB0aGF0IHNob3VsZCBiZSBmb3VuZFxuICAgICAqL1xuICAgIEVuZ2luZS5wcm90b3R5cGUuZ2V0U3lzdGVtID0gZnVuY3Rpb24gKHN5c3RlbUNsYXNzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zeXN0ZW1zLmZpbmQoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIHN5c3RlbUNsYXNzOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgc3lzdGVtc1xuICAgICAqL1xuICAgIEVuZ2luZS5wcm90b3R5cGUucmVtb3ZlQWxsU3lzdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciBzeXN0ZW1zID0gdGhpcy5fc3lzdGVtcztcbiAgICAgICAgdGhpcy5fc3lzdGVtcyA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgc3lzdGVtc18xID0gdHNsaWJfMS5fX3ZhbHVlcyhzeXN0ZW1zKSwgc3lzdGVtc18xXzEgPSBzeXN0ZW1zXzEubmV4dCgpOyAhc3lzdGVtc18xXzEuZG9uZTsgc3lzdGVtc18xXzEgPSBzeXN0ZW1zXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IHN5c3RlbXNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5vblJlbW92ZWRGcm9tRW5naW5lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzeXN0ZW1zXzFfMSAmJiAhc3lzdGVtc18xXzEuZG9uZSAmJiAoX2EgPSBzeXN0ZW1zXzEucmV0dXJuKSkgX2EuY2FsbChzeXN0ZW1zXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHF1ZXJpZXMuXG4gICAgICogQWZ0ZXIgcmVtb3ZlIGFsbCBxdWVyaWVzIHdpbGwgYmUgY2xlYXJlZC5cbiAgICAgKi9cbiAgICBFbmdpbmUucHJvdG90eXBlLnJlbW92ZUFsbFF1ZXJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzIsIF9hO1xuICAgICAgICB2YXIgcXVlcmllcyA9IHRoaXMuX3F1ZXJpZXM7XG4gICAgICAgIHRoaXMuX3F1ZXJpZXMgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIHF1ZXJpZXNfMSA9IHRzbGliXzEuX192YWx1ZXMocXVlcmllcyksIHF1ZXJpZXNfMV8xID0gcXVlcmllc18xLm5leHQoKTsgIXF1ZXJpZXNfMV8xLmRvbmU7IHF1ZXJpZXNfMV8xID0gcXVlcmllc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IHF1ZXJpZXNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdFF1ZXJ5KHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBxdWVyeS5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAocXVlcmllc18xXzEgJiYgIXF1ZXJpZXNfMV8xLmRvbmUgJiYgKF9hID0gcXVlcmllc18xLnJldHVybikpIF9hLmNhbGwocXVlcmllc18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBlbnRpdGllcy5cbiAgICAgKiBvbkVudGl0eVJlbW92ZWQgd2lsbCBiZSBmaXJlZCBmb3IgZXZlcnkgZW50aXR5LlxuICAgICAqL1xuICAgIEVuZ2luZS5wcm90b3R5cGUucmVtb3ZlQWxsRW50aXRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsRW50aXRpZXNJbnRlcm5hbChmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbnRpdGllcywgcXVlcmllcyBhbmQgc3lzdGVtcy5cbiAgICAgKiBBbGwgZW50aXRpZXMgd2lsbCBiZSByZW1vdmVkIHNpbGVudGx5LCB7QGxpbmsgb25FbnRpdHlSZW1vdmVkfSBldmVudCB3aWxsIG5vdCBiZSBmaXJlZC5cbiAgICAgKiBRdWVyaWVzIHdpbGwgYmUgY2xlYXJlZC5cbiAgICAgKi9cbiAgICBFbmdpbmUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbEVudGl0aWVzSW50ZXJuYWwodHJ1ZSk7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsU3lzdGVtcygpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbFF1ZXJpZXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGVuZ2luZS4gVGhpcyBjYXVzZSB1cGRhdGluZyBhbGwgdGhlIHN5c3RlbXMgaW4gdGhlIGVuZ2luZSBpbiB0aGUgb3JkZXIgb2YgcHJpb3JpdHkgdGhleSd2ZSBiZWVuIGFkZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGR0IERlbHRhIHRpbWUgaW4gc2Vjb25kc1xuICAgICAqL1xuICAgIEVuZ2luZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgICAgIHZhciBlXzMsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSB0c2xpYl8xLl9fdmFsdWVzKHRoaXMuX3N5c3RlbXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN5c3RlbS51cGRhdGUoZHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWVyeSB0byBlbmdpbmUuIEl0IG1hdGNoZXMgYWxsIGF2YWlsYWJsZSBpbiBlbmdpbmUgZW50aXRpZXMgd2l0aCBxdWVyeS5cbiAgICAgKlxuICAgICAqIFdoZW4gYW55IGVudGl0eSB3aWxsIGJlIGFkZGVkLCByZW1vdmVkLCB0aGVpciBjb21wb25lbnRzIHdpbGwgYmUgbW9kaWZpZWQgLSB0aGlzIHF1ZXJ5IHdpbGwgYmUgdXBkYXRlZCxcbiAgICAgKiB1bnRpbCBub3QgYmVpbmcgcmVtb3ZlZCBmcm9tIGVuZ2luZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBxdWVyeSBFbnRpdHkgbWF0Y2ggcXVlcnlcbiAgICAgKi9cbiAgICBFbmdpbmUucHJvdG90eXBlLmFkZFF1ZXJ5ID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuY29ubmVjdFF1ZXJ5KHF1ZXJ5KTtcbiAgICAgICAgcXVlcnkubWF0Y2hFbnRpdGllcyh0aGlzLmVudGl0aWVzKTtcbiAgICAgICAgdGhpcy5fcXVlcmllc1t0aGlzLl9xdWVyaWVzLmxlbmd0aF0gPSBxdWVyeTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc3lzdGVtIHRvIGVuZ2luZSwgYW5kIHNldCBpdCdzIHByaW9yaXR5IGluc2lkZSBvZiBlbmdpbmUgdXBkYXRlIGxvb3AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3lzdGVtIFN5c3RlbSB0byBhZGQgdG8gdGhlIGVuZ2luZVxuICAgICAqIEBwYXJhbSBwcmlvcml0eSBWYWx1ZSBpbmRpY2F0aW5nIHRoZSBwcmlvcml0eSBvZiB1cGRhdGluZyBzeXN0ZW0gaW4gdXBkYXRlIGxvb3AuIExvd2VyIHByaW9yaXR5XG4gICAgICogIG1lYW5zIHNvb25lciB1cGRhdGUuXG4gICAgICovXG4gICAgRW5naW5lLnByb3RvdHlwZS5hZGRTeXN0ZW0gPSBmdW5jdGlvbiAoc3lzdGVtLCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IDA7IH1cbiAgICAgICAgc3lzdGVtLnNldFByaW9yaXR5KHByaW9yaXR5KTtcbiAgICAgICAgaWYgKHRoaXMuX3N5c3RlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9zeXN0ZW1zWzBdID0gc3lzdGVtO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fc3lzdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZS5wcmlvcml0eSA+IHByaW9yaXR5OyB9KTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zeXN0ZW1zW3RoaXMuX3N5c3RlbXMubGVuZ3RoXSA9IHN5c3RlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N5c3RlbXMuc3BsaWNlKGluZGV4LCAwLCBzeXN0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN5c3RlbS5zZXRFbmdpbmUodGhpcyk7XG4gICAgICAgIHN5c3RlbS5vbkFkZGVkVG9FbmdpbmUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgcXVlcnkgYW5kIGNsZWFyIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHF1ZXJ5IEVudGl0eSBtYXRjaCBxdWVyeVxuICAgICAqL1xuICAgIEVuZ2luZS5wcm90b3R5cGUucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcXVlcmllcy5pbmRleE9mKHF1ZXJ5KTtcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fcXVlcmllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RRdWVyeShxdWVyeSk7XG4gICAgICAgIHF1ZXJ5LmNsZWFyKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIGFueSBtZXNzYWdlIG9mIHRoZSB7QGxpbmsgbWVzc2FnZVR5cGV9LlxuICAgICAqIFRob3NlIG1lc3NhZ2VzIGNhbiBiZSBkaXNwYXRjaGVkIGZyb20gYW55IHN5c3RlbSBhdHRhY2hlZCB0byB0aGUgZW5naW5lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NsYXNzPFQ+IHwgVH0gbWVzc2FnZVR5cGUgLSBNZXNzYWdlIHR5cGUgKGNhbiBiZSBjbGFzcyBvciBhbnkgaW5zdGFuY2UsIGZvciBleGFtcGxlIHN0cmluZyBvciBudW1iZXIpXG4gICAgICogQHBhcmFtIHsodmFsdWU6IFQpID0+IHZvaWR9IGhhbmRsZXIgLSBIYW5kbGVyIGZvciB0aGUgbWVzc2FnZVxuICAgICAqL1xuICAgIEVuZ2luZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG1lc3NhZ2VUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuYWRkU3Vic2NyaXB0aW9uKG1lc3NhZ2VUeXBlLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlIGZyb20gbWVzc2FnZXMgb2Ygc3BlY2lmaWMgdHlwZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtDbGFzczxUPn0gbWVzc2FnZVR5cGUgLSBNZXNzYWdlIHR5cGVcbiAgICAgKiBAcGFyYW0geyh2YWx1ZTogVCkgPT4gdm9pZH0gaGFuZGxlciAtIFNwZWNpZmljIGhhbmRsZXIgdGhhdCBtdXN0IGJlIHVuc3Vic2NyaWJlZCwgaWYgbm90IGRlZmluZWQgdGhlbiBhbGwgaGFuZGxlcnNcbiAgICAgKiAgcmVsYXRlZCB0byB0aGlzIG1lc3NhZ2UgdHlwZSB3aWxsIGJlIHVuc3Vic2NyaWJlZC5cbiAgICAgKi9cbiAgICBFbmdpbmUucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG1lc3NhZ2VUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlU3Vic2NyaXB0aW9uKG1lc3NhZ2VUeXBlLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlIGZyb20gYWxsIHR5cGUgb2YgbWVzc2FnZXNcbiAgICAgKi9cbiAgICBFbmdpbmUucHJvdG90eXBlLnVuc3Vic2NyaWJlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBFbmdpbmUucHJvdG90eXBlLmFkZFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChtZXNzYWdlVHlwZSwgaGFuZGxlcikge1xuICAgICAgICB2YXIgZV80LCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gdHNsaWJfMS5fX3ZhbHVlcyh0aGlzLl9zdWJzY3JpcHRpb25zKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25fMSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25fMS5lcXVhbHMobWVzc2FnZVR5cGUsIGhhbmRsZXIpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uXzE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbihtZXNzYWdlVHlwZSwgaGFuZGxlcik7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgRW5naW5lLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobWVzc2FnZVR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLl9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5fc3Vic2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZXF1YWxzKG1lc3NhZ2VUeXBlLCBoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgRW5naW5lLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBlXzUsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSB0c2xpYl8xLl9fdmFsdWVzKHRoaXMuX3N1YnNjcmlwdGlvbnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIHN1YnNjcmlwdGlvbi5tZXNzYWdlVHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiBtZXNzYWdlIGluc3RhbmNlb2Ygc3Vic2NyaXB0aW9uLm1lc3NhZ2VUeXBlKSB8fCBtZXNzYWdlID09PSBzdWJzY3JpcHRpb24ubWVzc2FnZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmhhbmRsZXIobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuZ2luZS5wcm90b3R5cGUuY29ubmVjdEVudGl0eSA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgZW50aXR5Lm9uQ29tcG9uZW50QWRkZWQuY29ubmVjdCh0aGlzLm9uQ29tcG9uZW50QWRkZWQpO1xuICAgICAgICBlbnRpdHkub25Db21wb25lbnRSZW1vdmVkLmNvbm5lY3QodGhpcy5vbkNvbXBvbmVudFJlbW92ZWQpO1xuICAgICAgICBlbnRpdHkub25JbnZhbGlkYXRpb25SZXF1ZXN0ZWQuY29ubmVjdCh0aGlzLm9uSW52YWxpZGF0aW9uUmVxdWVzdGVkKTtcbiAgICB9O1xuICAgIEVuZ2luZS5wcm90b3R5cGUuZGlzY29ubmVjdEVudGl0eSA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgZW50aXR5Lm9uQ29tcG9uZW50QWRkZWQuZGlzY29ubmVjdCh0aGlzLm9uQ29tcG9uZW50QWRkZWQpO1xuICAgICAgICBlbnRpdHkub25Db21wb25lbnRSZW1vdmVkLmRpc2Nvbm5lY3QodGhpcy5vbkNvbXBvbmVudFJlbW92ZWQpO1xuICAgICAgICBlbnRpdHkub25JbnZhbGlkYXRpb25SZXF1ZXN0ZWQuZGlzY29ubmVjdCh0aGlzLm9uSW52YWxpZGF0aW9uUmVxdWVzdGVkKTtcbiAgICB9O1xuICAgIEVuZ2luZS5wcm90b3R5cGUuY29ubmVjdFF1ZXJ5ID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMub25FbnRpdHlBZGRlZC5jb25uZWN0KHF1ZXJ5LmVudGl0eUFkZGVkKTtcbiAgICAgICAgdGhpcy5vbkVudGl0eVJlbW92ZWQuY29ubmVjdChxdWVyeS5lbnRpdHlSZW1vdmVkKTtcbiAgICB9O1xuICAgIEVuZ2luZS5wcm90b3R5cGUuZGlzY29ubmVjdFF1ZXJ5ID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMub25FbnRpdHlBZGRlZC5kaXNjb25uZWN0KHF1ZXJ5LmVudGl0eUFkZGVkKTtcbiAgICAgICAgdGhpcy5vbkVudGl0eVJlbW92ZWQuZGlzY29ubmVjdChxdWVyeS5lbnRpdHlSZW1vdmVkKTtcbiAgICB9O1xuICAgIEVuZ2luZS5wcm90b3R5cGUucmVtb3ZlQWxsRW50aXRpZXNJbnRlcm5hbCA9IGZ1bmN0aW9uIChzaWxlbnRseSkge1xuICAgICAgICB2YXIgZV82LCBfYTtcbiAgICAgICAgdmFyIGVudGl0aWVzID0gdGhpcy5fZW50aXRpZXM7XG4gICAgICAgIHRoaXMuX2VudGl0aWVzID0gW107XG4gICAgICAgIHRoaXMuX2VudGl0eU1hcC5jbGVhcigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgZW50aXRpZXNfMSA9IHRzbGliXzEuX192YWx1ZXMoZW50aXRpZXMpLCBlbnRpdGllc18xXzEgPSBlbnRpdGllc18xLm5leHQoKTsgIWVudGl0aWVzXzFfMS5kb25lOyBlbnRpdGllc18xXzEgPSBlbnRpdGllc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBlbnRpdGllc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCFzaWxlbnRseSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW50aXR5UmVtb3ZlZC5lbWl0KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdEVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzZfMSkgeyBlXzYgPSB7IGVycm9yOiBlXzZfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZW50aXRpZXNfMV8xICYmICFlbnRpdGllc18xXzEuZG9uZSAmJiAoX2EgPSBlbnRpdGllc18xLnJldHVybikpIF9hLmNhbGwoZW50aXRpZXNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNikgdGhyb3cgZV82LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFbmdpbmU7XG59KCkpO1xuZXhwb3J0cy5FbmdpbmUgPSBFbmdpbmU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRW50aXR5U25hcHNob3QgPSBleHBvcnRzLkVudGl0eSA9IHZvaWQgMDtcbnZhciBDb21wb25lbnRJZF8xID0gcmVxdWlyZShcIi4vQ29tcG9uZW50SWRcIik7XG52YXIgU2lnbmFsXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvU2lnbmFsXCIpO1xudmFyIFRhZ18xID0gcmVxdWlyZShcIi4vVGFnXCIpO1xuLyoqXG4gKiBFbnRpdHkgaXMgYSBnZW5lcmFsIHB1cnBvc2Ugb2JqZWN0LCB3aGljaCBjYW4gYmUgbWFya2VkIHdpdGggdGFncyBhbmQgY2FuIGNvbnRhaW4gZGlmZmVyZW50IGNvbXBvbmVudHMuXG4gKiBTbyBpdCBpcyBqdXN0IGEgY29udGFpbmVyLCB0aGF0IGNhbiByZXByZXNlbnQgYW55IGluLWdhbWUgZW50aXR5LCBsaWtlIGVuZW15LCBib21iLCBjb25maWd1cmF0aW9uLCBnYW1lIHN0YXRlLCBldGMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiAvLyBIZXJlIHdlIGNhbiBzZWUgc3RydWN0dXJlIG9mIHRoZSBjb21wb25lbnQgXCJQb3NpdGlvblwiLCBpdCdzIGp1c3QgYSBkYXRhIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBFbnRpdHlcbiAqIC8vIFRoZXJlIGlzIG5vIGxpbWl0cyBmb3IgY29tcG9uZW50YHMgc3RydWN0dXJlLlxuICogLy8gQ29tcG9uZW50cyBtdXN0bid0IGhvbGQgdGhlIHJlZmVyZW5jZSB0byB0aGUgZW50aXR5IHRoYXQgaXQgYXR0YWNoZWQgdG8uXG4gKlxuICogY2xhc3MgUG9zaXRpb24ge1xuICogICBwdWJsaWMgeDpudW1iZXI7XG4gKiAgIHB1YmxpYyB5Om51bWJlcjtcbiAqXG4gKiAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih4Om51bWJlciA9IDAsIHk6bnVtYmVyID0gMCkge1xuICogICAgIHRoaXMueCA9IHg7XG4gKiAgICAgdGhpcy55ID0geTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIFdlIGNhbiBtYXJrIGFuIGVudGl0eSB3aXRoIHRoZSB0YWcgT0JTVEFDTEUuIFRhZyBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYSBudW1iZXIgb3Igc3RyaW5nLlxuICogY29uc3QgT0JTVEFDTEUgPSAxMDEwMDtcbiAqXG4gKiBjb25zdCBlbnRpdHkgPSBuZXcgRW50aXR5KClcbiAqICAuYWRkKE9CU1RBQ0xFKVxuICogIC5hZGQobmV3IFBvc2l0aW9uKDEwLCA1KSk7XG4gKiBgYGBcbiAqL1xudmFyIEVudGl0eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbnRpdHkoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2lnbmFsIGRpc3BhdGNoZXMgaWYgbmV3IGNvbXBvbmVudCBvciB0YWcgd2FzIGFkZGVkIHRvIHRoZSBlbnRpdHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wb25lbnRBZGRlZCA9IG5ldyBTaWduYWxfMS5TaWduYWwoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaWduYWwgZGlzcGF0Y2hlcyBpZiBjb21wb25lbnQgd2FzIHJlbW92ZWQgZnJvbSB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlZCA9IG5ldyBTaWduYWxfMS5TaWduYWwoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaWduYWwgZGlzcGF0Y2hlcyB0aGF0IGludmFsaWRhdGlvbiByZXF1ZXN0ZWQgZm9yIHRoaXMgZW50aXR5LlxuICAgICAgICAgKiBXaGljaCBtZWFucyB0aGF0IGlmIHRoZSBlbnRpdHkgYXR0YWNoZWQgdG8gdGhlIGVuZ2luZSDigJQgaXRzIHF1ZXJpZXMgd2lsbCBiZSB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBVc2Uge0BsaW5rIEVudGl0eS5pbnZhbGlkYXRlfSBtZXRob2QgaW4gY2FzZSBpZiBpbiBxdWVyeSB0ZXN0IGZ1bmN0aW9uIGlzIHVzaW5nIGNvbXBvbmVudCBwcm9wZXJ0aWVzIG9yIGNvbXBsZXhcbiAgICAgICAgICogbG9naWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWRkaW5nL3JlbW92aW5nIGNvbXBvbmVudHMgYW5kIHRhZ3MgYXJlIHRyYWNrZWQgYnkgRW5naW5lLiBTbyB5b3UgbmVlZCB0byByZXF1ZXN0IHF1ZXJpZXMgaW52YWxpZGF0aW9uXG4gICAgICAgICAqIG1hbnVhbGx5LCBpZiBzb21lIG9mIHlvdXIgcXVlcmllcyBkZXBlbmRzIG9uIGxvZ2ljIG9yIGNvbXBvbmVudGBzIHByb3BlcnRpZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uSW52YWxpZGF0aW9uUmVxdWVzdGVkID0gbmV3IFNpZ25hbF8xLlNpZ25hbCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIGlkIGlkZW50aWZpZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaWQgPSBlbnRpdHlJZCsrO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0ge307XG4gICAgICAgIHRoaXMuX3RhZ3MgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnRpdHkucHJvdG90eXBlLCBcImNvbXBvbmVudHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBjb21wb25lbnRzIG1hcCwgd2hlcmUga2V5IGlzIGNvbXBvbmVudCBpZGVudGlmaWVyLCBhbmQgdmFsdWUgaXMgYSBjb21wb25lbnQgaXRzZWxmXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGdldENvbXBvbmVudElkfSwge0BsaW5rIEVudGl0eS5nZXRDb21wb25lbnRzfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnRpdHkucHJvdG90eXBlLCBcInRhZ3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBzZXQgb2YgdGFncyBhcHBsaWVkIHRvIHRoZSBlbnRpdHlcbiAgICAgICAgICogQHNlZSBnZXRDb21wb25lbnRJZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjb21wb25lbnQgb3IgdGFnIHRvIHRoZSBlbnRpdHkuXG4gICAgICogSXQncyBhIHVuaWZpZWQgc2hvcnRoYW5kIGZvciB7QGxpbmsgYWRkQ29tcG9uZW50fSBhbmQge0BsaW5rIGFkZFRhZ30uXG4gICAgICpcbiAgICAgKiAtIElmIGEgY29tcG9uZW50IG9mIHRoZSBzYW1lIHR5cGUgYWxyZWFkeSBleGlzdHMgaW4gZW50aXR5LCBpdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBwYXNzZWQgb25lIChvbmx5IGlmXG4gICAgICogIGNvbXBvbmVudCBpdHNlbGYgaXMgbm90IHRoZSBzYW1lLCBpbiB0aGlzIGNhc2UgLSBubyBhY3Rpb25zIHdpbGwgYmUgZG9uZSkuXG4gICAgICogLSBJZiB0aGUgdGFnIGlzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgZW50aXR5IC0gbm8gYWN0aW9ucyB3aWxsIGJlIGRvbmUuXG4gICAgICogLSBEdXJpbmcgY29tcG9uZW50cyByZXBsYWNlbWVudCB7QGxpbmsgb25Db21wb25lbnRSZW1vdmVkfSBhbmQge0BsaW5rIG9uQ29tcG9uZW50QWRkZWR9IGFyZSB3aWxsIGJlIHRyaWdnZXJlZFxuICAgICAqICBzZXF1ZW50aWFsbHkuXG4gICAgICogLSBJZiB0aGVyZSBpcyBubyBjb21wb25lbnQgb2YgdGhlIHNhbWUgdHlwZSwgb3IgdGhlIHRhZyBpcyBub3QgcHJlc2VudCBpbiB0aGUgZW50aXR5IC0gdGhlbiBvbmx5XG4gICAgICogICB7QGxpbmsgb25Db21wb25lbnRBZGRlZH0gd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFRocm93cyBlcnJvciBpZiBjb21wb25lbnQgaXMgbnVsbCBvciB1bmRlZmluZWQsIG9yIGlmIGNvbXBvbmVudCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge1QgfCBUYWd9IGNvbXBvbmVudE9yVGFnIENvbXBvbmVudCBpbnN0YW5jZSBvciBUYWdcbiAgICAgKiBAcGFyYW0ge0t9IHJlc29sdmVDbGFzcyBDbGFzcyB0aGF0IHNob3VsZCBiZSB1c2VkIGFzIHJlc29sdmluZyBjbGFzcy5cbiAgICAgKiAgUGFzc2VkIGNsYXNzIGFsd2F5cyBzaG91bGQgYmUgYW4gYW5jZXN0b3Igb2YgQ29tcG9uZW50J3MgY2xhc3MuXG4gICAgICogIEl0IGhhcyBzZW5zZSBvbmx5IGlmIGNvbXBvbmVudCBpbnN0YW5jZSBpcyBwYXNzZWQsIGJ1dCBub3QgdGhlIFRhZy5cbiAgICAgKiBAcmV0dXJucyB7RW50aXR5fSBSZWZlcmVuY2UgdG8gdGhlIGVudGl0eSBpdHNlbGYuIEl0IGhlbHBzIHRvIGJ1aWxkIGNoYWluIG9mIGNhbGxzLlxuICAgICAqIEBzZWUge0BsaW5rIGFkZENvbXBvbmVudH0sIHtAbGluayBhZGRUYWd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IEJVTExFVCA9IDE7XG4gICAgICogY29uc3QgRVhQTE9TSVZFID0gXCJleHBsb3NpdmVcIjtcbiAgICAgKiBjb25zdCBlbnRpdHkgPSBuZXcgRW50aXR5KClcbiAgICAgKiAgLmFkZChuZXcgUG9zaXRpb24oKSlcbiAgICAgKiAgLmFkZChuZXcgVmlldygpKVxuICAgICAqICAuYWRkKG5ldyBWZWxvY2l0eSgpKVxuICAgICAqICAuYWRkKEJVTExFVClcbiAgICAgKiAgLmFkZChFWFBMT1NJVkUpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEVudGl0eS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGNvbXBvbmVudE9yVGFnLCByZXNvbHZlQ2xhc3MpIHtcbiAgICAgICAgaWYgKFRhZ18xLmlzVGFnKGNvbXBvbmVudE9yVGFnKSkge1xuICAgICAgICAgICAgdGhpcy5hZGRUYWcoY29tcG9uZW50T3JUYWcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoY29tcG9uZW50T3JUYWcsIHJlc29sdmVDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGEgbGlua2VkIGNvbXBvbmVudCB0byB0aGUgZW50aXR5LlxuICAgICAqXG4gICAgICogLSBJZiBsaW5rZWQgY29tcG9uZW50IGlzIG5vdCBleGlzdHMsIHRoZW4gaXQgd2lsbCBiZSBhZGRlZCB2aWEgYGFkZENvbXBvbmVudGAgbWV0aG9kIGFuZCB7QGxpbmsgb25Db21wb25lbnRBZGRlZH1cbiAgICAgKiB3aWxsIGJlIHRyaWdnZXJlZC5cbiAgICAgKiAtIElmIGNvbXBvbmVudCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZW50aXR5LCB0aGVuIHBhc3NlZCBvbmUgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgdGFpbC4ge0BsaW5rXG4gICAgICAqIG9uQ29tcG9uZW50QWRkZWR9IHdvbnQgYmUgdHJpZ2dlcmVkLlxuICAgICAqXG4gICAgICogSXQncyBhIHNob3J0aGFuZCB0byB7QGxpbmsgYXBwZW5kQ29tcG9uZW50fVxuICAgICAqXG4gICAgICogQHRocm93cyBUaHJvd3MgZXJyb3IgaWYgY29tcG9uZW50IGlzIG51bGwgb3IgdW5kZWZpbmVkLCBvciBpZiBjb21wb25lbnQgaXMgbm90IGFuIGluc3RhbmNlIG9mIHRoZSBjbGFzcyBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtUIHwgVGFnfSBjb21wb25lbnQgSUxpbmtlZENvbXBvbmVudCBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7S30gcmVzb2x2ZUNsYXNzIENsYXNzIHRoYXQgc2hvdWxkIGJlIHVzZWQgYXMgcmVzb2x2aW5nIGNsYXNzLlxuICAgICAqICBQYXNzZWQgY2xhc3MgYWx3YXlzIHNob3VsZCBiZSBhbiBhbmNlc3RvciBvZiBDb21wb25lbnQncyBjbGFzcy5cbiAgICAgKiAgSXQgaGFzIHNlbnNlIG9ubHkgaWYgY29tcG9uZW50IGluc3RhbmNlIGlzIHBhc3NlZCwgYnV0IG5vdCB0aGUgVGFnLlxuICAgICAqIEByZXR1cm5zIHtFbnRpdHl9IFJlZmVyZW5jZSB0byB0aGUgZW50aXR5IGl0c2VsZi4gSXQgaGVscHMgdG8gYnVpbGQgY2hhaW4gb2YgY2FsbHMuXG4gICAgICogQHNlZSB7QGxpbmsgYWRkQ29tcG9uZW50fVxuICAgICAqIEBzZWUge0BsaW5rIGFwcGVuZENvbXBvbmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgZGFtYWdlID0gbmV3IERhbWFnZSgpO1xuICAgICAqIGNvbnN0IGVudGl0eSA9IG5ldyBFbnRpdHkoKVxuICAgICAqICAuYXBwZW5kKG5ldyBEYW1hZ2UoKSlcbiAgICAgKiAgLmFwcGVuZChuZXcgRGFtYWdlKCkpXG4gICAgICpcbiAgICAgKiAgY29uc3QgZGFtYWdlID0gZW50aXR5LmdldChEYW1hZ2UpO1xuICAgICAqICB3aGlsZSAoZGFtYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgKiAgICBwcmludChkYW1hZ2UudmFsdWUpO1xuICAgICAqICAgIGRhbWFnZSA9IGRhbWFnZS5uZXh0O1xuICAgICAqICB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgRW50aXR5LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoY29tcG9uZW50LCByZXNvbHZlQ2xhc3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kQ29tcG9uZW50KGNvbXBvbmVudCwgcmVzb2x2ZUNsYXNzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjb21wb25lbnQgdG8gdGhlIGVudGl0eS5cbiAgICAgKlxuICAgICAqIC0gSWYgYSBjb21wb25lbnQgb2YgdGhlIHNhbWUgdHlwZSBhbHJlYWR5IGV4aXN0cyBpbiBlbnRpdHksIGl0IHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIHBhc3NlZCBvbmUgKG9ubHkgaWZcbiAgICAgKiAgY29tcG9uZW50IGl0c2VsZiBpcyBub3QgdGhlIHNhbWUsIGluIHRoaXMgY2FzZSAtIG5vIGFjdGlvbnMgd2lsbCBiZSBkb25lKS5cbiAgICAgKiAtIER1cmluZyBjb21wb25lbnRzIHJlcGxhY2VtZW50IHtAbGluayBvbkNvbXBvbmVudFJlbW92ZWR9IGFuZCB7QGxpbmsgb25Db21wb25lbnRBZGRlZH0gYXJlIHdpbGwgYmUgdHJpZ2dlcmVkXG4gICAgICogIHNlcXVlbnRpYWxseS5cbiAgICAgKiAtIElmIHRoZXJlIGlzIG5vIGNvbXBvbmVudCBvZiB0aGUgc2FtZSB0eXBlIC0gdGhlbiBvbmx5IHtAbGluayBvbkNvbXBvbmVudEFkZGVkfSB3aWxsIGJlIHRyaWdnZXJlZC5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgVGhyb3dzIGVycm9yIGlmIGNvbXBvbmVudCBpcyBudWxsIG9yIHVuZGVmaW5lZCwgb3IgaWYgY29tcG9uZW50IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiB0aGUgY2xhc3MgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7VH0gY29tcG9uZW50IENvbXBvbmVudCBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7S30gcmVzb2x2ZUNsYXNzIENsYXNzIHRoYXQgc2hvdWxkIGJlIHVzZWQgYXMgcmVzb2x2aW5nIGNsYXNzLlxuICAgICAqICBQYXNzZWQgY2xhc3MgYWx3YXlzIHNob3VsZCBiZSBhbiBhbmNlc3RvciBvZiBDb21wb25lbnQncyBjbGFzcy5cbiAgICAgKiBAcmV0dXJucyB7RW50aXR5fSBSZWZlcmVuY2UgdG8gdGhlIGVudGl0eSBpdHNlbGYuIEl0IGhlbHBzIHRvIGJ1aWxkIGNoYWluIG9mIGNhbGxzLlxuICAgICAqIEBzZWUge0BsaW5rIGFkZH0sIHtAbGluayBhZGRUYWd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IEJVTExFVCA9IDE7XG4gICAgICogY29uc3QgZW50aXR5ID0gbmV3IEVudGl0eSgpXG4gICAgICogIC5hZGRDb21wb25lbnQobmV3IFBvc2l0aW9uKCkpXG4gICAgICogIC5hZGRDb21wb25lbnQobmV3IFZpZXcoKSlcbiAgICAgKiAgLmFkZChCVUxMRVQpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEVudGl0eS5wcm90b3R5cGUuYWRkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCwgcmVzb2x2ZUNsYXNzKSB7XG4gICAgICAgIHZhciBjb21wb25lbnRDbGFzcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjb21wb25lbnQpLmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAocmVzb2x2ZUNsYXNzKSB7XG4gICAgICAgICAgICBpZiAoIShjb21wb25lbnQgaW5zdGFuY2VvZiByZXNvbHZlQ2xhc3MgJiYgY29tcG9uZW50Q2xhc3MgIT0gcmVzb2x2ZUNsYXNzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb2x2ZSBjbGFzcyBzaG91bGQgYmUgYW4gYW5jZXN0b3Igb2YgY29tcG9uZW50IGNsYXNzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb25lbnRDbGFzcyA9IHJlc29sdmVDbGFzcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWQgPSBDb21wb25lbnRJZF8xLmdldENvbXBvbmVudElkKGNvbXBvbmVudENsYXNzLCB0cnVlKTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbXBvbmVudHNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IHRoaXMuX2NvbXBvbmVudHNbaWRdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmUoY29tcG9uZW50Q2xhc3MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbaWRdID0gY29tcG9uZW50O1xuICAgICAgICBpZiAodGhpcy5vbkNvbXBvbmVudEFkZGVkLmhhc0hhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcG9uZW50QWRkZWQuZW1pdCh0aGlzLCBjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGEgbGlua2VkIGNvbXBvbmVudCB0byB0aGUgZW50aXR5LlxuICAgICAqXG4gICAgICogLSBJZiBsaW5rZWQgY29tcG9uZW50IGlzIG5vdCBleGlzdHMsIHRoZW4gaXQgd2lsbCBiZSBhZGRlZCB2aWEgYGFkZENvbXBvbmVudGAgbWV0aG9kIGFuZCB7QGxpbmsgb25Db21wb25lbnRBZGRlZH1cbiAgICAgKiB3aWxsIGJlIHRyaWdnZXJlZC5cbiAgICAgKiAtIElmIGNvbXBvbmVudCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZW50aXR5LCB0aGVuIHBhc3NlZCBvbmUgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgdGFpbC4ge0BsaW5rXG4gICAgICAqIG9uQ29tcG9uZW50QWRkZWR9IHdvbnQgYmUgdHJpZ2dlcmVkLlxuICAgICAqXG4gICAgICogQHRocm93cyBUaHJvd3MgZXJyb3IgaWYgY29tcG9uZW50IGlzIG51bGwgb3IgdW5kZWZpbmVkLCBvciBpZiBjb21wb25lbnQgaXMgbm90IGFuIGluc3RhbmNlIG9mIHRoZSBjbGFzcyBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtUIHwgVGFnfSBjb21wb25lbnQgSUxpbmtlZENvbXBvbmVudCBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7S30gcmVzb2x2ZUNsYXNzIENsYXNzIHRoYXQgc2hvdWxkIGJlIHVzZWQgYXMgcmVzb2x2aW5nIGNsYXNzLlxuICAgICAqICBQYXNzZWQgY2xhc3MgYWx3YXlzIHNob3VsZCBiZSBhbiBhbmNlc3RvciBvZiBDb21wb25lbnQncyBjbGFzcy5cbiAgICAgKiAgSXQgaGFzIHNlbnNlIG9ubHkgaWYgY29tcG9uZW50IGluc3RhbmNlIGlzIHBhc3NlZCwgYnV0IG5vdCB0aGUgVGFnLlxuICAgICAqIEByZXR1cm5zIHtFbnRpdHl9IFJlZmVyZW5jZSB0byB0aGUgZW50aXR5IGl0c2VsZi4gSXQgaGVscHMgdG8gYnVpbGQgY2hhaW4gb2YgY2FsbHMuXG4gICAgICogQHNlZSB7QGxpbmsgYXBwZW5kfVxuICAgICAqIEBzZWUge0BsaW5rIGFkZENvbXBvbmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgZGFtYWdlID0gbmV3IERhbWFnZSgpO1xuICAgICAqIGNvbnN0IGVudGl0eSA9IG5ldyBFbnRpdHkoKVxuICAgICAqICAuYXBwZW5kKG5ldyBEYW1hZ2UoKSlcbiAgICAgKiAgLmFwcGVuZChuZXcgRGFtYWdlKCkpXG4gICAgICpcbiAgICAgKiAgY29uc3QgZGFtYWdlID0gZW50aXR5LmdldChEYW1hZ2UpO1xuICAgICAqICB3aGlsZSAoZGFtYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgKiAgICBwcmludChkYW1hZ2UudmFsdWUpO1xuICAgICAqICAgIGRhbWFnZSA9IGRhbWFnZS5uZXh0O1xuICAgICAqICB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgRW50aXR5LnByb3RvdHlwZS5hcHBlbmRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50LCByZXNvbHZlQ2xhc3MpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudENsYXNzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGNvbXBvbmVudCkuY29uc3RydWN0b3I7XG4gICAgICAgIGlmIChyZXNvbHZlQ2xhc3MpIHtcbiAgICAgICAgICAgIGlmICghKGNvbXBvbmVudCBpbnN0YW5jZW9mIHJlc29sdmVDbGFzcyAmJiBjb21wb25lbnRDbGFzcyAhPSByZXNvbHZlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvbHZlIGNsYXNzIHNob3VsZCBiZSBhbiBhbmNlc3RvciBvZiBjb21wb25lbnQgY2xhc3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudENsYXNzID0gcmVzb2x2ZUNsYXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbXBvbmVudChjb21wb25lbnRDbGFzcykpIHtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ0NvbXBvbmVudCA9IHRoaXMuZ2V0KGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgICAgIHdoaWxlIChleGlzdGluZ0NvbXBvbmVudCAhPT0gY29tcG9uZW50ICYmIGV4aXN0aW5nQ29tcG9uZW50Lm5leHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29tcG9uZW50ID0gZXhpc3RpbmdDb21wb25lbnQubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleGlzdGluZ0NvbXBvbmVudCA9PT0gY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wb25lbnQgaXMgYWxyZWFkeSBhcHBlbmRlZCwgYXBwZW5kaW5nIGl0IG9uY2UgYWdhaW4gd2lsbCBicmVhayBsaW5rZWQgaXRlbXMgb3JkZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4aXN0aW5nQ29tcG9uZW50Lm5leHQgPSBjb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudChjb21wb25lbnQsIHJlc29sdmVDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdGFnIHRvIHRoZSBlbnRpdHkuXG4gICAgICpcbiAgICAgKiAtIElmIHRoZSB0YWcgaXMgYWxyZWFkeSBwcmVzZW50IGluIHRoZSBlbnRpdHkgLSBubyBhY3Rpb25zIHdpbGwgYmUgZG9uZS5cbiAgICAgKiAtIElmIHRoZXJlIGlzIHN1Y2ggdGFnIGluIHRoZSBlbnRpdHkgdGhlbiB7QGxpbmsgb25Db21wb25lbnRBZGRlZH0gd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RhZ30gdGFnIFRhZ1xuICAgICAqIEByZXR1cm5zIHtFbnRpdHl9IFJlZmVyZW5jZSB0byB0aGUgZW50aXR5IGl0c2VsZi4gSXQgaGVscHMgdG8gYnVpbGQgY2hhaW4gb2YgY2FsbHMuXG4gICAgICogQHNlZSB7QGxpbmsgYWRkfSwge0BsaW5rIGFkZENvbXBvbmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgREVWRUxPUEVSID0gXCJkZXZlbG9wZXI7XG4gICAgICogY29uc3QgRVhIQVVTVEVEID0gMjtcbiAgICAgKiBjb25zdCAgPSBcImdhbWUtb3ZlclwiO1xuICAgICAqIGNvbnN0IGVudGl0eSA9IG5ldyBFbnRpdHkoKVxuICAgICAqICAuYWRkVGFnKERFVkVMT1BFUilcbiAgICAgKiAgLmFkZChFWEhBVVNURUQpXG4gICAgICogYGBgXG4gICAgICovXG4gICAgRW50aXR5LnByb3RvdHlwZS5hZGRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgICAgIGlmICghdGhpcy5fdGFncy5oYXModGFnKSkge1xuICAgICAgICAgICAgdGhpcy5fdGFncy5hZGQodGFnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcG9uZW50QWRkZWQuaGFzSGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcG9uZW50QWRkZWQuZW1pdCh0aGlzLCB0YWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciBlbnRpdHkgaGFzIGEgc3BlY2lmaWMgY29tcG9uZW50IG9yIHRhZ1xuICAgICAqXG4gICAgICogQHBhcmFtIGNvbXBvbmVudENsYXNzT3JUYWdcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgQkVSU0VSSyA9IDEwMDkxO1xuICAgICAqIGlmICghZW50aXR5LmhhcyhJbW1vYmlsZSkgfHwgZW50aXR5LmhhcyhCRVJTRVJLKSkge1xuICAgICAqICAgY29uc3QgcG9zaXRpb24gPSBlbnRpdHkuZ2V0KFBvc2l0aW9uKSE7XG4gICAgICogICBwb3NpdGlvbi54ICs9IDE7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEVudGl0eS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGNvbXBvbmVudENsYXNzT3JUYWcpIHtcbiAgICAgICAgaWYgKFRhZ18xLmlzVGFnKGNvbXBvbmVudENsYXNzT3JUYWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNUYWcoY29tcG9uZW50Q2xhc3NPclRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQ29tcG9uZW50KGNvbXBvbmVudENsYXNzT3JUYWcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgZW50aXR5IGhhcyBhIHNwZWNpZmljIGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbXBvbmVudFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogaWYgKCFlbnRpdHkuaGFzQ29tcG9uZW50KEltbW9iaWxlKSkge1xuICAgICAqICAgY29uc3QgcG9zaXRpb24gPSBlbnRpdHkuZ2V0KFBvc2l0aW9uKSE7XG4gICAgICogICBwb3NpdGlvbi54ICs9IDE7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEVudGl0eS5wcm90b3R5cGUuaGFzQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICB2YXIgaWQgPSBDb21wb25lbnRJZF8xLmdldENvbXBvbmVudElkKGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50c1tpZF0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIGVudGl0eSBoYXMgYSBzcGVjaWZpYyB0YWdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YWdcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgQkVSU0VSSyA9IFwiYmVyc2Vya1wiO1xuICAgICAqIGxldCBkYW1hZ2UgPSBpbml0aWFsRGFtYWdlO1xuICAgICAqIGlmIChlbnRpdHkuaGFzVGFnKEJFUlNFUkspKSB7XG4gICAgICogICBkYW1hZ2UgKj0gMS4yO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBFbnRpdHkucHJvdG90eXBlLmhhc1RhZyA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhZ3MuaGFzKHRhZyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciBlbnRpdHkgaGF2ZSBhbnkgb2Ygc3BlY2lmaWVkIGNvbXBvbmVudHMvdGFnc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtDbGFzczx1bmtub3duPiB8IFRhZ30gY29tcG9uZW50Q2xhc3NPclRhZ1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBJTU1PUlRBTCA9IFwiaW1tb3J0YWxcIjtcbiAgICAgKiBpZiAoIWVudGl0eS5oYXNBbnkoRGVzdHJveSwgRGVzdHJveWluZywgSU1NT1JUQUwpKSB7XG4gICAgICogICBlbnRpdHkuYWRkKG5ldyBEZXN0cm95KCkpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBFbnRpdHkucHJvdG90eXBlLmhhc0FueSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbXBvbmVudENsYXNzT3JUYWcgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNvbXBvbmVudENsYXNzT3JUYWdbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50Q2xhc3NPclRhZy5zb21lKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gX3RoaXMuaGFzKHZhbHVlKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciBlbnRpdHkgaGF2ZSBhbGwgb2Ygc3BlY2lmaWVkIGNvbXBvbmVudHMvdGFnc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtDbGFzczx1bmtub3duPiB8IFRhZ30gY29tcG9uZW50Q2xhc3NPclRhZ1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBJX0xPVkVfR1JBVklUWSA9IFwibm8taS1kb24ndFwiO1xuICAgICAqIGlmIChlbnRpdHkuaGFzQWxsKFBvc2l0aW9uLCBBY2NlbGVyYXRpb24sIElfTE9WRV9HUkFWSVRZKSkge1xuICAgICAqICAgZW50aXR5LmdldChQb3NpdGlvbikhLnkgKz0gZW50aXR5LmdldChBY2NlbGVyYXRpb24pIS55ICogZHQ7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEVudGl0eS5wcm90b3R5cGUuaGFzQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29tcG9uZW50Q2xhc3NPclRhZyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY29tcG9uZW50Q2xhc3NPclRhZ1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnRDbGFzc09yVGFnLmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gX3RoaXMuaGFzKHZhbHVlKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgY29tcG9uZW50IGluc3RhbmNlIGlmIGl0J3MgZXhpc3RzIGluIHRoZSBlbnRpdHksIG90aGVyd2lzZSByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogLSBJZiB5b3Ugd2FudCB0byBjaGVjayBwcmVzZW5jZSBvZiB0aGUgdGFnIHRoZW4gdXNlIHtAbGluayBoYXN9IGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50Q2xhc3MgU3BlY2lmaWMgY29tcG9uZW50IGNsYXNzXG4gICAgICovXG4gICAgRW50aXR5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgdmFyIGlkID0gQ29tcG9uZW50SWRfMS5nZXRDb21wb25lbnRJZChjb21wb25lbnRDbGFzcyk7XG4gICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHNbaWRdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbnRpdHkgY29tcG9uZW50c1xuICAgICAqXG4gICAgICogQHJldHVybnMge3Vua25vd25bXX1cbiAgICAgKi9cbiAgICBFbnRpdHkucHJvdG90eXBlLmdldENvbXBvbmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKE9iamVjdC52YWx1ZXModGhpcy5fY29tcG9uZW50cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiB0YWdzIGFwcGxpZWQgdG8gdGhlIGVudGl0eVxuICAgICAqL1xuICAgIEVudGl0eS5wcm90b3R5cGUuZ2V0VGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fdGFncyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY29tcG9uZW50IG9yIHRhZyBmcm9tIHRoZSBlbnRpdHkuXG4gICAgICogIEluIGNhc2UgaWYgdGhlIGNvbXBvbmVudCBvciB0YWcgaXMgcHJlc2VudCAtIHRoZW4ge0BsaW5rIG9uQ29tcG9uZW50UmVtb3ZlZH0gd2lsbCBiZVxuICAgICAqICBkaXNwYXRjaGVkIGFmdGVyIHJlbW92aW5nIGl0IGZyb20gdGhlIGVudGl0eVxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbXBvbmVudENsYXNzT3JUYWcgU3BlY2lmaWMgY29tcG9uZW50IGNsYXNzIG9yIHRhZ1xuICAgICAqIEByZXR1cm5zIENvbXBvbmVudCBpbnN0YW5jZSBvciBgdW5kZWZpbmVkYCBpZiBpdCBkb2Vzbid0IGV4aXN0cyBpbiB0aGUgZW50aXR5LCBvciB0YWcgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBFbnRpdHkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChjb21wb25lbnRDbGFzc09yVGFnKSB7XG4gICAgICAgIGlmIChUYWdfMS5pc1RhZyhjb21wb25lbnRDbGFzc09yVGFnKSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVUYWcoY29tcG9uZW50Q2xhc3NPclRhZyk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUNvbXBvbmVudChjb21wb25lbnRDbGFzc09yVGFnKTtcbiAgICB9O1xuICAgIEVudGl0eS5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudENsYXNzT3JUYWcpIHtcbiAgICAgICAgdmFyIGlkID0gQ29tcG9uZW50SWRfMS5nZXRDb21wb25lbnRJZChjb21wb25lbnRDbGFzc09yVGFnKTtcbiAgICAgICAgaWYgKGlkID09PSB1bmRlZmluZWQgfHwgdGhpcy5fY29tcG9uZW50c1tpZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9jb21wb25lbnRzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NvbXBvbmVudHNbaWRdO1xuICAgICAgICBpZiAodGhpcy5vbkNvbXBvbmVudFJlbW92ZWQuaGFzSGFuZGxlcnMpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wb25lbnRSZW1vdmVkLmVtaXQodGhpcywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIEVudGl0eS5wcm90b3R5cGUucmVtb3ZlVGFnID0gZnVuY3Rpb24gKGNvbXBvbmVudENsYXNzT3JUYWcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RhZ3MuaGFzKGNvbXBvbmVudENsYXNzT3JUYWcpKSB7XG4gICAgICAgICAgICB0aGlzLl90YWdzLmRlbGV0ZShjb21wb25lbnRDbGFzc09yVGFnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcG9uZW50UmVtb3ZlZC5oYXNIYW5kbGVycykge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wb25lbnRSZW1vdmVkLmVtaXQodGhpcywgY29tcG9uZW50Q2xhc3NPclRhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNvbXBvbmVudHMgYW5kIHRhZ3MgZnJvbSBlbnRpdHlcbiAgICAgKi9cbiAgICBFbnRpdHkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0ge307XG4gICAgICAgIHRoaXMuX3RhZ3MuY2xlYXIoKTtcbiAgICB9O1xuICAgIEVudGl0eS5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBPYmplY3QuYXNzaWduKHt9LCBlbnRpdHkuX2NvbXBvbmVudHMpO1xuICAgICAgICB0aGlzLl90YWdzID0gbmV3IFNldChlbnRpdHkuX3RhZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEBwYXJhbSB7RW50aXR5U25hcHNob3R9IHJlc3VsdFxuICAgICAqIEBwYXJhbSB7VH0gY2hhbmdlZENvbXBvbmVudE9yVGFnXG4gICAgICogQHBhcmFtIHtDbGFzczxUPn0gcmVzb2x2ZUNsYXNzXG4gICAgICovXG4gICAgRW50aXR5LnByb3RvdHlwZS50YWtlU25hcHNob3QgPSBmdW5jdGlvbiAocmVzdWx0LCBjaGFuZ2VkQ29tcG9uZW50T3JUYWcsIHJlc29sdmVDbGFzcykge1xuICAgICAgICByZXN1bHQuY3VycmVudCA9IHRoaXM7XG4gICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gcmVzdWx0LnByZXZpb3VzO1xuICAgICAgICBwcmV2aW91c1N0YXRlLmNvcHlGcm9tKHRoaXMpO1xuICAgICAgICBpZiAoY2hhbmdlZENvbXBvbmVudE9yVGFnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVGFnXzEuaXNUYWcoY2hhbmdlZENvbXBvbmVudE9yVGFnKSkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzVGFncyA9IHByZXZpb3VzU3RhdGUuX3RhZ3M7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXMoY2hhbmdlZENvbXBvbmVudE9yVGFnKSkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzVGFncy5kZWxldGUoY2hhbmdlZENvbXBvbmVudE9yVGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzVGFncy5hZGQoY2hhbmdlZENvbXBvbmVudE9yVGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRDbGFzcyA9IHJlc29sdmVDbGFzcyAhPT0gbnVsbCAmJiByZXNvbHZlQ2xhc3MgIT09IHZvaWQgMCA/IHJlc29sdmVDbGFzcyA6IE9iamVjdC5nZXRQcm90b3R5cGVPZihjaGFuZ2VkQ29tcG9uZW50T3JUYWcpLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudElkID0gQ29tcG9uZW50SWRfMS5nZXRDb21wb25lbnRJZChjb21wb25lbnRDbGFzcywgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNDb21wb25lbnRzID0gcHJldmlvdXNTdGF0ZS5fY29tcG9uZW50cztcbiAgICAgICAgICAgIGlmICh0aGlzLmhhcyhjb21wb25lbnRDbGFzcykpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcHJldmlvdXNDb21wb25lbnRzW2NvbXBvbmVudElkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcG9uZW50c1tjb21wb25lbnRJZF0gPSBjaGFuZ2VkQ29tcG9uZW50T3JUYWc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byBkaXNwYXRjaCB0aGF0IGVudGl0eSBjb21wb25lbnQgcHJvcGVydGllcyB3ZXJlIGNoYW5nZWQsIGluIGNhc2UgaWZcbiAgICAgKiBxdWVyaWVzIHByZWRpY2F0ZXMgYXJlIGRlcGVuZHMgb24gdGhlbS5cbiAgICAgKiBDb21wb25lbnRzIHByb3BlcnRpZXMgYXJlIG5vdCB0cmFja2luZyBieSBFbmdpbmUgaXRzZWxmLCBiZWNhdXNlIGl0J3MgdG9vIGV4cGVuc2l2ZS5cbiAgICAgKi9cbiAgICBFbnRpdHkucHJvdG90eXBlLmludmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub25JbnZhbGlkYXRpb25SZXF1ZXN0ZWQuZW1pdCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBFbnRpdHk7XG59KCkpO1xuZXhwb3J0cy5FbnRpdHkgPSBFbnRpdHk7XG4vKipcbiAqIEVudGl0eVNuYXBzaG90IGlzIGEgY29udGVudCBjb250YWluZXIgdGhhdCBkaXNwbGF5cyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBjdXJyZW50IHN0YXRlIG9mIEVudGl0eSBhbmQgaXRzXG4gKiBwcmV2aW91cyBzdGF0ZS5cbiAqXG4gKiBUaGUge0BsaW5rIEVudGl0eVNuYXBzaG90LmN1cnJlbnR9IHByb3BlcnR5IGFsd2F5cyByZWZsZWN0cyB0aGUgY3VycmVudCBzdGF0ZSwgYW5kIHtAbGluayBFbnRpdHlTbmFwc2hvdC5wcmV2aW91c30gLVxuICogcHJldmlvdXMgb25lLiBTbyB5b3UgY2FuIHVuZGVyc3RhbmQgd2hpY2ggY29tcG9uZW50cyBoYXZlIGJlZW4gYWRkZWQgYW5kIHdoaWNoIGhhdmUgYmVlbiByZW1vdmVkLlxuICpcbiAqIDxwPkl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgY2hhbmdlcyBpbiB0aGUgZGF0YSBvZiB0aGUgc2FtZSBlbnRpdHkgY29tcG9uZW50cyB3aWxsIG5vdCBiZSByZWZsZWN0ZWQgaW4gdGhlXG4gKiBzbmFwc2hvdCwgZXZlbiBpZiBhIG1hbnVhbCBpbnZhbGlkYXRpb24gb2YgdGhlIGVudGl0eSBoYXMgYmVlbiB0cmlnZ2VyZWQuPC9wPlxuICovXG52YXIgRW50aXR5U25hcHNob3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW50aXR5U25hcHNob3QoKSB7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzID0gbmV3IEVudGl0eSgpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW50aXR5U25hcHNob3QucHJvdG90eXBlLCBcImN1cnJlbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhbiBpbnN0YW5jZSBvZiB0aGUgYWN0dWFsIGVudGl0eVxuICAgICAgICAgKiBAcmV0dXJucyB7RW50aXR5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnRpdHlTbmFwc2hvdC5wcm90b3R5cGUsIFwicHJldmlvdXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhbiBpbnN0YW5jZSBvZiB0aGUgcHJldmlvdXMgc3RhdGUgb2YgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcmV2aW91cztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBFbnRpdHlTbmFwc2hvdDtcbn0oKSk7XG5leHBvcnRzLkVudGl0eVNuYXBzaG90ID0gRW50aXR5U25hcHNob3Q7XG4vKipcbiAqIEVudGl0eSBpZHMgZW51bWVyYXRvclxuICovXG52YXIgZW50aXR5SWQgPSAxO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkl0ZXJhdGl2ZVN5c3RlbSA9IHZvaWQgMDtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIFJlYWN0aW9uU3lzdGVtXzEgPSByZXF1aXJlKFwiLi9SZWFjdGlvblN5c3RlbVwiKTtcbi8qKlxuICogSXRlcmF0aXZlIHN5c3RlbSBtYWRlIGZvciBpdGVyYXRpbmcgb3ZlciBlbnRpdGllcyB0aGF0IG1hdGNoZXMgaXRzIHF1ZXJ5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBZb3UgaGF2ZSBhIFZpZXcgY29tcG9uZW50LCB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciBlbnRpdHkgZGlzcGxheWluZyBhbmQgY29udGFpbnMgYW4gaW1hZ2UuXG4gKiBTbyBldmVyeSBzdGVwIHlvdSB3YW50IHRvIHVwZGF0ZSBpbWFnZSBwb3NpdGlvbnMsIHRoYXQgY2FuIGRlcGVuZHMgb24gUG9zaXRpb24gY29tcG9uZW50LlxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBWaWV3U3lzdGVtIGV4dGVuZHMgSXRlcmF0aXZlU3lzdGVtIHtcbiAqICAgY29uc3RydWN0b3IoY29udGFpbmVyOkNvbnRhaW5lcikge1xuICogICAgICBzdXBlcihuZXcgUXVlcnkoKGVudGl0eTpFbnRpdHkpID0+IGVudGl0eS5oYXNBbGwoVmlldywgUG9zaXRpb24pKTtcbiAqICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIFVwZGF0ZSBlbnRpdHkgdmlldyBwb3NpdGlvbiBvbiBzY3JlZW4sIHZpYSBwb3NpdGlvbiBjb21wb25lbnQgZGF0YVxuICogICB1cGRhdGVFbnRpdHkoZW50aXR5OkVudGl0eSkge1xuICogICAgIGNvbnN0IHt2aWV3fSA9IGVudGl0eS5nZXQoVmlldykhO1xuICogICAgIGNvbnN0IHt4LCB5KSA9IGVudGl0eS5nZXQoUG9zaXRpb24pITtcbiAqICAgICB2aWV3LnggPSB4O1xuICogICAgIHZpZXcueSA9IHk7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIEFkZCBlbnRpdHkgdmlldyBmcm9tIHNjcmVlblxuICogICBlbnRpdHlBZGRlZCA9ICh7ZW50aXR5fTpFbnRpdHlTbmFwc2hvdCkgPT4ge1xuICogICAgdGhpcy5jb250YWluZXIuYWRkKGVudGl0eS5nZXQoVmlldykhLnZpZXcpO1xuICogICB9XG4gKlxuICogICAvLyBSZW1vdmUgZW50aXR5IHZpZXcgZnJvbSBzY3JlZW5cbiAqICAgZW50aXR5UmVtb3ZlZCA9IChzbmFwc2hvdDpFbnRpdHlTbmFwc2hvdCkgPT4ge1xuICogICAgdGhpcy5jb250YWluZXIucmVtb3ZlKHNuYXBzaG90LmdldChWaWV3KSEudmlldyk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG52YXIgSXRlcmF0aXZlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEl0ZXJhdGl2ZVN5c3RlbSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJdGVyYXRpdmVTeXN0ZW0ocXVlcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcXVlcnkpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9yZW1vdmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSXRlcmF0aXZlU3lzdGVtLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVFbnRpdGllcyhkdCk7XG4gICAgfTtcbiAgICBJdGVyYXRpdmVTeXN0ZW0ucHJvdG90eXBlLm9uUmVtb3ZlZEZyb21FbmdpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uUmVtb3ZlZEZyb21FbmdpbmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIEl0ZXJhdGl2ZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlRW50aXRpZXMgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IHRzbGliXzEuX192YWx1ZXModGhpcy5xdWVyeS5lbnRpdGllcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlbW92ZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVudGl0eShlbnRpdHksIGR0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSXRlcmF0aXZlU3lzdGVtO1xufShSZWFjdGlvblN5c3RlbV8xLlJlYWN0aW9uU3lzdGVtKSk7XG5leHBvcnRzLkl0ZXJhdGl2ZVN5c3RlbSA9IEl0ZXJhdGl2ZVN5c3RlbTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MaW5rZWRDb21wb25lbnQgPSB2b2lkIDA7XG4vKipcbiAqIFNpbXBsZSBJTGlua2VkQ29tcG9uZW50IGltcGxlbWVudGF0aW9uXG4gKiBAc2VlIHtAbGluayBFbnRpdHkuYXBwZW5kfVxuICovXG52YXIgTGlua2VkQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpbmtlZENvbXBvbmVudCgpIHtcbiAgICB9XG4gICAgcmV0dXJuIExpbmtlZENvbXBvbmVudDtcbn0oKSk7XG5leHBvcnRzLkxpbmtlZENvbXBvbmVudCA9IExpbmtlZENvbXBvbmVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1F1ZXJ5QnVpbGRlciA9IGV4cG9ydHMuaXNRdWVyeVByZWRpY2F0ZSA9IGV4cG9ydHMuUXVlcnlCdWlsZGVyID0gZXhwb3J0cy5RdWVyeSA9IHZvaWQgMDtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIENvbXBvbmVudElkXzEgPSByZXF1aXJlKFwiLi9Db21wb25lbnRJZFwiKTtcbnZhciBFbnRpdHlfMSA9IHJlcXVpcmUoXCIuL0VudGl0eVwiKTtcbnZhciBUYWdfMSA9IHJlcXVpcmUoXCIuL1RhZ1wiKTtcbnZhciBTaWduYWxfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9TaWduYWxcIik7XG4vKipcbiAqIFF1ZXJ5IHJlcHJlc2VudHMgbGlzdCBvZiBlbnRpdGllcyB0aGF0IG1hdGNoZXMgcXVlcnkgcmVxdWVzdC5cbiAqIEBzZWUgUXVlcnlCdWlsZGVyXG4gKi9cbnZhciBRdWVyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBRdWVyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBwcmVkaWNhdGUgTWF0Y2hpbmcgcHJlZGljYXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUXVlcnkocHJlZGljYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaWduYWwgZGlzcGF0Y2hlcyBpZiBuZXcgbWF0Y2hlZCBlbnRpdHkgd2VyZSBhZGRlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVudGl0eUFkZGVkID0gbmV3IFNpZ25hbF8xLlNpZ25hbCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2lnbmFsIGRpc3BhdGNoZXMgaWYgZW50aXR5IHN0b3BzIG1hdGNoaW5nIHF1ZXJ5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRW50aXR5UmVtb3ZlZCA9IG5ldyBTaWduYWxfMS5TaWduYWwoKTtcbiAgICAgICAgdGhpcy5faGVscGVyID0gbmV3IEVudGl0eV8xLkVudGl0eSgpO1xuICAgICAgICB0aGlzLl9zbmFwc2hvdCA9IG5ldyBFbnRpdHlfMS5FbnRpdHlTbmFwc2hvdCgpO1xuICAgICAgICB0aGlzLl9lbnRpdGllcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVudGl0eUFkZGVkID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMuX2VudGl0aWVzLmluZGV4T2YoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEgJiYgX3RoaXMuX3ByZWRpY2F0ZShlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2VudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25FbnRpdHlBZGRlZC5oYXNIYW5kbGVycykge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkudGFrZVNuYXBzaG90KF90aGlzLl9zbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRW50aXR5QWRkZWQuZW1pdChfdGhpcy5fc25hcHNob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbnRpdHlSZW1vdmVkID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMuX2VudGl0aWVzLmluZGV4T2YoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fZW50aXRpZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25FbnRpdHlSZW1vdmVkLmhhc0hhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS50YWtlU25hcHNob3QoX3RoaXMuX3NuYXBzaG90KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25FbnRpdHlSZW1vdmVkLmVtaXQoX3RoaXMuX3NuYXBzaG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50aXR5Q29tcG9uZW50QWRkZWQgPSBmdW5jdGlvbiAoZW50aXR5LCBjb21wb25lbnRPclRhZywgY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIHZhciBoYXNBZGRlZEhhbmRsZXJzID0gX3RoaXMub25FbnRpdHlBZGRlZC5oYXNIYW5kbGVycztcbiAgICAgICAgICAgIHZhciBoYXNSZW1vdmVkSGFuZGxlcnMgPSBfdGhpcy5vbkVudGl0eVJlbW92ZWQuaGFzSGFuZGxlcnM7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVIZWxwZXIoZW50aXR5LCBjb21wb25lbnRPclRhZyk7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBfdGhpcy5fZW50aXRpZXMuaW5kZXhPZihlbnRpdHkpO1xuICAgICAgICAgICAgdmFyIGlzTWF0Y2ggPSBfdGhpcy5fcHJlZGljYXRlKF90aGlzLl9oZWxwZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSAmJiBpc01hdGNoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2VudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQWRkZWRIYW5kbGVycykge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkudGFrZVNuYXBzaG90KF90aGlzLl9zbmFwc2hvdCwgY29tcG9uZW50T3JUYWcsIGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25FbnRpdHlBZGRlZC5lbWl0KF90aGlzLl9zbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5kZXggIT09IC0xICYmICFpc01hdGNoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2VudGl0aWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc1JlbW92ZWRIYW5kbGVycykge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkudGFrZVNuYXBzaG90KF90aGlzLl9zbmFwc2hvdCwgY29tcG9uZW50T3JUYWcsIGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25FbnRpdHlSZW1vdmVkLmVtaXQoX3RoaXMuX3NuYXBzaG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50aXR5Q29tcG9uZW50UmVtb3ZlZCA9IGZ1bmN0aW9uIChlbnRpdHksIGNvbXBvbmVudCwgY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIHZhciBoYXNBZGRlZEhhbmRsZXJzID0gX3RoaXMub25FbnRpdHlBZGRlZC5oYXNIYW5kbGVycztcbiAgICAgICAgICAgIHZhciBoYXNSZW1vdmVkSGFuZGxlcnMgPSBfdGhpcy5vbkVudGl0eVJlbW92ZWQuaGFzSGFuZGxlcnM7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVIZWxwZXIoZW50aXR5LCBjb21wb25lbnQpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMuX2VudGl0aWVzLmluZGV4T2YoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEgJiYgX3RoaXMuX3ByZWRpY2F0ZShfdGhpcy5faGVscGVyKSAmJiAhX3RoaXMuX3ByZWRpY2F0ZShlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2VudGl0aWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc1JlbW92ZWRIYW5kbGVycykge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkudGFrZVNuYXBzaG90KF90aGlzLl9zbmFwc2hvdCwgY29tcG9uZW50LCBjb21wb25lbnRDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRW50aXR5UmVtb3ZlZC5lbWl0KF90aGlzLl9zbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5kZXggPT09IC0xICYmIF90aGlzLl9wcmVkaWNhdGUoZW50aXR5KSAmJiAhX3RoaXMuX3ByZWRpY2F0ZShfdGhpcy5faGVscGVyKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9lbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0FkZGVkSGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnRha2VTbmFwc2hvdChfdGhpcy5fc25hcHNob3QsIGNvbXBvbmVudCwgY29tcG9uZW50Q2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkVudGl0eUFkZGVkLmVtaXQoX3RoaXMuX3NuYXBzaG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3ByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5LnByb3RvdHlwZSwgXCJlbnRpdGllc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnRpdGllcyBsaXN0IHdoaWNoIG1hdGNoZXMgdGhlIHF1ZXJ5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRdWVyeS5wcm90b3R5cGUsIFwiZmlyc3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgZmlyc3QgZW50aXR5IGluIHRoZSBxdWVyeSBvciBgdW5kZWZpbmVkYCBpZiBxdWVyeSBpcyBlbXB0eS5cbiAgICAgICAgICogQHJldHVybnMge0VudGl0eSB8IHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0aWVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzWzBdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5LnByb3RvdHlwZSwgXCJsYXN0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGxhc3QgZW50aXR5IGluIHRoZSBxdWVyeSBvciBgdW5kZWZpbmVkYCBpZiBxdWVyeSBpcyBlbXB0eS5cbiAgICAgICAgICogQHJldHVybnMge0VudGl0eSB8IHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0aWVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzW3RoaXMuX2VudGl0aWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5LnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHRoZSBlbnRpdGllcyBpbiB0aGUgcXVlcnlcbiAgICAgICAgICogQHJldHVybnMge0VudGl0eSB8IHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBlbnRpdGllcyB0aGF0IGhhdmUgYmVlbiB0ZXN0ZWQgYnkgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBAcGFyYW0geyhlbnRpdHk6IEVudGl0eSkgPT4gYm9vbGVhbn0gcHJlZGljYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBRdWVyeS5wcm90b3R5cGUuY291bnRCeSA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciByZXN1bHQgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSB0c2xpYl8xLl9fdmFsdWVzKHRoaXMuX2VudGl0aWVzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAocHJlZGljYXRlKGVudGl0eSkpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZpcnN0IGVudGl0eSBmcm9tIHRoZSBxdWVyeSwgdGhhdCB3YXMgYWNjZXB0ZWQgYnkgcHJlZGljYXRlXG4gICAgICogQHBhcmFtIHsoZW50aXR5OiBFbnRpdHkpID0+IGJvb2xlYW59IHByZWRpY2F0ZSAtIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgZm9yIGV2ZXJ5IGVudGl0eSBpbiB0aGUgcXVlcnkgdW50aWxcbiAgICAgKiAgdGhlIHJlc3VsdCBvZiB0aGUgZnVuY3Rpb24gYmVjb21lIHRydWUuXG4gICAgICogQHJldHVybnMge0VudGl0eSB8IHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBRdWVyeS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgbmV3IGFycmF5IG9mIGVudGl0aWVzLCB3aGljaCBwYXNzZWQgdGVzdGluZyB2aWEgcHJlZGljYXRlXG4gICAgICogQHBhcmFtIHsoZW50aXR5OiBFbnRpdHkpID0+IGJvb2xlYW59IHByZWRpY2F0ZSAtIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgZm9yIGV2ZXJ5IGVudGl0eSBpbiB0aGUgcXVlcnkuXG4gICAgICogIElmIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIC0gZW50aXR5IHdpbGwgc3RheSBpbiB0aGUgYXJyYXksIGlmIGBmYWxzZWAgdGhhbiBpdCB3aWxsIGJlIHJlbW92ZWQuXG4gICAgICogQHJldHVybnMge0VudGl0eVtdfVxuICAgICAqL1xuICAgIFF1ZXJ5LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcy5maWx0ZXIocHJlZGljYXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aGV0aGVyIHRoZSBlbnRpdHkgaXMgaW4gdGhlIFF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHlcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBRdWVyeS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW50aXRpZXMuaW5kZXhPZihlbnRpdHkpICE9PSAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG1hdGNoaW5nIHBhc3NlZCBsaXN0IG9mIGVudGl0aWVzIHdpdGggcHJlZGljYXRlIG9mIHRoZSBxdWVyeSB0byBkZXRlcm1pbmVcbiAgICAgKiBpZiBlbnRpdGllcyBhcmUgdGhlIHBhcnQgb2YgcXVlcnkgb3Igbm90LlxuICAgICAqXG4gICAgICogRW50aXRpZXMgdGhhdCB3aWxsIHBhc3MgdGVzdGluZyB3aWxsIGJlY29tZSBhIHBhcnQgb2YgdGhlIHF1ZXJ5XG4gICAgICovXG4gICAgUXVlcnkucHJvdG90eXBlLm1hdGNoRW50aXRpZXMgPSBmdW5jdGlvbiAoZW50aXRpZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZW50aXRpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50aXR5KSB7IHJldHVybiBfdGhpcy5lbnRpdHlBZGRlZChlbnRpdHkpOyB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRdWVyeS5wcm90b3R5cGUsIFwiaXNFbXB0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB0aGF0IHF1ZXJ5IGlzIGVtcHR5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzLmxlbmd0aCA9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBsaXN0IG9mIGVudGl0aWVzIG9mIHRoZSBxdWVyeVxuICAgICAqL1xuICAgIFF1ZXJ5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZW50aXRpZXMgPSBbXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFF1ZXJ5LnByb3RvdHlwZS52YWxpZGF0ZUVudGl0eSA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5lbnRpdGllcy5pbmRleE9mKGVudGl0eSk7XG4gICAgICAgIHZhciBpc01hdGNoID0gdGhpcy5fcHJlZGljYXRlKGVudGl0eSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEgJiYgIWlzTWF0Y2gpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5UmVtb3ZlZChlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHlBZGRlZChlbnRpdHkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBRdWVyeS5wcm90b3R5cGUudXBkYXRlSGVscGVyID0gZnVuY3Rpb24gKGVudGl0eSwgY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuX2hlbHBlci5jbGVhcigpO1xuICAgICAgICB0aGlzLl9oZWxwZXIuY29weUZyb20oZW50aXR5KTtcbiAgICAgICAgdGhpcy5faGVscGVyLmFkZChjb21wb25lbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIFF1ZXJ5O1xufSgpKTtcbmV4cG9ydHMuUXVlcnkgPSBRdWVyeTtcbmZ1bmN0aW9uIGhhc0FsbChlbnRpdHksIGNvbXBvbmVudHMsIHRhZ3MpIHtcbiAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjtcbiAgICBpZiAoY29tcG9uZW50cy5zaXplID4gMCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgY29tcG9uZW50c18xID0gdHNsaWJfMS5fX3ZhbHVlcyhjb21wb25lbnRzKSwgY29tcG9uZW50c18xXzEgPSBjb21wb25lbnRzXzEubmV4dCgpOyAhY29tcG9uZW50c18xXzEuZG9uZTsgY29tcG9uZW50c18xXzEgPSBjb21wb25lbnRzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudElkID0gY29tcG9uZW50c18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eS5jb21wb25lbnRzW2NvbXBvbmVudElkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRzXzFfMSAmJiAhY29tcG9uZW50c18xXzEuZG9uZSAmJiAoX2EgPSBjb21wb25lbnRzXzEucmV0dXJuKSkgX2EuY2FsbChjb21wb25lbnRzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0YWdzLnNpemUgPiAwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciB0YWdzXzEgPSB0c2xpYl8xLl9fdmFsdWVzKHRhZ3MpLCB0YWdzXzFfMSA9IHRhZ3NfMS5uZXh0KCk7ICF0YWdzXzFfMS5kb25lOyB0YWdzXzFfMSA9IHRhZ3NfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFnID0gdGFnc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRpdHkudGFncy5oYXModGFnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGFnc18xXzEgJiYgIXRhZ3NfMV8xLmRvbmUgJiYgKF9iID0gdGFnc18xLnJldHVybikpIF9iLmNhbGwodGFnc18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogUXVlcnkgYnVpbGRlciwgaGVscHMgdG8gY3JlYXRlIHF1ZXJpZXNcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeUJ1aWxkZXIoKVxuICogIC5jb250YWlucyhQb3NpdGlvbilcbiAqICAuY29udGFpbnMoQWNjZWxlcmF0aW9uKVxuICogIC5jb250YWlucyhUb3JxdWVGb3JjZSlcbiAqICAuYnVpbGQoKTtcbiAqL1xudmFyIFF1ZXJ5QnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRdWVyeUJ1aWxkZXIoKSB7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX3RhZ3MgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyBjb21wb25lbnRzIHRoYXQgbXVzdCBiZSBhZGRlZCB0byBlbnRpdHkgdG8gYmUgbWF0Y2hlZFxuICAgICAqIEBwYXJhbSBjb21wb25lbnRzT3JUYWdzXG4gICAgICovXG4gICAgUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfNCwgX2E7XG4gICAgICAgIHZhciBjb21wb25lbnRzT3JUYWdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzT3JUYWdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbXBvbmVudHNPclRhZ3NfMSA9IHRzbGliXzEuX192YWx1ZXMoY29tcG9uZW50c09yVGFncyksIGNvbXBvbmVudHNPclRhZ3NfMV8xID0gY29tcG9uZW50c09yVGFnc18xLm5leHQoKTsgIWNvbXBvbmVudHNPclRhZ3NfMV8xLmRvbmU7IGNvbXBvbmVudHNPclRhZ3NfMV8xID0gY29tcG9uZW50c09yVGFnc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnRPclRhZyA9IGNvbXBvbmVudHNPclRhZ3NfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChUYWdfMS5pc1RhZyhjb21wb25lbnRPclRhZykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90YWdzLmhhcyhjb21wb25lbnRPclRhZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhZ3MuYWRkKGNvbXBvbmVudE9yVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudElkID0gQ29tcG9uZW50SWRfMS5nZXRDb21wb25lbnRJZChjb21wb25lbnRPclRhZywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY29tcG9uZW50cy5oYXMoY29tcG9uZW50SWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLmFkZChjb21wb25lbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRzT3JUYWdzXzFfMSAmJiAhY29tcG9uZW50c09yVGFnc18xXzEuZG9uZSAmJiAoX2EgPSBjb21wb25lbnRzT3JUYWdzXzEucmV0dXJuKSkgX2EuY2FsbChjb21wb25lbnRzT3JUYWdzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVpbGQgcXVlcnlcbiAgICAgKi9cbiAgICBRdWVyeUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGZ1bmN0aW9uIChlbnRpdHkpIHsgcmV0dXJuIGhhc0FsbChlbnRpdHksIF90aGlzLl9jb21wb25lbnRzLCBfdGhpcy5fdGFncyk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0VGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhZ3M7XG4gICAgfTtcbiAgICByZXR1cm4gUXVlcnlCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuUXVlcnlCdWlsZGVyID0gUXVlcnlCdWlsZGVyO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaXNRdWVyeVByZWRpY2F0ZShpdGVtKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc1F1ZXJ5UHJlZGljYXRlID0gaXNRdWVyeVByZWRpY2F0ZTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGlzUXVlcnlCdWlsZGVyKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSBpbnN0YW5jZW9mIFF1ZXJ5QnVpbGRlcjtcbn1cbmV4cG9ydHMuaXNRdWVyeUJ1aWxkZXIgPSBpc1F1ZXJ5QnVpbGRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZWFjdGlvblN5c3RlbSA9IHZvaWQgMDtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIFF1ZXJ5XzEgPSByZXF1aXJlKFwiLi9RdWVyeVwiKTtcbnZhciBTeXN0ZW1fMSA9IHJlcXVpcmUoXCIuL1N5c3RlbVwiKTtcbi8qKlxuICogUmVwcmVzZW50cyBhIHN5c3RlbSB0aGF0IHJlYWN0cyB3aGVuIGVudGl0aWVzIGFyZSBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gaXRzIHF1ZXJ5LlxuICogYGVudGl0eUFkZGVkYCBhbmQgYGVudGl0eVJlbW92ZWRgIHdpbGwgYmUgY2FsbGVkIGFjY29yZGluZ2x5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY2xhc3MgVmlld1N5c3RlbSBleHRlbmRzIFJlYWN0aW9uU3lzdGVtIHtcbiAqICAgY29uc3RydWN0b3IoXG4gKiAgICAgIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOkNvbnRhaW5lclxuICogICApIHtcbiAqICAgICAgc3VwZXIobmV3IFF1ZXJ5KChlbnRpdHk6RW50aXR5KSA9PiBlbnRpdHkuaGFzKFZpZXcpKTtcbiAqICAgfVxuICpcbiAqICAgLy8gQWRkIGVudGl0eSB2aWV3IHRvIHRoZSBzY3JlZW5cbiAqICAgZW50aXR5QWRkZWQgPSAoe2VudGl0eX06RW50aXR5U25hcHNob3QpID0+IHtcbiAqICAgIHRoaXMuY29udGFpbmVyLmFkZChlbnRpdHkuZ2V0KFZpZXcpIS52aWV3KTtcbiAqICAgfVxuICpcbiAqICAgLy8gUmVtb3ZlIGVudGl0eSB2aWV3IGZyb20gc2NyZWVuXG4gKiAgIGVudGl0eVJlbW92ZWQgPSAoc25hcHNob3Q6RW50aXR5U25hcHNob3QpID0+IHtcbiAqICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZShzbmFwc2hvdC5nZXQoVmlldykhLnZpZXcpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xudmFyIFJlYWN0aW9uU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlYWN0aW9uU3lzdGVtLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlYWN0aW9uU3lzdGVtKHF1ZXJ5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZXRob2Qgd2lsbCBiZSBjYWxsZWQgZm9yIGV2ZXJ5IG5ldyBlbnRpdHkgdGhhdCBtYXRjaGVzIHN5c3RlbSBxdWVyeS5cbiAgICAgICAgICogWW91IGNvdWxkIGVhc2lseSBvdmVycmlkZSBpdCB3aXRoIHlvdXIgb3duIGxvZ2ljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBNZXRob2Qgd2lsbCBub3QgYmUgY2FsbGVkIGZvciBhbHJlYWR5IGV4aXN0aW5nIGluIHF1ZXJ5IGVudGl0aWVzIChhdCB0aGUgYWRkaW5nIHN5c3RlbSB0byBlbmdpbmUgcGhhc2UpLFxuICAgICAgICAgKiBvbmx5IG5ldyBlbnRpdGllcyB3aWxsIGJlIGhhbmRsZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVudGl0eSBFbnRpdHlTbmFwc2hvdCB0aGF0IGNvbnRhaW5zIGVudGl0eSB0aGF0IHdhcyByZW1vdmVkIGZyb20gcXVlcnkgb3IgZW5naW5lLCBhbmQgY29tcG9uZW50cyB0aGF0IGl0IGhhc1xuICAgICAgICAgKiAgIGJlZm9yZSBhZGRpbmcsIGFuZCBjb21wb25lbnQgdGhhdCB3aWxsIGJlIGFkZGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbnRpdHlBZGRlZCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1ldGhvZCB3aWxsIGJlIGNhbGxlZCBmb3IgZXZlcnkgZW50aXR5IG1hdGNoZXMgc3lzdGVtIHF1ZXJ5LCB0aGF0IGlzIGdvaW5nIHRvIGJlIHJlbW92ZWQgZnJvbSBlbmdpbmUsIG9yIGl0IHN0b3BzXG4gICAgICAgICAqIG1hdGNoaW5nIHRvIHRoZSBxdWVyeS5cbiAgICAgICAgICogWW91IGNvdWxkIGVhc2lseSBvdmVycmlkZSBpdCB3aXRoIHlvdXIgb3duIGxvZ2ljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZW50aXR5IEVudGl0eVNuYXBzaG90IHRoYXQgY29udGFpbnMgZW50aXR5IHRoYXQgd2FzIHJlbW92ZWQgZnJvbSBxdWVyeSBvciBlbmdpbmUsIGFuZCBjb21wb25lbnRzIHRoYXQgaXQgaGFzXG4gICAgICAgICAqICAgYmVmb3JlIHJlbW92aW5nXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbnRpdHlSZW1vdmVkID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICB9O1xuICAgICAgICBpZiAoUXVlcnlfMS5pc1F1ZXJ5QnVpbGRlcihxdWVyeSkpIHtcbiAgICAgICAgICAgIF90aGlzLnF1ZXJ5ID0gcXVlcnkuYnVpbGQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChRdWVyeV8xLmlzUXVlcnlQcmVkaWNhdGUocXVlcnkpKSB7XG4gICAgICAgICAgICBfdGhpcy5xdWVyeSA9IG5ldyBRdWVyeV8xLlF1ZXJ5KHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhY3Rpb25TeXN0ZW0ucHJvdG90eXBlLCBcImVudGl0aWVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeS5lbnRpdGllcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFJlYWN0aW9uU3lzdGVtLnByb3RvdHlwZS5vbkFkZGVkVG9FbmdpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLmFkZFF1ZXJ5KHRoaXMucXVlcnkpO1xuICAgICAgICB0aGlzLnByZXBhcmUoKTtcbiAgICAgICAgdGhpcy5xdWVyeS5vbkVudGl0eUFkZGVkLmNvbm5lY3QodGhpcy5lbnRpdHlBZGRlZCk7XG4gICAgICAgIHRoaXMucXVlcnkub25FbnRpdHlSZW1vdmVkLmNvbm5lY3QodGhpcy5lbnRpdHlSZW1vdmVkKTtcbiAgICB9O1xuICAgIFJlYWN0aW9uU3lzdGVtLnByb3RvdHlwZS5vblJlbW92ZWRGcm9tRW5naW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5yZW1vdmVRdWVyeSh0aGlzLnF1ZXJ5KTtcbiAgICAgICAgdGhpcy5xdWVyeS5vbkVudGl0eUFkZGVkLmRpc2Nvbm5lY3QodGhpcy5lbnRpdHlBZGRlZCk7XG4gICAgICAgIHRoaXMucXVlcnkub25FbnRpdHlSZW1vdmVkLmRpc2Nvbm5lY3QodGhpcy5lbnRpdHlSZW1vdmVkKTtcbiAgICAgICAgdGhpcy5xdWVyeS5jbGVhcigpO1xuICAgIH07XG4gICAgUmVhY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnByZXBhcmUgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIFJlYWN0aW9uU3lzdGVtO1xufShTeXN0ZW1fMS5TeXN0ZW0pKTtcbmV4cG9ydHMuUmVhY3Rpb25TeXN0ZW0gPSBSZWFjdGlvblN5c3RlbTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdWJzY3JpcHRpb24gPSB2b2lkIDA7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgU3Vic2NyaXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbihtZXNzYWdlVHlwZSwgaGFuZGxlcikge1xuICAgICAgICB0aGlzLm1lc3NhZ2VUeXBlID0gbWVzc2FnZVR5cGU7XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG1lc3NhZ2VUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VUeXBlID09PSBtZXNzYWdlVHlwZSAmJiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuaGFuZGxlciA9PT0gaGFuZGxlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydHMuU3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN5c3RlbSA9IHZvaWQgMDtcbi8qKlxuICogU3lzdGVtcyBhcmUgbG9naWMgYnJpY2tzIGluIHlvdXIgYXBwbGljYXRpb24uXG4gKiBJZiB5b3Ugd2FudCB0byBtYW5pcHVsYXRlIGVudGl0aWVzIGFuZCB0aGVpciBjb21wb25lbnRzIC0gaXQgaXMgdGhlIHJpZ2h0IHBsYWNlIGZvciB0aGF0LlxuICovXG52YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHtcbiAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSAwO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3lzdGVtLnByb3RvdHlwZSwgXCJlbmdpbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhbiB7QGxpbmsgRW5naW5lfSBpbnN0YW5jZSB0aGF0IHN5c3RlbSBhdHRhY2hlZCB0b1xuICAgICAgICAgKiBAcmV0dXJucyB7RW5naW5lfVxuICAgICAgICAgKiBAdGhyb3dzIEFuIGVycm9yIGlmIHN5c3RlbSBpcyBub3QgYXR0YWNoZWQgdG8gdGhlIGVuZ2luZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZW5naW5lID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcGVydHkgXFxcImVuZ2luZVxcXCIgY2FuJ3QgYmUgYWNjZXNzZWQgd2hlbiBzeXN0ZW0gaXMgbm90IGFkZGVkIHRvIHRoZSBlbmdpbmVcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbS5wcm90b3R5cGUsIFwic2hhcmVkQ29uZmlnXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYW4ge0BsaW5rIEVudGl0eX0gaW5zdGFuY2UgdGhhdCBpcyBzaGFyZWQgYWNyb3NzIGFsbCBzeXN0ZW1zIGFuZCBjYW4gYmUgdXNlZCBhcyBhIGNvbmZpZy5cbiAgICAgICAgICogQHJldHVybiB7RW50aXR5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZW5naW5lID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcGVydHkgXFxcInNoYXJlZENvbmZpZ1xcXCIgY2FuJ3QgYmUgYWNjZXNzZWQgd2hlbiBzeXN0ZW0gaXMgbm90IGFkZGVkIHRvIHRoZSBlbmdpbmVcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLnNoYXJlZENvbmZpZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTeXN0ZW0ucHJvdG90eXBlLCBcInByaW9yaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSBwcmlvcml0eSBvZiB0aGUgc3lzdGVtXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcmlvcml0eTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFsbCBsb2dpYyBhaW1lZCBhdCBtYWtpbmcgY2hhbmdlcyBpbiBlbnRpdGllcyBhbmQgdGhlaXIgY29tcG9uZW50cyBtdXN0IGJlIHBsYWNlZCBpbiB0aGlzIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gZHQgLSBUaGUgdGltZSBpbiBzZWNvbmRzIGl0IHRvb2sgZnJvbSBwcmV2aW91cyB1cGRhdGUgY2FsbC5cbiAgICAgKi9cbiAgICBTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSBzeXN0ZW0gd2lsbCBiZSBhZGRlZCB0byB0aGUgRW5naW5lLlxuICAgICAqL1xuICAgIFN5c3RlbS5wcm90b3R5cGUub25BZGRlZFRvRW5naW5lID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRoYXQgd2lsbCBiZSBpbnZva2VkIGFmdGVyIHJlbW92aW5nIHN5c3RlbSBmcm9tIGVuZ2luZVxuICAgICAqL1xuICAgIFN5c3RlbS5wcm90b3R5cGUub25SZW1vdmVkRnJvbUVuZ2luZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGEgbWVzc2FnZSwgdGhhdCBjYW4gYmUgY2F1Z2h0IHZpYSB7QGxpbmsgRW5naW5lI3N1YnNjcmliZX0uXG4gICAgICogSXQncyB0aGUgYmVzdCB3YXkgdG8gc2VuZCBhIG1lc3NhZ2Ugb3V0c2lkZS4gVGhpcyBtZWNoYW5pc20gYWxsb3dzIHlvdSBub3QgdG8gaW52ZW50IHRoZSBzaWduYWxzL2Rpc3BhdGNoZXJzXG4gICAgICogbWVjaGFuaXNtIGZvciB5b3VyIHN5c3RlbXMsIHRvIHJlcG9ydCBhbiBldmVudC4gRm9yIGV4YW1wbGUsIHlvdSBjYW4gZGlzcGF0Y2ggdGhhdCB0aGUgZ2FtZSByb3VuZCBoYXMgYmVlblxuICAgICAqIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VH0gbWVzc2FnZVxuICAgICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgc3lzdGVtIGlzIG5vdCBhdHRhY2hlZCB0byB0aGUgZW5naW5lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNsYXNzIFJvdW5kQ29tcGxldGVkIHtcbiAgICAgKiAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgKiAgICAgIHB1YmxpYyByZWFkb25seSB3aW46Ym9vbGVhblxuICAgICAqICAgKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGNvbnN0IGVuZ2luZSA9IG5ldyBFbmdpbmUoKTtcbiAgICAgKiBlbmdpbmUuc3Vic2NyaWJlKFJvdW5kQ29tcGxldGVkLCAobWVzc2FnZTpSb3VuZENvbXBsZXRlZCkgPT4ge1xuICAgICAqICAgaWYgKG1lc3NhZ2Uud2luKSB7XG4gICAgICogICAgIHRoaXMuc2hvd1dpbkRpYWxvZygpO1xuICAgICAqICAgfSBlbHNlIHtcbiAgICAgKiAgICAgdGhpcy5zaG93TG9zZURpYWxvZygpO1xuICAgICAqICAgfVxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiBjbGFzcyBSb3VuZENvbXBsZXRpb25TeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgICAqICAgcHVibGljIHVwZGF0ZShkdDpudW1iZXIpIHtcbiAgICAgKiAgICAgaWYgKGhlcm9lc1F1ZXJ5LmlzRW1wdHkpIHtcbiAgICAgKiAgICAgICB0aGlzLmRpc3BhdGNoKG5ldyBSb3VuZENvbXBsZXRlZChmYWxzZSkpO1xuICAgICAqICAgICB9IGVsc2UgaWYgKGVuZW1pZXNRdWVyeS5pc0VtcHR5KSB7XG4gICAgICogICAgICAgdGhpcy5kaXNwYXRjaChuZXcgUm91bmRDb21wbGV0ZWQodHJ1ZSkpO1xuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFN5c3RlbS5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBpZiAodGhpcy5fZW5naW5lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGlzcGF0Y2hpbmcgYSBtZXNzYWdlIGNhblxcJ3QgYmUgZG9uZSB3aGlsZSBzeXN0ZW0gaXMgbm90IGF0dGFjaGVkIHRvIHRoZSBlbmdpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZ2luZS5kaXNwYXRjaChtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFN5c3RlbS5wcm90b3R5cGUuc2V0RW5naW5lID0gZnVuY3Rpb24gKGVuZ2luZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTeXN0ZW0ucHJvdG90eXBlLnNldFByaW9yaXR5ID0gZnVuY3Rpb24gKHByaW9yaXR5KSB7XG4gICAgICAgIHRoaXMuX3ByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgfTtcbiAgICByZXR1cm4gU3lzdGVtO1xufSgpKTtcbmV4cG9ydHMuU3lzdGVtID0gU3lzdGVtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzVGFnID0gdm9pZCAwO1xuLyoqXG4gKiBUaGlzIHByZWRpY2F0ZSBjYW4gaGVscCB5b3UgdG8gdW5kZXJzdGFuZCB3aGV0aGVyIGl0ZW0gaXMgYSBjb21wb25lbnQgb3IgdGFnXG4gKiBAcGFyYW0gaXRlbVxuICogQHJldHVybnMge2l0ZW0gaXMgVGFnfVxuICovXG5mdW5jdGlvbiBpc1RhZyhpdGVtKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgaXRlbTtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzVGFnID0gaXNUYWc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXRpbHMvQ2xhc3NcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXRpbHMvU2lnbmFsXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Vjcy9Db21wb25lbnRJZFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9lY3MvVGFnXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Vjcy9MaW5rZWRDb21wb25lbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZWNzL0VuZ2luZVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9lY3MvRW50aXR5XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Vjcy9TeXN0ZW1cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZWNzL1F1ZXJ5XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Vjcy9JdGVyYXRpdmVTeXN0ZW1cIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2lnbmFsID0gdm9pZCAwO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG4vKipcbiAqIExpZ2h0d2VpZ2h0IGltcGxlbWVudGF0aW9uIG9mIFNpZ25hbFxuICovXG52YXIgU2lnbmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNpZ25hbCgpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2lnbmFsLnByb3RvdHlwZSwgXCJoYXNIYW5kbGVyc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBzaWduYWwgaGFzIGhhbmRsZXJzXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCA+IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2lnbmFsLnByb3RvdHlwZSwgXCJoYW5kbGVyc0Ftb3VudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGFuIGFtb3VudCBvZiBjb25uZWN0ZWQgaGFuZGxlcnNcbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyBzaWduYWwgaGFuZGxlciwgdGhhdCB3aWxsIGJlIGludm9rZWQgb24gc2lnbmFsIGVtaXQuXG4gICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXG4gICAgICovXG4gICAgU2lnbmFsLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5oYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHNpZ25hbCBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXG4gICAgICovXG4gICAgU2lnbmFsLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5oYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyBhbGwgc2lnbmFsIGhhbmRsZXJzXG4gICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXG4gICAgICovXG4gICAgU2lnbmFsLnByb3RvdHlwZS5kaXNjb25uZWN0QWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGNvbm5lY3RlZCBoYW5kbGVycyB3aXRoIHBhc3NlZCBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7YW55fSBhcmdzXG4gICAgICovXG4gICAgU2lnbmFsLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSB0c2xpYl8xLl9fdmFsdWVzKHRoaXMuaGFuZGxlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmFwcGx5KHZvaWQgMCwgdHNsaWJfMS5fX3NwcmVhZEFycmF5KFtdLCB0c2xpYl8xLl9fcmVhZChhcmdzKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTaWduYWw7XG59KCkpO1xuZXhwb3J0cy5TaWduYWwgPSBTaWduYWw7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXHJcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xyXG4gICAgcmV0dXJuIHRvO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS4zLjIgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuMy4yJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgeyAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHsgLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7IC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsImltcG9ydCBwcm9taXNlRmluYWxseSBmcm9tICcuL2ZpbmFsbHknO1xuaW1wb3J0IGFsbFNldHRsZWQgZnJvbSAnLi9hbGxTZXR0bGVkJztcblxuLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gcHJvbWlzZS1wb2x5ZmlsbCB3aWxsIGJlIHVuYWZmZWN0ZWQgYnlcbi8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxudmFyIHNldFRpbWVvdXRGdW5jID0gc2V0VGltZW91dDtcblxuZnVuY3Rpb24gaXNBcnJheSh4KSB7XG4gIHJldHVybiBCb29sZWFuKHggJiYgdHlwZW9mIHgubGVuZ3RoICE9PSAndW5kZWZpbmVkJyk7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyBQb2x5ZmlsbCBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBQcm9taXNlKGZuKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcignbm90IGEgZnVuY3Rpb24nKTtcbiAgLyoqIEB0eXBlIHshbnVtYmVyfSAqL1xuICB0aGlzLl9zdGF0ZSA9IDA7XG4gIC8qKiBAdHlwZSB7IWJvb2xlYW59ICovXG4gIHRoaXMuX2hhbmRsZWQgPSBmYWxzZTtcbiAgLyoqIEB0eXBlIHtQcm9taXNlfHVuZGVmaW5lZH0gKi9cbiAgdGhpcy5fdmFsdWUgPSB1bmRlZmluZWQ7XG4gIC8qKiBAdHlwZSB7IUFycmF5PCFGdW5jdGlvbj59ICovXG4gIHRoaXMuX2RlZmVycmVkcyA9IFtdO1xuXG4gIGRvUmVzb2x2ZShmbiwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZShzZWxmLCBkZWZlcnJlZCkge1xuICB3aGlsZSAoc2VsZi5fc3RhdGUgPT09IDMpIHtcbiAgICBzZWxmID0gc2VsZi5fdmFsdWU7XG4gIH1cbiAgaWYgKHNlbGYuX3N0YXRlID09PSAwKSB7XG4gICAgc2VsZi5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9oYW5kbGVkID0gdHJ1ZTtcbiAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNiID0gc2VsZi5fc3RhdGUgPT09IDEgPyBkZWZlcnJlZC5vbkZ1bGZpbGxlZCA6IGRlZmVycmVkLm9uUmVqZWN0ZWQ7XG4gICAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgICAoc2VsZi5fc3RhdGUgPT09IDEgPyByZXNvbHZlIDogcmVqZWN0KShkZWZlcnJlZC5wcm9taXNlLCBzZWxmLl92YWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldCA9IGNiKHNlbGYuX3ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZGVmZXJyZWQucHJvbWlzZSwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc29sdmUoZGVmZXJyZWQucHJvbWlzZSwgcmV0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUoc2VsZiwgbmV3VmFsdWUpIHtcbiAgdHJ5IHtcbiAgICAvLyBQcm9taXNlIFJlc29sdXRpb24gUHJvY2VkdXJlOiBodHRwczovL2dpdGh1Yi5jb20vcHJvbWlzZXMtYXBsdXMvcHJvbWlzZXMtc3BlYyN0aGUtcHJvbWlzZS1yZXNvbHV0aW9uLXByb2NlZHVyZVxuICAgIGlmIChuZXdWYWx1ZSA9PT0gc2VsZilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7XG4gICAgaWYgKFxuICAgICAgbmV3VmFsdWUgJiZcbiAgICAgICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICApIHtcbiAgICAgIHZhciB0aGVuID0gbmV3VmFsdWUudGhlbjtcbiAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgc2VsZi5fc3RhdGUgPSAzO1xuICAgICAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBmaW5hbGUoc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZG9SZXNvbHZlKGJpbmQodGhlbiwgbmV3VmFsdWUpLCBzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzZWxmLl9zdGF0ZSA9IDE7XG4gICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBmaW5hbGUoc2VsZik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3Qoc2VsZiwgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHNlbGYuX3N0YXRlID0gMjtcbiAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgZmluYWxlKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBmaW5hbGUoc2VsZikge1xuICBpZiAoc2VsZi5fc3RhdGUgPT09IDIgJiYgc2VsZi5fZGVmZXJyZWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIFByb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLl9oYW5kbGVkKSB7XG4gICAgICAgIFByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHNlbGYuX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBoYW5kbGUoc2VsZiwgc2VsZi5fZGVmZXJyZWRzW2ldKTtcbiAgfVxuICBzZWxmLl9kZWZlcnJlZHMgPSBudWxsO1xufVxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9taXNlKSB7XG4gIHRoaXMub25GdWxmaWxsZWQgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nID8gb25SZWplY3RlZCA6IG51bGw7XG4gIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG59XG5cbi8qKlxuICogVGFrZSBhIHBvdGVudGlhbGx5IG1pc2JlaGF2aW5nIHJlc29sdmVyIGZ1bmN0aW9uIGFuZCBtYWtlIHN1cmVcbiAqIG9uRnVsZmlsbGVkIGFuZCBvblJlamVjdGVkIGFyZSBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIE1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgYXN5bmNocm9ueS5cbiAqL1xuZnVuY3Rpb24gZG9SZXNvbHZlKGZuLCBzZWxmKSB7XG4gIHZhciBkb25lID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgZm4oXG4gICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZShzZWxmLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZWplY3Qoc2VsZiwgcmVhc29uKTtcbiAgICAgIH1cbiAgICApO1xuICB9IGNhdGNoIChleCkge1xuICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVqZWN0KHNlbGYsIGV4KTtcbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAvLyBAdHMtaWdub3JlXG4gIHZhciBwcm9tID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaGFuZGxlKHRoaXMsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9tKSk7XG4gIHJldHVybiBwcm9tO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGVbJ2ZpbmFsbHknXSA9IHByb21pc2VGaW5hbGx5O1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKGFycikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFpc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheScpKTtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzb2x2ZShbXSk7XG4gICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZnVuY3Rpb24gcmVzKGksIHZhbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHZhbCAmJiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhlbi5jYWxsKFxuICAgICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIHJlcyhpLCB2YWwpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyZ3NbaV0gPSB2YWw7XG4gICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJlamVjdChleCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMoaSwgYXJnc1tpXSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UuYWxsU2V0dGxlZCA9IGFsbFNldHRsZWQ7XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBQcm9taXNlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3QodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKGFycikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFpc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignUHJvbWlzZS5yYWNlIGFjY2VwdHMgYW4gYXJyYXknKSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKGFycltpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBVc2UgcG9seWZpbGwgZm9yIHNldEltbWVkaWF0ZSBmb3IgcGVyZm9ybWFuY2UgZ2FpbnNcblByb21pc2UuX2ltbWVkaWF0ZUZuID1cbiAgLy8gQHRzLWlnbm9yZVxuICAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBzZXRJbW1lZGlhdGUoZm4pO1xuICAgIH0pIHx8XG4gIGZ1bmN0aW9uKGZuKSB7XG4gICAgc2V0VGltZW91dEZ1bmMoZm4sIDApO1xuICB9O1xuXG5Qcm9taXNlLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IGZ1bmN0aW9uIF91bmhhbmRsZWRSZWplY3Rpb25GbihlcnIpIHtcbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlKSB7XG4gICAgY29uc29sZS53YXJuKCdQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246JywgZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByb21pc2U7XG4iLCIvKipcbiAqIEB0aGlzIHtQcm9taXNlfVxuICovXG5mdW5jdGlvbiBmaW5hbGx5Q29uc3RydWN0b3IoY2FsbGJhY2spIHtcbiAgdmFyIGNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHRoaXMudGhlbihcbiAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfVxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmaW5hbGx5Q29uc3RydWN0b3I7XG4iLCJmdW5jdGlvbiBhbGxTZXR0bGVkKGFycikge1xuICB2YXIgUCA9IHRoaXM7XG4gIHJldHVybiBuZXcgUChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIShhcnIgJiYgdHlwZW9mIGFyci5sZW5ndGggIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICB0eXBlb2YgYXJyICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICBhcnIgK1xuICAgICAgICAgICAgJyBpcyBub3QgaXRlcmFibGUoY2Fubm90IHJlYWQgcHJvcGVydHkgU3ltYm9sKFN5bWJvbC5pdGVyYXRvcikpJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzb2x2ZShbXSk7XG4gICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZnVuY3Rpb24gcmVzKGksIHZhbCkge1xuICAgICAgaWYgKHZhbCAmJiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdmFyIHRoZW4gPSB2YWwudGhlbjtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhlbi5jYWxsKFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgIHJlcyhpLCB2YWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgYXJnc1tpXSA9IHsgc3RhdHVzOiAncmVqZWN0ZWQnLCByZWFzb246IGUgfTtcbiAgICAgICAgICAgICAgaWYgKC0tcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShhcmdzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhcmdzW2ldID0geyBzdGF0dXM6ICdmdWxmaWxsZWQnLCB2YWx1ZTogdmFsIH07XG4gICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgcmVzb2x2ZShhcmdzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcyhpLCBhcmdzW2ldKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhbGxTZXR0bGVkO1xuIiwiLyohXG4gKiBAcGl4aS9wb2x5ZmlsbCAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9wb2x5ZmlsbCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBQb2x5ZmlsbCBmcm9tICdwcm9taXNlLXBvbHlmaWxsJztcbmltcG9ydCBvYmplY3RBc3NpZ24gZnJvbSAnb2JqZWN0LWFzc2lnbic7XG5cbi8vIFN1cHBvcnQgZm9yIElFIDkgLSAxMSB3aGljaCBkb2VzIG5vdCBpbmNsdWRlIFByb21pc2VzXG5pZiAoIXNlbGYuUHJvbWlzZSkge1xuICAgIHNlbGYuUHJvbWlzZSA9IFBvbHlmaWxsO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmFzc2lnbiA9IG9iamVjdEFzc2lnbjtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuLy8gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIEJyb3dzZXJmaXlcbi8vIEJyb3dzZXJpZnkgYXV0b21hdGljYWxseSBkZXRlY3RzIHRoZSB1c2Ugb2YgYGdsb2JhbGAgYW5kIHBhc3NlcyB0aGVcbi8vIGNvcnJlY3QgcmVmZXJlbmNlIG9mIGBnbG9iYWxgLCBgc2VsZmAsIGFuZCBmaW5hbGx5IGB3aW5kb3dgXG52YXIgT05FX0ZSQU1FX1RJTUUgPSAxNjtcbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSkge1xuICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cbi8vIHBlcmZvcm1hbmNlLm5vd1xuaWYgKCEoc2VsZi5wZXJmb3JtYW5jZSAmJiBzZWxmLnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lXzEgPSBEYXRlLm5vdygpO1xuICAgIGlmICghc2VsZi5wZXJmb3JtYW5jZSkge1xuICAgICAgICBzZWxmLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuICAgIHNlbGYucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZV8xOyB9O1xufVxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhc2VsZi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgIHZhciBwID0gdmVuZG9yc1t4XTtcbiAgICBzZWxmLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHNlbGZbcCArIFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xuICAgIHNlbGYuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBzZWxmW3AgKyBcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdXG4gICAgICAgIHx8IHNlbGZbcCArIFwiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xufVxuaWYgKCFzZWxmLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIHNlbGYucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2sgKyBcImlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBkZWxheSA9IE9ORV9GUkFNRV9USU1FICsgbGFzdFRpbWUgLSBjdXJyZW50VGltZTtcbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgIHJldHVybiBzZWxmLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cbmlmICghc2VsZi5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgIHNlbGYuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7IH07XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cbmlmICghTWF0aC5zaWduKSB7XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gbWF0aFNpZ24oeCkge1xuICAgICAgICB4ID0gTnVtYmVyKHgpO1xuICAgICAgICBpZiAoeCA9PT0gMCB8fCBpc05hTih4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNJbnRlZ2VyXG5pZiAoIU51bWJlci5pc0ludGVnZXIpIHtcbiAgICBOdW1iZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gbnVtYmVySXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG4gICAgfTtcbn1cblxuaWYgKCFzZWxmLkFycmF5QnVmZmVyKSB7XG4gICAgc2VsZi5BcnJheUJ1ZmZlciA9IEFycmF5O1xufVxuaWYgKCFzZWxmLkZsb2F0MzJBcnJheSkge1xuICAgIHNlbGYuRmxvYXQzMkFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXNlbGYuVWludDMyQXJyYXkpIHtcbiAgICBzZWxmLlVpbnQzMkFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXNlbGYuVWludDE2QXJyYXkpIHtcbiAgICBzZWxmLlVpbnQxNkFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXNlbGYuVWludDhBcnJheSkge1xuICAgIHNlbGYuVWludDhBcnJheSA9IEFycmF5O1xufVxuaWYgKCFzZWxmLkludDMyQXJyYXkpIHtcbiAgICBzZWxmLkludDMyQXJyYXkgPSBBcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvbHlmaWxsLmpzLm1hcFxuIiwidmFyIGFwcGxlSXBob25lID0gL2lQaG9uZS9pO1xudmFyIGFwcGxlSXBvZCA9IC9pUG9kL2k7XG52YXIgYXBwbGVUYWJsZXQgPSAvaVBhZC9pO1xudmFyIGFwcGxlVW5pdmVyc2FsID0gL1xcYmlPUy11bml2ZXJzYWwoPzouKylNYWNcXGIvaTtcbnZhciBhbmRyb2lkUGhvbmUgPSAvXFxiQW5kcm9pZCg/Oi4rKU1vYmlsZVxcYi9pO1xudmFyIGFuZHJvaWRUYWJsZXQgPSAvQW5kcm9pZC9pO1xudmFyIGFtYXpvblBob25lID0gLyg/OlNENDkzMFVSfFxcYlNpbGsoPzouKylNb2JpbGVcXGIpL2k7XG52YXIgYW1hem9uVGFibGV0ID0gL1NpbGsvaTtcbnZhciB3aW5kb3dzUGhvbmUgPSAvV2luZG93cyBQaG9uZS9pO1xudmFyIHdpbmRvd3NUYWJsZXQgPSAvXFxiV2luZG93cyg/Oi4rKUFSTVxcYi9pO1xudmFyIG90aGVyQmxhY2tCZXJyeSA9IC9CbGFja0JlcnJ5L2k7XG52YXIgb3RoZXJCbGFja0JlcnJ5MTAgPSAvQkIxMC9pO1xudmFyIG90aGVyT3BlcmEgPSAvT3BlcmEgTWluaS9pO1xudmFyIG90aGVyQ2hyb21lID0gL1xcYihDcmlPU3xDaHJvbWUpKD86LispTW9iaWxlL2k7XG52YXIgb3RoZXJGaXJlZm94ID0gL01vYmlsZSg/Oi4rKUZpcmVmb3hcXGIvaTtcbnZhciBpc0FwcGxlVGFibGV0T25Jb3MxMyA9IGZ1bmN0aW9uIChuYXZpZ2F0b3IpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gJ01hY0ludGVsJyAmJlxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID09PSAnbnVtYmVyJyAmJlxuICAgICAgICBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxICYmXG4gICAgICAgIHR5cGVvZiBNU1N0cmVhbSA9PT0gJ3VuZGVmaW5lZCcpO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZU1hdGNoKHVzZXJBZ2VudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVnZXgpIHsgcmV0dXJuIHJlZ2V4LnRlc3QodXNlckFnZW50KTsgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTW9iaWxlKHBhcmFtKSB7XG4gICAgdmFyIG5hdiA9IHtcbiAgICAgICAgdXNlckFnZW50OiAnJyxcbiAgICAgICAgcGxhdGZvcm06ICcnLFxuICAgICAgICBtYXhUb3VjaFBvaW50czogMFxuICAgIH07XG4gICAgaWYgKCFwYXJhbSAmJiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuYXYgPSB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogbmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgbWF4VG91Y2hQb2ludHM6IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbmF2LnVzZXJBZ2VudCA9IHBhcmFtO1xuICAgIH1cbiAgICBlbHNlIGlmIChwYXJhbSAmJiBwYXJhbS51c2VyQWdlbnQpIHtcbiAgICAgICAgbmF2ID0ge1xuICAgICAgICAgICAgdXNlckFnZW50OiBwYXJhbS51c2VyQWdlbnQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogcGFyYW0ucGxhdGZvcm0sXG4gICAgICAgICAgICBtYXhUb3VjaFBvaW50czogcGFyYW0ubWF4VG91Y2hQb2ludHMgfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgdXNlckFnZW50ID0gbmF2LnVzZXJBZ2VudDtcbiAgICB2YXIgdG1wID0gdXNlckFnZW50LnNwbGl0KCdbRkJBTicpO1xuICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gICAgfVxuICAgIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnVHdpdHRlcicpO1xuICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IGNyZWF0ZU1hdGNoKHVzZXJBZ2VudCk7XG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgYXBwbGU6IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaChhcHBsZUlwaG9uZSkgJiYgIW1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICBpcG9kOiBtYXRjaChhcHBsZUlwb2QpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYXBwbGVJcGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFwcGxlVGFibGV0KSB8fCBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgdW5pdmVyc2FsOiBtYXRjaChhcHBsZVVuaXZlcnNhbCksXG4gICAgICAgICAgICBkZXZpY2U6IChtYXRjaChhcHBsZUlwaG9uZSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZUlwb2QpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVUYWJsZXQpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVVbml2ZXJzYWwpIHx8XG4gICAgICAgICAgICAgICAgaXNBcHBsZVRhYmxldE9uSW9zMTMobmF2KSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKVxuICAgICAgICB9LFxuICAgICAgICBhbWF6b246IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaChhbWF6b25QaG9uZSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhbWF6b25QaG9uZSkgJiYgbWF0Y2goYW1hem9uVGFibGV0KSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uUGhvbmUpIHx8IG1hdGNoKGFtYXpvblRhYmxldClcbiAgICAgICAgfSxcbiAgICAgICAgYW5kcm9pZDoge1xuICAgICAgICAgICAgcGhvbmU6ICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbWF6b25QaG9uZSkpIHx8XG4gICAgICAgICAgICAgICAgKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmIG1hdGNoKGFuZHJvaWRQaG9uZSkpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaChhbWF6b25QaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2goYW5kcm9pZFBob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhbWF6b25UYWJsZXQpIHx8IG1hdGNoKGFuZHJvaWRUYWJsZXQpKSxcbiAgICAgICAgICAgIGRldmljZTogKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFtYXpvblBob25lKSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbWF6b25UYWJsZXQpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRQaG9uZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW5kcm9pZFRhYmxldCkpKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKC9cXGJva2h0dHBcXGIvaSlcbiAgICAgICAgfSxcbiAgICAgICAgd2luZG93czoge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NUYWJsZXQpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaCh3aW5kb3dzUGhvbmUpIHx8IG1hdGNoKHdpbmRvd3NUYWJsZXQpXG4gICAgICAgIH0sXG4gICAgICAgIG90aGVyOiB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiBtYXRjaChvdGhlckJsYWNrQmVycnkpLFxuICAgICAgICAgICAgYmxhY2tiZXJyeTEwOiBtYXRjaChvdGhlckJsYWNrQmVycnkxMCksXG4gICAgICAgICAgICBvcGVyYTogbWF0Y2gob3RoZXJPcGVyYSksXG4gICAgICAgICAgICBmaXJlZm94OiBtYXRjaChvdGhlckZpcmVmb3gpLFxuICAgICAgICAgICAgY2hyb21lOiBtYXRjaChvdGhlckNocm9tZSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKG90aGVyQmxhY2tCZXJyeSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckJsYWNrQmVycnkxMCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlck9wZXJhKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyRmlyZWZveCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckNocm9tZSlcbiAgICAgICAgfSxcbiAgICAgICAgYW55OiBmYWxzZSxcbiAgICAgICAgcGhvbmU6IGZhbHNlLFxuICAgICAgICB0YWJsZXQ6IGZhbHNlXG4gICAgfTtcbiAgICByZXN1bHQuYW55ID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0LmFuZHJvaWQuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQud2luZG93cy5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC5vdGhlci5kZXZpY2U7XG4gICAgcmVzdWx0LnBob25lID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLnBob25lIHx8IHJlc3VsdC5hbmRyb2lkLnBob25lIHx8IHJlc3VsdC53aW5kb3dzLnBob25lO1xuICAgIHJlc3VsdC50YWJsZXQgPVxuICAgICAgICByZXN1bHQuYXBwbGUudGFibGV0IHx8IHJlc3VsdC5hbmRyb2lkLnRhYmxldCB8fCByZXN1bHQud2luZG93cy50YWJsZXQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzTW9iaWxlLmpzLm1hcCIsIi8qIVxuICogQHBpeGkvc2V0dGluZ3MgLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvc2V0dGluZ3MgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgaXNNb2JpbGVDYWxsIGZyb20gJ2lzbW9iaWxlanMnO1xuXG4vLyBUaGUgRVNNL0NKUyB2ZXJzaW9ucyBvZiBpc21vYmlsZWpzIG9ubHlcbnZhciBpc01vYmlsZSA9IGlzTW9iaWxlQ2FsbChzZWxmLm5hdmlnYXRvcik7XG5cbi8qKlxuICogVGhlIG1heGltdW0gcmVjb21tZW5kZWQgdGV4dHVyZSB1bml0cyB0byB1c2UuXG4gKiBJbiB0aGVvcnkgdGhlIGJpZ2dlciB0aGUgYmV0dGVyLCBhbmQgZm9yIGRlc2t0b3Agd2UnbGwgdXNlIGFzIG1hbnkgYXMgd2UgY2FuLlxuICogQnV0IHNvbWUgbW9iaWxlIGRldmljZXMgc2xvdyBkb3duIGlmIHRoZXJlIGlzIHRvIG1hbnkgYnJhbmNoZXMgaW4gdGhlIHNoYWRlci5cbiAqIFNvIGluIHByYWN0aWNlIHRoZXJlIHNlZW1zIHRvIGJlIGEgc3dlZXQgc3BvdCBzaXplIHRoYXQgdmFyaWVzIGRlcGVuZGluZyBvbiB0aGUgZGV2aWNlLlxuICpcbiAqIEluIHY0LCBhbGwgbW9iaWxlIGRldmljZXMgd2VyZSBsaW1pdGVkIHRvIDQgdGV4dHVyZSB1bml0cyBiZWNhdXNlIGZvciB0aGlzLlxuICogSW4gdjUsIHdlIGFsbG93IGFsbCB0ZXh0dXJlIHVuaXRzIHRvIGJlIHVzZWQgb24gbW9kZXJuIEFwcGxlIG9yIEFuZHJvaWQgZGV2aWNlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpIHtcbiAgICB2YXIgYWxsb3dNYXggPSB0cnVlO1xuICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpIHtcbiAgICAgICAgaWYgKGlzTW9iaWxlLmFwcGxlLmRldmljZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspPy8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICAgICAgICAgICAgLy8gTGltaXQgdGV4dHVyZSB1bml0cyBvbiBkZXZpY2VzIGJlbG93IGlPUyAxMSwgd2hpY2ggd2lsbCBiZSBvbGRlciBoYXJkd2FyZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24gPCAxMSkge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvQW5kcm9pZFxccyhbMC05Ll0qKS8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICAgICAgICAgICAgLy8gTGltaXQgdGV4dHVyZSB1bml0cyBvbiBkZXZpY2VzIGJlbG93IEFuZHJvaWQgNyAoTm91Z2F0KSwgd2hpY2ggd2lsbCBiZSBvbGRlciBoYXJkd2FyZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24gPCA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbGxvd01heCA/IG1heCA6IDQ7XG59XG5cbi8qKlxuICogVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzLlxuICogQXBwYXJlbnQgb24gaU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuICogVGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpIHtcbiAgICByZXR1cm4gIWlzTW9iaWxlLmFwcGxlLmRldmljZTtcbn1cblxuLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRU5WXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMX0xFR0FDWSAtIFVzZWQgZm9yIG9sZGVyIHYxIFdlYkdMIGRldmljZXMuIFBpeGlKUyB3aWxsIGFpbSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eVxuICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgcHJlZmVyIHRoaXMgZW52aXJvbm1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBWZXJzaW9uIDEgb2YgV2ViR0xcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTDIgLSBWZXJzaW9uIDIgb2YgV2ViR0xcbiAqL1xudmFyIEVOVjtcbihmdW5jdGlvbiAoRU5WKSB7XG4gICAgRU5WW0VOVltcIldFQkdMX0xFR0FDWVwiXSA9IDBdID0gXCJXRUJHTF9MRUdBQ1lcIjtcbiAgICBFTlZbRU5WW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgICBFTlZbRU5WW1wiV0VCR0wyXCJdID0gMl0gPSBcIldFQkdMMlwiO1xufSkoRU5WIHx8IChFTlYgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEU7XG4oZnVuY3Rpb24gKFJFTkRFUkVSX1RZUEUpIHtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJVTktOT1dOXCJdID0gMF0gPSBcIlVOS05PV05cIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIkNBTlZBU1wiXSA9IDJdID0gXCJDQU5WQVNcIjtcbn0pKFJFTkRFUkVSX1RZUEUgfHwgKFJFTkRFUkVSX1RZUEUgPSB7fSkpO1xuLyoqXG4gKiBCaXR3aXNlIE9SIG9mIG1hc2tzIHRoYXQgaW5kaWNhdGUgdGhlIGJ1ZmZlcnMgdG8gYmUgY2xlYXJlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQlVGRkVSX0JJVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1IgLSBJbmRpY2F0ZXMgdGhlIGJ1ZmZlcnMgY3VycmVudGx5IGVuYWJsZWQgZm9yIGNvbG9yIHdyaXRpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEggLSBJbmRpY2F0ZXMgdGhlIGRlcHRoIGJ1ZmZlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gSW5kaWNhdGVzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAqL1xudmFyIEJVRkZFUl9CSVRTO1xuKGZ1bmN0aW9uIChCVUZGRVJfQklUUykge1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiQ09MT1JcIl0gPSAxNjM4NF0gPSBcIkNPTE9SXCI7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJERVBUSFwiXSA9IDI1Nl0gPSBcIkRFUFRIXCI7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJTVEVOQ0lMXCJdID0gMTAyNF0gPSBcIlNURU5DSUxcIjtcbn0pKEJVRkZFUl9CSVRTIHx8IChCVUZGRVJfQklUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTl9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVUJUUkFDVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVJBU0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBYT1JcbiAqL1xudmFyIEJMRU5EX01PREVTO1xuKGZ1bmN0aW9uIChCTEVORF9NT0RFUykge1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREXCJdID0gMV0gPSBcIkFERFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTVVMVElQTFlcIl0gPSAyXSA9IFwiTVVMVElQTFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTlwiXSA9IDNdID0gXCJTQ1JFRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk9WRVJMQVlcIl0gPSA0XSA9IFwiT1ZFUkxBWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiREFSS0VOXCJdID0gNV0gPSBcIkRBUktFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTElHSFRFTlwiXSA9IDZdID0gXCJMSUdIVEVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9ET0RHRVwiXSA9IDddID0gXCJDT0xPUl9ET0RHRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfQlVSTlwiXSA9IDhdID0gXCJDT0xPUl9CVVJOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIQVJEX0xJR0hUXCJdID0gOV0gPSBcIkhBUkRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNPRlRfTElHSFRcIl0gPSAxMF0gPSBcIlNPRlRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRJRkZFUkVOQ0VcIl0gPSAxMV0gPSBcIkRJRkZFUkVOQ0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVYQ0xVU0lPTlwiXSA9IDEyXSA9IFwiRVhDTFVTSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIVUVcIl0gPSAxM10gPSBcIkhVRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0FUVVJBVElPTlwiXSA9IDE0XSA9IFwiU0FUVVJBVElPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JcIl0gPSAxNV0gPSBcIkNPTE9SXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMVU1JTk9TSVRZXCJdID0gMTZdID0gXCJMVU1JTk9TSVRZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxfTlBNXCJdID0gMTddID0gXCJOT1JNQUxfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERfTlBNXCJdID0gMThdID0gXCJBRERfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5fTlBNXCJdID0gMTldID0gXCJTQ1JFRU5fTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT05FXCJdID0gMjBdID0gXCJOT05FXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1ZFUlwiXSA9IDBdID0gXCJTUkNfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0lOXCJdID0gMjFdID0gXCJTUkNfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVVRcIl0gPSAyMl0gPSBcIlNSQ19PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19BVE9QXCJdID0gMjNdID0gXCJTUkNfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09WRVJcIl0gPSAyNF0gPSBcIkRTVF9PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfSU5cIl0gPSAyNV0gPSBcIkRTVF9JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09VVFwiXSA9IDI2XSA9IFwiRFNUX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0FUT1BcIl0gPSAyN10gPSBcIkRTVF9BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFUkFTRVwiXSA9IDI2XSA9IFwiRVJBU0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNVQlRSQUNUXCJdID0gMjhdID0gXCJTVUJUUkFDVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiWE9SXCJdID0gMjldID0gXCJYT1JcIjtcbn0pKEJMRU5EX01PREVTIHx8IChCTEVORF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgd2ViZ2wgZHJhdyBtb2Rlcy4gVGhlc2UgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB3aGljaCBHTCBkcmF3TW9kZSB0byB1c2VcbiAqIHVuZGVyIGNlcnRhaW4gc2l0dWF0aW9ucyBhbmQgcmVuZGVyZXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBEUkFXX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPSU5UU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfRkFOXG4gKi9cbnZhciBEUkFXX01PREVTO1xuKGZ1bmN0aW9uIChEUkFXX01PREVTKSB7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiUE9JTlRTXCJdID0gMF0gPSBcIlBPSU5UU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVTXCJdID0gMV0gPSBcIkxJTkVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9MT09QXCJdID0gMl0gPSBcIkxJTkVfTE9PUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfU1RSSVBcIl0gPSAzXSA9IFwiTElORV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFU1wiXSA9IDRdID0gXCJUUklBTkdMRVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9TVFJJUFwiXSA9IDVdID0gXCJUUklBTkdMRV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX0ZBTlwiXSA9IDZdID0gXCJUUklBTkdMRV9GQU5cIjtcbn0pKERSQVdfTU9ERVMgfHwgKERSQVdfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIHRleHR1cmUvcmVzb3VyY2VzIGZvcm1hdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEZPUk1BVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkdCQT02NDA4XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkdCPTY0MDdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUQ9NjQwM1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTO1xuKGZ1bmN0aW9uIChGT1JNQVRTKSB7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTO1xuKGZ1bmN0aW9uIChUQVJHRVRTKSB7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbn0pKFRBUkdFVFMgfHwgKFRBUkdFVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRcIl0gPSA1MTI2XSA9IFwiRkxPQVRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgc2FtcGxlciB0eXBlcy4gQ29ycmVzcG9uZCB0byBgc2FtcGxlcmAsIGBpc2FtcGxlcmAsIGB1c2FtcGxlcmAgR0xTTCB0eXBlcyByZXNwZWN0aXZlbHkuXG4gKiBXZWJHTDEgd29ya3Mgb25seSB3aXRoIEZMT0FULlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQU1QTEVSX1RZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlQ9MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVJTlQ9MlxuICovXG52YXIgU0FNUExFUl9UWVBFUztcbihmdW5jdGlvbiAoU0FNUExFUl9UWVBFUykge1xuICAgIFNBTVBMRVJfVFlQRVNbU0FNUExFUl9UWVBFU1tcIkZMT0FUXCJdID0gMF0gPSBcIkZMT0FUXCI7XG4gICAgU0FNUExFUl9UWVBFU1tTQU1QTEVSX1RZUEVTW1wiSU5UXCJdID0gMV0gPSBcIklOVFwiO1xuICAgIFNBTVBMRVJfVFlQRVNbU0FNUExFUl9UWVBFU1tcIlVJTlRcIl0gPSAyXSA9IFwiVUlOVFwiO1xufSkoU0FNUExFUl9UWVBFUyB8fCAoU0FNUExFUl9UWVBFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTl9NQU5VQUwgLSBVc2UgbWlwbWFwcywgYnV0IGRvIG5vdCBhdXRvLWdlbmVyYXRlIHRoZW07IHRoaXMgaXMgdXNlZCB3aXRoIGEgcmVzb3VyY2VcbiAqICAgdGhhdCBzdXBwb3J0cyBidWZmZXJpbmcgZWFjaCBsZXZlbC1vZi1kZXRhaWwuXG4gKi9cbnZhciBNSVBNQVBfTU9ERVM7XG4oZnVuY3Rpb24gKE1JUE1BUF9NT0RFUykge1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPRkZcIl0gPSAwXSA9IFwiT0ZGXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIlBPVzJcIl0gPSAxXSA9IFwiUE9XMlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPTlwiXSA9IDJdID0gXCJPTlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPTl9NQU5VQUxcIl0gPSAzXSA9IFwiT05fTUFOVUFMXCI7XG59KShNSVBNQVBfTU9ERVMgfHwgKE1JUE1BUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25maWd1cmUgd2hldGhlciBmaWx0ZXIgdGV4dHVyZXMgYXJlIGNsZWFyZWQgYWZ0ZXIgYmluZGluZy5cbiAqXG4gKiBGaWx0ZXIgdGV4dHVyZXMgbmVlZCBub3QgYmUgY2xlYXJlZCBpZiB0aGUgZmlsdGVyIGRvZXMgbm90IHVzZSBwaXhlbCBibGVuZGluZy4ge0BsaW5rIENMRUFSX01PREVTLkJMSVR9IHdpbGwgZGV0ZWN0XG4gKiB0aGlzIGFuZCBza2lwIGNsZWFyaW5nIGFzIGFuIG9wdGltaXphdGlvbi5cbiAqXG4gKiBAbmFtZSBDTEVBUl9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxFTkQgLSBEbyBub3QgY2xlYXIgdGhlIGZpbHRlciB0ZXh0dXJlLiBUaGUgZmlsdGVyJ3Mgb3V0cHV0IHdpbGwgYmxlbmQgb24gdG9wIG9mIHRoZSBvdXRwdXQgdGV4dHVyZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEVBUiAtIEFsd2F5cyBjbGVhciB0aGUgZmlsdGVyIHRleHR1cmUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxJVCAtIENsZWFyIG9ubHkgaWYge0BsaW5rIEZpbHRlclN5c3RlbS5mb3JjZUNsZWFyfSBpcyBzZXQgb3IgaWYgdGhlIGZpbHRlciB1c2VzIHBpeGVsIGJsZW5kaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PIC0gQWxpYXMgZm9yIEJMRU5ELCBzYW1lIGFzIGBmYWxzZWAgaW4gZWFybGllciB2ZXJzaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFlFUyAtIEFsaWFzIGZvciBDTEVBUiwgc2FtZSBhcyBgdHJ1ZWAgaW4gZWFybGllciB2ZXJzaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBBbGlhcyBmb3IgQkxJVFxuICovXG52YXIgQ0xFQVJfTU9ERVM7XG4oZnVuY3Rpb24gKENMRUFSX01PREVTKSB7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJOT1wiXSA9IDBdID0gXCJOT1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiWUVTXCJdID0gMV0gPSBcIllFU1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQVVUT1wiXSA9IDJdID0gXCJBVVRPXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJCTEVORFwiXSA9IDBdID0gXCJCTEVORFwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQ0xFQVJcIl0gPSAxXSA9IFwiQ0xFQVJcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMSVRcIl0gPSAyXSA9IFwiQkxJVFwiO1xufSkoQ0xFQVJfTU9ERVMgfHwgKENMRUFSX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIGdjIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5HQ19NT0RFfSBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZSBmb3IgUGl4aUpTIHRleHR1cmVzIGlzIEFVVE9cbiAqIElmIHNldCB0byBHQ19NT0RFLCB0aGUgcmVuZGVyZXIgd2lsbCBvY2Nhc2lvbmFsbHkgY2hlY2sgdGV4dHVyZXMgdXNhZ2UuIElmIHRoZXkgYXJlIG5vdFxuICogdXNlZCBmb3IgYSBzcGVjaWZpZWQgcGVyaW9kIG9mIHRpbWUgdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLiBUaGV5IHdpbGwgb2YgY291cnNlXG4gKiBiZSB1cGxvYWRlZCBhZ2FpbiB3aGVuIHRoZXkgYXJlIHJlcXVpcmVkLiBUaGlzIGlzIGEgc2lsZW50IGJlaGluZCB0aGUgc2NlbmVzIHByb2Nlc3MgdGhhdFxuICogc2hvdWxkIGVuc3VyZSB0aGF0IHRoZSBHUFUgZG9lcyBub3QgIGdldCBmaWxsZWQgdXAuXG4gKlxuICogSGFuZHkgZm9yIG1vYmlsZSBkZXZpY2VzIVxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVM7XG4oZnVuY3Rpb24gKEdDX01PREVTKSB7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJBVVRPXCJdID0gMF0gPSBcIkFVVE9cIjtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIk1BTlVBTFwiXSA9IDFdID0gXCJNQU5VQUxcIjtcbn0pKEdDX01PREVTIHx8IChHQ19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQG5hbWUgUFJFQ0lTSU9OXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNvbnN0YW50XG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbnZhciBQUkVDSVNJT047XG4oZnVuY3Rpb24gKFBSRUNJU0lPTikge1xuICAgIFBSRUNJU0lPTltcIkxPV1wiXSA9IFwibG93cFwiO1xuICAgIFBSRUNJU0lPTltcIk1FRElVTVwiXSA9IFwibWVkaXVtcFwiO1xuICAgIFBSRUNJU0lPTltcIkhJR0hcIl0gPSBcImhpZ2hwXCI7XG59KShQUkVDSVNJT04gfHwgKFBSRUNJU0lPTiA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyBmb3IgbWFzayBpbXBsZW1lbnRhdGlvbnMuXG4gKiBXZSB1c2UgYHR5cGVgIHN1ZmZpeCBiZWNhdXNlIGl0IGxlYWRzIHRvIHZlcnkgZGlmZmVyZW50IGJlaGF2aW91cnNcbiAqXG4gKiBAbmFtZSBNQVNLX1RZUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTWFzayBpcyBpZ25vcmVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NJU1NPUiAtIFNjaXNzb3IgbWFzaywgcmVjdGFuZ2xlIG9uIHNjcmVlbiwgY2hlYXBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gU3RlbmNpbCBtYXNrLCAxLWJpdCwgbWVkaXVtLCB3b3JrcyBvbmx5IGlmIHJlbmRlcmVyIHN1cHBvcnRzIHN0ZW5jaWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUFJJVEUgLSBNYXNrIHRoYXQgdXNlcyBTcHJpdGVNYXNrRmlsdGVyLCB1c2VzIHRlbXBvcmFyeSBSZW5kZXJUZXh0dXJlXG4gKi9cbnZhciBNQVNLX1RZUEVTO1xuKGZ1bmN0aW9uIChNQVNLX1RZUEVTKSB7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU0NJU1NPUlwiXSA9IDFdID0gXCJTQ0lTU09SXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1RFTkNJTFwiXSA9IDJdID0gXCJTVEVOQ0lMXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1BSSVRFXCJdID0gM10gPSBcIlNQUklURVwiO1xufSkoTUFTS19UWVBFUyB8fCAoTUFTS19UWVBFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyBmb3IgbXVsdGktc2FtcGxpbmcgYW50aWFsaWFzaW5nLlxuICpcbiAqIEBzZWUgUElYSS5GcmFtZWJ1ZmZlciNtdWx0aXNhbXBsZVxuICpcbiAqIEBuYW1lIE1TQUFfUVVBTElUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE5vIG11bHRpc2FtcGxpbmcgZm9yIHRoaXMgcmVuZGVyVGV4dHVyZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVyAtIFRyeSAyIHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNRURJVU0gLSBUcnkgNCBzYW1wbGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSCAtIFRyeSA4IHNhbXBsZXNcbiAqL1xudmFyIE1TQUFfUVVBTElUWTtcbihmdW5jdGlvbiAoTVNBQV9RVUFMSVRZKSB7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJMT1dcIl0gPSAyXSA9IFwiTE9XXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIk1FRElVTVwiXSA9IDRdID0gXCJNRURJVU1cIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiSElHSFwiXSA9IDhdID0gXCJISUdIXCI7XG59KShNU0FBX1FVQUxJVFkgfHwgKE1TQUFfUVVBTElUWSA9IHt9KSk7XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcHJlY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xudmFyIHNldHRpbmdzID0ge1xuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlIFdlYkdMIHdpbGwgYXR0ZW1wdCBtYWtlIHRleHR1cmVzIG1pbXBhcGVkIGJ5IGRlZmF1bHQuXG4gICAgICogTWlwbWFwcGluZyB3aWxsIG9ubHkgc3VjY2VlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIHVwbG9hZGVkIGhhcyBwb3dlciBvZiB0d28gZGltZW5zaW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBNSVBNQVBfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLk1JUE1BUF9NT0RFUy5QT1cyXG4gICAgICovXG4gICAgTUlQTUFQX1RFWFRVUkVTOiBNSVBNQVBfTU9ERVMuUE9XMixcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlcy5cbiAgICAgKiBVc3VhbGx5IGZyb20gMCB0byAxNlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIFJFU09MVVRJT046IDEsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBmaWx0ZXIgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBGSUxURVJfUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgRklMVEVSX1JFU09MVVRJT046IDEsXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG4gICAgLy8gVE9ETzogbWF5YmUgY2hhbmdlIHRvIFNQUklURS5CQVRDSF9TSVpFOiAyMDAwXG4gICAgLy8gVE9ETzogbWF5YmUgYWRkIFBBUlRJQ0xFLkJBVENIX1NJWkU6IDE1MDAwXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBhaW1zIHRvIGJhbGFuY2UgZGVza3RvcCBhbmQgbW9iaWxlIGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNDA5NlxuICAgICAqL1xuICAgIFNQUklURV9CQVRDSF9TSVpFOiA0MDk2LFxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICAgICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRU5ERVJfT1BUSU9OU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b0RlbnNpdHk9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHVzZUNvbnRleHRBbHBoYT10cnVlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYWNrZ3JvdW5kQWxwaGE9MVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICAgKi9cbiAgICBSRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICB2aWV3OiBudWxsLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogMHgwMDAwMDAsXG4gICAgICAgIGJhY2tncm91bmRBbHBoYTogMSxcbiAgICAgICAgdXNlQ29udGV4dEFscGhhOiB0cnVlLFxuICAgICAgICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZSxcbiAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IDgwMCxcbiAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgIGxlZ2FjeTogZmFsc2UsXG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgICAqL1xuICAgIEdDX01PREU6IEdDX01PREVTLkFVVE8sXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4IGlkbGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTUFYX0lETEVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMzYwMFxuICAgICAqL1xuICAgIEdDX01BWF9JRExFOiA2MCAqIDYwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heGltdW0gY2hlY2sgY291bnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuICAgIEdDX01BWF9DSEVDS19DT1VOVDogNjAgKiAxMCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgV1JBUF9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgICAqL1xuICAgIFdSQVBfTU9ERTogV1JBUF9NT0RFUy5DTEFNUCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNjYWxlIG1vZGUgZm9yIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNDQUxFX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0NBTEVfTU9ERVMuTElORUFSXG4gICAgICovXG4gICAgU0NBTEVfTU9ERTogU0NBTEVfTU9ERVMuTElORUFSLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6IFBSRUNJU0lPTi5ISUdILFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIGlPUyBpcyBiZXN0IHNldCBhdCBoaWdocCBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8zNzQyXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUFJFQ0lTSU9OX0ZSQUdNRU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uTUVESVVNXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX0ZSQUdNRU5UOiBpc01vYmlsZS5hcHBsZS5kZXZpY2UgPyBQUkVDSVNJT04uSElHSCA6IFBSRUNJU0lPTi5NRURJVU0sXG4gICAgLyoqXG4gICAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogY2FuVXBsb2FkU2FtZUJ1ZmZlcigpLFxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgUk9VTkRfUElYRUxTOiBmYWxzZSxcbn07XG5cbmV4cG9ydCB7IGlzTW9iaWxlLCBzZXR0aW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2NvbnN0YW50cyAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9jb25zdGFudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFRD02NDAzXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUxQSEE9NjQwNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRT02NDA5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFX0FMUEhBPTY0MTBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9DT01QT05FTlQ9NjQwMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX1NURU5DSUw9MzQwNDFcbiAqL1xudmFyIEZPUk1BVFM7XG4oZnVuY3Rpb24gKEZPUk1BVFMpIHtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JBXCJdID0gNjQwOF0gPSBcIlJHQkFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JcIl0gPSA2NDA3XSA9IFwiUkdCXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiQUxQSEFcIl0gPSA2NDA2XSA9IFwiQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VcIl0gPSA2NDA5XSA9IFwiTFVNSU5BTkNFXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFX0FMUEhBXCJdID0gNjQxMF0gPSBcIkxVTUlOQU5DRV9BTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX0NPTVBPTkVOVFwiXSA9IDY0MDJdID0gXCJERVBUSF9DT01QT05FTlRcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9TVEVOQ0lMXCJdID0gMzQwNDFdID0gXCJERVBUSF9TVEVOQ0lMXCI7XG59KShGT1JNQVRTIHx8IChGT1JNQVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0YXJnZXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRD0zNTUzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUD0zNDA2N1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkRfQVJSQVk9MzU4NjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g9MzQwNjlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g9MzQwNzBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k9MzQwNzFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1k9MzQwNzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o9MzQwNzNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o9MzQwNzRcbiAqL1xudmFyIFRBUkdFVFM7XG4oZnVuY3Rpb24gKFRBUkdFVFMpIHtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEXCJdID0gMzU1M10gPSBcIlRFWFRVUkVfMkRcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQXCJdID0gMzQwNjddID0gXCJURVhUVVJFX0NVQkVfTUFQXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRF9BUlJBWVwiXSA9IDM1ODY2XSA9IFwiVEVYVFVSRV8yRF9BUlJBWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiXSA9IDM0MDY5XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCJdID0gMzQwNzBdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIl0gPSAzNDA3MV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiXSA9IDM0MDcyXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCJdID0gMzQwNzNdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIl0gPSAzNDA3NF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiO1xufSkoVEFSR0VUUyB8fCAoVEFSR0VUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX0JZVEU9NTEyMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUPTUxMjNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzZfNT0zMzYzNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9NTEyNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBTEZfRkxPQVQ9MzYxOTNcbiAqL1xudmFyIFRZUEVTO1xuKGZ1bmN0aW9uIChUWVBFUykge1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfQllURVwiXSA9IDUxMjFdID0gXCJVTlNJR05FRF9CWVRFXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVFwiXSA9IDUxMjNdID0gXCJVTlNJR05FRF9TSE9SVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV82XzVcIl0gPSAzMzYzNV0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCJdID0gMzI4MTldID0gXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCJdID0gMzI4MjBdID0gXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJGTE9BVFwiXSA9IDUxMjZdID0gXCJGTE9BVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiSEFMRl9GTE9BVFwiXSA9IDM2MTkzXSA9IFwiSEFMRl9GTE9BVFwiO1xufSkoVFlQRVMgfHwgKFRZUEVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBzYW1wbGVyIHR5cGVzLiBDb3JyZXNwb25kIHRvIGBzYW1wbGVyYCwgYGlzYW1wbGVyYCwgYHVzYW1wbGVyYCBHTFNMIHR5cGVzIHJlc3BlY3RpdmVseS5cbiAqIFdlYkdMMSB3b3JrcyBvbmx5IHdpdGggRkxPQVQuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNBTVBMRVJfVFlQRVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IElOVD0xXG4gKiBAcHJvcGVydHkge251bWJlcn0gVUlOVD0yXG4gKi9cbnZhciBTQU1QTEVSX1RZUEVTO1xuKGZ1bmN0aW9uIChTQU1QTEVSX1RZUEVTKSB7XG4gICAgU0FNUExFUl9UWVBFU1tTQU1QTEVSX1RZUEVTW1wiRkxPQVRcIl0gPSAwXSA9IFwiRkxPQVRcIjtcbiAgICBTQU1QTEVSX1RZUEVTW1NBTVBMRVJfVFlQRVNbXCJJTlRcIl0gPSAxXSA9IFwiSU5UXCI7XG4gICAgU0FNUExFUl9UWVBFU1tTQU1QTEVSX1RZUEVTW1wiVUlOVFwiXSA9IDJdID0gXCJVSU5UXCI7XG59KShTQU1QTEVSX1RZUEVTIHx8IChTQU1QTEVSX1RZUEVTID0ge30pKTtcbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUztcbihmdW5jdGlvbiAoU0NBTEVfTU9ERVMpIHtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIk5FQVJFU1RcIl0gPSAwXSA9IFwiTkVBUkVTVFwiO1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTElORUFSXCJdID0gMV0gPSBcIkxJTkVBUlwiO1xufSkoU0NBTEVfTU9ERVMgfHwgKFNDQUxFX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyBXZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVM7XG4oZnVuY3Rpb24gKFdSQVBfTU9ERVMpIHtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJDTEFNUFwiXSA9IDMzMDcxXSA9IFwiQ0xBTVBcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJSRVBFQVRcIl0gPSAxMDQ5N10gPSBcIlJFUEVBVFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIk1JUlJPUkVEX1JFUEVBVFwiXSA9IDMzNjQ4XSA9IFwiTUlSUk9SRURfUkVQRUFUXCI7XG59KShXUkFQX01PREVTIHx8IChXUkFQX01PREVTID0ge30pKTtcbi8qKlxuICogTWlwbWFwIGZpbHRlcmluZyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTfSBhZmZlY3RzIGRlZmF1bHQgdGV4dHVyZSBmaWx0ZXJpbmcuXG4gKiBNaXBtYXBzIGFyZSBnZW5lcmF0ZWQgZm9yIGEgYmFzZVRleHR1cmUgaWYgaXRzIGBtaXBtYXBgIGZpZWxkIGlzIGBPTmAsXG4gKiBvciBpdHMgYFBPVzJgIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvd2VycyBvZiAyLlxuICogRHVlIHRvIHBsYXRmb3JtIHJlc3RyaWN0aW9uLCBgT05gIG9wdGlvbiB3aWxsIHdvcmsgbGlrZSBgUE9XMmAgZm9yIHdlYmdsLTEuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgTUlQTUFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPRkYgLSBObyBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9XMiAtIEdlbmVyYXRlIG1pcG1hcHMgaWYgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3cyXG4gKiBAcHJvcGVydHkge251bWJlcn0gT04gLSBBbHdheXMgZ2VuZXJhdGUgbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OX01BTlVBTCAtIFVzZSBtaXBtYXBzLCBidXQgZG8gbm90IGF1dG8tZ2VuZXJhdGUgdGhlbTsgdGhpcyBpcyB1c2VkIHdpdGggYSByZXNvdXJjZVxuICogICB0aGF0IHN1cHBvcnRzIGJ1ZmZlcmluZyBlYWNoIGxldmVsLW9mLWRldGFpbC5cbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OX01BTlVBTFwiXSA9IDNdID0gXCJPTl9NQU5VQUxcIjtcbn0pKE1JUE1BUF9NT0RFUyB8fCAoTUlQTUFQX01PREVTID0ge30pKTtcbi8qKlxuICogSG93IHRvIHRyZWF0IHRleHR1cmVzIHdpdGggcHJlbXVsdGlwbGllZCBhbHBoYVxuICpcbiAqIEBuYW1lIEFMUEhBX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT19QUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBsZWF2ZSBpdCBsaWtlIHRoYXQuXG4gKiAgT3B0aW9uIGZvciBjb21wcmVzc2VkIGFuZCBkYXRhIHRleHR1cmVzIHRoYXQgYXJlIGNyZWF0ZWQgZnJvbSB0eXBlZCBhcnJheXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTFlfT05fVVBMT0FEIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBwcmVtdWx0aXBseSBvbiB1cGxvYWQuXG4gKiAgRGVmYXVsdCBvcHRpb24sIHVzZWQgZm9yIGFsbCBsb2FkZWQgaW1hZ2VzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgYWxyZWFkeSBwcmVtdWx0aXBsaWVkXG4gKiAgRXhhbXBsZTogc3BpbmUgYXRsYXNlcyB3aXRoIGBfcG1hYCBzdWZmaXguXG4gKiBAcHJvcGVydHkge251bWJlcn0gTlBNIC0gQWxpYXMgZm9yIE5PX1BSRU1VTFRJUExJRURfQUxQSEEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5QQUNLIC0gRGVmYXVsdCBvcHRpb24sIGFsaWFzIGZvciBQUkVNVUxUSVBMWV9PTl9VUExPQUQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE1BIC0gQWxpYXMgZm9yIFBSRU1VTFRJUExJRURfQUxQSEEuXG4gKi9cbnZhciBBTFBIQV9NT0RFUztcbihmdW5jdGlvbiAoQUxQSEFfTU9ERVMpIHtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5QTVwiXSA9IDBdID0gXCJOUE1cIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlVOUEFDS1wiXSA9IDFdID0gXCJVTlBBQ0tcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBNQVwiXSA9IDJdID0gXCJQTUFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIl0gPSAwXSA9IFwiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfT05fVVBMT0FEXCJdID0gMV0gPSBcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfQUxQSEFcIl0gPSAyXSA9IFwiUFJFTVVMVElQTFlfQUxQSEFcIjtcbn0pKEFMUEhBX01PREVTIHx8IChBTFBIQV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIENvbmZpZ3VyZSB3aGV0aGVyIGZpbHRlciB0ZXh0dXJlcyBhcmUgY2xlYXJlZCBhZnRlciBiaW5kaW5nLlxuICpcbiAqIEZpbHRlciB0ZXh0dXJlcyBuZWVkIG5vdCBiZSBjbGVhcmVkIGlmIHRoZSBmaWx0ZXIgZG9lcyBub3QgdXNlIHBpeGVsIGJsZW5kaW5nLiB7QGxpbmsgQ0xFQVJfTU9ERVMuQkxJVH0gd2lsbCBkZXRlY3RcbiAqIHRoaXMgYW5kIHNraXAgY2xlYXJpbmcgYXMgYW4gb3B0aW1pemF0aW9uLlxuICpcbiAqIEBuYW1lIENMRUFSX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTEVORCAtIERvIG5vdCBjbGVhciB0aGUgZmlsdGVyIHRleHR1cmUuIFRoZSBmaWx0ZXIncyBvdXRwdXQgd2lsbCBibGVuZCBvbiB0b3Agb2YgdGhlIG91dHB1dCB0ZXh0dXJlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gQWx3YXlzIGNsZWFyIHRoZSBmaWx0ZXIgdGV4dHVyZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb25seSBpZiB7QGxpbmsgRmlsdGVyU3lzdGVtLmZvcmNlQ2xlYXJ9IGlzIHNldCBvciBpZiB0aGUgZmlsdGVyIHVzZXMgcGl4ZWwgYmxlbmRpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUztcbihmdW5jdGlvbiAoR0NfTU9ERVMpIHtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIkFVVE9cIl0gPSAwXSA9IFwiQVVUT1wiO1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiTUFOVUFMXCJdID0gMV0gPSBcIk1BTlVBTFwiO1xufSkoR0NfTU9ERVMgfHwgKEdDX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xudmFyIE1BU0tfVFlQRVM7XG4oZnVuY3Rpb24gKE1BU0tfVFlQRVMpIHtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtdWx0aS1zYW1wbGluZyBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHNlZSBQSVhJLkZyYW1lYnVmZmVyI211bHRpc2FtcGxlXG4gKlxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcblxuZXhwb3J0IHsgQUxQSEFfTU9ERVMsIEJMRU5EX01PREVTLCBCVUZGRVJfQklUUywgQ0xFQVJfTU9ERVMsIERSQVdfTU9ERVMsIEVOViwgRk9STUFUUywgR0NfTU9ERVMsIE1BU0tfVFlQRVMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBQUkVDSVNJT04sIFJFTkRFUkVSX1RZUEUsIFNBTVBMRVJfVFlQRVMsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUywgV1JBUF9NT0RFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS91dGlscyAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS91dGlscyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlYXJjdXQgfSBmcm9tICdlYXJjdXQnO1xuaW1wb3J0IHsgcGFyc2UsIGZvcm1hdCwgcmVzb2x2ZSB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIHJlZGVjbGFyZWQgdHlwZXMgZm9yIE5vZGUgYHVybGAgYW5kIGBxdWVyeXN0cmluZ2AgbW9kdWxlcy4gVGhlc2UgbW9kdWxlc1xuICogZG9uJ3QgcHJvdmlkZSB0aGVpciBvd24gdHlwaW5ncyBidXQgaW5zdGVhZCBhcmUgYSBwYXJ0IG9mIHRoZSBmdWxsIE5vZGUgdHlwaW5ncy4gVGhlIHB1cnBvc2Ugb2ZcbiAqIHRoaXMgZmlsZSBpcyB0byByZWRlY2xhcmUgdGhlIHJlcXVpcmVkIHR5cGVzIHRvIGF2b2lkIGhhdmluZyB0aGUgd2hvbGUgTm9kZSB0eXBlcyBhcyBhXG4gKiBkZXBlbmRlbmN5LlxuICovXG52YXIgdXJsID0ge1xuICAgIHBhcnNlOiBwYXJzZSxcbiAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICByZXNvbHZlOiByZXNvbHZlLFxufTtcblxuLyoqXG4gKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUkVUSU5BX1BSRUZJWFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAZGVmYXVsdCAvQChbMC05XFwuXSspeC9cbiAqIEBleGFtcGxlIGBAMnhgXG4gKi9cbnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSAvQChbMC05XFwuXSspeC87XG4vKipcbiAqIFNob3VsZCB0aGUgYGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXRgIGZsYWcgYmUgZW5hYmxlZCBhcyBhIGNvbnRleHQgb3B0aW9uIHVzZWQgaW4gdGhlIGBpc1dlYkdMU3VwcG9ydGVkYCBmdW5jdGlvbi5cbiAqIElmIHNldCB0byB0cnVlLCBhIFdlYkdMIHJlbmRlcmVyIGNhbiBmYWlsIHRvIGJlIGNyZWF0ZWQgaWYgdGhlIGJyb3dzZXIgdGhpbmtzIHRoZXJlIGNvdWxkIGJlIHBlcmZvcm1hbmNlIGlzc3VlcyB3aGVuXG4gKiB1c2luZyBXZWJHTC5cbiAqXG4gKiBJbiBQaXhpSlMgdjYgdGhpcyBoYXMgY2hhbmdlZCBmcm9tIHRydWUgdG8gZmFsc2UgYnkgZGVmYXVsdCwgdG8gYWxsb3cgV2ViR0wgdG8gd29yayBpbiBhcyBtYW55IHNjZW5hcmlvcyBhcyBwb3NzaWJsZS5cbiAqIEhvd2V2ZXIsIHNvbWUgdXNlcnMgbWF5IGhhdmUgYSBwb29yIGV4cGVyaWVuY2UsIGZvciBleGFtcGxlLCBpZiBhIHVzZXIgaGFzIGEgZ3B1IG9yIGRyaXZlciB2ZXJzaW9uIGJsYWNrbGlzdGVkIGJ5IHRoZVxuICogYnJvd3Nlci5cbiAqXG4gKiBJZiB5b3VyIGFwcGxpY2F0aW9uIHJlcXVpcmVzIGhpZ2ggcGVyZm9ybWFuY2UgcmVuZGVyaW5nLCB5b3UgbWF5IHdpc2ggdG8gc2V0IHRoaXMgdG8gZmFsc2UuXG4gKiBXZSByZWNvbW1lbmQgb25lIG9mIHR3byBvcHRpb25zIGlmIHlvdSBkZWNpZGUgdG8gc2V0IHRoaXMgZmxhZyB0byBmYWxzZTpcbiAqXG4gKiAxOiBVc2UgdGhlIGBwaXhpLmpzLWxlZ2FjeWAgcGFja2FnZSwgd2hpY2ggaW5jbHVkZXMgYSBDYW52YXMgcmVuZGVyZXIgYXMgYSBmYWxsYmFjayBpbiBjYXNlIGhpZ2ggcGVyZm9ybWFuY2UgV2ViR0wgaXNcbiAqICAgIG5vdCBzdXBwb3J0ZWQuXG4gKlxuICogMjogQ2FsbCBgaXNXZWJHTFN1cHBvcnRlZGAgKHdoaWNoIGlmIGZvdW5kIGluIHRoZSBQSVhJLnV0aWxzIHBhY2thZ2UpIGluIHlvdXIgY29kZSBiZWZvcmUgYXR0ZW1wdGluZyB0byBjcmVhdGUgYSBQaXhpSlNcbiAqICAgIHJlbmRlcmVyLCBhbmQgc2hvdyBhbiBlcnJvciBtZXNzYWdlIHRvIHRoZSB1c2VyIGlmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGZhbHNlLCBleHBsYWluaW5nIHRoYXQgdGhlaXIgZGV2aWNlICYgYnJvd3NlclxuICogICAgY29tYmluYXRpb24gZG9lcyBub3Qgc3VwcG9ydCBoaWdoIHBlcmZvcm1hbmNlIFdlYkdMLlxuICogICAgVGhpcyBpcyBhIG11Y2ggYmV0dGVyIHN0cmF0ZWd5IHRoYW4gdHJ5aW5nIHRvIGNyZWF0ZSBhIFBpeGlKUyByZW5kZXJlciBhbmQgZmluZGluZyBpdCB0aGVuIGZhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCA9IGZhbHNlO1xuXG52YXIgc2FpZEhlbGxvID0gZmFsc2U7XG52YXIgVkVSU0lPTiA9ICc2LjAuNCc7XG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmZ1bmN0aW9uIHNraXBIZWxsbygpIHtcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlIHlvdSBhIGplcmsgZmFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gc2F5SGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBzdHJpbmcgcmVuZGVyZXIgdHlwZSB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIHNheUhlbGxvKHR5cGUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHNhaWRIZWxsbykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICB2YXIgYXJncyA9IFtcbiAgICAgICAgICAgIFwiXFxuICVjICVjICVjIFBpeGlKUyBcIiArIFZFUlNJT04gKyBcIiAtIFxcdTI3MzAgXCIgKyB0eXBlICsgXCIgXFx1MjczMCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyBcXHUyNjY1JWNcXHUyNjY1JWNcXHUyNjY1IFxcblxcblwiLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyBdO1xuICAgICAgICAoX2EgPSBzZWxmLmNvbnNvbGUpLmxvZy5hcHBseShfYSwgYXJncyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlbGYuY29uc29sZSkge1xuICAgICAgICBzZWxmLmNvbnNvbGUubG9nKFwiUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXCIgKyB0eXBlICsgXCIgLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vXCIpO1xuICAgIH1cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG52YXIgc3VwcG9ydGVkO1xuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciBXZWJHTCBzdXBwb3J0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgV2ViR0wgc3VwcG9ydGVkLlxuICovXG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKCkge1xuICAgIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzdXBwb3J0ZWQgPSAoZnVuY3Rpb24gc3VwcG9ydGVkKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYuV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIHZhciBnbCA9IChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBjb250ZXh0T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGNvbnRleHRPcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSAhIShnbCAmJiBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpLnN0ZW5jaWwpO1xuICAgICAgICAgICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9zZUNvbnRleHQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9zZUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbnZhciBhbGljZWJsdWUgPSBcIiNmMGY4ZmZcIjtcbnZhciBhbnRpcXVld2hpdGUgPSBcIiNmYWViZDdcIjtcbnZhciBhcXVhID0gXCIjMDBmZmZmXCI7XG52YXIgYXF1YW1hcmluZSA9IFwiIzdmZmZkNFwiO1xudmFyIGF6dXJlID0gXCIjZjBmZmZmXCI7XG52YXIgYmVpZ2UgPSBcIiNmNWY1ZGNcIjtcbnZhciBiaXNxdWUgPSBcIiNmZmU0YzRcIjtcbnZhciBibGFjayA9IFwiIzAwMDAwMFwiO1xudmFyIGJsYW5jaGVkYWxtb25kID0gXCIjZmZlYmNkXCI7XG52YXIgYmx1ZSA9IFwiIzAwMDBmZlwiO1xudmFyIGJsdWV2aW9sZXQgPSBcIiM4YTJiZTJcIjtcbnZhciBicm93biA9IFwiI2E1MmEyYVwiO1xudmFyIGJ1cmx5d29vZCA9IFwiI2RlYjg4N1wiO1xudmFyIGNhZGV0Ymx1ZSA9IFwiIzVmOWVhMFwiO1xudmFyIGNoYXJ0cmV1c2UgPSBcIiM3ZmZmMDBcIjtcbnZhciBjaG9jb2xhdGUgPSBcIiNkMjY5MWVcIjtcbnZhciBjb3JhbCA9IFwiI2ZmN2Y1MFwiO1xudmFyIGNvcm5mbG93ZXJibHVlID0gXCIjNjQ5NWVkXCI7XG52YXIgY29ybnNpbGsgPSBcIiNmZmY4ZGNcIjtcbnZhciBjcmltc29uID0gXCIjZGMxNDNjXCI7XG52YXIgY3lhbiA9IFwiIzAwZmZmZlwiO1xudmFyIGRhcmtibHVlID0gXCIjMDAwMDhiXCI7XG52YXIgZGFya2N5YW4gPSBcIiMwMDhiOGJcIjtcbnZhciBkYXJrZ29sZGVucm9kID0gXCIjYjg4NjBiXCI7XG52YXIgZGFya2dyYXkgPSBcIiNhOWE5YTlcIjtcbnZhciBkYXJrZ3JlZW4gPSBcIiMwMDY0MDBcIjtcbnZhciBkYXJrZ3JleSA9IFwiI2E5YTlhOVwiO1xudmFyIGRhcmtraGFraSA9IFwiI2JkYjc2YlwiO1xudmFyIGRhcmttYWdlbnRhID0gXCIjOGIwMDhiXCI7XG52YXIgZGFya29saXZlZ3JlZW4gPSBcIiM1NTZiMmZcIjtcbnZhciBkYXJrb3JhbmdlID0gXCIjZmY4YzAwXCI7XG52YXIgZGFya29yY2hpZCA9IFwiIzk5MzJjY1wiO1xudmFyIGRhcmtyZWQgPSBcIiM4YjAwMDBcIjtcbnZhciBkYXJrc2FsbW9uID0gXCIjZTk5NjdhXCI7XG52YXIgZGFya3NlYWdyZWVuID0gXCIjOGZiYzhmXCI7XG52YXIgZGFya3NsYXRlYmx1ZSA9IFwiIzQ4M2Q4YlwiO1xudmFyIGRhcmtzbGF0ZWdyYXkgPSBcIiMyZjRmNGZcIjtcbnZhciBkYXJrc2xhdGVncmV5ID0gXCIjMmY0ZjRmXCI7XG52YXIgZGFya3R1cnF1b2lzZSA9IFwiIzAwY2VkMVwiO1xudmFyIGRhcmt2aW9sZXQgPSBcIiM5NDAwZDNcIjtcbnZhciBkZWVwcGluayA9IFwiI2ZmMTQ5M1wiO1xudmFyIGRlZXBza3libHVlID0gXCIjMDBiZmZmXCI7XG52YXIgZGltZ3JheSA9IFwiIzY5Njk2OVwiO1xudmFyIGRpbWdyZXkgPSBcIiM2OTY5NjlcIjtcbnZhciBkb2RnZXJibHVlID0gXCIjMWU5MGZmXCI7XG52YXIgZmlyZWJyaWNrID0gXCIjYjIyMjIyXCI7XG52YXIgZmxvcmFsd2hpdGUgPSBcIiNmZmZhZjBcIjtcbnZhciBmb3Jlc3RncmVlbiA9IFwiIzIyOGIyMlwiO1xudmFyIGZ1Y2hzaWEgPSBcIiNmZjAwZmZcIjtcbnZhciBnYWluc2Jvcm8gPSBcIiNkY2RjZGNcIjtcbnZhciBnaG9zdHdoaXRlID0gXCIjZjhmOGZmXCI7XG52YXIgZ29sZGVucm9kID0gXCIjZGFhNTIwXCI7XG52YXIgZ29sZCA9IFwiI2ZmZDcwMFwiO1xudmFyIGdyYXkgPSBcIiM4MDgwODBcIjtcbnZhciBncmVlbiA9IFwiIzAwODAwMFwiO1xudmFyIGdyZWVueWVsbG93ID0gXCIjYWRmZjJmXCI7XG52YXIgZ3JleSA9IFwiIzgwODA4MFwiO1xudmFyIGhvbmV5ZGV3ID0gXCIjZjBmZmYwXCI7XG52YXIgaG90cGluayA9IFwiI2ZmNjliNFwiO1xudmFyIGluZGlhbnJlZCA9IFwiI2NkNWM1Y1wiO1xudmFyIGluZGlnbyA9IFwiIzRiMDA4MlwiO1xudmFyIGl2b3J5ID0gXCIjZmZmZmYwXCI7XG52YXIga2hha2kgPSBcIiNmMGU2OGNcIjtcbnZhciBsYXZlbmRlcmJsdXNoID0gXCIjZmZmMGY1XCI7XG52YXIgbGF2ZW5kZXIgPSBcIiNlNmU2ZmFcIjtcbnZhciBsYXduZ3JlZW4gPSBcIiM3Y2ZjMDBcIjtcbnZhciBsZW1vbmNoaWZmb24gPSBcIiNmZmZhY2RcIjtcbnZhciBsaWdodGJsdWUgPSBcIiNhZGQ4ZTZcIjtcbnZhciBsaWdodGNvcmFsID0gXCIjZjA4MDgwXCI7XG52YXIgbGlnaHRjeWFuID0gXCIjZTBmZmZmXCI7XG52YXIgbGlnaHRnb2xkZW5yb2R5ZWxsb3cgPSBcIiNmYWZhZDJcIjtcbnZhciBsaWdodGdyYXkgPSBcIiNkM2QzZDNcIjtcbnZhciBsaWdodGdyZWVuID0gXCIjOTBlZTkwXCI7XG52YXIgbGlnaHRncmV5ID0gXCIjZDNkM2QzXCI7XG52YXIgbGlnaHRwaW5rID0gXCIjZmZiNmMxXCI7XG52YXIgbGlnaHRzYWxtb24gPSBcIiNmZmEwN2FcIjtcbnZhciBsaWdodHNlYWdyZWVuID0gXCIjMjBiMmFhXCI7XG52YXIgbGlnaHRza3libHVlID0gXCIjODdjZWZhXCI7XG52YXIgbGlnaHRzbGF0ZWdyYXkgPSBcIiM3Nzg4OTlcIjtcbnZhciBsaWdodHNsYXRlZ3JleSA9IFwiIzc3ODg5OVwiO1xudmFyIGxpZ2h0c3RlZWxibHVlID0gXCIjYjBjNGRlXCI7XG52YXIgbGlnaHR5ZWxsb3cgPSBcIiNmZmZmZTBcIjtcbnZhciBsaW1lID0gXCIjMDBmZjAwXCI7XG52YXIgbGltZWdyZWVuID0gXCIjMzJjZDMyXCI7XG52YXIgbGluZW4gPSBcIiNmYWYwZTZcIjtcbnZhciBtYWdlbnRhID0gXCIjZmYwMGZmXCI7XG52YXIgbWFyb29uID0gXCIjODAwMDAwXCI7XG52YXIgbWVkaXVtYXF1YW1hcmluZSA9IFwiIzY2Y2RhYVwiO1xudmFyIG1lZGl1bWJsdWUgPSBcIiMwMDAwY2RcIjtcbnZhciBtZWRpdW1vcmNoaWQgPSBcIiNiYTU1ZDNcIjtcbnZhciBtZWRpdW1wdXJwbGUgPSBcIiM5MzcwZGJcIjtcbnZhciBtZWRpdW1zZWFncmVlbiA9IFwiIzNjYjM3MVwiO1xudmFyIG1lZGl1bXNsYXRlYmx1ZSA9IFwiIzdiNjhlZVwiO1xudmFyIG1lZGl1bXNwcmluZ2dyZWVuID0gXCIjMDBmYTlhXCI7XG52YXIgbWVkaXVtdHVycXVvaXNlID0gXCIjNDhkMWNjXCI7XG52YXIgbWVkaXVtdmlvbGV0cmVkID0gXCIjYzcxNTg1XCI7XG52YXIgbWlkbmlnaHRibHVlID0gXCIjMTkxOTcwXCI7XG52YXIgbWludGNyZWFtID0gXCIjZjVmZmZhXCI7XG52YXIgbWlzdHlyb3NlID0gXCIjZmZlNGUxXCI7XG52YXIgbW9jY2FzaW4gPSBcIiNmZmU0YjVcIjtcbnZhciBuYXZham93aGl0ZSA9IFwiI2ZmZGVhZFwiO1xudmFyIG5hdnkgPSBcIiMwMDAwODBcIjtcbnZhciBvbGRsYWNlID0gXCIjZmRmNWU2XCI7XG52YXIgb2xpdmUgPSBcIiM4MDgwMDBcIjtcbnZhciBvbGl2ZWRyYWIgPSBcIiM2YjhlMjNcIjtcbnZhciBvcmFuZ2UgPSBcIiNmZmE1MDBcIjtcbnZhciBvcmFuZ2VyZWQgPSBcIiNmZjQ1MDBcIjtcbnZhciBvcmNoaWQgPSBcIiNkYTcwZDZcIjtcbnZhciBwYWxlZ29sZGVucm9kID0gXCIjZWVlOGFhXCI7XG52YXIgcGFsZWdyZWVuID0gXCIjOThmYjk4XCI7XG52YXIgcGFsZXR1cnF1b2lzZSA9IFwiI2FmZWVlZVwiO1xudmFyIHBhbGV2aW9sZXRyZWQgPSBcIiNkYjcwOTNcIjtcbnZhciBwYXBheWF3aGlwID0gXCIjZmZlZmQ1XCI7XG52YXIgcGVhY2hwdWZmID0gXCIjZmZkYWI5XCI7XG52YXIgcGVydSA9IFwiI2NkODUzZlwiO1xudmFyIHBpbmsgPSBcIiNmZmMwY2JcIjtcbnZhciBwbHVtID0gXCIjZGRhMGRkXCI7XG52YXIgcG93ZGVyYmx1ZSA9IFwiI2IwZTBlNlwiO1xudmFyIHB1cnBsZSA9IFwiIzgwMDA4MFwiO1xudmFyIHJlYmVjY2FwdXJwbGUgPSBcIiM2NjMzOTlcIjtcbnZhciByZWQgPSBcIiNmZjAwMDBcIjtcbnZhciByb3N5YnJvd24gPSBcIiNiYzhmOGZcIjtcbnZhciByb3lhbGJsdWUgPSBcIiM0MTY5ZTFcIjtcbnZhciBzYWRkbGVicm93biA9IFwiIzhiNDUxM1wiO1xudmFyIHNhbG1vbiA9IFwiI2ZhODA3MlwiO1xudmFyIHNhbmR5YnJvd24gPSBcIiNmNGE0NjBcIjtcbnZhciBzZWFncmVlbiA9IFwiIzJlOGI1N1wiO1xudmFyIHNlYXNoZWxsID0gXCIjZmZmNWVlXCI7XG52YXIgc2llbm5hID0gXCIjYTA1MjJkXCI7XG52YXIgc2lsdmVyID0gXCIjYzBjMGMwXCI7XG52YXIgc2t5Ymx1ZSA9IFwiIzg3Y2VlYlwiO1xudmFyIHNsYXRlYmx1ZSA9IFwiIzZhNWFjZFwiO1xudmFyIHNsYXRlZ3JheSA9IFwiIzcwODA5MFwiO1xudmFyIHNsYXRlZ3JleSA9IFwiIzcwODA5MFwiO1xudmFyIHNub3cgPSBcIiNmZmZhZmFcIjtcbnZhciBzcHJpbmdncmVlbiA9IFwiIzAwZmY3ZlwiO1xudmFyIHN0ZWVsYmx1ZSA9IFwiIzQ2ODJiNFwiO1xudmFyIHRhbiA9IFwiI2QyYjQ4Y1wiO1xudmFyIHRlYWwgPSBcIiMwMDgwODBcIjtcbnZhciB0aGlzdGxlID0gXCIjZDhiZmQ4XCI7XG52YXIgdG9tYXRvID0gXCIjZmY2MzQ3XCI7XG52YXIgdHVycXVvaXNlID0gXCIjNDBlMGQwXCI7XG52YXIgdmlvbGV0ID0gXCIjZWU4MmVlXCI7XG52YXIgd2hlYXQgPSBcIiNmNWRlYjNcIjtcbnZhciB3aGl0ZSA9IFwiI2ZmZmZmZlwiO1xudmFyIHdoaXRlc21va2UgPSBcIiNmNWY1ZjVcIjtcbnZhciB5ZWxsb3cgPSBcIiNmZmZmMDBcIjtcbnZhciB5ZWxsb3dncmVlbiA9IFwiIzlhY2QzMlwiO1xudmFyIGNzc0NvbG9yTmFtZXMgPSB7XG5cdGFsaWNlYmx1ZTogYWxpY2VibHVlLFxuXHRhbnRpcXVld2hpdGU6IGFudGlxdWV3aGl0ZSxcblx0YXF1YTogYXF1YSxcblx0YXF1YW1hcmluZTogYXF1YW1hcmluZSxcblx0YXp1cmU6IGF6dXJlLFxuXHRiZWlnZTogYmVpZ2UsXG5cdGJpc3F1ZTogYmlzcXVlLFxuXHRibGFjazogYmxhY2ssXG5cdGJsYW5jaGVkYWxtb25kOiBibGFuY2hlZGFsbW9uZCxcblx0Ymx1ZTogYmx1ZSxcblx0Ymx1ZXZpb2xldDogYmx1ZXZpb2xldCxcblx0YnJvd246IGJyb3duLFxuXHRidXJseXdvb2Q6IGJ1cmx5d29vZCxcblx0Y2FkZXRibHVlOiBjYWRldGJsdWUsXG5cdGNoYXJ0cmV1c2U6IGNoYXJ0cmV1c2UsXG5cdGNob2NvbGF0ZTogY2hvY29sYXRlLFxuXHRjb3JhbDogY29yYWwsXG5cdGNvcm5mbG93ZXJibHVlOiBjb3JuZmxvd2VyYmx1ZSxcblx0Y29ybnNpbGs6IGNvcm5zaWxrLFxuXHRjcmltc29uOiBjcmltc29uLFxuXHRjeWFuOiBjeWFuLFxuXHRkYXJrYmx1ZTogZGFya2JsdWUsXG5cdGRhcmtjeWFuOiBkYXJrY3lhbixcblx0ZGFya2dvbGRlbnJvZDogZGFya2dvbGRlbnJvZCxcblx0ZGFya2dyYXk6IGRhcmtncmF5LFxuXHRkYXJrZ3JlZW46IGRhcmtncmVlbixcblx0ZGFya2dyZXk6IGRhcmtncmV5LFxuXHRkYXJra2hha2k6IGRhcmtraGFraSxcblx0ZGFya21hZ2VudGE6IGRhcmttYWdlbnRhLFxuXHRkYXJrb2xpdmVncmVlbjogZGFya29saXZlZ3JlZW4sXG5cdGRhcmtvcmFuZ2U6IGRhcmtvcmFuZ2UsXG5cdGRhcmtvcmNoaWQ6IGRhcmtvcmNoaWQsXG5cdGRhcmtyZWQ6IGRhcmtyZWQsXG5cdGRhcmtzYWxtb246IGRhcmtzYWxtb24sXG5cdGRhcmtzZWFncmVlbjogZGFya3NlYWdyZWVuLFxuXHRkYXJrc2xhdGVibHVlOiBkYXJrc2xhdGVibHVlLFxuXHRkYXJrc2xhdGVncmF5OiBkYXJrc2xhdGVncmF5LFxuXHRkYXJrc2xhdGVncmV5OiBkYXJrc2xhdGVncmV5LFxuXHRkYXJrdHVycXVvaXNlOiBkYXJrdHVycXVvaXNlLFxuXHRkYXJrdmlvbGV0OiBkYXJrdmlvbGV0LFxuXHRkZWVwcGluazogZGVlcHBpbmssXG5cdGRlZXBza3libHVlOiBkZWVwc2t5Ymx1ZSxcblx0ZGltZ3JheTogZGltZ3JheSxcblx0ZGltZ3JleTogZGltZ3JleSxcblx0ZG9kZ2VyYmx1ZTogZG9kZ2VyYmx1ZSxcblx0ZmlyZWJyaWNrOiBmaXJlYnJpY2ssXG5cdGZsb3JhbHdoaXRlOiBmbG9yYWx3aGl0ZSxcblx0Zm9yZXN0Z3JlZW46IGZvcmVzdGdyZWVuLFxuXHRmdWNoc2lhOiBmdWNoc2lhLFxuXHRnYWluc2Jvcm86IGdhaW5zYm9ybyxcblx0Z2hvc3R3aGl0ZTogZ2hvc3R3aGl0ZSxcblx0Z29sZGVucm9kOiBnb2xkZW5yb2QsXG5cdGdvbGQ6IGdvbGQsXG5cdGdyYXk6IGdyYXksXG5cdGdyZWVuOiBncmVlbixcblx0Z3JlZW55ZWxsb3c6IGdyZWVueWVsbG93LFxuXHRncmV5OiBncmV5LFxuXHRob25leWRldzogaG9uZXlkZXcsXG5cdGhvdHBpbms6IGhvdHBpbmssXG5cdGluZGlhbnJlZDogaW5kaWFucmVkLFxuXHRpbmRpZ286IGluZGlnbyxcblx0aXZvcnk6IGl2b3J5LFxuXHRraGFraToga2hha2ksXG5cdGxhdmVuZGVyYmx1c2g6IGxhdmVuZGVyYmx1c2gsXG5cdGxhdmVuZGVyOiBsYXZlbmRlcixcblx0bGF3bmdyZWVuOiBsYXduZ3JlZW4sXG5cdGxlbW9uY2hpZmZvbjogbGVtb25jaGlmZm9uLFxuXHRsaWdodGJsdWU6IGxpZ2h0Ymx1ZSxcblx0bGlnaHRjb3JhbDogbGlnaHRjb3JhbCxcblx0bGlnaHRjeWFuOiBsaWdodGN5YW4sXG5cdGxpZ2h0Z29sZGVucm9keWVsbG93OiBsaWdodGdvbGRlbnJvZHllbGxvdyxcblx0bGlnaHRncmF5OiBsaWdodGdyYXksXG5cdGxpZ2h0Z3JlZW46IGxpZ2h0Z3JlZW4sXG5cdGxpZ2h0Z3JleTogbGlnaHRncmV5LFxuXHRsaWdodHBpbms6IGxpZ2h0cGluayxcblx0bGlnaHRzYWxtb246IGxpZ2h0c2FsbW9uLFxuXHRsaWdodHNlYWdyZWVuOiBsaWdodHNlYWdyZWVuLFxuXHRsaWdodHNreWJsdWU6IGxpZ2h0c2t5Ymx1ZSxcblx0bGlnaHRzbGF0ZWdyYXk6IGxpZ2h0c2xhdGVncmF5LFxuXHRsaWdodHNsYXRlZ3JleTogbGlnaHRzbGF0ZWdyZXksXG5cdGxpZ2h0c3RlZWxibHVlOiBsaWdodHN0ZWVsYmx1ZSxcblx0bGlnaHR5ZWxsb3c6IGxpZ2h0eWVsbG93LFxuXHRsaW1lOiBsaW1lLFxuXHRsaW1lZ3JlZW46IGxpbWVncmVlbixcblx0bGluZW46IGxpbmVuLFxuXHRtYWdlbnRhOiBtYWdlbnRhLFxuXHRtYXJvb246IG1hcm9vbixcblx0bWVkaXVtYXF1YW1hcmluZTogbWVkaXVtYXF1YW1hcmluZSxcblx0bWVkaXVtYmx1ZTogbWVkaXVtYmx1ZSxcblx0bWVkaXVtb3JjaGlkOiBtZWRpdW1vcmNoaWQsXG5cdG1lZGl1bXB1cnBsZTogbWVkaXVtcHVycGxlLFxuXHRtZWRpdW1zZWFncmVlbjogbWVkaXVtc2VhZ3JlZW4sXG5cdG1lZGl1bXNsYXRlYmx1ZTogbWVkaXVtc2xhdGVibHVlLFxuXHRtZWRpdW1zcHJpbmdncmVlbjogbWVkaXVtc3ByaW5nZ3JlZW4sXG5cdG1lZGl1bXR1cnF1b2lzZTogbWVkaXVtdHVycXVvaXNlLFxuXHRtZWRpdW12aW9sZXRyZWQ6IG1lZGl1bXZpb2xldHJlZCxcblx0bWlkbmlnaHRibHVlOiBtaWRuaWdodGJsdWUsXG5cdG1pbnRjcmVhbTogbWludGNyZWFtLFxuXHRtaXN0eXJvc2U6IG1pc3R5cm9zZSxcblx0bW9jY2FzaW46IG1vY2Nhc2luLFxuXHRuYXZham93aGl0ZTogbmF2YWpvd2hpdGUsXG5cdG5hdnk6IG5hdnksXG5cdG9sZGxhY2U6IG9sZGxhY2UsXG5cdG9saXZlOiBvbGl2ZSxcblx0b2xpdmVkcmFiOiBvbGl2ZWRyYWIsXG5cdG9yYW5nZTogb3JhbmdlLFxuXHRvcmFuZ2VyZWQ6IG9yYW5nZXJlZCxcblx0b3JjaGlkOiBvcmNoaWQsXG5cdHBhbGVnb2xkZW5yb2Q6IHBhbGVnb2xkZW5yb2QsXG5cdHBhbGVncmVlbjogcGFsZWdyZWVuLFxuXHRwYWxldHVycXVvaXNlOiBwYWxldHVycXVvaXNlLFxuXHRwYWxldmlvbGV0cmVkOiBwYWxldmlvbGV0cmVkLFxuXHRwYXBheWF3aGlwOiBwYXBheWF3aGlwLFxuXHRwZWFjaHB1ZmY6IHBlYWNocHVmZixcblx0cGVydTogcGVydSxcblx0cGluazogcGluayxcblx0cGx1bTogcGx1bSxcblx0cG93ZGVyYmx1ZTogcG93ZGVyYmx1ZSxcblx0cHVycGxlOiBwdXJwbGUsXG5cdHJlYmVjY2FwdXJwbGU6IHJlYmVjY2FwdXJwbGUsXG5cdHJlZDogcmVkLFxuXHRyb3N5YnJvd246IHJvc3licm93bixcblx0cm95YWxibHVlOiByb3lhbGJsdWUsXG5cdHNhZGRsZWJyb3duOiBzYWRkbGVicm93bixcblx0c2FsbW9uOiBzYWxtb24sXG5cdHNhbmR5YnJvd246IHNhbmR5YnJvd24sXG5cdHNlYWdyZWVuOiBzZWFncmVlbixcblx0c2Vhc2hlbGw6IHNlYXNoZWxsLFxuXHRzaWVubmE6IHNpZW5uYSxcblx0c2lsdmVyOiBzaWx2ZXIsXG5cdHNreWJsdWU6IHNreWJsdWUsXG5cdHNsYXRlYmx1ZTogc2xhdGVibHVlLFxuXHRzbGF0ZWdyYXk6IHNsYXRlZ3JheSxcblx0c2xhdGVncmV5OiBzbGF0ZWdyZXksXG5cdHNub3c6IHNub3csXG5cdHNwcmluZ2dyZWVuOiBzcHJpbmdncmVlbixcblx0c3RlZWxibHVlOiBzdGVlbGJsdWUsXG5cdHRhbjogdGFuLFxuXHR0ZWFsOiB0ZWFsLFxuXHR0aGlzdGxlOiB0aGlzdGxlLFxuXHR0b21hdG86IHRvbWF0byxcblx0dHVycXVvaXNlOiB0dXJxdW9pc2UsXG5cdHZpb2xldDogdmlvbGV0LFxuXHR3aGVhdDogd2hlYXQsXG5cdHdoaXRlOiB3aGl0ZSxcblx0d2hpdGVzbW9rZTogd2hpdGVzbW9rZSxcblx0eWVsbG93OiB5ZWxsb3csXG5cdHllbGxvd2dyZWVuOiB5ZWxsb3dncmVlblxufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgKG51bWJlcnMgZnJvbSAwLjAgdG8gMS4wKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIC0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3Igd2hlcmUgYWxsIHZhbHVlcyBhcmUgZmxvYXRzLlxuICovXG5mdW5jdGlvbiBoZXgycmdiKGhleCwgb3V0KSB7XG4gICAgaWYgKG91dCA9PT0gdm9pZCAwKSB7IG91dCA9IFtdOyB9XG4gICAgb3V0WzBdID0gKChoZXggPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKChoZXggPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4ICYgMHhGRikgLyAyNTU7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleCkge1xuICAgIHZhciBoZXhTdHJpbmcgPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleFN0cmluZyA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4U3RyaW5nLmxlbmd0aCkgKyBoZXhTdHJpbmc7XG4gICAgcmV0dXJuIFwiI1wiICsgaGV4U3RyaW5nO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyB0byBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlci5cbiAqIEl0IGNhbiBoYW5kbGU6XG4gKiAgaGV4IHN0cmluZ3Mgc3RhcnRpbmcgd2l0aCAjOiBcIiNmZmZmZmZcIlxuICogIGhleCBzdHJpbmdzIHN0YXJ0aW5nIHdpdGggMHg6IFwiMHhmZmZmZmZcIlxuICogIGhleCBzdHJpbmdzIHdpdGhvdXQgcHJlZml4OiBcImZmZmZmZlwiXG4gKiAgY3NzIGNvbG9yczogXCJibGFja1wiXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuc3RyaW5nMmhleChcIiNmZmZmZmZcIik7IC8vIHJldHVybnMgMHhmZmZmZmZcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc3RyaW5nMmhleFxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyAtIFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gc3RyaW5nMmhleChzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3RyaW5nID0gY3NzQ29sb3JOYW1lc1tzdHJpbmcudG9Mb3dlckNhc2UoKV0gfHwgc3RyaW5nO1xuICAgICAgICBpZiAoc3RyaW5nWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZywgMTYpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyB0byBhIGhleGFkZWNpbWFsIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5yZ2IyaGV4KFsxLCAxLCAxXSk7IC8vIHJldHVybnMgMHhmZmZmZmZcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcmdiMmhleFxuICogQHBhcmFtIHtudW1iZXJbXX0gcmdiIC0gQXJyYXkgb2YgbnVtYmVycyB3aGVyZSBhbGwgdmFsdWVzIGFyZSBub3JtYWxpemVkIGZsb2F0cyBmcm9tIDAuMCB0byAxLjAuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gcmdiMmhleChyZ2IpIHtcbiAgICByZXR1cm4gKCgocmdiWzBdICogMjU1KSA8PCAxNikgKyAoKHJnYlsxXSAqIDI1NSkgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCkpO1xufVxuXG4vKipcbiAqIENvcnJlY3RzIFBpeGlKUyBibGVuZCwgdGFrZXMgcHJlbXVsdGlwbGllZCBhbHBoYSBpbnRvIGFjY291bnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCkge1xuICAgIHZhciBwbSA9IFtdO1xuICAgIHZhciBucG0gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cbiAgICBwbVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICBwbVtCTEVORF9NT0RFUy5BRERfTlBNXSA9IEJMRU5EX01PREVTLkFERDtcbiAgICBwbVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IEJMRU5EX01PREVTLlNDUkVFTjtcbiAgICBucG1bQkxFTkRfTU9ERVMuTk9STUFMXSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBhcnJheS5wdXNoKG5wbSk7XG4gICAgYXJyYXkucHVzaChwbSk7XG4gICAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBtYXBzIHByZW11bHRpcGx5IGZsYWcgYW5kIGJsZW5kTW9kZSB0byBhZGp1c3RlZCBibGVuZE1vZGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGVcbiAqIEB0eXBlIHtBcnJheTxudW1iZXJbXT59XG4gKi9cbnZhciBwcmVtdWx0aXBseUJsZW5kTW9kZSA9IG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCk7XG4vKipcbiAqIGNoYW5nZXMgYmxlbmRNb2RlIGFjY29yZGluZyB0byB0ZXh0dXJlIGZvcm1hdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSAtIHN1cHBvc2VkIGJsZW5kIG1vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJlbXVsdGlwbGllZCAtIHdoZXRoZXIgc291cmNlIGlzIHByZW11bHRpcGxpZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRydWUgYmxlbmQgbW9kZSBmb3IgdGhpcyB0ZXh0dXJlXG4gKi9cbmZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGUoYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKSB7XG4gICAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cbi8qKlxuICogY29tYmluZXMgcmdiIGFuZCBhbHBoYSB0byBvdXQgYXJyYXlcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IHJnYiAtIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSAtIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gLSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl07XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIHByZW11bHRpcGxpZXMgdGludFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGludCAtIGludGVnZXIgUkdCXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBmbG9hdGluZyBwb2ludCBhbHBoYSAoMC4wLTEuMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbnQgbXVsdGlwbGllZCBieSBhbHBoYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludCwgYWxwaGEpIHtcbiAgICBpZiAoYWxwaGEgPT09IDEuMCkge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9ICgodGludCA+PiAxNikgJiAweEZGKTtcbiAgICB2YXIgRyA9ICgodGludCA+PiA4KSAmIDB4RkYpO1xuICAgIHZhciBCID0gKHRpbnQgJiAweEZGKTtcbiAgICBSID0gKChSICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgRyA9ICgoRyAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEIgPSAoKEIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCAtIGlucHV0IHRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gLSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIC0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGludCwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBvdXRbMF0gPSAoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMV0gPSAoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsxXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzJdICo9IGFscGhhO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBxdWFkc1xuICogQHBhcmFtIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gW291dEJ1ZmZlcl0gLSBCdWZmZXIgZm9yIG91dHB1dCwgbGVuZ3RoIGhhcyB0byBiZSBgNiAqIHNpemVgXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gLSBSZXN1bHRpbmcgaW5kZXggYnVmZmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIpIHtcbiAgICBpZiAob3V0QnVmZmVyID09PSB2b2lkIDApIHsgb3V0QnVmZmVyID0gbnVsbDsgfVxuICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgaW5kaWNlcyBpbiBvdXIgYXJyYXksIHRoZXJlIGFyZSA2IHBvaW50cyBwZXIgcXVhZC5cbiAgICB2YXIgdG90YWxJbmRpY2VzID0gc2l6ZSAqIDY7XG4gICAgb3V0QnVmZmVyID0gb3V0QnVmZmVyIHx8IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuICAgIGlmIChvdXRCdWZmZXIubGVuZ3RoICE9PSB0b3RhbEluZGljZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3V0IGJ1ZmZlciBsZW5ndGggaXMgaW5jb3JyZWN0LCBnb3QgXCIgKyBvdXRCdWZmZXIubGVuZ3RoICsgXCIgYW5kIGV4cGVjdGVkIFwiICsgdG90YWxJbmRpY2VzKTtcbiAgICB9XG4gICAgLy8gZmlsbCB0aGUgaW5kaWNlcyB3aXRoIHRoZSBxdWFkcyB0byBkcmF3XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNCkge1xuICAgICAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICAgIH1cbiAgICByZXR1cm4gb3V0QnVmZmVyO1xufVxuXG5mdW5jdGlvbiBnZXRCdWZmZXJUeXBlKGFycmF5KSB7XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnSW50MzJBcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAyKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSkge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQ4QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbWFwIG91dCB0aGUgcmVzdCBvZiB0aGUgYXJyYXkgZWxlbWVudHMhXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAgPSB7IEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LCBVaW50MzJBcnJheTogVWludDMyQXJyYXksIEludDMyQXJyYXk6IEludDMyQXJyYXksIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXkgfTtcbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKSB7XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcbiAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICB2YXIgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgICAgIC8qXG4gICAgICAgIEB0b2RvIFRoaXMgaXMgdW5zYWZlIGNhc3RpbmcgYnV0IGNvbnNpc3RlbnQgd2l0aCBob3cgdGhlIGNvZGUgd29ya2VkIHByZXZpb3VzbHkuIFNob3VsZCBpdCBzdGF5IHRoaXMgd2F5XG4gICAgICAgICAgICAgIG9yIHNob3VsZCBhbmQgYGdldEJ1ZmZlclR5cGVVbnNhZmVgIGZ1bmN0aW9uIGJlIGV4cG9zZWQgdGhhdCB0aHJvd3MgYW4gRXJyb3IgaWYgdW5zdXBwb3J0ZWQgdHlwZSBpcyBwYXNzZWQ/XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdHlwZSA9IGdldEJ1ZmZlclR5cGUoYXJyYXkpO1xuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKSB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaiAlIHNpemU7XG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuXG4vLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG4vKipcbiAqIFJvdW5kcyB0byBuZXh0IHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gbmV4dFBvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiAtIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG5leHRQb3cyKHYpIHtcbiAgICB2ICs9IHYgPT09IDAgPyAxIDogMDtcbiAgICAtLXY7XG4gICAgdiB8PSB2ID4+PiAxO1xuICAgIHYgfD0gdiA+Pj4gMjtcbiAgICB2IHw9IHYgPj4+IDQ7XG4gICAgdiB8PSB2ID4+PiA4O1xuICAgIHYgfD0gdiA+Pj4gMTY7XG4gICAgcmV0dXJuIHYgKyAxO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d28uXG4gKlxuICogQGZ1bmN0aW9uIGlzUG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2YWx1ZSBpcyBwb3dlciBvZiB0d29cbiAqL1xuZnVuY3Rpb24gaXNQb3cyKHYpIHtcbiAgICByZXR1cm4gISh2ICYgKHYgLSAxKSkgJiYgKCEhdik7XG59XG4vKipcbiAqIENvbXB1dGVzIGNlaWwgb2YgbG9nIGJhc2UgMlxuICpcbiAqIEBmdW5jdGlvbiBsb2cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBsb2dhcml0aG0gYmFzZSAyXG4gKi9cbmZ1bmN0aW9uIGxvZzIodikge1xuICAgIHZhciByID0gKHYgPiAweEZGRkYgPyAxIDogMCkgPDwgNDtcbiAgICB2ID4+Pj0gcjtcbiAgICB2YXIgc2hpZnQgPSAodiA+IDB4RkYgPyAxIDogMCkgPDwgMztcbiAgICB2ID4+Pj0gc2hpZnQ7XG4gICAgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHhGID8gMSA6IDApIDw8IDI7XG4gICAgdiA+Pj49IHNoaWZ0O1xuICAgIHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4MyA/IDEgOiAwKSA8PCAxO1xuICAgIHYgPj4+PSBzaGlmdDtcbiAgICByIHw9IHNoaWZ0O1xuICAgIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBBcnJheSB0byByZW1vdmUgZWxlbWVudHMgZnJvbVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SWR4IC0gc3RhcnRpbmcgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCAtIGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5mdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudCkge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudCk7XG4gICAgdmFyIGxlbiA9IGxlbmd0aCAtIHJlbW92ZUNvdW50O1xuICAgIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF07XG4gICAgfVxuICAgIGFyci5sZW5ndGggPSBsZW47XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obikge1xuICAgIGlmIChuID09PSAwKVxuICAgICAgICB7IHJldHVybiAwOyB9XG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG52YXIgbmV4dFVpZCA9IDA7XG4vKipcbiAqIEdldHMgdGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHVpZFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllciB0byB1c2UuXG4gKi9cbmZ1bmN0aW9uIHVpZCgpIHtcbiAgICByZXR1cm4gKytuZXh0VWlkO1xufVxuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbnZhciB3YXJuaW5ncyA9IHt9O1xuLyoqXG4gKiBIZWxwZXIgZm9yIHdhcm5pbmcgZGV2ZWxvcGVycyBhYm91dCBkZXByZWNhdGVkIGZlYXR1cmVzICYgc2V0dGluZ3MuXG4gKiBBIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5ncyBpcyBnaXZlbjsgdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlXG4gKiBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlcHJlY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIFRoZSB2ZXJzaW9uIHdoZXJlIHRoZSBmZWF0dXJlIGJlY2FtZSBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2Ugc2hvdWxkIGluY2x1ZGUgd2hhdCBpcyBkZXByZWNhdGVkLCB3aGVyZSwgYW5kIHRoZSBuZXcgc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWdub3JlRGVwdGg9M10gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGlnbm9yZSBhdCB0aGUgdG9wIG9mIHRoZSBlcnJvciBzdGFja1xuICogICAgICAgIHRoaXMgaXMgbW9zdGx5IHRvIGlnbm9yZSBpbnRlcm5hbCBkZXByZWNhdGlvbiBjYWxscy5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRpb24odmVyc2lvbiwgbWVzc2FnZSwgaWdub3JlRGVwdGgpIHtcbiAgICBpZiAoaWdub3JlRGVwdGggPT09IHZvaWQgMCkgeyBpZ25vcmVEZXB0aCA9IDM7IH1cbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIFBpeGlKUyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoaWdub3JlRGVwdGgpLmpvaW4oJ1xcbicpO1xuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZCkge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnJWNQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgIHdhcm5pbmdzW21lc3NhZ2VdID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFByb2dyYW1DYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBQcm9ncmFtQ2FjaGUgPSB7fTtcbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIEJhc2VUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIHRleHR1cmVzIGZyb20gY2FjaGUsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IHRoZW1cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXk7XG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUgdG8gYmUgdXNlZCBhcyBhIHRhcmdldCBmb3IgcmVuZGVyaW5nIHRvLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xudmFyIENhbnZhc1JlbmRlclRhcmdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gd2lkdGggLSB0aGUgd2lkdGggZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSBoZWlnaHQgLSB0aGUgaGVpZ2h0IGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGlzIGNhbnZhcy4gKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENhbnZhc1JlbmRlclRhcmdldDtcbn0oKSk7XG5cbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHRyaW1DYW52YXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIHRoZSBjYW52YXMgdG8gdHJpbVxuICogQHJldHVybnMge29iamVjdH0gVHJpbSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaW1DYW52YXMoY2FudmFzKSB7XG4gICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmVteS83ODQ1MDhcbiAgICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIHZhciBsZW4gPSBwaXhlbHMubGVuZ3RoO1xuICAgIHZhciBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgdmFyIGRhdGEgPSBudWxsO1xuICAgIHZhciBpO1xuICAgIHZhciB4O1xuICAgIHZhciB5O1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBpZiAocGl4ZWxzW2kgKyAzXSAhPT0gMCkge1xuICAgICAgICAgICAgeCA9IChpIC8gNCkgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+figoaSAvIDQpIC8gd2lkdGgpO1xuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5yaWdodCA8IHgpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kLmJvdHRvbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYm91bmQudG9wICE9PSBudWxsKSB7XG4gICAgICAgIHdpZHRoID0gYm91bmQucmlnaHQgLSBib3VuZC5sZWZ0O1xuICAgICAgICBoZWlnaHQgPSBib3VuZC5ib3R0b20gLSBib3VuZC50b3AgKyAxO1xuICAgICAgICBkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoYm91bmQubGVmdCwgYm91bmQudG9wLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFJlZ2V4cCBmb3IgZGF0YSBVUkkuXG4gKiBCYXNlZCBvbjoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWdpbmd3aW5kL2RhdGEtdXJpLXJlZ2V4fVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gREFUQV9VUklcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xudmFyIERBVEFfVVJJID0gL15cXHMqZGF0YTooPzooW1xcdy1dKylcXC8oW1xcdysuLV0rKSk/KD86O2NoYXJzZXQ9KFtcXHctXSspKT8oPzo7KGJhc2U2NCkpPywoLiopL2k7XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBpbnRlcmZhY2UgRGVjb21wb3NlZERhdGFVcmlcbiAqL1xuLyoqXG4gKiB0eXBlLCBlZy4gYGltYWdlYFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG1lZGlhVHlwZVxuICovXG4vKipcbiAqIFN1YiB0eXBlLCBlZy4gYHBuZ2BcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBzdWJUeXBlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGNoYXJzZXRcbiAqL1xuLyoqXG4gKiBEYXRhIGVuY29kaW5nLCBlZy4gYGJhc2U2NGBcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBlbmNvZGluZ1xuICovXG4vKipcbiAqIFRoZSBhY3R1YWwgZGF0YVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGRhdGFcbiAqL1xuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpIHtcbiAgICB2YXIgZGF0YVVyaU1hdGNoID0gREFUQV9VUkkuZXhlYyhkYXRhVXJpKTtcbiAgICBpZiAoZGF0YVVyaU1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWRpYVR5cGU6IGRhdGFVcmlNYXRjaFsxXSA/IGRhdGFVcmlNYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3ViVHlwZTogZGF0YVVyaU1hdGNoWzJdID8gZGF0YVVyaU1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFyc2V0OiBkYXRhVXJpTWF0Y2hbM10gPyBkYXRhVXJpTWF0Y2hbM10udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBkYXRhVXJpTWF0Y2hbNF0gPyBkYXRhVXJpTWF0Y2hbNF0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFVcmlNYXRjaFs1XSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxudmFyIHRlbXBBbmNob3I7XG4vKipcbiAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gKiBOaXBwZWQgZnJvbSB0aGUgcmVzb3VyY2UgbG9hZGVyIVxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNyb3NzT3JpZ2luKHVybCQxLCBsb2MpIHtcbiAgICBpZiAobG9jID09PSB2b2lkIDApIHsgbG9jID0gc2VsZi5sb2NhdGlvbjsgfVxuICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgaWYgKHVybCQxLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCBzZWxmLmxvY2F0aW9uO1xuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cbiAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybCQxO1xuICAgIHZhciBwYXJzZWRVcmwgPSB1cmwucGFyc2UodGVtcEFuY2hvci5ocmVmKTtcbiAgICB2YXIgc2FtZVBvcnQgPSAoIXBhcnNlZFVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJykgfHwgKHBhcnNlZFVybC5wb3J0ID09PSBsb2MucG9ydCk7XG4gICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgaWYgKHBhcnNlZFVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwYXJzZWRVcmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5mdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFVElOQV9QUkVGSVguZXhlYyh1cmwpO1xuICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJlc29sdXRpb25bMV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAxO1xufVxuXG5leHBvcnQgeyBCYXNlVGV4dHVyZUNhY2hlLCBDYW52YXNSZW5kZXJUYXJnZXQsIERBVEFfVVJJLCBQcm9ncmFtQ2FjaGUsIFRleHR1cmVDYWNoZSwgY2xlYXJUZXh0dXJlQ2FjaGUsIGNvcnJlY3RCbGVuZE1vZGUsIGNyZWF0ZUluZGljZXNGb3JRdWFkcywgZGVjb21wb3NlRGF0YVVyaSwgZGVwcmVjYXRpb24sIGRlc3Ryb3lUZXh0dXJlQ2FjaGUsIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRCdWZmZXJUeXBlLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGhleDJyZ2IsIGhleDJzdHJpbmcsIGludGVybGVhdmVUeXBlZEFycmF5cywgaXNQb3cyLCBpc1dlYkdMU3VwcG9ydGVkLCBsb2cyLCBuZXh0UG93MiwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50LCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIHJlbW92ZUl0ZW1zLCByZ2IyaGV4LCBzYXlIZWxsbywgc2lnbiwgc2tpcEhlbGxvLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCB1aWQsIHVybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21hdGggLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvbWF0aCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qKlxuICogVHdvIFBpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQSV8yID0gTWF0aC5QSSAqIDI7XG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9IFJBRF9UT19ERUdcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgaWRlbnRpZnkgc2hhcGVzLCBtYWlubHkgdG8gcHJldmVudCBgaW5zdGFuY2VvZmAgY2FsbHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9MWSBQb2x5Z29uXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVDVCBSZWN0YW5nbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDSVJDIENpcmNsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVMSVAgRWxsaXBzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJSRUMgUm91bmRlZCBSZWN0YW5nbGVcbiAqL1xudmFyIFNIQVBFUztcbihmdW5jdGlvbiAoU0hBUEVTKSB7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlBPTFlcIl0gPSAwXSA9IFwiUE9MWVwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSRUNUXCJdID0gMV0gPSBcIlJFQ1RcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiQ0lSQ1wiXSA9IDJdID0gXCJDSVJDXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIkVMSVBcIl0gPSAzXSA9IFwiRUxJUFwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSUkVDXCJdID0gNF0gPSBcIlJSRUNcIjtcbn0pKFNIQVBFUyB8fCAoU0hBUEVTID0ge30pKTtcblxuLyoqXG4gKiBTaXplIG9iamVjdCwgY29udGFpbnMgd2lkdGggYW5kIGhlaWdodFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJU2l6ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggY29tcG9uZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IGNvbXBvbmVudFxuICovXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IE51bWJlcih5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IE51bWJlcih3aWR0aCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJFQ1RcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJFQ1Q7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcImxlZnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwicmlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJ0b3BcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJib3R0b21cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUsIFwiRU1QVFlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb25zdGFudCBlbXB0eSByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gQW4gZW1wdHkgcmVjdGFuZ2xlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIGFub3RoZXIgcmVjdGFuZ2xlIHRvIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGlzIHJlY3RhbmdsZSB0byBhbm90aGVyIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weSB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBnaXZlbiBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJlY3RhbmdsZS54ID0gdGhpcy54O1xuICAgICAgICByZWN0YW5nbGUueSA9IHRoaXMueTtcbiAgICAgICAgcmVjdGFuZ2xlLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgcmVjdGFuZ2xlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gcmVjdGFuZ2xlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhZHMgdGhlIHJlY3RhbmdsZSBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKiBJZiBwYWRkaW5nWSBpcyBvbWl0dGVkLCBib3RoIHBhZGRpbmdYIGFuZCBwYWRkaW5nWSB3aWxsIGJlIHNldCB0byBwYWRkaW5nWC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1g9MF0gLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdZPTBdIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChwYWRkaW5nWCwgcGFkZGluZ1kpIHtcbiAgICAgICAgaWYgKHBhZGRpbmdYID09PSB2b2lkIDApIHsgcGFkZGluZ1ggPSAwOyB9XG4gICAgICAgIGlmIChwYWRkaW5nWSA9PT0gdm9pZCAwKSB7IHBhZGRpbmdZID0gcGFkZGluZ1g7IH1cbiAgICAgICAgdGhpcy54IC09IHBhZGRpbmdYO1xuICAgICAgICB0aGlzLnkgLT0gcGFkZGluZ1k7XG4gICAgICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgICAgICB0aGlzLmhlaWdodCArPSBwYWRkaW5nWSAqIDI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRml0cyB0aGlzIHJlY3RhbmdsZSBhcm91bmQgdGhlIHBhc3NlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGZpdC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWF4KHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1pbih0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWF4KHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1pbih0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh4MiAtIHgxLCAwKTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoeTIgLSB5MSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgcmVjdGFuZ2xlIHRoYXQgd2F5IGl0cyBjb3JuZXJzIGxpZSBvbiBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIC0gcHJlY2lzaW9uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY2VpbCA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBlcHMpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICBpZiAoZXBzID09PSB2b2lkIDApIHsgZXBzID0gMC4wMDE7IH1cbiAgICAgICAgdmFyIHgyID0gTWF0aC5jZWlsKCh0aGlzLnggKyB0aGlzLndpZHRoIC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5jZWlsKCh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMueCA9IE1hdGguZmxvb3IoKHRoaXMueCArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMueSA9IE1hdGguZmxvb3IoKHRoaXMueSArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHRoaXMueDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyB0aGlzIHJlY3RhbmdsZSB0byBpbmNsdWRlIHRoZSBwYXNzZWQgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBpbmNsdWRlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmVubGFyZ2UgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWluKHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWluKHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1heCh0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHkxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOlJlY3RhbmdsZSB4PVwiICsgdGhpcy54ICsgXCIgeT1cIiArIHRoaXMueSArIFwiIHdpZHRoPVwiICsgdGhpcy53aWR0aCArIFwiIGhlaWdodD1cIiArIHRoaXMuaGVpZ2h0ICsgXCJdXCI7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgQ2lyY2xlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0wXSAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBDaXJjbGUgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ2lyY2xlfSBhIGNvcHkgb2YgdGhlIENpcmNsZVxuICAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGNpcmNsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICB2YXIgZHggPSAodGhpcy54IC0geCk7XG4gICAgICAgIHZhciBkeSA9ICh0aGlzLnkgLSB5KTtcbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuICAgICAgICByZXR1cm4gKGR4ICsgZHkgPD0gcjIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgICB9O1xuICAgIENpcmNsZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOkNpcmNsZSB4PVwiICsgdGhpcy54ICsgXCIgeT1cIiArIHRoaXMueSArIFwiIHJhZGl1cz1cIiArIHRoaXMucmFkaXVzICsgXCJdXCI7XG4gICAgfTtcbiAgICByZXR1cm4gQ2lyY2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBFbGxpcHNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoYWxmV2lkdGg9MF0gLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZIZWlnaHQ9MF0gLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gRWxsaXBzZSh4LCB5LCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChoYWxmV2lkdGggPT09IHZvaWQgMCkgeyBoYWxmV2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoYWxmSGVpZ2h0ID09PSB2b2lkIDApIHsgaGFsZkhlaWdodCA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IGhhbGZXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoYWxmSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5FTElQXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5FTElQO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBFbGxpcHNlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkcyBhcmUgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm9ybWFsaXplIHRoZSBjb29yZHMgdG8gYW4gZWxsaXBzZSB3aXRoIGNlbnRlciAwLDBcbiAgICAgICAgdmFyIG5vcm14ID0gKCh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGgpO1xuICAgICAgICB2YXIgbm9ybXkgPSAoKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQpO1xuICAgICAgICBub3JteCAqPSBub3JteDtcbiAgICAgICAgbm9ybXkgKj0gbm9ybXk7XG4gICAgICAgIHJldHVybiAobm9ybXggKyBub3JteSA8PSAxKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy53aWR0aCwgdGhpcy55IC0gdGhpcy5oZWlnaHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIEVsbGlwc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvbWF0aDpFbGxpcHNlIHg9XCIgKyB0aGlzLnggKyBcIiB5PVwiICsgdGhpcy55ICsgXCIgd2lkdGg9XCIgKyB0aGlzLndpZHRoICsgXCIgaGVpZ2h0PVwiICsgdGhpcy5oZWlnaHQgKyBcIl1cIjtcbiAgICB9O1xuICAgIHJldHVybiBFbGxpcHNlO1xufSgpKTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGRlZmluZSBhIHNoYXBlIHZpYSB1c2VyIGRlZmluZWQgY29vcmRpbmF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9seWdvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50W118bnVtYmVyW119IHBvaW50cyAtIFRoaXMgY2FuIGJlIGFuIGFycmF5IG9mIFBvaW50c1xuICAgICAqICB0aGF0IGZvcm0gdGhlIHBvbHlnb24sIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzIHRoYXQgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBbeCx5LCB4LHksIC4uLl0sIG9yXG4gICAgICogIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBhbGwgdGhlIHBvaW50cyBvZiB0aGUgcG9seWdvbiBlLmcuXG4gICAgICogIGBuZXcgUElYSS5Qb2x5Z29uKG5ldyBQSVhJLlBvaW50KCksIG5ldyBQSVhJLlBvaW50KCksIC4uLilgLCBvciB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgZmxhdFxuICAgICAqICB4LHkgdmFsdWVzIGUuZy4gYG5ldyBQb2x5Z29uKHgseSwgeCx5LCB4LHksIC4uLilgIHdoZXJlIGB4YCBhbmQgYHlgIGFyZSBOdW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvbHlnb24oKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwb2ludHNbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbGF0ID0gQXJyYXkuaXNBcnJheShwb2ludHNbMF0pID8gcG9pbnRzWzBdIDogcG9pbnRzO1xuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgICAgICBpZiAodHlwZW9mIGZsYXRbMF0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB2YXIgcCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZmxhdC5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKGZsYXRbaV0ueCwgZmxhdFtpXS55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsYXQgPSBwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgcG9pbnRzIG9mIHRoaXMgcG9seWdvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gZmxhdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUE9MWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGBmYWxzZWAgYWZ0ZXIgbW92ZVRvLCBgdHJ1ZWAgYWZ0ZXIgYGNsb3NlUGF0aGAuIEluIGFsbCBvdGhlciBjYXNlcyBpdCBpcyBgdHJ1ZWAuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvbHlnb259IGEgY29weSBvZiB0aGUgcG9seWdvblxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHMuc2xpY2UoKTtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBuZXcgUG9seWdvbihwb2ludHMpO1xuICAgICAgICBwb2x5Z29uLmNsb3NlU3Ryb2tlID0gdGhpcy5jbG9zZVN0cm9rZTtcbiAgICAgICAgcmV0dXJuIHBvbHlnb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuICAgICAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgICAgICB2YXIgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICAgICAgICB2YXIgeWkgPSB0aGlzLnBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICB2YXIgeGogPSB0aGlzLnBvaW50c1tqICogMl07XG4gICAgICAgICAgICB2YXIgeWogPSB0aGlzLnBvaW50c1soaiAqIDIpICsgMV07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9PSAoeWogPiB5KSkgJiYgKHggPCAoKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSkgKyB4aSk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH07XG4gICAgUG9seWdvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOlBvbHlnb25cIlxuICAgICAgICAgICAgKyAoXCJjbG9zZVN0cm9rZT1cIiArIHRoaXMuY2xvc2VTdHJva2UpXG4gICAgICAgICAgICArIChcInBvaW50cz1cIiArIHRoaXMucG9pbnRzLnJlZHVjZShmdW5jdGlvbiAocG9pbnRzRGVzYywgY3VycmVudFBvaW50KSB7IHJldHVybiBwb2ludHNEZXNjICsgXCIsIFwiICsgY3VycmVudFBvaW50OyB9LCAnJykgKyBcIl1cIik7XG4gICAgfTtcbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0yMF0gLSBDb250cm9scyB0aGUgcmFkaXVzIG9mIHRoZSByb3VuZGVkIGNvcm5lcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAyMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJSRUM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHkgPj0gdGhpcy55ICsgdGhpcy5yYWRpdXMgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKVxuICAgICAgICAgICAgICAgICAgICB8fCAoeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvbWF0aDpSb3VuZGVkUmVjdGFuZ2xlIHg9XCIgKyB0aGlzLnggKyBcIiB5PVwiICsgdGhpcy55XG4gICAgICAgICAgICArIChcIndpZHRoPVwiICsgdGhpcy53aWR0aCArIFwiIGhlaWdodD1cIiArIHRoaXMuaGVpZ2h0ICsgXCIgcmFkaXVzPVwiICsgdGhpcy5yYWRpdXMgKyBcIl1cIik7XG4gICAgfTtcbiAgICByZXR1cm4gUm91bmRlZFJlY3RhbmdsZTtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIGB4YCByZXByZXNlbnRzXG4gKiB0aGUgcG9zaXRpb24gb24gdGhlIGhvcml6b250YWwgYXhpcyBhbmQgYHlgIHJlcHJlc2VudHMgdGhlIHBvc2l0aW9uIG9uIHRoZSB2ZXJ0aWNhbCBheGlzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBgUG9pbnRgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIC8qKiBQb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpcyAqL1xuICAgICAgICB0aGlzLnggPSAwO1xuICAgICAgICAvKiogUG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXMgKi9cbiAgICAgICAgdGhpcy55ID0gMDtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gICAgICogQHJldHVybnMgQSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyBgeGAgYW5kIGB5YCBmcm9tIHRoZSBnaXZlbiBwb2ludCBpbnRvIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm5zIFRoZSBwb2ludCBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICB0aGlzLnNldChwLngsIHAueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcG9pbnQncyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50IChgcGApLlxuICAgICAqXG4gICAgICogQHBhcmFtIHAgLSBUaGUgcG9pbnQgdG8gY29weSB0by4gQ2FuIGJlIGFueSBvZiB0eXBlIHRoYXQgaXMgb3IgZXh0ZW5kcyBgSVBvaW50RGF0YWBcbiAgICAgKiBAcmV0dXJucyBUaGUgcG9pbnQgKGBwYCkgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBwLnNldCh0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWNjZXB0cyBhbm90aGVyIHBvaW50IChgcGApIGFuZCByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIGB0cnVlYCBpZiBib3RoIGB4YCBhbmQgYHlgIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgYHhgIGFuZCBgeWAgcG9zaXRpb24uXG4gICAgICogSWYgYHlgIGlzIG9taXR0ZWQsIGJvdGggYHhgIGFuZCBgeWAgd2lsbCBiZSBzZXQgdG8gYHhgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSBgeGAgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgYHlgIGF4aXNcbiAgICAgKiBAcmV0dXJucyBUaGUgcG9pbnQgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0geDsgfVxuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFBvaW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL21hdGg6UG9pbnQgeD1cIiArIHRoaXMueCArIFwiIHk9XCIgKyB0aGlzLnkgKyBcIl1cIjtcbiAgICB9O1xuICAgIHJldHVybiBQb2ludDtcbn0oKSk7XG5cbi8qKlxuICogVGhlIE9ic2VydmFibGVQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSBgeGAgcmVwcmVzZW50c1xuICogdGhlIHBvc2l0aW9uIG9uIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIGB5YCByZXByZXNlbnRzIHRoZSBwb3NpdGlvbiBvbiB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBBbiBgT2JzZXJ2YWJsZVBvaW50YCBpcyBhIHBvaW50IHRoYXQgdHJpZ2dlcnMgYSBjYWxsYmFjayB3aGVuIHRoZSBwb2ludCdzIHBvc2l0aW9uIGlzIGNoYW5nZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBPYnNlcnZhYmxlUG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBgT2JzZXJ2YWJsZVBvaW50YFxuICAgICAqXG4gICAgICogQHBhcmFtIGNiIC0gY2FsbGJhY2sgZnVuY3Rpb24gdHJpZ2dlcmVkIHdoZW4gYHhgIGFuZC9vciBgeWAgYXJlIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50LlxuICAgICAqIFRoZSBjYWxsYmFjayBhbmQgc2NvcGUgcGFyYW1zIGNhbiBiZSBvdmVycmlkZGVuIG90aGVyd2lzZSB0aGV5IHdpbGwgZGVmYXVsdFxuICAgICAqIHRvIHRoZSBjbG9uZSBvYmplY3QncyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdHJpZ2dlcmVkIHdoZW4gYHhgIGFuZC9vciBgeWAgYXJlIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBUaGUgb3duZXIgb2YgdGhlIGNhbGxiYWNrXG4gICAgICogQHJldHVybiBhIGNvcHkgb2YgdGhpcyBvYnNlcnZhYmxlIHBvaW50XG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChjYiwgc2NvcGUpIHtcbiAgICAgICAgaWYgKGNiID09PSB2b2lkIDApIHsgY2IgPSB0aGlzLmNiOyB9XG4gICAgICAgIGlmIChzY29wZSA9PT0gdm9pZCAwKSB7IHNjb3BlID0gdGhpcy5zY29wZTsgfVxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgYHhgIGFuZCBgeWAgcG9zaXRpb24uXG4gICAgICogSWYgYHlgIGlzIG9taXR0ZWQsIGJvdGggYHhgIGFuZCBgeWAgd2lsbCBiZSBzZXQgdG8gYHhgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIFRoZSBvYnNlcnZhYmxlIHBvaW50IGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSB4OyB9XG4gICAgICAgIGlmICh0aGlzLl94ICE9PSB4IHx8IHRoaXMuX3kgIT09IHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludCAoYHBgKVxuICAgICAqXG4gICAgICogQHBhcmFtIHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tLiBDYW4gYmUgYW55IG9mIHR5cGUgdGhhdCBpcyBvciBleHRlbmRzIGBJUG9pbnREYXRhYFxuICAgICAqIEByZXR1cm5zIFRoZSBvYnNlcnZhYmxlIHBvaW50IGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhpcyBwb2ludCdzIHggYW5kIHkgaW50byB0aGF0IG9mIHRoZSBnaXZlbiBwb2ludCAoYHBgKVxuICAgICAqXG4gICAgICogQHBhcmFtIHAgLSBUaGUgcG9pbnQgdG8gY29weSB0by4gQ2FuIGJlIGFueSBvZiB0eXBlIHRoYXQgaXMgb3IgZXh0ZW5kcyBgSVBvaW50RGF0YWBcbiAgICAgKiBAcmV0dXJucyBUaGUgcG9pbnQgKGBwYCkgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWNjZXB0cyBhbm90aGVyIHBvaW50IChgcGApIGFuZCByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIGB0cnVlYCBpZiBib3RoIGB4YCBhbmQgYHlgIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIChwLnggPT09IHRoaXMuX3gpICYmIChwLnkgPT09IHRoaXMuX3kpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL21hdGg6T2JzZXJ2YWJsZVBvaW50IHg9XCIgKyAwICsgXCIgeT1cIiArIDAgKyBcIiBzY29wZT1cIiArIHRoaXMuc2NvcGUgKyBcIl1cIjtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAvKiogUG9zaXRpb24gb2YgdGhlIG9ic2VydmFibGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl94ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgLyoqIFBvc2l0aW9uIG9mIHRoZSBvYnNlcnZhYmxlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5feSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE9ic2VydmFibGVQb2ludDtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggYXMgYSBjbGFzcyBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIuXG4gKlxuICogSGVyZSBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIGl0OlxuICogYGBganNcbiAqIHwgYSB8IGMgfCB0eHxcbiAqIHwgYiB8IGQgfCB0eXxcbiAqIHwgMCB8IDAgfCAxIHxcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWF0cml4ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYT0xXSAtIHggc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2I9MF0gLSB5IHNrZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2M9MF0gLSB4IHNrZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Q9MV0gLSB5IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eD0wXSAtIHggdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R5PTBdIC0geSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hdHJpeChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgaWYgKGEgPT09IHZvaWQgMCkgeyBhID0gMTsgfVxuICAgICAgICBpZiAoYiA9PT0gdm9pZCAwKSB7IGIgPSAwOyB9XG4gICAgICAgIGlmIChjID09PSB2b2lkIDApIHsgYyA9IDA7IH1cbiAgICAgICAgaWYgKGQgPT09IHZvaWQgMCkgeyBkID0gMTsgfVxuICAgICAgICBpZiAodHggPT09IHZvaWQgMCkgeyB0eCA9IDA7IH1cbiAgICAgICAgaWYgKHR5ID09PSB2b2lkIDApIHsgdHkgPSAwOyB9XG4gICAgICAgIHRoaXMuYXJyYXkgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHkgPSB0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuZnJvbUFycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHRoaXMuYSA9IGFycmF5WzBdO1xuICAgICAgICB0aGlzLmIgPSBhcnJheVsxXTtcbiAgICAgICAgdGhpcy5jID0gYXJyYXlbM107XG4gICAgICAgIHRoaXMuZCA9IGFycmF5WzRdO1xuICAgICAgICB0aGlzLnR4ID0gYXJyYXlbMl07XG4gICAgICAgIHRoaXMudHkgPSBhcnJheVs1XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgdGhpcy50eSA9IHR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZnJvbSB0aGUgY3VycmVudCBNYXRyaXggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0cmFuc3Bvc2UgLSBXaGV0aGVyIHdlIG5lZWQgdG8gdHJhbnNwb3NlIHRoZSBtYXRyaXggb3Igbm90XG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9bmV3IEZsb2F0MzJBcnJheSg5KV0gLSBJZiBwcm92aWRlZCB0aGUgYXJyYXkgd2lsbCBiZSBhc3NpZ25lZCB0byBvdXRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gdGhlIG5ld2x5IGNyZWF0ZWQgYXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICh0cmFuc3Bvc2UsIG91dCkge1xuICAgICAgICBpZiAoIXRoaXMuYXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuICAgICAgICBpZiAodHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzZdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzddID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVsyXSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbNl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbN10gPSAwO1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIHRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKHBvcywgbmV3UG9zKSB7XG4gICAgICAgIG5ld1BvcyA9IChuZXdQb3MgfHwgbmV3IFBvaW50KCkpO1xuICAgICAgICB2YXIgeCA9IHBvcy54O1xuICAgICAgICB2YXIgeSA9IHBvcy55O1xuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmEgKiB4KSArICh0aGlzLmMgKiB5KSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYiAqIHgpICsgKHRoaXMuZCAqIHkpICsgdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgaW52ZXJzZS10cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBseUludmVyc2UgPSBmdW5jdGlvbiAocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gKG5ld1BvcyB8fCBuZXcgUG9pbnQoKSk7XG4gICAgICAgIHZhciBpZCA9IDEgLyAoKHRoaXMuYSAqIHRoaXMuZCkgKyAodGhpcy5jICogLXRoaXMuYikpO1xuICAgICAgICB2YXIgeCA9IHBvcy54O1xuICAgICAgICB2YXIgeSA9IHBvcy55O1xuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmQgKiBpZCAqIHgpICsgKC10aGlzLmMgKiBpZCAqIHkpICsgKCgodGhpcy50eSAqIHRoaXMuYykgLSAodGhpcy50eCAqIHRoaXMuZCkpICogaWQpO1xuICAgICAgICBuZXdQb3MueSA9ICh0aGlzLmEgKiBpZCAqIHkpICsgKC10aGlzLmIgKiBpZCAqIHgpICsgKCgoLXRoaXMudHkgKiB0aGlzLmEpICsgKHRoaXMudHggKiB0aGlzLmIpKSAqIGlkKTtcbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIG1hdHJpeCBvbiB0aGUgeCBhbmQgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB5IGJ5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnR4ICs9IHg7XG4gICAgICAgIHRoaXMudHkgKz0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIGFtb3VudCB0byBzY2FsZSBob3Jpem9udGFsbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBhbW91bnQgdG8gc2NhbGUgdmVydGljYWxseVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLmEgKj0geDtcbiAgICAgICAgdGhpcy5kICo9IHk7XG4gICAgICAgIHRoaXMuYyAqPSB4O1xuICAgICAgICB0aGlzLmIgKj0geTtcbiAgICAgICAgdGhpcy50eCAqPSB4O1xuICAgICAgICB0aGlzLnR5ICo9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHRoaXMuYSA9IChhMSAqIGNvcykgLSAodGhpcy5iICogc2luKTtcbiAgICAgICAgdGhpcy5iID0gKGExICogc2luKSArICh0aGlzLmIgKiBjb3MpO1xuICAgICAgICB0aGlzLmMgPSAoYzEgKiBjb3MpIC0gKHRoaXMuZCAqIHNpbik7XG4gICAgICAgIHRoaXMuZCA9IChjMSAqIHNpbikgKyAodGhpcy5kICogY29zKTtcbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBjb3MpIC0gKHRoaXMudHkgKiBzaW4pO1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIHNpbikgKyAodGhpcy50eSAqIGNvcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdGhpcy5hID0gKG1hdHJpeC5hICogYTEpICsgKG1hdHJpeC5iICogYzEpO1xuICAgICAgICB0aGlzLmIgPSAobWF0cml4LmEgKiBiMSkgKyAobWF0cml4LmIgKiBkMSk7XG4gICAgICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcbiAgICAgICAgdGhpcy5kID0gKG1hdHJpeC5jICogYjEpICsgKG1hdHJpeC5kICogZDEpO1xuICAgICAgICB0aGlzLnR4ID0gKG1hdHJpeC50eCAqIGExKSArIChtYXRyaXgudHkgKiBjMSkgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gKG1hdHJpeC50eCAqIGIxKSArIChtYXRyaXgudHkgKiBkMSkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpIHtcbiAgICAgICAgdGhpcy5hID0gTWF0aC5jb3Mocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYiA9IE1hdGguc2luKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmMgPSAtTWF0aC5zaW4ocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMuZCA9IE1hdGguY29zKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLnR4ID0geCAtICgocGl2b3RYICogdGhpcy5hKSArIChwaXZvdFkgKiB0aGlzLmMpKTtcbiAgICAgICAgdGhpcy50eSA9IHkgLSAoKHBpdm90WCAqIHRoaXMuYikgKyAocGl2b3RZICogdGhpcy5kKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJlcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gcHJlcGVuZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICAgICAgdGhpcy5hID0gKGExICogbWF0cml4LmEpICsgKHRoaXMuYiAqIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIHRoaXMuYiA9IChhMSAqIG1hdHJpeC5iKSArICh0aGlzLmIgKiBtYXRyaXguZCk7XG4gICAgICAgICAgICB0aGlzLmMgPSAoYzEgKiBtYXRyaXguYSkgKyAodGhpcy5kICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5kID0gKGMxICogbWF0cml4LmIpICsgKHRoaXMuZCAqIG1hdHJpeC5kKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIG1hdHJpeC5hKSArICh0aGlzLnR5ICogbWF0cml4LmMpICsgbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgdGhlIG1hdHJpeCAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGFuZCByb3RhdGlvbikgYW5kIHNldHMgdGhlIHByb3BlcnRpZXMgb24gdG8gYSB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGFwcGx5IHRoZSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVHJhbnNmb3JtfSBUaGUgdHJhbnNmb3JtIHdpdGggdGhlIG5ld2x5IGFwcGxpZWQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24gKHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgICAgICB2YXIgYSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjID0gdGhpcy5jO1xuICAgICAgICB2YXIgZCA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHBpdm90ID0gdHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG4gICAgICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKHNrZXdYICsgc2tld1kpO1xuICAgICAgICBpZiAoZGVsdGEgPCAwLjAwMDAxIHx8IE1hdGguYWJzKFBJXzIgLSBkZWx0YSkgPCAwLjAwMDAxKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBza2V3WTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eCArICgocGl2b3QueCAqIGEpICsgKHBpdm90LnkgKiBjKSk7XG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdGhpcy50eSArICgocGl2b3QueCAqIGIpICsgKHBpdm90LnkgKiBkKSk7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdmFyIG4gPSAoYTEgKiBkMSkgLSAoYjEgKiBjMSk7XG4gICAgICAgIHRoaXMuYSA9IGQxIC8gbjtcbiAgICAgICAgdGhpcy5iID0gLWIxIC8gbjtcbiAgICAgICAgdGhpcy5jID0gLWMxIC8gbjtcbiAgICAgICAgdGhpcy5kID0gYTEgLyBuO1xuICAgICAgICB0aGlzLnR4ID0gKChjMSAqIHRoaXMudHkpIC0gKGQxICogdHgxKSkgLyBuO1xuICAgICAgICB0aGlzLnR5ID0gLSgoYTEgKiB0aGlzLnR5KSAtIChiMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhpcyBNYXRyaXggdG8gYW4gaWRlbnRpdHkgKGRlZmF1bHQpIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYSA9IDE7XG4gICAgICAgIHRoaXMuYiA9IDA7XG4gICAgICAgIHRoaXMuYyA9IDA7XG4gICAgICAgIHRoaXMuZCA9IDE7XG4gICAgICAgIHRoaXMudHggPSAwO1xuICAgICAgICB0aGlzLnR5ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE1hdHJpeCBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gQSBjb3B5IG9mIHRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWF0cml4IGdpdmVuIGluIHBhcmFtZXRlciB3aXRoIGl0cyB2YWx1ZXMgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSB0aGlzXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5iO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYztcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmQ7XG4gICAgICAgIHRoaXMudHggPSBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgTWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL21hdGg6TWF0cml4IGE9XCIgKyB0aGlzLmEgKyBcIiBiPVwiICsgdGhpcy5iICsgXCIgYz1cIiArIHRoaXMuYyArIFwiIGQ9XCIgKyB0aGlzLmQgKyBcIiB0eD1cIiArIHRoaXMudHggKyBcIiB0eT1cIiArIHRoaXMudHkgKyBcIl1cIjtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgsIFwiSURFTlRJVFlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeCwgXCJURU1QX01BVFJJWFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXAgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE1hdHJpeDtcbn0oKSk7XG5cbi8vIFlvdXIgZnJpZW5kbHkgbmVpZ2hib3VyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RpaGVkcmFsX2dyb3VwXG4vKlxuICogVHJhbnNmb3JtIG1hdHJpeCBmb3Igb3BlcmF0aW9uIG4gaXM6XG4gKiB8IHV4IHwgdnggfFxuICogfCB1eSB8IHZ5IHxcbiAqL1xudmFyIHV4ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDFdO1xudmFyIHV5ID0gWzAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ5ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTFdO1xuLyoqXG4gKiBbQ2F5bGV5IFRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gKiBmb3IgdGhlIGNvbXBvc2l0aW9uIG9mIGVhY2ggcm90YXRpb24gaW4gdGhlIGRpaGVkZXJhbCBncm91cCBEOC5cbiAqXG4gKiBAdHlwZSBudW1iZXJbXVtdXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25DYXlsZXkgPSBbXTtcbi8qKlxuICogTWF0cmljZXMgZm9yIGVhY2ggYEdEOFN5bW1ldHJ5YCByb3RhdGlvbi5cbiAqXG4gKiBAdHlwZSBNYXRyaXhbXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uTWF0cmljZXMgPSBbXTtcbi8qXG4gKiBBbGlhcyBmb3Ige0Bjb2RlIE1hdGguc2lnbn0uXG4gKi9cbnZhciBzaWdudW0gPSBNYXRoLnNpZ247XG4vKlxuICogSW5pdGlhbGl6ZXMgYHJvdGF0aW9uQ2F5bGV5YCBhbmQgYHJvdGF0aW9uTWF0cmljZXNgLiBJdCBpcyBjYWxsZWRcbiAqIG9ubHkgb25jZSBiZWxvdy5cbiAqL1xuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xuICAgICAgICByb3RhdGlvbkNheWxleS5wdXNoKHJvdyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgLyogTXVsdGlwbGllcyByb3RhdGlvbiBtYXRyaWNlcyBpIGFuZCBqLiAqL1xuICAgICAgICAgICAgdmFyIF91eCA9IHNpZ251bSgodXhbaV0gKiB1eFtqXSkgKyAodnhbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF91eSA9IHNpZ251bSgodXlbaV0gKiB1eFtqXSkgKyAodnlbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF92eCA9IHNpZ251bSgodXhbaV0gKiB2eFtqXSkgKyAodnhbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF92eSA9IHNpZ251bSgodXlbaV0gKiB2eFtqXSkgKyAodnlbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgLyogRmluZHMgcm90YXRpb24gbWF0cml4IG1hdGNoaW5nIHRoZSBwcm9kdWN0IGFuZCBwdXNoZXMgaXQuICovXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDE2OyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodXhba10gPT09IF91eCAmJiB1eVtrXSA9PT0gX3V5XG4gICAgICAgICAgICAgICAgICAgICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSkge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBtYXQuc2V0KHV4W2ldLCB1eVtpXSwgdnhbaV0sIHZ5W2ldLCAwLCAwKTtcbiAgICAgICAgcm90YXRpb25NYXRyaWNlcy5wdXNoKG1hdCk7XG4gICAgfVxufVxuaW5pdCgpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge251bWJlcn0gR0Q4U3ltbWV0cnlcbiAqIEBzZWUgUElYSS5ncm91cEQ4XG4gKi9cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgZGloZWRyYWwgZ3JvdXAgRDgsIHdoaWNoIGlzIHNpbWlsYXIgdG9cbiAqIFtncm91cCBENF17QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9EaWhlZHJhbEdyb3VwRDQuaHRtbH07XG4gKiBEOCBpcyB0aGUgc2FtZSBidXQgd2l0aCBkaWFnb25hbHMsIGFuZCBpdCBpcyB1c2VkIGZvciB0ZXh0dXJlXG4gKiByb3RhdGlvbnMuXG4gKlxuICogVGhlIGRpcmVjdGlvbnMgdGhlIFUtIGFuZCBWLSBheGVzIGFmdGVyIHJvdGF0aW9uXG4gKiBvZiBhbiBhbmdsZSBvZiBgYTogR0Q4Q29uc3RhbnRgIGFyZSB0aGUgdmVjdG9ycyBgKHVYKGEpLCB1WShhKSlgXG4gKiBhbmQgYCh2WChhKSwgdlkoYSkpYC4gVGhlc2UgYXJlbid0IG5lY2Vzc2FyaWx5IHVuaXQgdmVjdG9ycy5cbiAqXG4gKiAqKk9yaWdpbjoqKjxicj5cbiAqICBUaGlzIGlzIHRoZSBzbWFsbCBwYXJ0IG9mIGdhbWVvZmJvbWJzLmNvbSBwb3J0YWwgc3lzdGVtLiBJdCB3b3Jrcy5cbiAqXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5FXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU1xuICogQHNlZSBQSVhJLmdyb3VwRDguU1dcbiAqIEBzZWUgUElYSS5ncm91cEQ4LldcbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5ORVxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQG5hbWVzcGFjZSBQSVhJLmdyb3VwRDhcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBncm91cEQ4ID0ge1xuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMMKwICAgICAgIHwgRWFzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgRTogMCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDQ1wrDihrsgICAgIHwgU291dGhlYXN0IHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU0U6IDEsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA5MMKw4oa7ICAgICB8IFNvdXRoICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFM6IDIsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxMzXCsOKGuyAgICB8IFNvdXRod2VzdCB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNXOiAzLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTgwwrAgICAgIHwgV2VzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgVzogNCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC0xMzXCsC8yMjXCsOKGuyB8IE5vcnRod2VzdCAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5XOiA1LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTkwwrAvMjcwwrDihrsgIHwgTm9ydGggICAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTjogNixcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC00NcKwLzMxNcKw4oa7ICB8IE5vcnRoZWFzdCAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5FOiA3LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWS1heGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCB0aGUgbWFpbiBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUFJTl9ESUFHT05BTDogMTAsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBYLWF4aXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHJldmVyc2UgZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFJFVkVSU0VfRElBR09OQUw6IDE0LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eFtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eFtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gc3ltbWV0cnkgd2hvc2Ugb3Bwb3NpdGVcbiAgICAgKiAgIGlzIG5lZWRlZC4gT25seSByb3RhdGlvbnMgaGF2ZSBvcHBvc2l0ZSBzeW1tZXRyaWVzIHdoaWxlXG4gICAgICogICByZWZsZWN0aW9ucyBkb24ndC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgb3Bwb3NpdGUgc3ltbWV0cnkgb2YgYHJvdGF0aW9uYFxuICAgICAqL1xuICAgIGludjogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpIC8vIHRydWUgb25seSBpZiBiZXR3ZWVuIDggJiAxNSAocmVmbGVjdGlvbnMpXG4gICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTsgLy8gb3Igcm90YXRpb24gJSAxNlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoLXJvdGF0aW9uKSAmIDc7IC8vIG9yICg4IC0gcm90YXRpb24pICUgOFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgdGhlIHR3byBEOCBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogVGFraW5nIGBeYCBhcyByZWZsZWN0aW9uOlxuICAgICAqXG4gICAgICogfCAgICAgICB8IEU9MCB8IFM9MiB8IFc9NCB8IE49NiB8IEVePTggfCBTXj0xMCB8IFdePTEyIHwgTl49MTQgfFxuICAgICAqIHwtLS0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tLXwtLS0tLS0tfC0tLS0tLS18LS0tLS0tLXxcbiAgICAgKiB8IEU9MCAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRV4gICB8IFNeICAgIHwgV14gICAgfCBOXiAgICB8XG4gICAgICogfCBTPTIgICB8IFMgICB8IFcgICB8IE4gICB8IEUgICB8IFNeICAgfCBXXiAgICB8IE5eICAgIHwgRV4gICAgfFxuICAgICAqIHwgVz00ICAgfCBXICAgfCBOICAgfCBFICAgfCBTICAgfCBXXiAgIHwgTl4gICAgfCBFXiAgICB8IFNeICAgIHxcbiAgICAgKiB8IE49NiAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTl4gICB8IEVeICAgIHwgU14gICAgfCBXXiAgICB8XG4gICAgICogfCBFXj04ICB8IEVeICB8IE5eICB8IFdeICB8IFNeICB8IEUgICAgfCBOICAgICB8IFcgICAgIHwgUyAgICAgfFxuICAgICAqIHwgU149MTAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTICAgIHwgRSAgICAgfCBOICAgICB8IFcgICAgIHxcbiAgICAgKiB8IFdePTEyIHwgV14gIHwgU14gIHwgRV4gIHwgTl4gIHwgVyAgICB8IFMgICAgIHwgRSAgICAgfCBOICAgICB8XG4gICAgICogfCBOXj0xNCB8IE5eICB8IFdeICB8IFNeICB8IEVeICB8IE4gICAgfCBXICAgICB8IFMgICAgIHwgRSAgICAgfFxuICAgICAqXG4gICAgICogW1RoaXMgaXMgYSBDYXlsZXkgdGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgcm93IGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIGNvbHVtbiBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IENvbXBvc2VkIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiAocm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdKTsgfSxcbiAgICAvKipcbiAgICAgKiBSZXZlcnNlIG9mIGBhZGRgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gUmVzdWx0XG4gICAgICovXG4gICAgc3ViOiBmdW5jdGlvbiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHsgcmV0dXJuIChyb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bZ3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldKTsgfSxcbiAgICAvKipcbiAgICAgKiBBZGRzIDE4MCBkZWdyZWVzIHRvIHJvdGF0aW9uLCB3aGljaCBpcyBhIGNvbW11dGF0aXZlXG4gICAgICogb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gcm90YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJvdGF0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgcm90YXRlMTgwOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIHJvdGF0aW9uIF4gNDsgfSxcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHJvdGF0aW9uIGFuZ2xlIGlzIHZlcnRpY2FsLCBpLmUuIHNvdXRoXG4gICAgICogb3Igbm9ydGguIEl0IGRvZXNuJ3Qgd29yayBmb3IgcmVmbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKi9cbiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIChyb3RhdGlvbiAmIDMpID09PSAyOyB9LFxuICAgIC8qKlxuICAgICAqIEFwcHJveGltYXRlcyB0aGUgdmVjdG9yIGBWKGR4LGR5KWAgaW50byBvbmUgb2YgdGhlXG4gICAgICogZWlnaHQgZGlyZWN0aW9ucyBwcm92aWRlZCBieSBgZ3JvdXBEOGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gWC1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFktY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBBcHByb3hpbWF0aW9uIG9mIHRoZSB2ZWN0b3IgaW50b1xuICAgICAqICBvbmUgb2YgdGhlIGVpZ2h0IHN5bW1ldHJpZXMuXG4gICAgICovXG4gICAgYnlEaXJlY3Rpb246IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKSB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Llc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU0U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Lk5FO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncm91cEQ4Lk5XO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSGVscHMgc3ByaXRlIHRvIGNvbXBlbnNhdGUgdGV4dHVyZSBwYWNrZXIgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gc3ByaXRlIHdvcmxkIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgcm90YXRpb24gZmFjdG9yIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqL1xuICAgIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52OiBmdW5jdGlvbiAobWF0cml4LCByb3RhdGlvbiwgdHgsIHR5KSB7XG4gICAgICAgIGlmICh0eCA9PT0gdm9pZCAwKSB7IHR4ID0gMDsgfVxuICAgICAgICBpZiAodHkgPT09IHZvaWQgMCkgeyB0eSA9IDA7IH1cbiAgICAgICAgLy8gUGFja2VyIHVzZWQgXCJyb3RhdGlvblwiLCB3ZSB1c2UgXCJpbnYocm90YXRpb24pXCJcbiAgICAgICAgdmFyIG1hdCA9IHJvdGF0aW9uTWF0cmljZXNbZ3JvdXBEOC5pbnYocm90YXRpb24pXTtcbiAgICAgICAgbWF0LnR4ID0gdHg7XG4gICAgICAgIG1hdC50eSA9IHR5O1xuICAgICAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoYXQgdGFrZXMgY2FyZSBhYm91dCBpdHMgdmVyc2lvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAxLCAxKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl2b3QgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3ggPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3ggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBZIGF4aXMsXG4gICAgICAgICAqIHRoZSBzZWNvbmQgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N5ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93b3JsZElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgcGFyZW50J3Mgd29ybGQgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgdmFsdWUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgc2tldyBvciB0aGUgcm90YXRpb24gY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTsgLy8gc2luLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOlRyYW5zZm9ybSBcIlxuICAgICAgICAgICAgKyAoXCJwb3NpdGlvbj0oXCIgKyB0aGlzLnBvc2l0aW9uLnggKyBcIiwgXCIgKyB0aGlzLnBvc2l0aW9uLnkgKyBcIikgXCIpXG4gICAgICAgICAgICArIChcInJvdGF0aW9uPVwiICsgdGhpcy5yb3RhdGlvbiArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJzY2FsZT0oXCIgKyB0aGlzLnNjYWxlLnggKyBcIiwgXCIgKyB0aGlzLnNjYWxlLnkgKyBcIikgXCIpXG4gICAgICAgICAgICArIChcInNrZXc9KFwiICsgdGhpcy5za2V3LnggKyBcIiwgXCIgKyB0aGlzLnNrZXcueSArIFwiKSBcIilcbiAgICAgICAgICAgICsgXCJdXCI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKCh0aGlzLnBpdm90LnggKiBsdC5hKSArICh0aGlzLnBpdm90LnkgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICgodGhpcy5waXZvdC54ICogbHQuYikgKyAodGhpcy5waXZvdC55ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIGFuZCB0aGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cmljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgcGFyZW50IHRyYW5zZm9ybVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBhcmVudFRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAoKHRoaXMucGl2b3QueCAqIGx0LmEpICsgKHRoaXMucGl2b3QueSAqIGx0LmMpKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKCh0aGlzLnBpdm90LnggKiBsdC5iKSArICh0aGlzLnBpdm90LnkgKiBsdC5kKSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICAgICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHd0LmEgPSAobHQuYSAqIHB0LmEpICsgKGx0LmIgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmIgPSAobHQuYSAqIHB0LmIpICsgKGx0LmIgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LmMgPSAobHQuYyAqIHB0LmEpICsgKGx0LmQgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmQgPSAobHQuYyAqIHB0LmIpICsgKGx0LmQgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LnR4ID0gKGx0LnR4ICogcHQuYSkgKyAobHQudHkgKiBwdC5jKSArIHB0LnR4O1xuICAgICAgICAgICAgd3QudHkgPSAobHQudHggKiBwdC5iKSArIChsdC50eSAqIHB0LmQpICsgcHQudHk7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgaWQgb2YgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtLnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2tldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgVHJhbnNmb3JtLklERU5USVRZID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgIHJldHVybiBUcmFuc2Zvcm07XG59KCkpO1xuXG5leHBvcnQgeyBDaXJjbGUsIERFR19UT19SQUQsIEVsbGlwc2UsIE1hdHJpeCwgT2JzZXJ2YWJsZVBvaW50LCBQSV8yLCBQb2ludCwgUG9seWdvbiwgUkFEX1RPX0RFRywgUmVjdGFuZ2xlLCBSb3VuZGVkUmVjdGFuZ2xlLCBTSEFQRVMsIFRyYW5zZm9ybSwgZ3JvdXBEOCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZGlzcGxheSAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9kaXNwbGF5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIFJBRF9UT19ERUcsIERFR19UT19SQUQsIFRyYW5zZm9ybSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29udGFpbmVyIHByb3BlcnR5ICdzb3J0YWJsZUNoaWxkcmVuJy5cbiAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICpcbiAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAqXG4gKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTT1JUQUJMRV9DSElMRFJFTlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU4gPSBmYWxzZTtcblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXMuXG4gKlxuICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgYW4gQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveC5cbiAqIEl0IGlzIG5vdCBhbiBhY3R1YWwgc2hhcGUuIEl0IGlzIGEgbXV0YWJsZSB0aGluZzsgbm8gJ0VNUFRZJyBvciB0aG9zZSBraW5kIG9mIHByb2JsZW1zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZHMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMucmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdCBpcyB1cGRhdGVkIHRvIF9ib3VuZHNJRCBvZiBjb3JyZXNwb25kaW5nIG9iamVjdCB0byBrZWVwIGJvdW5kcyBpbiBzeW5jIHdpdGggY29udGVudC5cbiAgICAgICAgICogVXBkYXRlZCBmcm9tIG91dHNpZGUsIHRodXMgcHVibGljIG1vZGlmaWVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGVtcHR5LlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGJvdW5kcyBhbmQgcmVzZXRzLlxuICAgICAqXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbiByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZIGNvbnN0YW50LCBlaXRoZXIgY29uc3RydWN0IG5ldyByZWN0YW5nbGUsIGVpdGhlciB1c2UgeW91ciByZWN0YW5nbGVcbiAgICAgKiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IGl0IHdpbGwgcmV0dXJuIHRlbXBSZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gdGVtcG9yYXJ5IG9iamVjdCB3aWxsIGJlIHVzZWQgaWYgQUFCQiBpcyBub3QgZW1wdHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9IEEgcmVjdGFuZ2xlIG9mIHRoZSBib3VuZHNcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmdldFJlY3RhbmdsZSA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QgPSByZWN0IHx8IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIHJlY3QueCA9IHRoaXMubWluWDtcbiAgICAgICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgICAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LmhlaWdodCA9IHRoaXMubWF4WSAtIHRoaXMubWluWTtcbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBpbmxpbmVkIHdoZW4gaXRzIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcG9pbnQsIGFmdGVyIHRyYW5zZm9ybWVkLiBUaGlzIHNob3VsZCBiZSBpbmxpbmVkIHdoZW4gaXRzIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hdHJpeFxuICAgICAqIEBwYXJhbSBwb2ludFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnRNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCBwb2ludCkge1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hLCBiID0gbWF0cml4LmIsIGMgPSBtYXRyaXguYywgZCA9IG1hdHJpeC5kLCB0eCA9IG1hdHJpeC50eCwgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciB4ID0gKGEgKiBwb2ludC54KSArIChjICogcG9pbnQueSkgKyB0eDtcbiAgICAgICAgdmFyIHkgPSAoYiAqIHBvaW50LngpICsgKGQgKiBwb2ludC55KSArIHR5O1xuICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHgpO1xuICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHgpO1xuICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHkpO1xuICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVGhlIHZlcnRzIHRvIGFkZC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFF1YWQgPSBmdW5jdGlvbiAodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHZhciB4ID0gdmVydGljZXNbMF07XG4gICAgICAgIHZhciB5ID0gdmVydGljZXNbMV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1s0XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgICAgICB5ID0gdmVydGljZXNbN107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzcHJpdGUgZnJhbWUsIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gdHJhbnNmb3JtIHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCBtdWx0aXBsaWVkIGJ5IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbWF0cml4IHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB2YXIgeCA9IChhICogeDApICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgdmFyIHkgPSAoYiAqIHgwKSArIChkICogeTApICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkwKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkwKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDApICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDApICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgxKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgxKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzY3JlZW4gdmVydGljZXMgZnJvbSBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRleERhdGEgLSBjYWxjdWxhdGVkIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0ZXhEYXRhID0gZnVuY3Rpb24gKHZlcnRleERhdGEsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBtZXNoIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIG1lc2ggY29vcmRpbmF0ZXMgaW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5hZGRWZXJ0aWNlc01hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbWVzaCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRYPTBdIC0geCBwYWRkaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRZPTBdIC0geSBwYWRkaW5nXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlc01hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0LCBwYWRYLCBwYWRZKSB7XG4gICAgICAgIGlmIChwYWRYID09PSB2b2lkIDApIHsgcGFkWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZFkgPT09IHZvaWQgMCkgeyBwYWRZID0gcGFkWDsgfVxuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgcmF3WCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgdmFyIHJhd1kgPSB2ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgICAgICB2YXIgeCA9IChhICogcmF3WCkgKyAoYyAqIHJhd1kpICsgdHg7XG4gICAgICAgICAgICB2YXIgeSA9IChkICogcmF3WSkgKyAoYiAqIHJhd1gpICsgdHk7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgeCAtIHBhZFgpO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHggKyBwYWRYKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCB5IC0gcGFkWSk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgeSArIHBhZFkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRoZSBCb3VuZHMgdG8gYmUgYWRkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIChib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUaGUgQm91bmRzIHRvIGJlIGFkZGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IG1hc2sgLSBUT0RPXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gKGJvdW5kcywgbWFzaykge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IG1hc2subWluWCA/IGJvdW5kcy5taW5YIDogbWFzay5taW5YO1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IG1hc2subWF4WSA/IGJvdW5kcy5tYXhZIDogbWFzay5tYXhZO1xuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbXVsdGlwbGllZCBieSBtYXRyaXguIEJvdW5kcyBzaG91bGRuJ3QgYmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBvdGhlciBib3VuZHNcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBtdWx0aXBsaWNhdG9yXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXRyaXggPSBmdW5jdGlvbiAoYm91bmRzLCBtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeChtYXRyaXgsIGJvdW5kcy5taW5YLCBib3VuZHMubWluWSwgYm91bmRzLm1heFgsIGJvdW5kcy5tYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBSZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYXJlYSAtIFRPRE9cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc0FyZWEgPSBmdW5jdGlvbiAoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogKGFyZWEueCArIGFyZWEud2lkdGgpO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IGFyZWEueSArIGFyZWEuaGVpZ2h0ID8gYm91bmRzLm1heFkgOiAoYXJlYS55ICsgYXJlYS5oZWlnaHQpO1xuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWRzIGJvdW5kcyBvYmplY3QsIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWD0wXSAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5wYWQgPSBmdW5jdGlvbiAocGFkZGluZ1gsIHBhZGRpbmdZKSB7XG4gICAgICAgIGlmIChwYWRkaW5nWCA9PT0gdm9pZCAwKSB7IHBhZGRpbmdYID0gMDsgfVxuICAgICAgICBpZiAocGFkZGluZ1kgPT09IHZvaWQgMCkgeyBwYWRkaW5nWSA9IHBhZGRpbmdYOyB9XG4gICAgICAgIGlmICghdGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHRoaXMubWluWCAtPSBwYWRkaW5nWDtcbiAgICAgICAgICAgIHRoaXMubWF4WCArPSBwYWRkaW5nWDtcbiAgICAgICAgICAgIHRoaXMubWluWSAtPSBwYWRkaW5nWTtcbiAgICAgICAgICAgIHRoaXMubWF4WSArPSBwYWRkaW5nWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBwYWRkZWQgZnJhbWUuICh4MCwgeTApIHNob3VsZCBiZSBzdHJpY3RseSBsZXNzIHRoYW4gKHgxLCB5MSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZFggLSBwYWRkaW5nIFhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFkWSAtIHBhZGRpbmcgWVxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWVQYWQgPSBmdW5jdGlvbiAoeDAsIHkwLCB4MSwgeTEsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgeDAgLT0gcGFkWDtcbiAgICAgICAgeTAgLT0gcGFkWTtcbiAgICAgICAgeDEgKz0gcGFkWDtcbiAgICAgICAgeTEgKz0gcGFkWTtcbiAgICAgICAgdGhpcy5taW5YID0gdGhpcy5taW5YIDwgeDAgPyB0aGlzLm1pblggOiB4MDtcbiAgICAgICAgdGhpcy5tYXhYID0gdGhpcy5tYXhYID4geDEgPyB0aGlzLm1heFggOiB4MTtcbiAgICAgICAgdGhpcy5taW5ZID0gdGhpcy5taW5ZIDwgeTAgPyB0aGlzLm1pblkgOiB5MDtcbiAgICAgICAgdGhpcy5tYXhZID0gdGhpcy5tYXhZID4geTEgPyB0aGlzLm1heFkgOiB5MTtcbiAgICB9O1xuICAgIHJldHVybiBCb3VuZHM7XG59KCkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBjYW4gbm90IGJlIHVzZWQgb24gaXRzIG93bjsgcmF0aGVyIGl0IHNob3VsZCBiZSBleHRlbmRlZC5cbiAqXG4gKiAjIyBEaXNwbGF5IG9iamVjdHMgaW1wbGVtZW50ZWQgaW4gUGl4aUpTXG4gKlxuICogfCBEaXNwbGF5IE9iamVjdCAgICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IHtAbGluayBQSVhJLkNvbnRhaW5lcn0gICAgICAgICAgfCBBZGRzIHN1cHBvcnQgZm9yIGBjaGlsZHJlbmAgdG8gRGlzcGxheU9iamVjdCAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5HcmFwaGljc30gICAgICAgICAgIHwgU2hhcGUtZHJhd2luZyBkaXNwbGF5IG9iamVjdCBzaW1pbGFyIHRvIHRoZSBDYW52YXMgQVBJICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU3ByaXRlfSAgICAgICAgICAgICB8IERyYXdzIHRleHR1cmVzIChpLmUuIGltYWdlcykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlRleHR9ICAgICAgICAgICAgICAgfCBEcmF3cyB0ZXh0IHVzaW5nIHRoZSBDYW52YXMgQVBJIGludGVybmFsbHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fSAgICAgICAgIHwgTW9yZSBzY2FsZWFibGUgc29sdXRpb24gZm9yIHRleHQgcmVuZGVyaW5nLCByZXVzaW5nIGdseXBoIHRleHR1cmVzICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuVGlsaW5nU3ByaXRlfSAgICAgICB8IERyYXdzIHRleHR1cmVzL2ltYWdlcyBpbiBhIHRpbGVkIGZhc2hpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfSAgICAgfCBEcmF3cyBhbiBhbmltYXRpb24gb2YgbXVsdGlwbGUgaW1hZ2VzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5NZXNofSAgICAgICAgICAgICAgIHwgUHJvdmlkZXMgYSBsb3dlci1sZXZlbCBBUEkgZm9yIGRyYXdpbmcgbWVzaGVzIHdpdGggY3VzdG9tIGRhdGEgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuTmluZVNsaWNlUGxhbmV9ICAgICB8IE1lc2gtcmVsYXRlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlNpbXBsZU1lc2h9ICAgICAgICAgfCB2NC1jb21wYXRpYmlsZSBtZXNoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5TaW1wbGVQbGFuZX0gICAgICAgIHwgTWVzaC1yZWxhdGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU2ltcGxlUm9wZX0gICAgICAgICB8IE1lc2gtcmVsYXRlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKlxuICogIyMgVHJhbnNmb3Jtc1xuICpcbiAqIFRoZSBbdHJhbnNmb3JtXXtAbGluayBEaXNwbGF5T2JqZWN0I3RyYW5zZm9ybX0gb2YgYSBkaXNwbGF5IG9iamVjdCBkZXNjcmliZXMgdGhlIHByb2plY3Rpb24gZnJvbSBpdHNcbiAqIGxvY2FsIGNvb3JkaW5hdGUgc3BhY2UgdG8gaXRzIHBhcmVudCdzIGxvY2FsIGNvb3JkaW5hdGUgc3BhY2UuIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgZGVyaXZlZFxuICogZnJvbSB0aGUgdHJhbnNmb3JtOlxuICpcbiAqIDx0YWJsZT5cbiAqICAgPHRoZWFkPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0aD5Qcm9wZXJ0eTwvdGg+XG4gKiAgICAgICA8dGg+RGVzY3JpcHRpb248L3RoPlxuICogICAgIDwvdHI+XG4gKiAgIDwvdGhlYWQ+XG4gKiAgIDx0Ym9keT5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3Bpdm90XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjcGl2b3R9PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgSW52YXJpYW50IHVuZGVyIHJvdGF0aW9uLCBzY2FsaW5nLCBhbmQgc2tld2luZy4gVGhlIHByb2plY3Rpb24gb2YgaW50byB0aGUgcGFyZW50J3Mgc3BhY2Ugb2YgdGhlIHBpdm90XG4gKiAgICAgICAgIGlzIGVxdWFsIHRvIHBvc2l0aW9uLCByZWdhcmRsZXNzIG9mIHRoZSBvdGhlciB0aHJlZSB0cmFuc2Zvcm1hdGlvbnMuIEluIG90aGVyIHdvcmRzLCBJdCBpcyB0aGUgY2VudGVyIG9mXG4gKiAgICAgICAgIHJvdGF0aW9uLCBzY2FsaW5nLCBhbmQgc2tld2luZy5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3Bvc2l0aW9uXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjcG9zaXRpb259PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgVHJhbnNsYXRpb24uIFRoaXMgaXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBbcGl2b3Rde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNwaXZvdH0gaW4gdGhlIHBhcmVudCdzIGxvY2FsXG4gKiAgICAgICAgIHNwYWNlLiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgcGl2b3QgaXMgdGhlIG9yaWdpbiAoMCwwKS4gSWYgdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB5b3VyIGRpc3BsYXkgb2JqZWN0XG4gKiAgICAgICAgIGlzICgwLDApIGluIGl0cyBsb2NhbCBzcGFjZSwgdGhlbiB0aGUgcG9zaXRpb24gd2lsbCBiZSBpdHMgdG9wLWxlZnQgY29ybmVyIGluIHRoZSBwYXJlbnQncyBsb2NhbCBzcGFjZS5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3NjYWxlXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjc2NhbGV9PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgU2NhbGluZy4gVGhpcyB3aWxsIHN0cmV0Y2ggKG9yIGNvbXByZXNzKSB0aGUgZGlzcGxheSBvYmplY3QncyBwcm9qZWN0aW9uLiBUaGUgc2NhbGUgZmFjdG9ycyBhcmUgYWxvbmcgdGhlXG4gKiAgICAgICAgIGxvY2FsIGNvb3JkaW5hdGUgYXhlcy4gSW4gb3RoZXIgd29yZHMsIHRoZSBkaXNwbGF5IG9iamVjdCBpcyBzY2FsZWQgYmVmb3JlIHJvdGF0ZWQgb3Igc2tld2VkLiBUaGUgY2VudGVyXG4gKiAgICAgICAgIG9mIHNjYWxpbmcgaXMgdGhlIFtwaXZvdF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I3Bpdm90fS5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3JvdGF0aW9uXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjcm90YXRpb259PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgIFJvdGF0aW9uLiBUaGlzIHdpbGwgcm90YXRlIHRoZSBkaXNwbGF5IG9iamVjdCdzIHByb2plY3Rpb24gYnkgdGhpcyBhbmdsZSAoaW4gcmFkaWFucykuXG4gKiAgICAgICA8L3RkPlxuICogICAgIDwvdHI+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRkPltza2V3XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjc2tld308L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICA8cD5Ta2V3aW5nLiBUaGlzIGNhbiBiZSB1c2VkIHRvIGRlZm9ybSBhIHJlY3Rhbmd1bGFyIGRpc3BsYXkgb2JqZWN0IGludG8gYSBwYXJhbGxlbG9ncmFtLjwvcD5cbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgIEluIFBpeGlKUywgc2tldyBoYXMgYSBzbGlnaHRseSBkaWZmZXJlbnQgYmVoYXZpb3VyIHRoYW4gdGhlIGNvbnZlbnRpb25hbCBtZWFuaW5nLiBJdCBjYW4gYmVcbiAqICAgICAgICAgdGhvdWdodCBvZiB0aGUgbmV0IHJvdGF0aW9uIGFwcGxpZWQgdG8gdGhlIGNvb3JkaW5hdGUgYXhlcyAoc2VwYXJhdGVseSkuIEZvciBleGFtcGxlLCBpZiBcInNrZXcueFwiIGlzXG4gKiAgICAgICAgIOKNuiBhbmQgXCJza2V3LnlcIiBpcyDOsiwgdGhlbiB0aGUgbGluZSB4ID0gMCB3aWxsIGJlIHJvdGF0ZWQgYnkg4o26ICh5ID0gLXgqY2904o26KSBhbmQgdGhlIGxpbmUgeSA9IDAgd2lsbCBiZVxuICogICAgICAgICByb3RhdGVkIGJ5IM6yICh5ID0geCp0YW7OsikuIEEgbGluZSB5ID0geCp0YW7PtCAoaS5lLiBhIGxpbmUgYXQgYW5nbGUgz7QgdG8gdGhlIHgtYXhpcyBpbiBsb2NhbC1zcGFjZSkgd2lsbFxuICogICAgICAgICBiZSByb3RhdGVkIGJ5IGFuIGFuZ2xlIGJldHdlZW4g4o26IGFuZCDOsi5cbiAqICAgICAgICAgPC9wPlxuICogICAgICAgICA8cD5cbiAqICAgICAgICAgSXQgY2FuIGJlIG9ic2VydmVkIHRoYXQgaWYgc2tldyBpcyBhcHBsaWVkIGVxdWFsbHkgdG8gYm90aCBheGVzLCB0aGVuIGl0IHdpbGwgYmUgZXF1aXZhbGVudCB0byBhcHBseWluZ1xuICogICAgICAgICBhIHJvdGF0aW9uLiBJbmRlZWQsIGlmIFwic2tldy54XCIgPSAtz7QgYW5kIFwic2tldy55XCIgPSDPtCwgaXQgd2lsbCBwcm9kdWNlIGFuIGVxdWl2YWxlbnQgb2YgXCJyb3RhdGlvblwiID0gz7QuXG4gKiAgICAgICAgIDwvcD5cbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgIEFub3RoZXIgcXVpdGUgaW50ZXJlc3Rpbmcgb2JzZXJ2YXRpb24gaXMgdGhhdCBcInNrZXcueFwiLCBcInNrZXcueVwiLCByb3RhdGlvbiBhcmUgY29tbXVudGF0aXZlIG9wZXJhdGlvbnMuIEluZGVlZCxcbiAqICAgICAgICAgYmVjYXVzZSByb3RhdGlvbiBpcyBlc3NlbnRpYWxseSBhIGNhcmVmdWwgY29tYmluYXRpb24gb2YgdGhlIHR3by5cbiAqICAgICAgICAgPC9wPlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD5hbmdsZTwvdGQ+XG4gKiAgICAgICA8dGQ+Um90YXRpb24uIFRoaXMgaXMgYW4gYWxpYXMgZm9yIFtyb3RhdGlvbl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I3JvdGF0aW9ufSwgYnV0IGluIGRlZ3JlZXMuPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD54PC90ZD5cbiAqICAgICAgIDx0ZD5UcmFuc2xhdGlvbi4gVGhpcyBpcyBhbiBhbGlhcyBmb3IgcG9zaXRpb24ueCE8L3RkPlxuICogICAgIDwvdHI+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRkPnk8L3RkPlxuICogICAgICAgPHRkPlRyYW5zbGF0aW9uLiBUaGlzIGlzIGFuIGFsaWFzIGZvciBwb3NpdGlvbi55ITwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+d2lkdGg8L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICBJbXBsZW1lbnRlZCBpbiBbQ29udGFpbmVyXXtAbGluayBQSVhJLkNvbnRhaW5lcn0uIFNjYWxpbmcuIFRoZSB3aWR0aCBwcm9wZXJ0eSBjYWxjdWxhdGVzIHNjYWxlLnggYnkgZGl2aWRpbmdcbiAqICAgICAgICAgdGhlIFwicmVxdWVzdGVkXCIgd2lkdGggYnkgdGhlIGxvY2FsIGJvdW5kaW5nIGJveCB3aWR0aC4gSXQgaXMgaW5kaXJlY3RseSBhbiBhYnN0cmFjdGlvbiBvdmVyIHNjYWxlLngsIGFuZCB0aGVyZVxuICogICAgICAgICBpcyBubyBjb25jZXB0IG9mIHVzZXItZGVmaW5lZCB3aWR0aC5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+aGVpZ2h0PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgSW1wbGVtZW50ZWQgaW4gW0NvbnRhaW5lcl17QGxpbmsgUElYSS5Db250YWluZXJ9LiBTY2FsaW5nLiBUaGUgaGVpZ2h0IHByb3BlcnR5IGNhbGN1bGF0ZXMgc2NhbGUueSBieSBkaXZpZGluZ1xuICogICAgICAgICB0aGUgXCJyZXF1ZXN0ZWRcIiBoZWlnaHQgYnkgdGhlIGxvY2FsIGJvdW5kaW5nIGJveCBoZWlnaHQuIEl0IGlzIGluZGlyZWN0bHkgYW4gYWJzdHJhY3Rpb24gb3ZlciBzY2FsZS55LCBhbmQgdGhlcmVcbiAqICAgICAgICAgaXMgbm8gY29uY2VwdCBvZiB1c2VyLWRlZmluZWQgaGVpZ2h0LlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICA8L3Rib2R5PlxuICogPC90YWJsZT5cbiAqXG4gKiAjIyBCb3VuZHNcbiAqXG4gKiBUaGUgYm91bmRzIG9mIGEgZGlzcGxheSBvYmplY3QgaXMgZGVmaW5lZCBieSB0aGUgbWluaW11bSBheGlzLWFsaWduZWQgcmVjdGFuZ2xlIGluIHdvcmxkIHNwYWNlIHRoYXQgY2FuIGZpdFxuICogYXJvdW5kIGl0LiBUaGUgYWJzdHJhY3QgYGNhbGN1bGF0ZUJvdW5kc2AgbWV0aG9kIGlzIHJlc3BvbnNpYmxlIGZvciBwcm92aWRpbmcgaXQgKGFuZCBpdCBzaG91bGQgdXNlIHRoZVxuICogYHdvcmxkVHJhbnNmb3JtYCB0byBjYWxjdWxhdGUgaW4gd29ybGQgc3BhY2UpLlxuICpcbiAqIFRoZXJlIGFyZSBhIGZldyBhZGRpdGlvbmFsIHR5cGVzIG9mIGJvdW5kaW5nIGJveGVzOlxuICpcbiAqIHwgQm91bmRzICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICogfCBXb3JsZCBCb3VuZHMgICAgICAgICAgfCBUaGlzIGlzIHN5bm9ueW1vdXMgaXMgdGhlIHJlZ3VsYXIgYm91bmRzIGRlc2NyaWJlZCBhYm92ZS4gU2VlIGBnZXRCb3VuZHMoKWAuICAgICAgICAgICAgIHxcbiAqIHwgTG9jYWwgQm91bmRzICAgICAgICAgIHwgVGhpcyB0aGUgYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveCBpbiB0aGUgcGFyZW50J3MgbG9jYWwgc3BhY2UuIFNlZSBgZ2V0TG9jYWxCb3VuZHMoKWAuICB8XG4gKiB8IFJlbmRlciBCb3VuZHMgICAgICAgICB8IFRoZSBib3VuZHMsIGJ1dCBpbmNsdWRpbmcgZXh0cmEgcmVuZGVyaW5nIGVmZmVjdHMgbGlrZSBmaWx0ZXIgcGFkZGluZy4gICAgICAgICAgICAgICAgICAgfFxuICogfCBQcm9qZWN0ZWQgQm91bmRzICAgICAgfCBUaGUgYm91bmRzIG9mIHRoZSBwcm9qZWN0ZWQgZGlzcGxheSBvYmplY3Qgb250byB0aGUgc2NyZWVuLiBVc3VhbGx5IGVxdWFscyB3b3JsZCBib3VuZHMuIHxcbiAqIHwgUmVsYXRpdmUgQm91bmRzICAgICAgIHwgVGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0IHdoZW4gcHJvamVjdGVkIG9udG8gYSBhbmNlc3RvcidzIChvciBwYXJlbnQncykgc3BhY2UuICAgICB8XG4gKiB8IE5hdHVyYWwgQm91bmRzICAgICAgICB8IFRoZSBib3VuZHMgb2YgYW4gb2JqZWN0IGluIGl0cyBvd24gbG9jYWwgc3BhY2UgKG5vdCBwYXJlbnQncyBzcGFjZSwgbGlrZSBpbiBsb2NhbCBib3VuZHMpfFxuICogfCBDb250ZW50IEJvdW5kcyAgICAgICAgfCBUaGUgbmF0dXJhbCBib3VuZHMgd2hlbiBleGNsdWRpbmcgYWxsIGNoaWxkcmVuIG9mIGEgYENvbnRhaW5lcmAuICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiAjIyMgY2FsY3VsYXRlQm91bmRzXG4gKlxuICogW0NvbnRhaW5lcl17QGxpbmsgQ29udGFpbmVyfSBhbHJlYWR5IGltcGxlbWVudHMgYGNhbGN1bGF0ZUJvdW5kc2AgaW4gYSBtYW5uZXIgdGhhdCBpbmNsdWRlcyBjaGlsZHJlbi5cbiAqXG4gKiBCdXQgZm9yIGEgbm9uLUNvbnRhaW5lciBkaXNwbGF5IG9iamVjdCwgdGhlIGBjYWxjdWxhdGVCb3VuZHNgIG1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4gaW4gb3JkZXIgZm9yIGBnZXRCb3VuZHNgIGFuZFxuICogYGdldExvY2FsQm91bmRzYCB0byB3b3JrLiBUaGlzIG1ldGhvZCBtdXN0IHdyaXRlIHRoZSBib3VuZHMgaW50byBgdGhpcy5fYm91bmRzYC5cbiAqXG4gKiBHZW5lcmFsbHksIHRoZSBmb2xsb3dpbmcgdGVjaG5pcXVlIHdvcmtzIGZvciBtb3N0IHNpbXBsZSBjYXNlczogdGFrZSB0aGUgbGlzdCBvZiBwb2ludHNcbiAqIGZvcm1pbmcgdGhlIFwiaHVsbFwiIG9mIHRoZSBvYmplY3QgKGkuZS4gb3V0bGluZSBvZiB0aGUgb2JqZWN0J3Mgc2hhcGUpLCBhbmQgdGhlbiBhZGQgdGhlbVxuICogdXNpbmcge0BsaW5rIFBJWEkuQm91bmRzI2FkZFBvaW50TWF0cml4fS5cbiAqXG4gKiBgYGBqc1xuICogY2FsY3VsYXRlQm91bmRzKCk6IHZvaWRcbiAqIHtcbiAqICAgICBjb25zdCBwb2ludHMgPSBbLi4uXTtcbiAqXG4gKiAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoOyBpIDwgajsgaSsrKVxuICogICAgIHtcbiAqICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFBvaW50TWF0cml4KHRoaXMud29ybGRUcmFuc2Zvcm0sIHBvaW50c1tpXSk7XG4gKiAgICAgfVxuICogfVxuICogYGBgXG4gKlxuICogWW91IGNhbiBvcHRpbWl6ZSB0aGlzIGZvciBhIGxhcmdlIG51bWJlciBvZiBwb2ludHMgYnkgdXNpbmcge0BsaW5rIFBJWEkuQm91bmRzI2FkZFZlcnRpY2VzTWF0cml4fSB0byBwYXNzIHRoZW1cbiAqIGluIG9uZSBhcnJheSB0b2dldGhlci5cbiAqXG4gKiAjIyBBbHBoYVxuICpcbiAqIFRoaXMgYWxwaGEgc2V0cyBhIGRpc3BsYXkgb2JqZWN0J3MgKipyZWxhdGl2ZSBvcGFjaXR5Kiogdy5yLnQgaXRzIHBhcmVudC4gRm9yIGV4YW1wbGUsIGlmIHRoZSBhbHBoYSBvZiBhIGRpc3BsYXlcbiAqIG9iamVjdCBpcyAwLjUgYW5kIGl0cyBwYXJlbnQncyBhbHBoYSBpcyAwLjUsIHRoZW4gaXQgd2lsbCBiZSByZW5kZXJlZCB3aXRoIDI1JSBvcGFjaXR5IChhc3N1bWluZyBhbHBoYSBpcyBub3RcbiAqIGFwcGxpZWQgb24gYW55IGFuY2VzdG9yIGZ1cnRoZXIgdXAgdGhlIGNoYWluKS5cbiAqXG4gKiBUaGUgYWxwaGEgd2l0aCB3aGljaCB0aGUgZGlzcGxheSBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBpcyBjYWxsZWQgdGhlIFt3b3JsZEFscGhhXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjd29ybGRBbHBoYX0uXG4gKlxuICogIyMgUmVuZGVyYWJsZSB2cyBWaXNpYmxlXG4gKlxuICogVGhlIGByZW5kZXJhYmxlYCBhbmQgYHZpc2libGVgIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gcHJldmVudCBhIGRpc3BsYXkgb2JqZWN0IGZyb20gYmVpbmcgcmVuZGVyZWQgdG8gdGhlXG4gKiBzY3JlZW4uIEhvd2V2ZXIsIHRoZXJlIGlzIGEgc3VidGxlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvLiBXaGVuIHVzaW5nIGByZW5kZXJhYmxlYCwgdGhlIHRyYW5zZm9ybXMgIG9mIHRoZSBkaXNwbGF5XG4gKiBvYmplY3QgKGFuZCBpdHMgY2hpbGRyZW4gc3VidHJlZSkgd2lsbCBjb250aW51ZSB0byBiZSBjYWxjdWxhdGVkLiBXaGVuIHVzaW5nIGB2aXNpYmxlYCwgdGhlIHRyYW5zZm9ybXMgd2lsbCBub3RcbiAqIGJlIGNhbGN1bGF0ZWQuXG4gKlxuICogSXQgaXMgcmVjb21tZW5kZWQgdGhhdCBhcHBsaWNhdGlvbnMgdXNlIHRoZSBgcmVuZGVyYWJsZWAgcHJvcGVydHkgZm9yIGN1bGxpbmcuIFNlZVxuICogW0BwaXhpLWVzc2VudGlhbHMvY3VsbF17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQHBpeGktZXNzZW50aWFscy9jdWxsfSBvclxuICogW3BpeGktY3VsbF17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcGl4aS1jdWxsfSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIE90aGVyd2lzZSwgdG8gcHJldmVudCBhbiBvYmplY3QgZnJvbSByZW5kZXJpbmcgaW4gdGhlIGdlbmVyYWwtcHVycG9zZSBzZW5zZSAtIGB2aXNpYmxlYCBpcyB0aGUgcHJvcGVydHkgdG8gdXNlLiBUaGlzXG4gKiBvbmUgaXMgYWxzbyBiZXR0ZXIgaW4gdGVybXMgb2YgcGVyZm9ybWFuY2UuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERpc3BsYXlPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERpc3BsYXlPYmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGlzcGxheU9iamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNyZWF0ZSBUcmFuc2Zvcm0gZnJvbSBmYWN0b3J5XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXb3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICogVGhpcyB3aWxsIGJlY29tZSByZWFkLW9ubHkgbGF0ZXIsIHBsZWFzZSBkbyBub3QgYXNzaWduIGFueXRoaW5nIHRoZXJlIHVubGVzcyB5b3Uga25vdyB3aGF0IGFyZSB5b3UgZG9pbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW4gdGhpcyBvYmplY3QgYmUgcmVuZGVyZWQsIGlmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24gYnV0IHRoZSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogbWV0aG9kcyB3aWxsIHN0aWxsIGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud29ybGRBbHBoYSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBpbmRleCBpbiB0aGUgY2hpbGRyZW4gYXJyYXkgdGhlIGRpc3BsYXkgY29tcG9uZW50IHdhcyBiZWZvcmUgdGhlIHByZXZpb3VzIHpJbmRleCBzb3J0LlxuICAgICAgICAgKiBVc2VkIGJ5IGNvbnRhaW5lcnMgdG8gaGVscCBzb3J0IG9iamVjdHMgd2l0aCB0aGUgc2FtZSB6SW5kZXgsIGJ5IHVzaW5nIHByZXZpb3VzIGFycmF5IGluZGV4IGFzIHRoZSBkZWNpZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogQSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3pJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXphdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbHRlcnMgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiAqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIFRvIHJlbW92ZSBmaWx0ZXJzIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgJ251bGwnYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnRseSBlbmFibGVkIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2VuYWJsZWRGaWx0ZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2NhbCBib3VuZHMgb2JqZWN0LCBzd2FwcGVkIHdpdGggYF9ib3VuZHNgIHdoZW4gdXNpbmcgYGdldExvY2FsQm91bmRzKClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFncyB0aGUgY2FjaGVkIGJvdW5kcyBhcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgb2YgdGhpcyBkaXNwbGF5LW9iamVjdCdzIGJvdW5kcy1yZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBvZiB0aGlzIGRpc3BsYXktb2JqZWN0J3MgbG9jYWwtYm91bmRzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcnxQSVhJLk1hc2tEYXRhfG51bGx9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXNrID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyBhbnkgb3RoZXIgZGlzcGxheU9iamVjdCB1c2UgdGhpcyBvYmplY3QgYXMgYSBtYXNrP1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5taXhpbiA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBrZXlzW2ldO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgKiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgdG9Mb2NhbCgpXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGFuZCByZXR1cm5zIHRoZSAod29ybGQpIGJvdW5kcyBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgYSBbUmVjdGFuZ2xlXXtAbGluayBQSVhJLlJlY3RhbmdsZX0uXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBleHBlbnNpdmUgb24gY29udGFpbmVycyB3aXRoIGEgbGFyZ2Ugc3VidHJlZSAobGlrZSB0aGUgc3RhZ2UpLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGJvdW5kc1xuICAgICAqIG9mIGEgY29udGFpbmVyIGRlcGVuZCBvbiBpdHMgY2hpbGRyZW4ncyBib3VuZHMsIHdoaWNoIHJlY3Vyc2l2ZWx5IGNhdXNlcyBhbGwgYm91bmRzIGluIHRoZSBzdWJ0cmVlIHRvXG4gICAgICogYmUgcmVjYWxjdWxhdGVkLiBUaGUgdXBzaWRlLCBob3dldmVyLCBpcyB0aGF0IGNhbGxpbmcgYGdldEJvdW5kc2Agb25jZSBvbiBhIGNvbnRhaW5lciB3aWxsIGluZGVlZCB1cGRhdGVcbiAgICAgKiB0aGUgYm91bmRzIG9mIGFsbCBjaGlsZHJlbiAodGhlIHdob2xlIHN1YnRyZWUsIGluIGZhY3QpLiBUaGlzIHNpZGUgZWZmZWN0IHNob3VsZCBiZSBleHBsb2l0ZWQgYnkgdXNpbmdcbiAgICAgKiBgZGlzcGxheU9iamVjdC5fYm91bmRzLmdldFJlY3RhbmdsZSgpYCB3aGVuIHRyYXZlcnNpbmcgdGhyb3VnaCBhbGwgdGhlIGJvdW5kcyBpbiBhIHNjZW5lIGdyYXBoLiBPdGhlcndpc2UsXG4gICAgICogY2FsbGluZyBgZ2V0Qm91bmRzYCBvbiBlYWNoIG9iamVjdCBpbiBhIHN1YnRyZWUgd2lsbCBjYXVzZSB0aGUgdG90YWwgY29zdCB0byBpbmNyZWFzZSBxdWFkcmF0aWNhbGx5IGFzXG4gICAgICogaXRzIGhlaWdodCBpbmNyZWFzZXMuXG4gICAgICpcbiAgICAgKiAqIFRoZSB0cmFuc2Zvcm1zIG9mIGFsbCBvYmplY3RzIGluIGEgY29udGFpbmVyJ3MgKipzdWJ0cmVlKiogYW5kIG9mIGFsbCAqKmFuY2VzdG9ycyoqIGFyZSB1cGRhdGVkLlxuICAgICAqICogVGhlIHdvcmxkIGJvdW5kcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIGluIGEgY29udGFpbmVyJ3MgKipzdWJ0cmVlKiogd2lsbCBhbHNvIGJlIHJlY2FsY3VsYXRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBgX2JvdW5kc2Agb2JqZWN0IHN0b3JlcyB0aGUgbGFzdCBjYWxjdWxhdGlvbiBvZiB0aGUgYm91bmRzLiBZb3UgY2FuIHVzZSB0byBlbnRpcmVseSBza2lwIGJvdW5kc1xuICAgICAqIGNhbGN1bGF0aW9uIGlmIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgbGFzdENhbGN1bGF0ZWRCb3VuZHMgPSBkaXNwbGF5T2JqZWN0Ll9ib3VuZHMuZ2V0UmVjdGFuZ2xlKG9wdGlvbmFsUmVjdCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBEbyBrbm93IHRoYXQgdXNhZ2Ugb2YgYGdldExvY2FsQm91bmRzYCBjYW4gY29ycnVwdCB0aGUgYF9ib3VuZHNgIG9mIGNoaWxkcmVuICh0aGUgd2hvbGUgc3VidHJlZSwgYWN0dWFsbHkpLiBUaGlzXG4gICAgICogaXMgYSBrbm93biBpc3N1ZSB0aGF0IGhhcyBub3QgYmVlbiBzb2x2ZWQuIFNlZSBbZ2V0TG9jYWxCb3VuZHNde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNnZXRMb2NhbEJvdW5kc30gZm9yIG1vcmVcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogYGdldEJvdW5kc2Agc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGBza2lwVXBkYXRlYCBlcXVhbCB0byBgdHJ1ZWAgaW4gYSByZW5kZXIoKSBjYWxsLiBUaGlzIGlzIGJlY2F1c2UgdGhlIHRyYW5zZm9ybXNcbiAgICAgKiBhcmUgZ3VhcmFudGVlZCB0byBiZSB1cGRhdGUtdG8tZGF0ZS4gSW4gZmFjdCwgcmVjYWxjdWxhdGluZyBpbnNpZGUgYSByZW5kZXIoKSBjYWxsIG1heSBjYXVzZSBjb3JydXB0aW9uIGluIGNlcnRhaW5cbiAgICAgKiBjYXNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVdIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIG1pbmltdW0gYXhpcy1hbGlnbmVkIHJlY3RhbmdsZSBpbiB3b3JsZCBzcGFjZSB0aGF0IGZpdHMgYXJvdW5kIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIChza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYm91bmRzLnVwZGF0ZUlEICE9PSB0aGlzLl9ib3VuZHNJRCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIHZhciBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHdvcmxkQm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICB2YXIgd29ybGRCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB3b3JsZEJvdW5kcztcbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEICs9IHRoaXMuX2JvdW5kc0lEIC0gd29ybGRCb3VuZHNJRDsgLy8gcmVmbGVjdCBzaWRlLWVmZmVjdHNcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcFVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBVcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbZnJvbV0gLSBUaGUgRGlzcGxheU9iamVjdCB0byBjYWxjdWxhdGUgdGhlIGdsb2JhbCBwb3NpdGlvbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcGl2b3RYLCBwaXZvdFkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChzY2FsZVggPT09IHZvaWQgMCkgeyBzY2FsZVggPSAxOyB9XG4gICAgICAgIGlmIChzY2FsZVkgPT09IHZvaWQgMCkgeyBzY2FsZVkgPSAxOyB9XG4gICAgICAgIGlmIChyb3RhdGlvbiA9PT0gdm9pZCAwKSB7IHJvdGF0aW9uID0gMDsgfVxuICAgICAgICBpZiAoc2tld1ggPT09IHZvaWQgMCkgeyBza2V3WCA9IDA7IH1cbiAgICAgICAgaWYgKHNrZXdZID09PSB2b2lkIDApIHsgc2tld1kgPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFggPT09IHZvaWQgMCkgeyBwaXZvdFggPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFkgPT09IHZvaWQgMCkgeyBwaXZvdFkgPSAwOyB9XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCYXNlIGRlc3Ryb3kgbWV0aG9kIGZvciBnZW5lcmljIGRpc3BsYXkgb2JqZWN0cy4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiByZW1vdmUgdGhlIGRpc3BsYXkgb2JqZWN0IGZyb20gaXRzIHBhcmVudCBDb250YWluZXIgYXMgd2VsbCBhcyByZW1vdmVcbiAgICAgKiBhbGwgY3VycmVudCBldmVudCBsaXN0ZW5lcnMgYW5kIGludGVybmFsIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYSBEaXNwbGF5T2JqZWN0XG4gICAgICogYWZ0ZXIgY2FsbGluZyBgZGVzdHJveSgpYC5cbiAgICAgKlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGluIFJlbmRlcmVyLCBjYWNoZUFzQml0bWFwIGFuZCBvdGhlciBwbGFjZXMgd2hlcmUgeW91IGNhbGwgYW4gYHVwZGF0ZVRyYW5zZm9ybWAgb24gcm9vdFxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogY29uc3QgY2FjaGVQYXJlbnQgPSBlbGVtLmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgKiBlbGVtLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAqIGVsZW0uZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdH0gY3VycmVudCBwYXJlbnRcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5lbmFibGVUZW1wUGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXlQYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgcmV0dXJuIG15UGFyZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFpciBtZXRob2QgZm9yIGBlbmFibGVUZW1wUGFyZW50YFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNhY2hlUGFyZW50IC0gQWN0dWFsIHBhcmVudCBvZiBlbGVtZW50XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzYWJsZVRlbXBQYXJlbnQgPSBmdW5jdGlvbiAoY2FjaGVQYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi54XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeSBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ3b3JsZFRyYW5zZm9ybVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcImxvY2FsVHJhbnNmb3JtXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gbG9jYWwgZmFjdG9yczogcG9zaXRpb24sIHNjYWxlLCBvdGhlciBzdHVmZi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNpbmNlIFBpeGlKUyA0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwic2NhbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvcnMgb2YgdGhpcyBvYmplY3QgYWxvbmcgdGhlIGxvY2FsIGNvb3JkaW5hdGUgYXhlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2NhbGUgaXMgKDEsIDEpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2luY2UgUGl4aUpTIDRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJwaXZvdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2VudGVyIG9mIHJvdGF0aW9uLCBzY2FsaW5nLCBhbmQgc2tld2luZyBmb3IgdGhpcyBkaXNwbGF5IG9iamVjdCBpbiBpdHMgbG9jYWwgc3BhY2UuIFRoZSBgcG9zaXRpb25gXG4gICAgICAgICAqIGlzIHRoZSBwcm9qZWN0aW9uIG9mIGBwaXZvdGAgaW4gdGhlIHBhcmVudCdzIGxvY2FsIHNwYWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGUgcGl2b3QgaXMgdGhlIG9yaWdpbiAoMCwgMCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzaW5jZSBQaXhpSlMgNFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInNrZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzaW5jZSBQaXhpSlMgNFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNrZXc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5za2V3LmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJhbmdsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIG9iamVjdCBpbiBkZWdyZWVzLlxuICAgICAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uICogUkFEX1RPX0RFRztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWUgKiBERUdfVE9fUkFEO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInpJbmRleFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgekluZGV4IG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBhIGNvbnRhaW5lciBoYXMgdGhlIHNvcnRhYmxlQ2hpbGRyZW4gcHJvcGVydHkgc2V0IHRvIHRydWUsIGNoaWxkcmVuIHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgICAgICAgKiBzb3J0ZWQgYnkgekluZGV4IHZhbHVlOyBhIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSBtb3ZlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuICAgICAgICAgKiBhbmQgdGh1cyByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgZGlzcGxheSBvYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNzb3J0YWJsZUNoaWxkcmVuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96SW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl96SW5kZXggPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwid29ybGRWaXNpYmxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgICAgICB9IHdoaWxlIChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIm1hc2tcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICAgICAqIG9iamVjdCB0byB0aGUgc2hhcGUgb2YgdGhlIG1hc2sgYXBwbGllZCB0byBpdC4gSW4gUGl4aUpTIGEgcmVndWxhciBtYXNrIG11c3QgYmUgYVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmVuZEZpbGwoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAgICAgKiBzcHJpdGUubWFzayA9IGdyYXBoaWNzO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcnxQSVhJLk1hc2tEYXRhfG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXNrO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9ICh0aGlzLl9tYXNrLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzayk7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9ICh0aGlzLl9tYXNrLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzayk7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpc3BsYXlPYmplY3Q7XG59KEV2ZW50RW1pdHRlcikpO1xudmFyIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRlbXBvcmFyeURpc3BsYXlPYmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNvcnREaXJ0eSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFRlbXBvcmFyeURpc3BsYXlPYmplY3Q7XG59KERpc3BsYXlPYmplY3QpKTtcbi8qKlxuICogRGlzcGxheU9iamVjdCBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyBub3QgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1ldGhvZCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmZ1bmN0aW9uIHNvcnRDaGlsZHJlbihhLCBiKSB7XG4gICAgaWYgKGEuekluZGV4ID09PSBiLnpJbmRleCkge1xuICAgICAgICByZXR1cm4gYS5fbGFzdFNvcnRlZEluZGV4IC0gYi5fbGFzdFNvcnRlZEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cbi8qKlxuICogQ29udGFpbmVyIGlzIGEgZ2VuZXJhbC1wdXJwb3NlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaG9sZHMgY2hpbGRyZW4uIEl0IGFsc28gYWRkcyBidWlsdC1pbiBzdXBwb3J0IGZvciBhZHZhbmNlZFxuICogcmVuZGVyaW5nIGZlYXR1cmVzIGxpa2UgbWFza2luZyBhbmQgZmlsdGVyaW5nLlxuICpcbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMsIGluY2x1ZGluZyBHcmFwaGljc1xuICogYW5kIFNwcml0ZS5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgQmx1ckZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbiAqIGltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuICogaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG4gKiBpbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuICpcbiAqIGxldCBjb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XG4gKiBsZXQgc3ByaXRlID0gU3ByaXRlLmZyb20oXCJodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby82OTM2MTIvSWFVcnR0ai5wbmdcIik7XG4gKlxuICogc3ByaXRlLndpZHRoID0gNTEyO1xuICogc3ByaXRlLmhlaWdodCA9IDUxMjtcbiAqXG4gKiAvLyBBZGRzIGEgc3ByaXRlIGFzIGEgY2hpbGQgdG8gdGhpcyBjb250YWluZXIuIEFzIGEgcmVzdWx0LCB0aGUgc3ByaXRlIHdpbGwgYmUgcmVuZGVyZWQgd2hlbmV2ZXIgdGhlIGNvbnRhaW5lclxuICogLy8gaXMgcmVuZGVyZWQuXG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiAvLyBCbHVycyB3aGF0ZXZlciBpcyByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyXG4gKiBjb250YWluZXIuZmlsdGVycyA9IFtuZXcgQmx1ckZpbHRlcigpXTtcbiAqXG4gKiAvLyBPbmx5IHRoZSBjb250ZW50cyB3aXRoaW4gYSBjaXJjbGUgYXQgdGhlIGNlbnRlciBzaG91bGQgYmUgcmVuZGVyZWQgb250byB0aGUgc2NyZWVuLlxuICogY29udGFpbmVyLm1hc2sgPSBuZXcgR3JhcGhpY3MoKVxuICogIC5iZWdpbkZpbGwoMHhmZmZmZmYpXG4gKiAgLmRyYXdDaXJjbGUoc3ByaXRlLndpZHRoIC8gMiwgc3ByaXRlLmhlaWdodCAvIDIsIE1hdGgubWluKHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCkgLyAyKVxuICogIC5lbmRGaWxsKCk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gICAgICAgICAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICAgICAgICAgKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICAgICAgICAgKiBzdWNoIGFzIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1kaXNwbGF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICAgICAgICAgKiBhcyB0aGUgekluZGV4IHNvcnRpbmcgbWF5IGNhdXNlIHRoZSBjaGlsZCB0byBhdXRvbWF0aWNhbGx5IHNvcnRlZCB0byBhbm90aGVyIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvcnRhYmxlQ2hpbGRyZW4gPSBzZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBjaGlsZHJlbiBiZSBzb3J0ZWQgYnkgekluZGV4IGF0IHRoZSBuZXh0IHVwZGF0ZVRyYW5zZm9ybSBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaWxsIGdldCBhdXRvbWF0aWNhbGx5IHNldCB0byB0cnVlIGlmIGEgbmV3IGNoaWxkIGlzIGFkZGVkLCBvciBpZiBhIGNoaWxkJ3MgekluZGV4IGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNvbnRhaW5lciNjaGlsZEFkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBhZGRlZCB0byB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgYWRkZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgYWRkZWQgY2hpbGQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRGcm9tXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCByZW1vdmVkIGZyb20gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IHJlbW92ZWQgcmVtb3ZlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBmb3JtZXIgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgcmVtb3ZlZCBjaGlsZFxuICAgICAgICAgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKF9sZW5ndGgpIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIE11bHRpcGxlIGl0ZW1zIGNhbiBiZSBhZGRlZCBsaWtlIHNvOiBgbXlDb250YWluZXIuYWRkQ2hpbGQodGhpbmdPbmUsIHRoaW5nVHdvLCB0aGluZ1RocmVlKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZHJlbiAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIGFkZCB0byB0aGUgY29udGFpbmVyXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY2hpbGRyZW5bX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFycmF5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAvLyBpZiB0aGUgY2hpbGQgaGFzIGEgcGFyZW50IHRoZW4gbGV0cyByZW1vdmUgaXQgYXMgUGl4aUpTIG9iamVjdHMgY2FuIG9ubHkgZXhpc3QgaW4gb25lIHBsYWNlXG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjaGlsZCB0byB0aGUgY29udGFpbmVyIGF0IGEgc3BlY2lmaWVkIGluZGV4LiBJZiB0aGUgaW5kZXggaXMgb3V0IG9mIGJvdW5kcyBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBwbGFjZSB0aGUgY2hpbGQgaW5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQgPSBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNoaWxkICsgXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIEZpcnN0IGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQyIC0gU2Vjb25kIGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnN3YXBDaGlsZHJlbiA9IGZ1bmN0aW9uIChjaGlsZCwgY2hpbGQyKSB7XG4gICAgICAgIGlmIChjaGlsZCA9PT0gY2hpbGQyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBwb3NpdGlvbiBvZiBhIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIHRvIGlkZW50aWZ5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggcG9zaXRpb24gb2YgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0IHRvIGlkZW50aWZ5XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGlsZEF0OiBJbmRleCAoXCIgKyBpbmRleCArIFwiKSBkb2VzIG5vdCBleGlzdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIHJlbW92ZSBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZC4uXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBjb250YWluZXIgdGhhdCBhcmUgd2l0aGluIHRoZSBiZWdpbiBhbmQgZW5kIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luSW5kZXg9MF0gLSBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kSW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGhdIC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gKGJlZ2luSW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICAgIGlmIChiZWdpbkluZGV4ID09PSB2b2lkIDApIHsgYmVnaW5JbmRleCA9IDA7IH1cbiAgICAgICAgaWYgKGVuZEluZGV4ID09PSB2b2lkIDApIHsgZW5kSW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgfVxuICAgICAgICB2YXIgYmVnaW4gPSBiZWdpbkluZGV4O1xuICAgICAgICB2YXIgZW5kID0gZW5kSW5kZXg7XG4gICAgICAgIHZhciByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICB2YXIgcmVtb3ZlZDtcbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCByZW1vdmVkW2ldLCB0aGlzLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNvcnRzIGNoaWxkcmVuIGJ5IHpJbmRleC4gUHJldmlvdXMgb3JkZXIgaXMgbWFpbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNvcnRDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG4gICAgICAgICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0UmVxdWlyZWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNvcnQoc29ydENoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIHdpbGwgYXV0b21hdGljYWxseSBmaXQgdGhlIGNoaWxkcmVuJ3MgYm91bmRzIGludG8gdGhlIGNhbGN1bGF0aW9uLiBFYWNoIGNoaWxkJ3MgYm91bmRzXG4gICAgICogaXMgbGltaXRlZCB0byBpdHMgbWFzaydzIGJvdW5kcyBvciBmaWx0ZXJBcmVhLCBpZiBhbnkgaXMgYXBwbGllZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgfHwgY2hpbGQuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgbWFza09iamVjdC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBDYWxsaW5nIGBnZXRMb2NhbEJvdW5kc2AgbWF5IGludmFsaWRhdGUgdGhlIGBfYm91bmRzYCBvZiB0aGUgd2hvbGUgc3VidHJlZSBiZWxvdy4gSWYgdXNpbmcgaXQgaW5zaWRlIGEgcmVuZGVyKClcbiAgICAgKiBjYWxsLCBpdCBpcyBhZHZpc2VkIHRvIGNhbGwgYGdldEJvdW5kcygpYCBpbW1lZGlhdGVseSBhZnRlciB0byByZWNhbGN1bGF0ZSB0aGUgd29ybGQgYm91bmRzIG9mIHRoZSBzdWJ0cmVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwQ2hpbGRyZW5VcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHJlLWNhbGN1bGF0aW9uIG9mIGNoaWxkcmVuIHRyYW5zZm9ybXMsXG4gICAgICogIGl0IHdhcyBkZWZhdWx0IGJlaGF2aW91ciBvZiBwaXhpIDQuMC01LjIgYW5kIGNhdXNlZCBtYW55IHByb2JsZW1zIHRvIHVzZXJzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QsIHNraXBDaGlsZHJlblVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcENoaWxkcmVuVXBkYXRlID09PSB2b2lkIDApIHsgc2tpcENoaWxkcmVuVXBkYXRlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICAgICAgaWYgKCFza2lwQ2hpbGRyZW5VcGRhdGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBjb250ZW50IGJvdW5kcyBvZiB0aGlzIG9iamVjdC4gVGhpcyBzaG91bGQgYmUgb3ZlcnJpZGVuIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhpcyBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRklMTCBJTi8vXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogVGhlIFtfcmVuZGVyXXtAbGluayBQSVhJLkNvbnRhaW5lciNfcmVuZGVyfSBtZXRob2QgaXMgYmUgb3ZlcnJpZGVuIGZvciByZW5kZXJpbmcgdGhlIGNvbnRlbnRzIG9mIHRoZVxuICAgICAqIGNvbnRhaW5lciBpdHNlbGYuIFRoaXMgYHJlbmRlcmAgbWV0aG9kIHdpbGwgaW52b2tlIGl0LCBhbmQgYWxzbyBpbnZva2UgdGhlIGByZW5kZXJgIG1ldGhvZHMgb2YgYWxsXG4gICAgICogY2hpbGRyZW4gYWZ0ZXJ3YXJkLlxuICAgICAqXG4gICAgICogSWYgYHJlbmRlcmFibGVgIG9yIGB2aXNpYmxlYCBpcyBmYWxzZSBvciBpZiBgd29ybGRBbHBoYWAgaXMgbm90IHBvc2l0aXZlLCB0aGlzIGltcGxlbWVudGF0aW9uIHdpbGwgZW50aXJlbHlcbiAgICAgKiBza2lwIHJlbmRlcmluZy4gU2VlIHtAbGluayBQSVhJLkRpc3BsYXlPYmplY3R9IGZvciBjaG9vc2luZyBiZXR3ZWVuIGByZW5kZXJhYmxlYCBvciBgdmlzaWJsZWAuIEdlbmVyYWxseSxcbiAgICAgKiBzZXR0aW5nIGFscGhhIHRvIHplcm8gaXMgbm90IHJlY29tbWVuZGVkIGZvciBwdXJlbHkgc2tpcHBpbmcgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogV2hlbiB5b3VyIHNjZW5lIGJlY29tZXMgbGFyZ2UgKGVzcGVjaWFsbHkgd2hlbiBpdCBpcyBsYXJnZXIgdGhhbiBjYW4gYmUgdmlld2VkIGluIGEgc2luZ2xlIHNjcmVlbiksIGl0IGlzXG4gICAgICogYWR2aXNlZCB0byBlbXBsb3kgKipjdWxsaW5nKiogdG8gYXV0b21hdGljYWxseSBza2lwIHJlbmRlcmluZyBvYmplY3RzIG91dHNpZGUgb2YgdGhlIGN1cnJlbnQgc2NyZWVuLiBUaGVcbiAgICAgKiBbQHBpeGktZXNzZW50aWFscy9jdWxsXXtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9AcGl4aS1lc3NlbnRpYWxzL2N1bGx9IGFuZFxuICAgICAqIFtwaXhpLWN1bGxde0BsaW5rIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3BpeGktY3VsbH0gcGFja2FnZXMgZG8gdGhpcyBvdXQgb2YgdGhlIGJveC5cbiAgICAgKlxuICAgICAqIFRoZSBbcmVuZGVyQWR2YW5jZWRde0BsaW5rIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkfSBtZXRob2QgaXMgaW50ZXJuYWxseSB1c2VkIHdoZW4gd2hlbiBtYXNraW5nIG9yXG4gICAgICogZmlsdGVyaW5nIGlzIGFwcGxpZWQgb24gYSBjb250YWluZXIuIFRoaXMgZG9lcywgaG93ZXZlciwgYnJlYWsgYmF0Y2hpbmcgYW5kIGNhbiBhZmZlY3QgcGVyZm9ybWFuY2Ugd2hlblxuICAgICAqIG1hc2tpbmcgYW5kIGZpbHRlcmluZyBpcyBhcHBsaWVkIGV4dGVuc2l2ZWx5IHRocm91Z2hvdXQgdGhlIHNjZW5lIGdyYXBoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCAodGhpcy5maWx0ZXJzICYmIHRoaXMuZmlsdGVycy5sZW5ndGgpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMuZmlsdGVycztcbiAgICAgICAgdmFyIG1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMucHVzaChmaWx0ZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGhpcywgdGhpcy5fZW5hYmxlZEZpbHRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnB1c2godGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHRoaXMgb2JqZWN0IHRvIHRoZSBiYXRjaCwgb25seSByZW5kZXJlZCBpZiBpdCBoYXMgYSB0ZXh0dXJlLlxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wb3AodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChfcmVuZGVyZXIpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbnRlcm5hbCByZWZlcmVuY2VzIGFuZCBsaXN0ZW5lcnMgYXMgd2VsbCBhcyByZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGRpc3BsYXkgbGlzdC5cbiAgICAgKiBEbyBub3QgdXNlIGEgQ29udGFpbmVyIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlc3Ryb3lDaGlsZHJlbiA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWluZXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgICAgICBpZiAod2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGFpbmVyLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnkgKiB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoaGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdmFsdWUgLyBoZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29udGFpbmVyO1xufShEaXNwbGF5T2JqZWN0KSk7XG4vKipcbiAqIENvbnRhaW5lciBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBtZXRob2QgY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IEJvdW5kcywgQ29udGFpbmVyLCBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBpc01vYmlsZSwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgYWNjZXNzaWJsZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7P3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIHRhYkluZGV4OiAwLFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSB0eXBlIG9mIGRpdiB0aGUgYWNjZXNzaWJsZSBsYXllciBpcy4gU2NyZWVuIHJlYWRlcnMgdHJlYXQgdGhlIGVsZW1lbnQgZGlmZmVyZW50bHlcbiAgICAgKiBkZXBlbmRpbmcgb24gdGhpcyB0eXBlLiBEZWZhdWx0cyB0byBidXR0b24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYnV0dG9uJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUeXBlOiAnYnV0dG9uJyxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSBwb2ludGVyLWV2ZW50cyB0aGUgYWNjZXNzaWJsZSBkaXYgd2lsbCB1c2VcbiAgICAgKiBEZWZhdWx0cyB0byBhdXRvLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIHdpbGwgcHJldmVudCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoaXMgY29udGFpbmVyIHRvXG4gICAgICogYmUgYWNjZXNzaWJsZS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuICAgIHJlbmRlcklkOiAtMSxcbn07XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG52YXIgS0VZX0NPREVfVEFCID0gOTtcbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuIHJlYWRlcnMuXG4gKiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgUGl4aUpTIGNvbnRlbnQuXG4gKlxuICogQSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUganVzdCBsaWtlIGl0IGNhbiBiZSBtYWRlIGludGVyYWN0aXZlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eWBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuICovXG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAgICAgLyoqIEludGVybmFsIHZhcmlhYmxlLCBzZWUgaXNBY3RpdmUgZ2V0dGVyLiAqL1xuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAvKiogSW50ZXJuYWwgdmFyaWFibGUsIHNlZSBpc01vYmlsZUFjY2Vzc2liaWxpdHkgZ2V0dGVyLiAqL1xuICAgICAgICB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSBmYWxzZTtcbiAgICAgICAgLyoqIEEgc2ltcGxlIHBvb2wgZm9yIHN0b3JpbmcgZGl2cy4gKi9cbiAgICAgICAgdGhpcy5wb29sID0gW107XG4gICAgICAgIC8qKiBUaGlzIGlzIGEgdGljayB1c2VkIHRvIGNoZWNrIGlmIGFuIG9iamVjdCBpcyBubyBsb25nZXIgYmVpbmcgcmVuZGVyZWQuICovXG4gICAgICAgIHRoaXMucmVuZGVySWQgPSAwO1xuICAgICAgICAvKiogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy4gKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvKiogQ291bnQgdG8gdGhyb3R0bGUgZGl2IHVwZGF0ZXMgb24gYW5kcm9pZCBkZXZpY2VzLiAqL1xuICAgICAgICB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCA9IDA7XG4gICAgICAgIC8qKiAgVGhlIGZyZXF1ZW5jeSB0byB1cGRhdGUgdGhlIGRpdiBlbGVtZW50cy4gKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5ID0gNTAwOyAvLyAyZnBzXG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgICAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpcnN0IHdlIGNyZWF0ZSBhIGRpdiB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gRElWX1RPVUNIX1BPU19YICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IERJVl9UT1VDSF9QT1NfWSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5kaXYgPSBkaXY7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLCBcImlzQWN0aXZlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbHVlIG9mIGB0cnVlYCBpZiBhY2Nlc3NpYmlsaXR5IGlzIGN1cnJlbnRseSBhY3RpdmUgYW5kIGFjY2Vzc2liaWxpdHkgbGF5ZXJzIGFyZSBzaG93aW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWN0aXZlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc01vYmlsZUFjY2Vzc2liaWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmFsdWUgb2YgYHRydWVgIGlmIGFjY2Vzc2liaWxpdHkgaXMgZW5hYmxlZCBmb3IgdG91Y2ggZGV2aWNlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUudG9wID0gRElWX0hPT0tfUE9TX1ggKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICAgICAgaG9va0Rpdi50aXRsZSA9ICdzZWxlY3QgdG8gZW5hYmxlIGFjY2Vzc2liaWxpdHkgZm9yIHRoaXMgY29udGVudCc7XG4gICAgICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gaG9va0RpdjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3lUb3VjaEhvb2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5faG9va0Rpdikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLlxuICAgICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIHByZXNzZXMgdGhlIHRhYiBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5faXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHNlbGYuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgKF9hID0gdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBoaWRkZW4uXG4gICAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXMgdGhlIG1vdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHNlbGYuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG4gICAgICAgIChfYSA9IHRoaXMuZGl2LnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0byBjaGVjay5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSB8fCAhZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogT24gQW5kcm9pZCBkZWZhdWx0IHdlYiBicm93c2VyLCB0YWIgb3JkZXIgc2VlbXMgdG8gYmUgY2FsY3VsYXRlZCBieSBwb3NpdGlvbiByYXRoZXIgdGhhbiB0YWJJbmRleCxcbiAgICAgICAgKiAgbW92aW5nIGJ1dHRvbnMgY2FuIGNhdXNlIGZvY3VzIHRvIGZsaWNrZXIgYmV0d2VlbiB0d28gYnV0dG9ucyBtYWtpbmcgaXQgaGFyZC9pbXBvc3NpYmxlIHRvIG5hdmlnYXRlLFxuICAgICAgICAqICBzbyBJIGFtIGp1c3QgcnVubmluZyB1cGRhdGUgZXZlcnkgaGFsZiBhIHNlY29uZCwgc2VlbXMgdG8gZml4IGl0LlxuICAgICAgICAqL1xuICAgICAgICB2YXIgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSAmJiBub3cgPCB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gbm93ICsgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5O1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbGVmdCA9IF9hLmxlZnQsIHRvcCA9IF9hLnRvcCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB2YXIgX2IgPSB0aGlzLnJlbmRlcmVyLCB2aWV3V2lkdGggPSBfYi53aWR0aCwgdmlld0hlaWdodCA9IF9iLmhlaWdodCwgcmVzb2x1dGlvbiA9IF9iLnJlc29sdXRpb247XG4gICAgICAgIHZhciBzeCA9ICh3aWR0aCAvIHZpZXdXaWR0aCkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgc3kgPSAoaGVpZ2h0IC8gdmlld0hlaWdodCkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5kaXY7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gdmlld1dpZHRoICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gdmlld0hlaWdodCArIFwicHhcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzLnJlbmRlcklkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgICAgIGRpdiA9IGNoaWxkLl9hY2Nlc3NpYmxlRGl2O1xuICAgICAgICAgICAgICAgIHZhciBoaXRBcmVhID0gY2hpbGQuaGl0QXJlYTtcbiAgICAgICAgICAgICAgICB2YXIgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaGl0QXJlYSkge1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICh3dC50eCArIChoaXRBcmVhLnggKiB3dC5hKSkgKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICh3dC50eSArIChoaXRBcmVhLnkgKiB3dC5kKSkgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogd3QuZCAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gaGl0QXJlYS54ICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBoaXRBcmVhLnkgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ1dHRvbiB0aXRsZXMgYW5kIGhpbnRzIGlmIHRoZXkgZXhpc3QgYW5kIHRoZXkndmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZSB0aXRsZSBvciBpbmRleCBtYXkgaGF2ZSBjaGFuZ2VkLCBpZiBzbyBsZXRzIHVwZGF0ZSBpdCFcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBkaXYudGl0bGUgfHwgY2hpbGQudGFiSW5kZXggIT09IGRpdi50YWJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIGRpdi50YWJJbmRleCA9IGNoaWxkLnRhYkluZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIHJlbmRlciBpZC4uXG4gICAgICAgIHRoaXMucmVuZGVySWQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHByaXZhdGUgZnVuY3Rpb24gdGhhdCB3aWxsIHZpc3VhbGx5IGFkZCB0aGUgaW5mb3JtYXRpb24gdG8gdGhlXG4gICAgICogYWNjZXNzYWJpbGl0eSBkaXZcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRpdlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVEZWJ1Z0hUTUwgPSBmdW5jdGlvbiAoZGl2KSB7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBcInR5cGU6IFwiICsgZGl2LnR5cGUgKyBcIjwvYnI+IHRpdGxlIDogXCIgKyBkaXYudGl0bGUgKyBcIjwvYnI+IHRhYkluZGV4OiBcIiArIGRpdi50YWJJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkanVzdCB0aGUgaGl0IGFyZWEgYmFzZWQgb24gdGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBoaXRBcmVhIC0gQm91bmRzIG9mIHRoZSBjaGlsZFxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gKGhpdEFyZWEpIHtcbiAgICAgICAgaWYgKGhpdEFyZWEueCA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGl0QXJlYS55IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLCB2aWV3V2lkdGggPSBfYS53aWR0aCwgdmlld0hlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB2aWV3V2lkdGgpIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggPSB2aWV3V2lkdGggLSBoaXRBcmVhLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdmlld0hlaWdodCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB2aWV3SGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgRGlzcGxheU9iamVjdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICAvLyAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgIHZhciBkaXYgPSB0aGlzLnBvb2wucG9wKCk7XG4gICAgICAgIGlmICghZGl2KSB7XG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuZGVidWcgPyAncmdiYSgyNTUsMjU1LDI1NSwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdub25lJztcbiAgICAgICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBuZWVkIGFyaWEtbGl2ZSB0byB3b3JrIGFzIGludGVuZGVkOyBpbiBmYWN0IGl0IGp1c3QgZ2V0cyBtb3JlIGNvbmZ1c2VkLlxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjouKkdlY2tvXFwvLykpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlRm94IG5lZWRzIHRoaXMgdG8gYW5ub3VuY2Ugb25seSB0aGUgbmV3IGJ1dHRvbiBuYW1lXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgcG9pbnRlciBldmVudHNcbiAgICAgICAgZGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVQb2ludGVyRXZlbnRzO1xuICAgICAgICAvLyBzZXQgdGhlIHR5cGUsIHRoaXMgZGVmYXVsdHMgdG8gYnV0dG9uIVxuICAgICAgICBkaXYudHlwZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVR5cGU7XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgIHx8IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IFwiZGlzcGxheU9iamVjdCBcIiArIGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgIHsgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTsgfVxuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICAgICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBidXR0b24gcHJlc3MgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAoY2xpY2spXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBjbGljayBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICB2YXIgZGlzcGxheU9iamVjdCA9IGUudGFyZ2V0LmRpc3BsYXlPYmplY3Q7XG4gICAgICAgIHZhciBldmVudERhdGEgPSBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBldmVudERhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBldmVudERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJykpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG4gICAgICAgIHZhciBkaXNwbGF5T2JqZWN0ID0gZS50YXJnZXQuZGlzcGxheU9iamVjdDtcbiAgICAgICAgdmFyIGV2ZW50RGF0YSA9IGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGE7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBldmVudERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1c091dCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnKSkge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcbiAgICAgICAgdmFyIGRpc3BsYXlPYmplY3QgPSBlLnRhcmdldC5kaXNwbGF5T2JqZWN0O1xuICAgICAgICB2YXIgZXZlbnREYXRhID0gaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YTtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbktleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcbiAgICAgICAgc2VsZi5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG4gICAgICAgIHRoaXMucG9vbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBY2Nlc3NpYmlsaXR5TWFuYWdlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyLCBhY2Nlc3NpYmxlVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmlsaXR5LmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90aWNrZXIgLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvdGlja2VyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogVGFyZ2V0IGZyYW1lcyBwZXIgbWlsbGlzZWNvbmQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUX0ZQTVNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMC4wNlxuICovXG5zZXR0aW5ncy5UQVJHRVRfRlBNUyA9IDAuMDY7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXBkYXRlIHByaW9yaXRpZXMgdXNlZCBieSBpbnRlcm5hbCBQSVhJIGNsYXNzZXMgd2hlbiByZWdpc3RlcmVkIHdpdGhcbiAqIHRoZSB7QGxpbmsgUElYSS5UaWNrZXJ9IG9iamVjdC4gSGlnaGVyIHByaW9yaXR5IGl0ZW1zIGFyZSB1cGRhdGVkIGZpcnN0IGFuZCBsb3dlclxuICogcHJpb3JpdHkgaXRlbXMsIHN1Y2ggYXMgcmVuZGVyLCBzaG91bGQgZ28gbGF0ZXIuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBVUERBVEVfUFJJT1JJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IElOVEVSQUNUSU9OPTUwIEhpZ2hlc3QgcHJpb3JpdHksIHVzZWQgZm9yIHtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIPTI1IEhpZ2ggcHJpb3JpdHkgdXBkYXRpbmcsIHtAbGluayBQSVhJLlZpZGVvQmFzZVRleHR1cmV9IGFuZCB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUw9MCBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XPS0yNSBMb3cgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQXBwbGljYXRpb259IHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVVElMSVRZPS01MCBMb3dlc3QgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHV0aWxpdHkuXG4gKi9cbnZhciBVUERBVEVfUFJJT1JJVFk7XG4oZnVuY3Rpb24gKFVQREFURV9QUklPUklUWSkge1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJJTlRFUkFDVElPTlwiXSA9IDUwXSA9IFwiSU5URVJBQ1RJT05cIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiSElHSFwiXSA9IDI1XSA9IFwiSElHSFwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIkxPV1wiXSA9IC0yNV0gPSBcIkxPV1wiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJVVElMSVRZXCJdID0gLTUwXSA9IFwiVVRJTElUWVwiO1xufSkoVVBEQVRFX1BSSU9SSVRZIHx8IChVUERBVEVfUFJJT1JJVFkgPSB7fSkpO1xuXG4vKipcbiAqIEludGVybmFsIGNsYXNzIGZvciBoYW5kbGluZyB0aGUgcHJpb3JpdHkgc29ydGluZyBvZiB0aWNrZXIgaGFuZGxlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlckxpc3RlbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHByaW9yaXR5IC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSBvbmNlIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgb25jZSkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gMDsgfVxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxuICAgICAgICAvKiogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi4gKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLiAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqIGB0cnVlYCBpZiB0aGlzIGxpc3RlbmVyIGhhcyBiZWVuIGRlc3Ryb3llZCBhbHJlYWR5LiAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIGB0cnVlYCBpZiB0aGUgbGlzdGVuZXIgbWF0Y2ggdGhlIGFyZ3VtZW50c1xuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbWl0IGJ5IGNhbGxpbmcgdGhlIGN1cnJlbnQgZnVuY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4gTmV4dCB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZm4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICAgICAgaWYgKHRoaXMub25jZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgICAgIC8vIHRoZSBuZXh0IHJlZmVyZW5jZVxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gdGhlIGxpc3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gcHJldmlvdXMgLSBJbnB1dCBub2RlLCBwcmV2aW91cyBsaXN0ZW5lclxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gaGFyZCAtIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiBUaGUgbGlzdGVuZXIgdG8gcmVkaXJlY3Qgd2hpbGUgZW1pdHRpbmcgb3IgcmVtb3ZpbmcuXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoaGFyZCkge1xuICAgICAgICBpZiAoaGFyZCA9PT0gdm9pZCAwKSB7IGhhcmQgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmZuID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gdGhlIG5leHQgaXRlbVxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG4gICAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcbiAgICByZXR1cm4gVGlja2VyTGlzdGVuZXI7XG59KCkpO1xuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgY29tcG9zZWQgYXJvdW5kIGxpc3RlbmVycyBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSwgZS5nLiBXaGVuIHRoZSB0aWNrZXIgaXMgc3RhcnRlZCBhbmQgdGhlIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGlja2VyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGFyIHRpbWUgdmFsdWUgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICAgICAqICoqTm90ZToqKiBUaGUgY2FwIG1heSBiZSBleGNlZWRlZCBieSBzY2FsaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfSB3YXMgaW52b2tlZC5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBhbHNvIHJlc2V0IGludGVybmFsbHkgb3V0c2lkZSBvZiBpbnZva2luZ1xuICAgICAgICAgKiB1cGRhdGUsIGJ1dCBvbmx5IHdoZW4gYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNwZWVkID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogYGZhbHNlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RvcH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRCAqL1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgLyoqIElmIGVuYWJsZWQsIGRlbGV0aW5nIGlzIGRpc2FibGVkLiovXG4gICAgICAgIHRoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSBrZXlmcmFtZSB3YXMgZXhlY3V0ZWQuXG4gICAgICAgICAqIE1haW50YWlucyBhIHJlbGF0aXZlbHkgZml4ZWQgaW50ZXJ2YWwgd2l0aCB0aGUgcHJldmlvdXMgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSAtMTtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5ldyBUaWNrZXJMaXN0ZW5lcihudWxsLCBudWxsLCBJbmZpbml0eSk7XG4gICAgICAgIHRoaXMuZGVsdGFNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgdGhpcy5lbGFwc2VkTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgbm93XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQgJiYgX3RoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiBfdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMuX3RpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fcmVxdWVzdElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNhbGxiYWNrcyBnZXQgY29ycmVjdCBkZWx0YVxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIHRoZSB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZCBpdCBjaGVja3MgaWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHlcbiAgICAgKiBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbCBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuIElmIHRoZXNlXG4gICAgICogY29uZGl0aW9ucyBhcmUgbWV0LCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuIElmIHRoZSB0aWNrZXIgaGFzIG5vdFxuICAgICAqIGJlZW4gc3RhcnRlZCwgYnV0IGF1dG9TdGFydCBpcyBgdHJ1ZWAsIHRoZW4gdGhlIHRpY2tlciBzdGFydHMgbm93LFxuICAgICAqIGFuZCBjb250aW51ZXMgd2l0aCB0aGUgcHJldmlvdXMgY29uZGl0aW9ucyB0byByZXF1ZXN0IGEgbmV3IGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAgICAgKiBpdCBpcyByZW1vdmVkIG9yIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3IgdXBkYXRlc1xuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMgVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGhhbmRsZXIgZm9yIHRoZSB0aWNrIGV2ZW50IHdoaWNoIGlzIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGRPbmNlID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIHRydWUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAgICAgKiBAcmV0dXJucyBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90IHlldCBjb25uZWN0ZWRcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFueSBoYW5kbGVycyBtYXRjaGluZyB0aGUgZnVuY3Rpb24gYW5kIGNvbnRleHQgcGFyYW1ldGVycy5cbiAgICAgKiBJZiBubyBoYW5kbGVycyBhcmUgbGVmdCBhZnRlciByZW1vdmluZywgdGhlbiBpdCBjYW5jZWxzIHRoZSBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGxpc3RlbmVyIGNvbnRleHQgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm5zIFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCwgbGV0cyByZW1vdmUgaXRcbiAgICAgICAgICAgIC8vIG5vIGJyZWFrIHRvIGRlbGV0ZSBhbGwgcG9zc2libGUgbWF0Y2hlc1xuICAgICAgICAgICAgLy8gaW5jYXNlIGEgbGlzdGVuZXIgd2FzIGFkZGVkIDIrIHRpbWVzXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIubWF0Y2goZm4sIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJjb3VudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycyBvbiB0aGlzIHRpY2tlciwgY2FsY3VsYXRlZCBieSB3YWxraW5nIHRocm91Z2ggbGlua2VkIGxpc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9oZWFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC5uZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICAgICAqIGFuIGFuaW1hdGlvbiBmcmFtZSBpdCBpcyBjYW5jZWxlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBldmVudHMuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhbiB1cGRhdGUuIEFuIHVwZGF0ZSBlbnRhaWxzIHNldHRpbmcgdGhlXG4gICAgICogY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZWxhcHNlZE1TfSxcbiAgICAgKiB0aGUgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNsYXN0VGltZX1cbiAgICAgKiB3aXRoIHRoZSB2YWx1ZSBvZiBjdXJyZW50VGltZSB0aGF0IHdhcyBwcm92aWRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGFuaW1hdGlvblxuICAgICAqIGZyYW1lIGNhbGxiYWNrcyBpZiB0aGUgdGlja2VyIGluc3RhbmNlIGhhcyBiZWVuIHN0YXJ0ZWRcbiAgICAgKiBhbmQgbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY3VycmVudFRpbWU9cGVyZm9ybWFuY2Uubm93KCldIC0gdGhlIGN1cnJlbnQgdGltZSBvZiBleGVjdXRpb25cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjdXJyZW50VGltZSkge1xuICAgICAgICBpZiAoY3VycmVudFRpbWUgPT09IHZvaWQgMCkgeyBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOyB9XG4gICAgICAgIHZhciBlbGFwc2VkTVM7XG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lID4gdGhpcy5sYXN0VGltZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB1bmNhcHBlZCBlbGFwc2VkTVMgZm9yIG1lYXN1cmVtZW50XG4gICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLmVsYXBzZWRNUyA9IGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxhcHNlZE1TICo9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyBJZiBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCwgZXhpdCB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyBHZXQgcmVhZHkgZm9yIG5leHQgZnJhbWUgYnkgc2V0dGluZyBfbGFzdEZyYW1lLCBidXQgYmFzZWQgb24gX21pbkVsYXBzZWRNU1xuICAgICAgICAgICAgLy8gYWRqdXN0bWVudCB0byBlbnN1cmUgYSByZWxhdGl2ZWx5IHN0YWJsZSBpbnRlcnZhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuX2xhc3RGcmFtZSB8IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgdGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gY3VycmVudFRpbWUgLSAoZGVsdGEgJSB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWx0YU1TID0gZWxhcHNlZE1TO1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgKiBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgYWRkZWQgdG8gaW50ZXJuYWwgZW1pdHRlclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5lbWl0KHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcIkZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAgICAgICAgICogKipOb3RlOioqIFRoaXMgZG9lcyBub3QgZmFjdG9yIGluIHRoZSB2YWx1ZSBvZlxuICAgICAgICAgKiB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LCB3aGljaCBpcyBzcGVjaWZpY1xuICAgICAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWluRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gY2FwIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIC8vIE1pbmltdW0gbXVzdCBiZSBiZWxvdyB0aGUgbWF4RlBTXG4gICAgICAgICAgICB2YXIgbWluRlBTID0gTWF0aC5taW4odGhpcy5tYXhGUFMsIGZwcyk7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIGF0IGxlYXN0IDAsIGJ1dCBiZWxvdyAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICAgIHZhciBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbWluRlBTKSAvIDEwMDAsIHNldHRpbmdzLlRBUkdFVF9GUE1TKTtcbiAgICAgICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWF4RlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyByZXF1aXJlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB3aWxsIGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIElmIGl0IGlzIHNldCB0byBgMGAsIHRoZW4gdGhlcmUgaXMgbm8gbGltaXQ7IFBpeGlKUyB3aWxsIHJlbmRlciBhcyBtYW55IGZyYW1lcyBhcyBpdCBjYW4uXG4gICAgICAgICAqIE90aGVyd2lzZSBpdCB3aWxsIGJlIGF0IGxlYXN0IGBtaW5GUFNgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoMTAwMCAvIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnBzKSB7XG4gICAgICAgICAgICBpZiAoZnBzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1heCBtdXN0IGJlIGF0IGxlYXN0IHRoZSBtaW5GUFNcbiAgICAgICAgICAgICAgICB2YXIgbWF4RlBTID0gTWF0aC5tYXgodGhpcy5taW5GUFMsIGZwcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIsIFwic2hhcmVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFyZWQgdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5WaWRlb1Jlc291cmNlfSB0byB1cGRhdGUgYW5pbWF0aW9uIGZyYW1lcyAvIHZpZGVvIHRleHR1cmVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCBtYXkgYWxzbyBiZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSBpZiBjcmVhdGVkIHdpdGggdGhlIGBzaGFyZWRUaWNrZXJgIG9wdGlvbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICAgICAqIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nIGhvdyB0byBvcHQtb3V0IG9mIGF1dG8tc3RhcnRpbmcgdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGxldCB0aWNrZXIgPSBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAgICAgKiAvLyBCeSBkZWZhdWx0IHRoaXMgaXMgdHJ1ZSBvbmx5IGZvciB0aGUgUElYSS5UaWNrZXIuc2hhcmVkIGluc3RhbmNlLlxuICAgICAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gICAgICAgICAqIC8vIGlmIHlvdSBoYXZlIG5vdCBhdHRlbXB0ZWQgdG8gcmVuZGVyIGFueXRoaW5nIHlldC5cbiAgICAgICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgICAgICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gICAgICAgICAqIHRpY2tlci5zdGFydCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBZb3UgbWF5IHVzZSB0aGUgc2hhcmVkIHRpY2tlciB0byByZW5kZXIuLi5cbiAgICAgICAgICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAgICAgICAgICogbGV0IHN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XG4gICAgICAgICAqIHRpY2tlci5hZGQoZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICAgICAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAqIHRpY2tlci5zdG9wKCk7XG4gICAgICAgICAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICAgICAgICAgKiAgICAgdGlja2VyLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gICAgICAgICAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAqIH1cbiAgICAgICAgICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVGlja2VyLl9zaGFyZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVkID0gVGlja2VyLl9zaGFyZWQgPSBuZXcgVGlja2VyKCk7XG4gICAgICAgICAgICAgICAgc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRpY2tlci5fc2hhcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzeXN0ZW1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN5c3RlbSB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gZm9yIGNvcmUgdGltaW5nIGZ1bmN0aW9uYWxpdHkgdGhhdCBzaG91bGRuJ3QgdXN1YWxseSBuZWVkIHRvIGJlIHBhdXNlZCxcbiAgICAgICAgICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3N5c3RlbSkge1xuICAgICAgICAgICAgICAgIHZhciBzeXN0ZW0gPSBUaWNrZXIuX3N5c3RlbSA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zeXN0ZW07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlja2VyO1xufSgpKTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24gVGlja2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1RpY2tlclBsdWdpbn0gZnJvbSAnQHBpeGkvdGlja2VyJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlclBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXJQbHVnaW4oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvLyBDcmVhdGUgdGlja2VyIHNldHRlclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3RpY2tlcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHRpY2tlcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0b3BwaW5nIHRoZSByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb25cbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByZWZlcmVuY2UgdG8gdGhlIHRpY2tlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAbmFtZSBfdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpY2tlciBmb3IgZG9pbmcgcmVuZGVyIHVwZGF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBUaWNrZXIuc2hhcmVkIDogbmV3IFRpY2tlcigpO1xuICAgICAgICAvLyBTdGFydCB0aGUgcmVuZGVyaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgdmFyIG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcbiAgICAgICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWNrZXJQbHVnaW47XG59KCkpO1xuXG5leHBvcnQgeyBUaWNrZXIsIFRpY2tlclBsdWdpbiwgVVBEQVRFX1BSSU9SSVRZIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWNrZXIuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ludGVyYWN0aW9uIC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL2ludGVyYWN0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QsIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbkRhdGEoKSB7XG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuICAgICAgICB0aGlzLnR3aXN0ID0gMDtcbiAgICAgICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwb2ludCBzdG9yZXMgdGhlIGdsb2JhbCBjb29yZHMgb2Ygd2hlcmUgdGhlIHRvdWNoL21vdXNlIGV2ZW50IGhhcHBlbmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbCA9IG5ldyBQb2ludCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCBTcHJpdGUgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwYXNzZWQgdG8gYW4gZXZlbnQgaGFuZGxlciwgdGhpcyB3aWxsIGJlIHRoZSBvcmlnaW5hbCBET00gRXZlbnQgdGhhdCB3YXMgY2FwdHVyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBvaW50ZXIgZGV2aWNlIHRoYXQgY3JlYXRlZCB0aGUgZXZlbnQgaXMgdGhlIHByaW1hcnkgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2lzUHJpbWFyeVxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9uIHdhcyBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB0byB0cmlnZ2VyIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9uID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b25zIGFyZSBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uc1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idXR0b25zID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHgtYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgICAgICogcmFkaXVzWCBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKiByYWRpdXNZIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRYXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbHRYID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWx0WSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJUeXBlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXNzdXJlIGFwcGxpZWQgYnkgdGhlIHBvaW50aW5nIGRldmljZSBkdXJpbmcgdGhlIGV2ZW50LiBBIFRvdWNoJ3MgZm9yY2UgcHJvcGVydHlcbiAgICAgICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcHJlc3N1cmVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnJvbSBUb3VjaEV2ZW50cyAobm90IFBvaW50ZXJFdmVudHMgdHJpZ2dlcmVkIGJ5IHRvdWNoZXMpLCB0aGUgcm90YXRpb25BbmdsZSBvZiB0aGUgVG91Y2guXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoL3JvdGF0aW9uQW5nbGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR3aXN0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLCBcInBvaW50ZXJJZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgcmV0dXJuIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgZm9yIHRoaXMgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIGxvY2FsXG4gICAgICogIGNvb3JkcyBvZmZcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsIChvdGhlcndpc2VcbiAgICAgKiAgd2lsbCBjcmVhdGUgYSBuZXcgcG9pbnQpXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbZ2xvYmFsUG9zXSAtIEEgUG9pbnQgb2JqZWN0IGNvbnRhaW5pbmcgeW91ciBjdXN0b20gZ2xvYmFsIGNvb3Jkcywgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIHVzZSB0aGUgY3VycmVudCBnbG9iYWwgY29vcmRzKVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIEludGVyYWN0aW9uRGF0YSBwb3NpdGlvbiByZWxhdGl2ZVxuICAgICAqICB0byB0aGUgRGlzcGxheU9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBwb2ludCwgZ2xvYmFsUG9zKSB7XG4gICAgICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUb3VjaHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5jb3B5RXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaXNQcmltYXJ5IHNob3VsZCBvbmx5IGNoYW5nZSBvbiB0b3VjaHN0YXJ0L3BvaW50ZXJkb3duLCBzbyB3ZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZVxuICAgICAgICAvLyBpdCB3aXRoIFwiZmFsc2VcIiBvbiBsYXRlciBldmVudHMgd2hlbiBvdXIgc2hpbSBmb3IgaXQgb24gdG91Y2ggZXZlbnRzIG1pZ2h0IG5vdCBiZVxuICAgICAgICAvLyBhY2N1cmF0ZVxuICAgICAgICBpZiAoJ2lzUHJpbWFyeScgaW4gZXZlbnQgJiYgZXZlbnQuaXNQcmltYXJ5KSB7XG4gICAgICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idXR0b24gPSAnYnV0dG9uJyBpbiBldmVudCAmJiBldmVudC5idXR0b247XG4gICAgICAgIC8vIGV2ZW50LmJ1dHRvbnMgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMgKGllLiBTYWZhcmkpLCBidXQgaXQgZG9lcyBoYXZlIGEgbm9uLXN0YW5kYXJkXG4gICAgICAgIC8vIGV2ZW50LndoaWNoIHByb3BlcnR5IGluc3RlYWQsIHdoaWNoIGNvbnZleXMgdGhlIHNhbWUgaW5mb3JtYXRpb24uXG4gICAgICAgIHZhciBidXR0b25zID0gJ2J1dHRvbnMnIGluIGV2ZW50ICYmIGV2ZW50LmJ1dHRvbnM7XG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IE51bWJlci5pc0ludGVnZXIoYnV0dG9ucykgPyBidXR0b25zIDogJ3doaWNoJyBpbiBldmVudCAmJiBldmVudC53aGljaDtcbiAgICAgICAgdGhpcy53aWR0aCA9ICd3aWR0aCcgaW4gZXZlbnQgJiYgZXZlbnQud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gJ2hlaWdodCcgaW4gZXZlbnQgJiYgZXZlbnQuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRpbHRYID0gJ3RpbHRYJyBpbiBldmVudCAmJiBldmVudC50aWx0WDtcbiAgICAgICAgdGhpcy50aWx0WSA9ICd0aWx0WScgaW4gZXZlbnQgJiYgZXZlbnQudGlsdFk7XG4gICAgICAgIHRoaXMucG9pbnRlclR5cGUgPSAncG9pbnRlclR5cGUnIGluIGV2ZW50ICYmIGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gJ3ByZXNzdXJlJyBpbiBldmVudCAmJiBldmVudC5wcmVzc3VyZTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gJ3JvdGF0aW9uQW5nbGUnIGluIGV2ZW50ICYmIGV2ZW50LnJvdGF0aW9uQW5nbGU7XG4gICAgICAgIHRoaXMudHdpc3QgPSAoJ3R3aXN0JyBpbiBldmVudCAmJiBldmVudC50d2lzdCkgfHwgMDtcbiAgICAgICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAoJ3RhbmdlbnRpYWxQcmVzc3VyZScgaW4gZXZlbnQgJiYgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlKSB8fCAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBkYXRhIGZvciBwb29saW5nLlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBpcyB0aGUgb25seSBwcm9wZXJ0eSB0aGF0IHdlIHJlYWxseSBuZWVkIHRvIHJlc2V0IC0gZXZlcnl0aGluZyBlbHNlIGlzXG4gICAgICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgb3ZlcndyaXR0ZW5cbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBJbnRlcmFjdGlvbkRhdGE7XG59KCkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBFdmVudCBjbGFzcyB0aGF0IG1pbWljcyBuYXRpdmUgRE9NIGV2ZW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvbkV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uRXZlbnQoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgZXZlbnQgd2lsbCBjb250aW51ZSBwcm9wYWdhdGluZyBpbiB0aGUgdHJlZS5cbiAgICAgICAgICpcbiAgICAgICAgICogUmVtYWluaW5nIGV2ZW50cyBmb3IgdGhlIHtAbGluayBzdG9wc1Byb3BhZ2F0aW5nQXR9IG9iamVjdFxuICAgICAgICAgKiB3aWxsIHN0aWxsIGJlIGRpc3BhdGNoZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0IHdoaWNoIG9iamVjdCB0aGlzIGV2ZW50IHN0b3BzIHByb3BhZ2F0aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHdlIGFscmVhZHkgcmVhY2hlZCB0aGUgZWxlbWVudCB3ZSB3YW50IHRvXG4gICAgICAgICAqIHN0b3AgcHJvcGFnYXRpbmcgYXQuIFRoaXMgaXMgaW1wb3J0YW50IGZvciBkZWxheWVkIGV2ZW50cyxcbiAgICAgICAgICogd2hlcmUgd2Ugc3RhcnQgb3ZlciBkZWVwZXIgaW4gdGhlIHRyZWUgYWdhaW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvYmplY3Qgd2hpY2ggY2F1c2VkIHRoaXMgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAgICAgICAgICogRm9yIGxpc3RlbmVyIGNhbGxiYWNrIHNlZSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbkV2ZW50LmN1cnJlbnRUYXJnZXR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgb2YgdGhlIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcmFjdGlvbkRhdGEgcmVsYXRlZCB0byB0aGlzIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJldmVudHMgZXZlbnQgZnJvbSByZWFjaGluZyBhbnkgb2JqZWN0cyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSB0aGlzLmN1cnJlbnRUYXJnZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uRXZlbnQ7XG59KCkpO1xuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEocG9pbnRlcklkKSB7XG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgaW50ZXJhY3Rpb24gZmxhZyB0byBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gU2hvdWxkIHRoZSBmbGFnIGJlIHNldCBvciB1bnNldFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZS5fZG9TZXQgPSBmdW5jdGlvbiAoZmxhZywgeW4pIHtcbiAgICAgICAgaWYgKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiAofmZsYWcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcInBvaW50ZXJJZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwiZmxhZ3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZsYWdzKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IGZsYWdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJub25lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IGluYWN0aXZlIChub3Qgb3ZlciBvciBkb3duKT9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3MgPT09IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcIm92ZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk9WRVIpICE9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuT1ZFUiwgeW4pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJyaWdodERvd25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHRoZSByaWdodCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuUklHSFRfRE9XTikgIT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5SSUdIVF9ET1dOLCB5bik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcImxlZnREb3duXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTEVGVF9ET1dOKSAhPT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLkxFRlRfRE9XTiwgeW4pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgTk9ORTogMCxcbiAgICAgICAgT1ZFUjogMSA8PCAwLFxuICAgICAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICAgICAgUklHSFRfRE9XTjogMSA8PCAyLFxuICAgIH0pO1xuICAgIHJldHVybiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YTtcbn0oKSk7XG5cbi8qKlxuICogU3RyYXRlZ3kgaG93IHRvIHNlYXJjaCB0aHJvdWdoIHN0YWdlIHRyZWUgZm9yIGludGVyYWN0aXZlIG9iamVjdHNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJlZVNlYXJjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmVlU2VhcmNoKCkge1xuICAgICAgICB0aGlzLl90ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlIGltcGxlbWVudGF0aW9uIGZvciBmaW5kSGl0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJhY3RpdmVdIC0gV2hldGhlciB0aGUgZGlzcGxheU9iamVjdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiB0aGUgZGlzcGxheU9iamVjdCBoaXQgdGhlIHBvaW50XG4gICAgICovXG4gICAgVHJlZVNlYXJjaC5wcm90b3R5cGUucmVjdXJzaXZlRmluZEhpdCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb2ludCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5nbG9iYWw7XG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXplZCEgXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pemF0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXphdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuICAgICAgICB2YXIgaGl0ID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnRlcmFjdGl2ZVBhcmVudCA9IGludGVyYWN0aXZlO1xuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgdmFyIGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIG1hc2ssIG5vIG5lZWQgdG8gaGl0VGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgbWFzay5cbiAgICAgICAgLy8gV2Ugc3RpbGwgd2FudCB0byBoaXRUZXN0Q2hpbGRyZW4sIGhvd2V2ZXIsIHRvIGVuc3VyZSBhIG1vdXNlb3V0IGNhbiBzdGlsbCBiZSBnZW5lcmF0ZWQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTEzNVxuICAgICAgICBlbHNlIGlmIChkaXNwbGF5T2JqZWN0Ll9tYXNrKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIGlmICghKGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludCAmJiBkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQocG9pbnQpKSkge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vICoqIEZSRUUgVElQICoqISBJZiBhbiBvYmplY3QgaXMgbm90IGludGVyYWN0aXZlIG9yIGhhcyBubyBidXR0b25zIGluIGl0XG4gICAgICAgIC8vIChzdWNoIGFzIGEgZ2FtZSBzY2VuZSEpIHNldCBpbnRlcmFjdGl2ZUNoaWxkcmVuIHRvIGZhbHNlIGZvciB0aGF0IGRpc3BsYXlPYmplY3QuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBQaXhpSlMgdG8gY29tcGxldGVseSBpZ25vcmUgYW5kIGJ5cGFzcyBjaGVja2luZyB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW4uXG4gICAgICAgIGlmIChoaXRUZXN0Q2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIHZhciBjaGlsZEhpdCA9IHRoaXMucmVjdXJzaXZlRmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBjaGlsZCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmVQYXJlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdHMgYSBnb29kIGlkZWEgdG8gY2hlY2sgaWYgYSBjaGlsZCBoYXMgbG9zdCBpdHMgcGFyZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIGl0IGhhcyBiZWVuIHJlbW92ZWQgd2hpbHN0IGxvb3Bpbmcgc28gaXRzIGJlc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueSBtb3JlIG9iamVjdHMgaW4gdGhpcyBjb250YWluZXIgYXMgd2Ugd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGtub3cgdGhlIHBhcmVudCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGl2ZSBhbmQgbm90IGp1c3QgdGhlIGNoaWxkIG9mIGFuIGludGVyYWN0aXZlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBubyBwb2ludCBydW5uaW5nIHRoaXMgaWYgdGhlIGl0ZW0gaXMgbm90IGludGVyYWN0aXZlIG9yIGRvZXMgbm90IGhhdmUgYW4gaW50ZXJhY3RpdmUgcGFyZW50LlxuICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBoaXQgdGVzdGluZyAoYXMgaW4gd2UgaGF2ZSBubyBoaXQgYW55IG9iamVjdHMgeWV0KVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGhpdCB0ZXN0aW5nIGlmIG9uY2Ugb2YgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIGhpdCAtIGJ1dCBvbmx5IGlmIGl0IHdhcyBpbnRlcmFjdGl2ZSwgb3RoZXJ3aXNlIHdlIG5lZWQgdG8ga2VlcFxuICAgICAgICAgICAgLy8gbG9va2luZyBmb3IgYW4gaW50ZXJhY3RpdmUgY2hpbGQsIGp1c3QgaW4gY2FzZSB3ZSBoaXQgb25lXG4gICAgICAgICAgICBpZiAoaGl0VGVzdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhpdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC50YXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnVuYykge1xuICAgICAgICAgICAgICAgICAgICBmdW5jKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsICEhaGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBUcmVlU2VhcmNoLnByb3RvdHlwZS5maW5kSGl0ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpIHtcbiAgICAgICAgdGhpcy5yZWN1cnNpdmVGaW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGZhbHNlKTtcbiAgICB9O1xuICAgIHJldHVybiBUcmVlU2VhcmNoO1xufSgpKTtcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIGNsYXNzZXMgdGhhdCByZXByZXNlbnQgYSBoaXQgYXJlYS5cbiAqXG4gKiBJdCBpcyBpbXBsZW1lbnRlZCBieSB0aGUgZm9sbG93aW5nIGNsYXNzZXM6XG4gKiAtIHtAbGluayBQSVhJLkNpcmNsZX1cbiAqIC0ge0BsaW5rIFBJWEkuRWxsaXBzZX1cbiAqIC0ge0BsaW5rIFBJWEkuUG9seWdvbn1cbiAqIC0ge0BsaW5rIFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAqXG4gKiBAaW50ZXJmYWNlIElIaXRBcmVhXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgYXJlYVxuICpcbiAqIEBtZXRob2RcbiAqIEBuYW1lIGNvbnRhaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5JSGl0QXJlYSNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIGFyZWFcbiAqL1xuLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gKiBVc2VkIGJ5IHtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlcn0gdG8gYXV0b21hdGljYWxseSBnaXZlIGFsbCBEaXNwbGF5T2JqZWN0cyB0aGVzZSBwcm9wZXJ0aWVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGludGVyYWN0aXZlVGFyZ2V0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuaW50ZXJhY3RpdmVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xudmFyIGludGVyYWN0aXZlVGFyZ2V0ID0ge1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICAgKiBldmVudHMgd2lsbCBub3QgYmUgZW1pdHRlZCB1bmxlc3MgYGludGVyYWN0aXZlYCBpcyBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgICAqICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICogfSk7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjaGlsZHJlbiB0byB0aGUgZGlzcGxheU9iamVjdCBjYW4gYmUgY2xpY2tlZC90b3VjaGVkXG4gICAgICogU2V0dGluZyB0aGlzIHRvIGZhbHNlIGFsbG93cyBQaXhpSlMgdG8gYnlwYXNzIGEgcmVjdXJzaXZlIGBoaXRUZXN0YCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGlvbiBzaGFwZS4gQ2hpbGRyZW4gd2lsbCBiZSBoaXQgZmlyc3QsIHRoZW4gdGhpcyBzaGFwZSB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmhpdEFyZWEgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApO1xuICAgICAqIEBtZW1iZXIge1BJWEkuSUhpdEFyZWF9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBoaXRBcmVhOiBudWxsLFxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQsIHRoZSBtb3VzZSBjdXJzb3IgdXNlIHRoZSBwb2ludGVyIGJlaGF2aW9yIHdoZW4gaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0IGlmIGl0IGlzIGludGVyYWN0aXZlXG4gICAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuYnV0dG9uTW9kZSA9IHRydWU7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGdldCBidXR0b25Nb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgICB9LFxuICAgIHNldCBidXR0b25Nb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJykge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgICAqIGlzIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0NTUy9jdXJzb3JcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGN1cnNvcjogbnVsbCxcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzZXQgb2YgYWxsIGFjdGl2ZSBwb2ludGVycywgYnkgaWRlbnRpZmllclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgdHJhY2tlZFBvaW50ZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7IHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9OyB9XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2VkUG9pbnRlcnM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBNYXAgb2YgYWxsIHRyYWNrZWQgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXIuIFVzZSB0cmFja2VkUG9pbnRlcnMgdG8gYWNjZXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqL1xuICAgIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZCxcbn07XG5cbi8vIE1peCBpbnRlcmFjdGl2ZVRhcmdldCBpbnRvIERpc3BsYXlPYmplY3QucHJvdG90eXBlXG5EaXNwbGF5T2JqZWN0Lm1peGluKGludGVyYWN0aXZlVGFyZ2V0KTtcbnZhciBNT1VTRV9QT0lOVEVSX0lEID0gMTtcbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbCxcbiAgICB9LFxufTtcbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICpcbiAqIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZSBpZiBpdHMgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZS5cbiAqXG4gKiBUaGlzIG1hbmFnZXIgYWxzbyBzdXBwb3J0cyBtdWx0aXRvdWNoLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25gXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJhY3Rpb25NYW5hZ2VyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIE1heGltdW0gZnJlcXVlbmN5IChtcykgYXQgcG9pbnRlciBvdmVyL291dCBzdGF0ZXMgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51c2VTeXN0ZW1UaWNrZXI9dHJ1ZV0gLSBXaGV0aGVyIHRvIGFkZCB7QGxpbmsgdGlja2VyVXBkYXRlfSB0byB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbk1hbmFnZXIocmVuZGVyZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucyBhdXRvbWF0aWNhbGx5IGJlIHByZXZlbnRlZC5cbiAgICAgICAgICogRG9lcyBub3QgYXBwbHkgdG8gcG9pbnRlciBldmVudHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAqIHByZXZlbnREZWZhdWx0IG9uIHBvaW50ZXIgZXZlbnRzIHN0b3BzIG1vdXNlIGV2ZW50cyBmcm9tIGZpcmluZ1xuICAgICAgICAgKiBUaHVzLCBmb3IgZXZlcnkgcG9pbnRlciBldmVudCwgdGhlcmUgd2lsbCBhbHdheXMgYmUgZWl0aGVyIGEgbW91c2Ugb2YgdG91Y2ggZXZlbnQgYWxvbmdzaWRlIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgOiB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBmcmVxdWVuY3kgaW4gbWlsbGlzZWNvbmRzIGF0IHdoaWNoIHBvaW50ZXIgb3Zlci9vdXQgc3RhdGVzIHdpbGwgYmUgY2hlY2tlZCBieSB7QGxpbmsgdGlja2VyVXBkYXRlfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSBvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5IHx8IDEwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgX3RoaXMubW91c2UuaWRlbnRpZmllciA9IE1PVVNFX1BPSU5URVJfSUQ7XG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBfdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlbHkgdHJhY2tlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxudW1iZXIsUElYSS5JbnRlcmFjdGlvbkRhdGE+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhID0ge307XG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IF90aGlzLm1vdXNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSW50ZXJhY3Rpb25EYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCBkYXRhIG9iamVjdCB0byBoYW5kbGUgYWxsIHRoZSBldmVudCB0cmFja2luZy9kaXNwYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudERhdGEgPSBuZXcgSW50ZXJhY3Rpb25FdmVudCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIGlmIG1vdXNlbW92ZSBhbmQgdG91Y2htb3ZlIGV2ZW50cyBhcmUgZmlyZWQgb25seSB3aGVuIHRoZSBjdXJzb3JcbiAgICAgICAgICogaXMgb3ZlciB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgd2lsbCBtYWtlIHRoaW5ncyB3b3JrIG1vcmUgaW4gbGluZSB3aXRoIGhvdyB0aGUgRE9NIHZlcnNpb24gd29ya3MuXG4gICAgICAgICAqIFNldHRpbmcgdG8gZmFsc2UgY2FuIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgdGhpbmdzIGxpa2UgZHJhZ2dpbmdcbiAgICAgICAgICogSXQgaXMgY3VycmVudGx5IHNldCB0byBmYWxzZSBhcyB0aGlzIGlzIGhvdyBQaXhpSlMgdXNlZCB0byB3b3JrLiBUaGlzIHdpbGwgYmUgc2V0IHRvIHRydWUgaW5cbiAgICAgICAgICogZnV0dXJlIHZlcnNpb25zIG9mIHBpeGkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXMgdGhlIHN5c3RlbSB0aWNrZXIgYmVlbiBhZGRlZD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlja2VyQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBtb3VzZSBob3ZlcmluZyBvdmVyIHRoZSByZW5kZXJlcj8gSWYgd29ya2luZyBpbiB3b3JrZXIgbW91c2UgY29uc2lkZXJlZCB0byBiZSBvdmVyIHJlbmRlcmVyIGJ5IGRlZmF1bHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gISgnUG9pbnRlckV2ZW50JyBpbiBzZWxmKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHRvdWNoIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiBzZWxmO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgcG9pbnRlciBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1N1Ym1pc3Npb24vcG9pbnRlci1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISFzZWxmLlBvaW50ZXJFdmVudDtcbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlclVwID0gX3RoaXMub25Qb2ludGVyVXAuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBfdGhpcy5wcm9jZXNzUG9pbnRlclVwLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBfdGhpcy5vblBvaW50ZXJDYW5jZWwuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckRvd24gPSBfdGhpcy5vblBvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck1vdmUgPSBfdGhpcy5vblBvaW50ZXJNb3ZlLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBfdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck91dCA9IF90aGlzLm9uUG9pbnRlck91dC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdmVyID0gX3RoaXMub25Qb2ludGVyT3Zlci5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpY3Rpb25hcnkgb2YgaG93IGRpZmZlcmVudCBjdXJzb3IgbW9kZXMgYXJlIGhhbmRsZWQuIFN0cmluZ3MgYXJlIGhhbmRsZWQgYXMgQ1NTIGN1cnNvclxuICAgICAgICAgKiB2YWx1ZXMsIG9iamVjdHMgYXJlIGhhbmRsZWQgYXMgZGljdGlvbmFyaWVzIG9mIENTUyB2YWx1ZXMgZm9yIGludGVyYWN0aW9uRE9NRWxlbWVudCxcbiAgICAgICAgICogYW5kIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluc3RlYWQgb2YgY2hhbmdpbmcgdGhlIENTUy5cbiAgICAgICAgICogRGVmYXVsdCBDU1MgY3Vyc29yIHZhbHVlcyBhcmUgcHJvdmlkZWQgZm9yICdkZWZhdWx0JyBhbmQgJ3BvaW50ZXInIG1vZGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgT2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdwb2ludGVyJyxcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb2RlIG9mIHRoZSBjdXJzb3IgdGhhdCBpcyBiZWluZyB1c2VkLlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhpcyBpcyBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudEN1cnNvck1vZGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxheWVkIHBvaW50ZXIgZXZlbnRzLiBVc2VkIHRvIGd1YXJhbnRlZSBjb3JyZWN0IG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmVlU2VhcmNoIGNvbXBvbmVudCB0aGF0IGlzIHVzZWQgdG8gaGl0VGVzdCBzdGFnZSB0cmVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJlZVNlYXJjaH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNlYXJjaCA9IG5ldyBUcmVlU2VhcmNoKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGFzIGEgbGFzdCByZW5kZXJlZCBvYmplY3QgaW4gY2FzZSByZW5kZXJlciBkb2VzbnQgaGF2ZSBfbGFzdE9iamVjdFJlbmRlcmVkXG4gICAgICAgICAqIEBtZW1iZXIge0Rpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGVtcERpc3BsYXlPYmplY3QgPSBuZXcgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIE5vdCBhbHdheXMgZmlyZWQgd2hlbiBzb21lIGJ1dHRvbnMgYXJlIGhlbGQgZG93biB3aGlsZSBvdGhlcnMgYXJlIHJlbGVhc2VkLiBJbiB0aG9zZSBjYXNlcyxcbiAgICAgICAgICogdXNlIFttb3VzZWRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0gYW5kXG4gICAgICAgICAqIFttb3VzZXVwXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZXVwfSBpbnN0ZWFkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnQuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91c2VTeXN0ZW1UaWNrZXIgPSBvcHRpb25zLnVzZVN5c3RlbVRpY2tlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51c2VTeXN0ZW1UaWNrZXIgOiB0cnVlO1xuICAgICAgICBfdGhpcy5zZXRUYXJnZXRFbGVtZW50KF90aGlzLnJlbmRlcmVyLnZpZXcsIF90aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLCBcInVzZVN5c3RlbVRpY2tlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgdGhlIEludGVyYWN0aW9uTWFuYWdlciBhdXRvbWF0aWNhbGx5IGFkZCB7QGxpbmsgdGlja2VyVXBkYXRlfSB0byB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlU3lzdGVtVGlja2VyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1c2VTeXN0ZW1UaWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZVN5c3RlbVRpY2tlciA9IHVzZVN5c3RlbVRpY2tlcjtcbiAgICAgICAgICAgIGlmICh1c2VTeXN0ZW1UaWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRpY2tlckxpc3RlbmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRpY2tlckxpc3RlbmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZSwgXCJsYXN0T2JqZWN0UmVuZGVyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTGFzdCByZW5kZXJlZCBvYmplY3Qgb3IgdGVtcCBvYmplY3RcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkIHx8IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGl0IHRlc3RzIGEgcG9pbnQgYWdhaW5zdCB0aGUgZGlzcGxheSB0cmVlLCByZXR1cm5pbmcgdGhlIGZpcnN0IGludGVyYWN0aXZlIG9iamVjdCB0aGF0IGlzIGhpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gZ2xvYmFsUG9pbnQgLSBBIHBvaW50IHRvIGhpdCB0ZXN0IHdpdGgsIGluIGdsb2JhbCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBbcm9vdF0gLSBUaGUgcm9vdCBkaXNwbGF5IG9iamVjdCB0byBzdGFydCBmcm9tLiBJZiBvbWl0dGVkLCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHJvb3Qgb2YgdGhlIGFzc29jaWF0ZWQgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgaGl0IGRpc3BsYXkgb2JqZWN0LCBpZiBhbnkuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24gKGdsb2JhbFBvaW50LCByb290KSB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSB0YXJnZXQgZm9yIG91ciBoaXQgdGVzdFxuICAgICAgICBoaXRUZXN0RXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gYXNzaWduIHRoZSBnbG9iYWwgcG9pbnRcbiAgICAgICAgaGl0VGVzdEV2ZW50LmRhdGEuZ2xvYmFsID0gZ2xvYmFsUG9pbnQ7XG4gICAgICAgIC8vIGVuc3VyZSBzYWZldHkgb2YgdGhlIHJvb3RcbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICByb290ID0gdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQsIHJvb3QsIG51bGwsIHRydWUpO1xuICAgICAgICAvLyByZXR1cm4gb3VyIGZvdW5kIG9iamVjdCAtIGl0J2xsIGJlIG51bGwgaWYgd2UgZGlkbid0IGhpdCBhbnl0aGluZ1xuICAgICAgICByZXR1cm4gaGl0VGVzdEV2ZW50LnRhcmdldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZWdhdGVcbiAgICAgKiBhbm90aGVyIERPTSBlbGVtZW50IHRvIHJlY2VpdmUgdGhvc2UgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UgYW5kIHRvdWNoIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgbmV3IGVsZW1lbnQgKHJlbGF0aXZlIHRvIHRoZSBjYW52YXMpLlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgdGlja2VyIGxpc3RlbmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tlckFkZGVkIHx8ICF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCB8fCAhdGhpcy5fdXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgVGlja2VyLnN5c3RlbS5hZGQodGhpcy50aWNrZXJVcGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG4gICAgICAgIHRoaXMudGlja2VyQWRkZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSB0aWNrZXIgbGlzdGVuZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVUaWNrZXJMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpY2tlckFkZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy50aWNrZXJVcGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYWxsIHRoZSBET00gZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZTtcbiAgICAgICAgaWYgKHNlbGYubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSAnbm9uZSc7XG4gICAgICAgICAgICBzdHlsZS5tc1RvdWNoQWN0aW9uID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpemVkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXplZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgc2VsZi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBwb2ludGVyb3V0IGlzIGZpcmVkIGluIGFkZGl0aW9uIHRvIHBvaW50ZXJ1cCAoZm9yIHRvdWNoIGV2ZW50cykgYW5kIHBvaW50ZXJjYW5jZWxcbiAgICAgICAgICAgIC8vIHdlIGFscmVhZHkgaGFuZGxlIHRob3NlLCBzbyBmb3IgdGhlIHB1cnBvc2VzIG9mIHdoYXQgd2UgZG8gaW4gb25Qb2ludGVyT3V0LCB3ZSBvbmx5XG4gICAgICAgICAgICAvLyBjYXJlIGFib3V0IHRoZSBwb2ludGVybGVhdmUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgRE9NIGV2ZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSByZWdpc3RlcmVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzQWRkZWQgfHwgIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGlmIChzZWxmLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICBzdHlsZS5tc0NvbnRlbnRab29taW5nID0gJyc7XG4gICAgICAgICAgICBzdHlsZS5tc1RvdWNoQWN0aW9uID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzZWxmLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cyBpZiBhdCBsZWFzdCB7QGxpbmsgaW50ZXJhY3Rpb25GcmVxdWVuY3l9XG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIHRoZSBsYXN0IGNhbGxcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnRpY2tlclVwZGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lICs9IGRlbHRhVGltZTtcbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5fZGlkTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGlkTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBjdXJzb3IgbW9kZSwgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvck1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgICBtb2RlID0gbW9kZSB8fCAnZGVmYXVsdCc7XG4gICAgICAgIHZhciBhcHBseVN0eWxlcyA9IHRydWU7XG4gICAgICAgIC8vIG9mZnNjcmVlbiBjYW52YXMgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIHN0eWxlcywgYnV0IGN1cnNvciBtb2RlcyBjYW4gYmUgZnVuY3Rpb25zLFxuICAgICAgICAvLyBpbiBvcmRlciB0byBoYW5kbGUgcGl4aSByZW5kZXJlZCBjdXJzb3JzLCBzbyB3ZSBjYW4ndCBiYWlsXG4gICAgICAgIGlmIChzZWxmLk9mZnNjcmVlbkNhbnZhcyAmJiB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcykge1xuICAgICAgICAgICAgYXBwbHlTdHlsZXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgbW9kZSBkaWRuJ3QgYWN0dWFsbHkgY2hhbmdlLCBiYWlsIGVhcmx5XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID09PSBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG1vZGU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuICAgICAgICAvLyBvbmx5IGRvIHRoaW5ncyBpZiB0aGVyZSBpcyBhIGN1cnNvciBzdHlsZSBmb3IgaXRcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzdHlsZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwbHlTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25zIGFyZSBqdXN0IGNhbGxlZCwgYW5kIHBhc3NlZCB0aGUgY3Vyc29yIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIG9iamVjdCwgYXNzdW1lIHRoYXQgaXQgaXMgYSBkaWN0aW9uYXJ5IG9mIENTUyBzdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGl0IHRvIHRoZSBpbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGx5U3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXBwbHlTdHlsZXMgJiYgdHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCBtb2RlIGlzIGEgc3RyaW5nIChub3QgYSBTeW1ib2wpIGFuZCBjdXJzb3JTdHlsZXMgZG9lc24ndCBoYXZlIGFueSBlbnRyeVxuICAgICAgICAgICAgLy8gZm9yIHRoZSBtb2RlLCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBkZXYgd2FudHMgaXQgdG8gYmUgQ1NTIGZvciB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBvbiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSkge1xuICAgICAgICAvLyBFdmVuIGlmIHRoZSBldmVudCB3YXMgc3RvcHBlZCwgYXQgbGVhc3QgZGlzcGF0Y2ggYW55IHJlbWFpbmluZyBldmVudHNcbiAgICAgICAgLy8gZm9yIHRoZSBzYW1lIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICBpZiAoIWV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50IHx8IGRpc3BsYXlPYmplY3QgPT09IGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQpIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmVtaXQoZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXRzIGEgZXZlbnQgb24gYSBxdWV1ZSB0byBiZSBkaXNwYXRjaGVkIGxhdGVyLiBUaGlzIGlzIHVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3RcbiAgICAgKiBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlbGF5RGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKSB7XG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cy5wdXNoKHsgZGlzcGxheU9iamVjdDogZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmc6IGV2ZW50U3RyaW5nLCBldmVudERhdGE6IGV2ZW50RGF0YSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICAgKiByZXN1bHRpbmcgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBwb2ludC4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhhdCB0aGUgRE9NXG4gICAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgc3RvcmVkIGluXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IC0gdGhlIHggY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcFBvc2l0aW9uVG9Qb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgeCwgeSkge1xuICAgICAgICB2YXIgcmVjdDtcbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmVjdCA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IDEuMCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgcG9pbnQueCA9ICgoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICgoeSAtIHJlY3QudG9wKSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQgLyByZWN0LmhlaWdodCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSBpbmRpY2F0ZXMgd2hldGhlciB3ZSB3YW50IHRvIGNhbGN1bGF0ZSBoaXRzXG4gICAgICogIG9yIGp1c3QgaXRlcmF0ZSB0aHJvdWdoIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzSW50ZXJhY3RpdmUgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCkge1xuICAgICAgICB2YXIgaGl0ID0gdGhpcy5zZWFyY2guZmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KTtcbiAgICAgICAgdmFyIGRlbGF5ZWRFdmVudHMgPSB0aGlzLmRlbGF5ZWRFdmVudHM7XG4gICAgICAgIGlmICghZGVsYXllZEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBoaXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQsIGJlY2F1c2Ugd2Ugc3RhcnQgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlbGF5ZWRMZW4gPSBkZWxheWVkRXZlbnRzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsYXllZExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBkZWxheWVkRXZlbnRzW2ldLCBkaXNwbGF5T2JqZWN0XzEgPSBfYS5kaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZyA9IF9hLmV2ZW50U3RyaW5nLCBldmVudERhdGEgPSBfYS5ldmVudERhdGE7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIHJlYWNoIHRoZSBvYmplY3Qgd2Ugd2FudGVkIHRvIHN0b3AgcHJvcGFnYXRpbmcgYXQsXG4gICAgICAgICAgICAvLyBzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQuXG4gICAgICAgICAgICBpZiAoZXZlbnREYXRhLnN0b3BzUHJvcGFnYXRpbmdBdCA9PT0gZGlzcGxheU9iamVjdF8xKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3RfMSwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8qXG4gICAgICAgICAqIE5vIG5lZWQgdG8gcHJldmVudCBkZWZhdWx0IG9uIG5hdHVyYWwgcG9pbnRlciBldmVudHMsIGFzIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICAgICAgICogTm9ybWFsaXplZCBldmVudHMsIGhvd2V2ZXIsIG1heSBoYXZlIHRoZSBkb3VibGUgbW91c2Vkb3duL3RvdWNoc3RhcnQgaXNzdWUgb24gdGhlIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIsXG4gICAgICAgICAqIHNvIHN0aWxsIG5lZWQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgdmFyIGNhbmNlbGFibGUgPSBvcmlnaW5hbEV2ZW50LmNhbmNlbGFibGUgfHwgISgnY2FuY2VsYWJsZScgaW4gb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICBpZiAoY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtaXQgYSBtb3VzZSBldmVudCBmb3IgXCJwZW5cIiBwb2ludGVycywgdGhlIHdheSBhIGJyb3dzZXIgd291bGQgZW1pdCBhIGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJEb3duID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ucmlnaHREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5sZWZ0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDb21wbGV0ZSA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIHZhciBldmVudEFwcGVuZCA9IG9yaWdpbmFsRXZlbnQudGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogXCJwb2ludGVydXBcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/IFwicmlnaHR1cFwiICsgZXZlbnRBcHBlbmQgOiBcIm1vdXNldXBcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiBcInRvdWNoZW5kXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCB0cnVlLCB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGNhbmNlbCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgdXAgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyVXAgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgLy8gbmVlZCB0byB0cmFjayBtb3VzZSBkb3duIHN0YXR1cyBpbiB0aGUgbW91c2UgYmxvY2sgc28gdGhhdCB3ZSBjYW4gZW1pdFxuICAgICAgICAvLyBldmVudCBpbiBhIGxhdGVyIGJsb2NrXG4gICAgICAgIHZhciBpc01vdXNlVGFwID0gZmFsc2U7XG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUztcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG4gICAgICAgICAgICB2YXIgaXNEb3duID0gdHJhY2tpbmdEYXRhICE9PSB1bmRlZmluZWQgJiYgKHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3QpO1xuICAgICAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnIDogJ21vdXNldXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuIGNvbmZpcm0gdGhhdCB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIHRoaXMgb2JqZWN0LCBmbGFnIGZvciBsYXRlciBlbWl0IG9mIHBvaW50ZXJ0YXBcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZVRhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0IHBvaW50ZXJ0YXAgaWYgbm90IGEgbW91c2UsIG9yIGlmIHRoZSBtb3VzZSBibG9jayBkZWNpZGVkIGl0IHdhcyBhIHRhcFxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VzZSB8fCBpc01vdXNlVGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3VjaGVzIGFyZSBubyBsb25nZXIgb3ZlciAoaWYgdGhleSBldmVyIHdlcmUpIHdoZW4gd2UgZ2V0IHRoZSB0b3VjaGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBwcmV0ZW5kaW5nIHRoYXQgdGhleSBhcmVcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcmVtb3ZlIHRoZSB0cmFja2luZyBkYXRhIGlmIHRoZXJlIGlzIG5vIG92ZXIvZG93biBzdGF0ZSBzdGlsbCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSAmJiB0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5fZGlkTW92ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgICAgICB7IHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgICAgICAgICAgLy8gVE9ETyBCVUcgZm9yIHBhcmVudHMgaW50ZXJhY3RpdmUgb2JqZWN0IChib3JkZXIgb3JkZXIgaXNzdWUpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIG91dCBvZiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJlaW5nIG1vdmVkIG91dFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3V0ID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgb3Zlci9vdXQgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgLy8gaWYgd2UganVzdCBtb3VzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byB0cmFjayB0aGF0IHN0YXRlXG4gICAgICAgIGlmIChoaXQgJiYgIXRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMubW91c2VPdmVyUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGlmICghdHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgY2hhbmdlIHRoZSBjdXJzb3IgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2hhbmdlZCAoYnkgc29tZXRoaW5nIGRlZXBlciBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdHJlZSlcbiAgICAgICAgICAgIGlmIChpc01vdXNlICYmIHRoaXMuY3Vyc29yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBkaXNwbGF5T2JqZWN0LmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm91dCcsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbW91c2UgZG93biBpbmZvcm1hdGlvbiBmb3IgdGhlIHBvaW50ZXIsIHRoZW4gaXQgaXMgc2FmZSB0byBkZWxldGVcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3ZlciA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSkge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5jb3B5RXZlbnQoZXZlbnQpO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25EYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIChwb2ludGVySWQpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucHVzaChpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIHBvaW50ZXJFdmVudCwgaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnRbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50aWx0WCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnR3aXN0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZOyB9XG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgdG91Y2ggYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKCFzZWxmLk1vdXNlRXZlbnRcbiAgICAgICAgICAgIHx8IChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygc2VsZi5Qb2ludGVyRXZlbnQpKSkpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQud2lkdGggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LndpZHRoID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQuaGVpZ2h0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5oZWlnaHQgPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGlsdFggPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5wcmVzc3VyZSA9IDAuNTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudHdpc3QgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnR3aXN0ID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwOyB9XG4gICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgIHRlbXBFdmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRlbXBFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShFdmVudEVtaXR0ZXIpKTtcblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25EYXRhLCBJbnRlcmFjdGlvbkV2ZW50LCBJbnRlcmFjdGlvbk1hbmFnZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBpbnRlcmFjdGl2ZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3Rpb24uanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3J1bm5lciAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9ydW5uZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIEEgUnVubmVyIGlzIGEgaGlnaGx5IHBlcmZvcm1hbnQgYW5kIHNpbXBsZSBhbHRlcm5hdGl2ZSB0byBzaWduYWxzLiBCZXN0IHVzZWQgaW4gc2l0dWF0aW9uc1xuICogd2hlcmUgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIHRvIG1hbnkgb2JqZWN0cyBhdCBoaWdoIGZyZXF1ZW5jeSAoc2F5IGV2ZXJ5IGZyYW1lISlcbiAqXG4gKlxuICogbGlrZSBhIHNpZ25hbC4uXG4gKiBgYGBcbiAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gKlxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUnVubmVyKCdsb2FkZWQnKVxuICogfVxuICpcbiAqIGNvbnN0IGxpc3RlbmVyID0ge1xuICogICAgIGxvYWRlZDogZnVuY3Rpb24oKXtcbiAqICAgICAgICAgLy8gdGhpblxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuYWRkKGxpc3RlbmVyKTtcbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuZW1pdCgpO1xuICogYGBgXG4gKlxuICogT3IgZm9yIGhhbmRsaW5nIGNhbGxpbmcgdGhlIHNhbWUgZnVuY3Rpb24gb24gbWFueSBpdGVtc1xuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpXG4gKiB9XG4gKlxuICogY29uc3QgZ2FtZU9iamVjdCA9IHtcbiAqICAgICB1cGRhdGU6IGZ1bmN0aW9uKHRpbWUpe1xuICogICAgICAgICAvLyB1cGRhdGUgbXkgZ2FtZXkgc3RhdGVcbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5hZGQoZ2FtZU9iamVjdCk7XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5lbWl0KHRpbWUpO1xuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSdW5uZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdGhlIGZ1bmN0aW9uIG5hbWUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhpcyBSdW5uZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUnVubmVyKG5hbWUpIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoL0Jyb2FkY2FzdCBSdW5uZXIgdG8gYWxsIGxpc3RlbmVycyBhZGRlZCB0byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIHsuLi5hbnl9IHBhcmFtcyAtIG9wdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBlYWNoIGxpc3RlbmVyXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF4IGFyZ3VtZW50cyByZWFjaGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgbmFtZSA9IF9hLm5hbWUsIGl0ZW1zID0gX2EuaXRlbXM7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQrKztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtc1tpXVtuYW1lXShhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtcyA9PT0gdGhpcy5pdGVtcykge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUnVubmVyLnByb3RvdHlwZS5lbnN1cmVOb25BbGlhc2VkSXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbGlhc0NvdW50ID4gMCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSBSdW5uZXJcbiAgICAgKlxuICAgICAqIFJ1bm5lcnMgZG8gbm90IG5lZWQgdG8gaGF2ZSBzY29wZSBvciBmdW5jdGlvbnMgcGFzc2VkIHRvIHRoZW0uXG4gICAgICogQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdG8gcGFzcyB0aGUgbGlzdGVuaW5nIG9iamVjdCBhbmQgZW5zdXJlIHRoYXQgaXQgaGFzIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZVxuICAgICAqIGFzIHRoZSBuYW1lIHByb3ZpZGVkIHRvIHRoZSBSdW5uZXIgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEVnIEEgbGlzdGVuZXIgcGFzc2VkIHRvIHRoaXMgUnVubmVyIHdpbGwgcmVxdWlyZSBhICdjb21wbGV0ZScgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICAgICAqXG4gICAgICogY29uc3QgY29tcGxldGUgPSBuZXcgUnVubmVyKCdjb21wbGV0ZScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlIHNjb3BlIHVzZWQgd2lsbCBiZSB0aGUgb2JqZWN0IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgbGlzdGVuaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW1bdGhpcy5fbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNpbmdsZSBsaXN0ZW5lciBmcm9tIHRoZSBkaXNwYXRjaCBxdWV1ZS5cbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5lciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiB0aGUgbGlzdGVuZXIgaXMgYWxyZWFkeSBpbiB0aGUgUnVubmVyXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuZXIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byBjaGVjay5cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGxpc3RlbmVycyBmcm9tIHRoZSBSdW5uZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgcmVmZXJlbmNlcywgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUnVubmVyLnByb3RvdHlwZSwgXCJlbXB0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlcmUgYXJlIG5vIHRoaXMgUnVubmVyIGNvbnRhaW5zIG5vIGxpc3RlbmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwibmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcnVubmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSdW5uZXI7XG59KCkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUnVubmVyLnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgZW1pdGBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gICAgICogQG1ldGhvZCBkaXNwYXRjaFxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIGRpc3BhdGNoOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgcnVuXG4gICAgICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gICAgICovXG4gICAgcnVuOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbn0pO1xuXG5leHBvcnQgeyBSdW5uZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bm5lci5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvY29yZSAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9jb3JlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYsIEFMUEhBX01PREVTLCBTQ0FMRV9NT0RFUywgRk9STUFUUywgVFlQRVMsIFRBUkdFVFMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBDTEVBUl9NT0RFUywgRFJBV19NT0RFUywgQlVGRkVSX0JJVFMsIE1BU0tfVFlQRVMsIFBSRUNJU0lPTiwgQkxFTkRfTU9ERVMsIEdDX01PREVTLCBTQU1QTEVSX1RZUEVTLCBXUkFQX01PREVTLCBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzTW9iaWxlLCBpc1BvdzIsIEJhc2VUZXh0dXJlQ2FjaGUsIFRleHR1cmVDYWNoZSwgdWlkLCBFdmVudEVtaXR0ZXIsIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGRlcHJlY2F0aW9uLCBuZXh0UG93MiwgUHJvZ3JhbUNhY2hlLCByZW1vdmVJdGVtcywgaGV4MnN0cmluZywgaGV4MnJnYiwgc2F5SGVsbG8sIGlzV2ViR0xTdXBwb3J0ZWQsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBsb2cyLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IGdyb3VwRDgsIFJlY3RhbmdsZSwgUG9pbnQsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHN1cHBvcnQgZm9yIHVzaW5nIFdlYkdMLiBJZiBhIGRldmljZSBkb2VzIG5vdFxuICogc3VwcG9ydCBXZWJHTCB2ZXJzaW9uLCBmb3IgaW5zdGFuY2UgV2ViR0wgMiwgaXQgd2lsbCBzdGlsbFxuICogYXR0ZW1wdCB0byBmYWxsYmFjayBzdXBwb3J0IHRvIFdlYkdMIDEuIElmIHlvdSB3YW50IHRvXG4gKiBleHBsaWNpdGx5IHJlbW92ZSBmZWF0dXJlIHN1cHBvcnQgdG8gdGFyZ2V0IGEgbW9yZSBzdGFibGVcbiAqIGJhc2VsaW5lLCBwcmVmZXIgYSBsb3dlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBEdWUgdG8ge0BsaW5rIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkzNDgyM3xidWcgaW4gY2hyb21pdW19XG4gKiB3ZSBkaXNhYmxlIHdlYmdsMiBieSBkZWZhdWx0IGZvciBhbGwgbm9uLWFwcGxlIG1vYmlsZSBkZXZpY2VzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFBSRUZFUl9FTlZcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgUElYSS5FTlYuV0VCR0wyXG4gKi9cbnNldHRpbmdzLlBSRUZFUl9FTlYgPSBpc01vYmlsZS5hbnkgPyBFTlYuV0VCR0wgOiBFTlYuV0VCR0wyO1xuLyoqXG4gKiBJZiBzZXQgdG8gYHRydWVgLCAqb25seSogVGV4dHVyZXMgYW5kIEJhc2VUZXh0dXJlIG9iamVjdHMgc3RvcmVkXG4gKiBpbiB0aGUgY2FjaGVzICh7QGxpbmsgUElYSS51dGlscy5UZXh0dXJlQ2FjaGUgVGV4dHVyZUNhY2hlfSBhbmRcbiAqIHtAbGluayBQSVhJLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUgQmFzZVRleHR1cmVDYWNoZX0pIGNhbiBiZVxuICogdXNlZCB3aGVuIGNhbGxpbmcge0BsaW5rIFBJWEkuVGV4dHVyZS5mcm9tIFRleHR1cmUuZnJvbX0gb3JcbiAqIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlLmZyb20gQmFzZVRleHR1cmUuZnJvbX0uXG4gKiBPdGhlcndpc2UsIHRoZXNlIGBmcm9tYCBjYWxscyB0aHJvdyBhbiBleGNlcHRpb24uIFVzaW5nIHRoaXMgcHJvcGVydHlcbiAqIGNhbiBiZSB1c2VmdWwgaWYgeW91IHdhbnQgdG8gZW5mb3JjZSBwcmVsb2FkaW5nIGFsbCBhc3NldHMgd2l0aFxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0uXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgU1RSSUNUX1RFWFRVUkVfQ0FDSEVcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFID0gZmFsc2U7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcmVzb3VyY2UgdHlwZXMsIGNsYXNzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLlJlc291cmNlfS5cbiAqIEBleGFtcGxlXG4gKiBjbGFzcyBDdXN0b21SZXNvdXJjZSBleHRlbmRzIFBJWEkuUmVzb3VyY2Uge1xuICogICAvLyBNVVNUIGhhdmUgc291cmNlLCBvcHRpb25zIGNvbnN0cnVjdG9yIHNpZ25hdHVyZVxuICogICAvLyBmb3IgYXV0by1kZXRlY3RlZCByZXNvdXJjZXMgdG8gYmUgY3JlYXRlZC5cbiAqICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gKiAgICAgc3VwZXIoKTtcbiAqICAgfVxuICogICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAqICAgICAvLyB1cGxvYWQgd2l0aCBHTFxuICogICAgIHJldHVybiB0cnVlO1xuICogICB9XG4gKiAgIC8vIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2VcbiAqICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAqICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAneHl6J3x8IHNvdXJjZSBpbnN0YW5jZW9mIFNvbWVDbGFzcztcbiAqICAgfVxuICogfVxuICogLy8gSW5zdGFsbCB0aGUgbmV3IHJlc291cmNlIHR5cGVcbiAqIFBJWEkuSU5TVEFMTEVELnB1c2goQ3VzdG9tUmVzb3VyY2UpO1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7QXJyYXk8UElYSS5JUmVzb3VyY2VQbHVnaW4+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbnZhciBJTlNUQUxMRUQgPSBbXTtcbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5DYW52YXNSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLkJ1ZmZlclJlc291cmNlfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlLiBPdmVycmlkZGVuIGJ5IHdpZHRoLCBoZWlnaHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSBJbWFnZSBvcHRpb24gdG8gY3JlYXRlIEJpdG1hcCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBJbWFnZSBhbmQgVmlkZW8gb3B0aW9uIHRvIHNldCBjcm9zc09yaWdpblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFZpZGVvIG9wdGlvbiB0byBzdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gVmlkZW8gb3B0aW9uIHRvIHVwZGF0ZSBob3cgbWFueSB0aW1lcyBhIHNlY29uZCB0aGVcbiAqICAgICAgICB0ZXh0dXJlIHNob3VsZCBiZSB1cGRhdGVkIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXJcbiAqIEByZXR1cm4ge1BJWEkuUmVzb3VyY2V9IFRoZSBjcmVhdGVkIHJlc291cmNlLlxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBleHRlbnNpb24gPSAnJztcbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gc2VhcmNoIGZvciBmaWxlIGV4dGVuc2lvbjogcGVyaW9kLCAzLTQgY2hhcnMsIHRoZW4gPywgIyBvciBFT0xcbiAgICAgICAgdmFyIHJlc3VsdCA9ICgvXFwuKFxcd3szLDR9KSg/OiR8XFw/fCMpL2kpLmV4ZWMoc291cmNlKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uID0gcmVzdWx0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IElOU1RBTExFRC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgUmVzb3VyY2VQbHVnaW4gPSBJTlNUQUxMRURbaV07XG4gICAgICAgIGlmIChSZXNvdXJjZVBsdWdpbi50ZXN0ICYmIFJlc291cmNlUGx1Z2luLnRlc3Qoc291cmNlLCBleHRlbnNpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGx1Z2luKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgc291cmNlIHR5cGUgdG8gYXV0by1kZXRlY3QgUmVzb3VyY2UnKTtcbn1cblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQmFzZSByZXNvdXJjZSBjbGFzcyBmb3IgdGV4dHVyZXMgdGhhdCBtYW5hZ2VzIHZhbGlkYXRpb24gYW5kIHVwbG9hZGluZywgZGVwZW5kaW5nIG9uIGl0cyB0eXBlLlxuICpcbiAqIFVwbG9hZGluZyBvZiBhIGJhc2UgdGV4dHVyZSB0byB0aGUgR1BVIGlzIHJlcXVpcmVkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXNvdXJjZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiByZXNvdXJjZSBoYXMgYmVlbiBkZXN0cm95ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHJlc291cmNlIGlzIGNyZWF0ZWQgYnkgQmFzZVRleHR1cmVcbiAgICAgICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAgICAgKiBleHRlcm5hbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgcmVzaXplIGV2ZW50c1xuICAgICAgICAgKiBhY2NlcHRzIDIgcGFyYW1ldGVyczogd2lkdGgsIGhlaWdodFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gbmV3IFJ1bm5lcignc2V0UmVhbFNpemUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyB1cGRhdGUgZXZlbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25VcGRhdGUgPSBuZXcgUnVubmVyKCd1cGRhdGUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBpbnRlcm5hbCBlcnJvcnMsIHN1Y2ggYXMgbG9hZGluZyBlcnJvcnNcbiAgICAgICAgICogYWNjZXB0cyAxIHBhcmFtOiBlcnJvclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgUnVubmVyKCdvbkVycm9yJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgICAgICAvLyBoYXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLmVtaXQodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuYmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGEgcmVzaXplIGV2ZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gWCBkaW1lbnNpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gWSBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUuZW1pdCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ2YWxpZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXMgYmVlbiB2YWxpZGF0ZWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFzIGJlZW4gdXBkYXRlZCB0cmlnZ2VyIGV2ZW50XG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZS5lbWl0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gdG8gc3RhcnQgcHJlbG9hZGluZyBhIHJlc291cmNlXG4gICAgICogb3IgZG8gYW55IG90aGVyIHByZXBhcmUgc3RlcC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnN0eWxlID0gZnVuY3Rpb24gKF9yZW5kZXJlciwgX2Jhc2VUZXh0dXJlLCBfZ2xUZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBvdmVycmlkZVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gICAgICogYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFzIHJlZmVyZW5jZSBjb3VudHMgYXJlIG1haW50YWluZWRcbiAgICAgKiBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFic3RyYWN0LCB1c2VkIHRvIGF1dG8tZGV0ZWN0IHJlc291cmNlIHR5cGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKF9zb3VyY2UsIF9leHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc291cmNlO1xufSgpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNoYXJlZEFycmF5QnVmZmVyXG4gKi9cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJ1ZmZlclJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCdWZmZXJSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fSBzb3VyY2UgLSBTb3VyY2UgYnVmZmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXJSZXNvdXJjZSB3aWR0aCBvciBoZWlnaHQgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBhcnJheVxuICAgICAgICAgKiBDYW5ub3QgYmUgQ2xhbXBlZFVpbnQ4QXJyYXkgYmVjYXVzZSBpdCBjYW50IGJlIHVwbG9hZGVkIHRvIFdlYkdMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGF0YSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIHZhciB3aWR0aCA9IGJhc2VUZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IHdpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIDAsIDAsIHdpZHRoLCBoZWlnaHQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIDxjYW52YXM+XG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDMyQXJyYXk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbnZhciBkZWZhdWx0QnVmZmVyT3B0aW9ucyA9IHtcbiAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgZm9ybWF0OiBGT1JNQVRTLlJHQkEsXG4gICAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OUE0sXG59O1xuLyoqXG4gKiBBIFRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2UuXG4gKiBBbGwgdGV4dHVyZXMgaGF2ZSBhIGJhc2UgdGV4dHVyZSwgd2hpY2ggY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZS5cbiAqIFRoZXJlZm9yZSB5b3UgY2FuIGhhdmUgbWFueSB0ZXh0dXJlcyBhbGwgdXNpbmcgYSBzaW5nbGUgQmFzZVRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVQYXJhbSBSIC0gVGhlIEJhc2VUZXh0dXJlJ3MgUmVzb3VyY2UgdHlwZS5cbiAqIEB0eXBlUGFyYW0gUk8gLSBUaGUgb3B0aW9ucyBmb3IgY29uc3RydWN0aW5nIHJlc291cmNlLlxuICovXG52YXIgQmFzZVRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZXNvdXJjZXxzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbcmVzb3VyY2U9bnVsbF0gLVxuICAgICAqICAgICAgICBUaGUgY3VycmVudCByZXNvdXJjZSB0byB1c2UsIGZvciB0aGluZ3MgdGhhdCBhcmVuJ3QgUmVzb3VyY2Ugb2JqZWN0cywgd2lsbCBiZSBjb252ZXJ0ZWRcbiAgICAgKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1BJWEkuTUlQTUFQX01PREVTfSBbb3B0aW9ucy5taXBtYXA9UElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNdIC0gSWYgbWlwbWFwcGluZyBpcyBlbmFibGVkIGZvciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5XUkFQX01PREVTfSBbb3B0aW9ucy53cmFwTW9kZT1QSVhJLnNldHRpbmdzLldSQVBfTU9ERV0gLSBXcmFwIG1vZGUgZm9yIHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIERlZmF1bHQgc2NhbGUgbW9kZSwgbGluZWFyLCBuZWFyZXN0XG4gICAgICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICAgICAqIEBwYXJhbSB7UElYSS5UWVBFU30gW29wdGlvbnMudHlwZT1QSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVdIC0gR0wgZGF0YSB0eXBlXG4gICAgICogQHBhcmFtIHtQSVhJLlRBUkdFVFN9IFtvcHRpb25zLnRhcmdldD1QSVhJLlRBUkdFVFMuVEVYVFVSRV8yRF0gLSBHTCB0ZXh0dXJlIHRhcmdldFxuICAgICAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MF0gLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLlJFU09MVVRJT05dIC0gUmVzb2x1dGlvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnJlc291cmNlT3B0aW9uc10gLSBPcHRpb25hbCByZXNvdXJjZSBvcHRpb25zLFxuICAgICAqICAgICAgICBzZWUge0BsaW5rIFBJWEkuYXV0b0RldGVjdFJlc291cmNlIGF1dG9EZXRlY3RSZXNvdXJjZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlVGV4dHVyZShyZXNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAocmVzb3VyY2UgPT09IHZvaWQgMCkgeyByZXNvdXJjZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gbnVsbDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGFscGhhTW9kZSA9IG9wdGlvbnMuYWxwaGFNb2RlLCBtaXBtYXAgPSBvcHRpb25zLm1pcG1hcCwgYW5pc290cm9waWNMZXZlbCA9IG9wdGlvbnMuYW5pc290cm9waWNMZXZlbCwgc2NhbGVNb2RlID0gb3B0aW9ucy5zY2FsZU1vZGUsIHdpZHRoID0gb3B0aW9ucy53aWR0aCwgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQsIHdyYXBNb2RlID0gb3B0aW9ucy53cmFwTW9kZSwgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQsIHR5cGUgPSBvcHRpb25zLnR5cGUsIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0LCByZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uLCByZXNvdXJjZU9wdGlvbnMgPSBvcHRpb25zLnJlc291cmNlT3B0aW9ucztcbiAgICAgICAgLy8gQ29udmVydCB0aGUgcmVzb3VyY2UgdG8gYSBSZXNvdXJjZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlICYmICEocmVzb3VyY2UgaW5zdGFuY2VvZiBSZXNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJlc291cmNlID0gYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlLCByZXNvdXJjZU9wdGlvbnMpO1xuICAgICAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gd2lkdGggfHwgMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pcG1hcCBtb2RlIG9mIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGRvd25zY2FsZWQgaW1hZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWlwbWFwID0gbWlwbWFwICE9PSB1bmRlZmluZWQgPyBtaXBtYXAgOiBzZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaXNvdHJvcGljTGV2ZWwgPSBhbmlzb3Ryb3BpY0xldmVsICE9PSB1bmRlZmluZWQgPyBhbmlzb3Ryb3BpY0xldmVsIDogc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdGhlIHRleHR1cmUgd3JhcHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5XUkFQX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLldSQVBfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud3JhcE1vZGUgPSB3cmFwTW9kZSB8fCBzZXR0aW5ncy5XUkFQX01PREU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBzZXR0aW5ncy5TQ0FMRV9NT0RFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZPUk1BVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuRk9STUFUUy5SR0JBXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb3JtYXQgPSBmb3JtYXQgfHwgRk9STUFUUy5SR0JBO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgcmVzb3VyY2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRZUEVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlIHx8IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IHR5cGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UQVJHRVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRBUkdFVFMuVEVYVFVSRV8yRFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IFRBUkdFVFMuVEVYVFVSRV8yRDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyB0byB0cmVhdCBwcmVtdWx0aXBsaWVkIGFscGhhLCBzZWUge0BsaW5rIFBJWEkuQUxQSEFfTU9ERVN9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFMUEhBX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkFMUEhBX01PREVTLlVOUEFDS1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNb2RlID0gYWxwaGFNb2RlICE9PSB1bmRlZmluZWQgPyBhbHBoYU1vZGUgOiBBTFBIQV9NT0RFUy5VTlBBQ0s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51aWQgPSB1aWQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgYXV0b21hdGljIHRleHR1cmUgR2FyYmFnZSBDb2xsZWN0aW9uLCBzdG9yZXMgbGFzdCBHQyB0aWNrIHdoZW4gaXQgd2FzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG91Y2hlZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGV4dHVyZSBpcyBhIHBvd2VyIG9mIHR3bywgdHJ5IHRvIHVzZSBwb3dlciBvZiB0d28gdGV4dHVyZXMgYXMgbXVjaFxuICAgICAgICAgKiBhcyB5b3UgY2FuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIHJlbmRlciBjb250ZXh0IHRleHR1cmVzIHdoZXJlIHRoaXMgaXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsVGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHRvIHRoZSBHUFUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGUoKWAgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSBzdHlsZSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eVN0eWxlSWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGRlZmF1bHQgY2FjaGUgSUQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2VuZXJhbGx5IHNwZWFraW5nIG1lYW5zIHdoZW4gcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBhbHRlcm5hdGl2ZSBjYWNoZSBpZHMsIHNpbmNlIHNvbWUgQmFzZVRleHR1cmVzXG4gICAgICAgICAqIGNhbiBoYXZlIG1vcmUgdGhhbiBvbmUgSUQsIHNob3J0IG5hbWUgYW5kIGxvbmdlciBmdWxsIFVSTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiBCYXNlVGV4dHVyZSBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdXNlZCBieSB0aGlzIEJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seVxuICAgICAgICAgKiBiZSBvbmUgcmVzb3VyY2UgcGVyIEJhc2VUZXh0dXJlLCBidXQgdGV4dHVyZXMgY2FuIHNoYXJlXG4gICAgICAgICAqIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZXNvdXJjZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoRW5hYmxlZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2NhdGlvbiBpbnNpZGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hMb2NhdGlvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0cyBhIHBhcnQgb2YgYW5vdGhlciB0ZXh0dXJlLCBoYW5kbGVkIGJ5IEFycmF5UmVzb3VyY2Ugb3IgQ3ViZVJlc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYXJlbnRUZXh0dXJlQXJyYXkgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBMb2FkIGVycm9yIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvLyBTZXQgdGhlIHJlc291cmNlXG4gICAgICAgIF90aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVRleHR1cmUucHJvdG90eXBlLCBcInJlYWxXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaXhlbCB3aWR0aCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uKSAtIDFlLTQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgXCJyZWFsSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBpeGVsIGhlaWdodCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgc3R5bGUgb3B0aW9ucyBvZiBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbc2NhbGVNb2RlXSAtIFBpeGkgc2NhbGVtb2RlXG4gICAgICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW21pcG1hcF0gLSBlbmFibGUgbWlwbWFwc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gKHNjYWxlTW9kZSwgbWlwbWFwKSB7XG4gICAgICAgIHZhciBkaXJ0eTtcbiAgICAgICAgaWYgKHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkICYmIHNjYWxlTW9kZSAhPT0gdGhpcy5zY2FsZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaXBtYXAgIT09IHVuZGVmaW5lZCAmJiBtaXBtYXAgIT09IHRoaXMubWlwbWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcDtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHcvaC9yZXNvbHV0aW9uLiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBWaXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVmlzdWFsIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyByZWFsIHNpemUgb2YgYmFzZVRleHR1cmUsIHByZXNlcnZlcyBjdXJyZW50IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIC0gRnVsbCByZW5kZXJlZCB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IC0gRnVsbCByZW5kZXJlZCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlYWxTaXplID0gZnVuY3Rpb24gKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlYWxXaWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWFsSGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVmcmVzaCBjaGVjayBmb3IgaXNQb3dlck9mVHdvIHRleHR1cmUgYmFzZWQgb24gc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3JlZnJlc2hQT1QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gaXNQb3cyKHRoaXMucmVhbFdpZHRoKSAmJiBpc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgcmVzb2x1dGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSByZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIG9sZFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIGlmIChvbGRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlc291cmNlIGlmIGl0IHdhc24ndCBzZXQuIFRocm93cyBlcnJvciBpZiByZXNvdXJjZSBhbHJlYWR5IHByZXNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZXNvdXJjZX0gcmVzb3VyY2UgLSB0aGF0IGlzIG1hbmFnaW5nIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSA9PT0gcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIGNhbiBiZSBzZXQgb25seSBvbmNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb3VyY2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludmFsaWRhdGVzIHRoZSBvYmplY3QuIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCAmJiB0aGlzLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZXJyb3JzIHdpdGggcmVzb3VyY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFcnJvckV2ZW50fSBldmVudCAtIEVycm9yIGV2ZW50IGVtaXR0ZWQuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMsIGV2ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYmFzZSB0ZXh0dXJlLlxuICAgICAqIFRoZSBtZXRob2Qgc3RvcHMgaWYgcmVzb3VyY2UgZG9lc24ndCB3YW50IHRoaXMgdGV4dHVyZSB0byBiZSBkZXN0cm95ZWQuXG4gICAgICogUmVtb3ZlcyB0ZXh0dXJlIGZyb20gYWxsIGNhY2hlcy5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFuZCBkZXN0cm95IHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51bmJpbmQodGhpcyk7XG4gICAgICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgcmVzb3VyY2VkIGNyZWF0ZWQgaW50ZXJuYWxseVxuICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UuaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhY2hlSWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICAgICAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbmFsbHkgbGV0IHRoZSBXZWJHTCByZW5kZXJlciBrbm93Li5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNwb3NlJywgdGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBCYXNlVGV4dHVyZXxUZXh0dXJlIGNhc3RcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuY2FzdFRvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gaW1hZ2UgdXJsLCBpbWFnZSBlbGVtZW50LCBjYW52YXMgZWxlbWVudC4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIGFuIGltYWdlIHVybCBvciBhbiBpbWFnZSBlbGVtZW50IGFuZCBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIGNhY2hlLCBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fFNWR0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gVGhlXG4gICAgICogICAgICAgIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGl4aUlkUHJlZml4PXBpeGlpZF0gLSBJZiBhIHNvdXJjZSBoYXMgbm8gaWQsIHRoaXMgaXMgdGhlIHByZWZpeCBvZiB0aGUgZ2VuZXJhdGVkIGlkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RyaWN0XSAtIEVuZm9yY2Ugc3RyaWN0LW1vZGUsIHNlZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRX0uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zLCBzdHJpY3QpIHtcbiAgICAgICAgaWYgKHN0cmljdCA9PT0gdm9pZCAwKSB7IHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFOyB9XG4gICAgICAgIHZhciBpc0ZyYW1lID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBjYWNoZUlkID0gbnVsbDtcbiAgICAgICAgaWYgKGlzRnJhbWUpIHtcbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZWZpeCA9IChvcHRpb25zICYmIG9wdGlvbnMucGl4aUlkUHJlZml4KSB8fCAncGl4aWlkJztcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IHByZWZpeCArIFwiX1wiICsgdWlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gQmFzZVRleHR1cmVDYWNoZVtjYWNoZUlkXTtcbiAgICAgICAgLy8gU3RyaWN0LW1vZGUgcmVqZWN0cyBpbnZhbGlkIGNhY2hlSWRzXG4gICAgICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gQmFzZVRleHR1cmVDYWNoZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhc2VUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciAtIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgRmxvYXQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBCdWZmZXJSZXNvdXJjZShidWZmZXIsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICAgICAgdmFyIHR5cGUgPSBidWZmZXIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyBUWVBFUy5GTE9BVCA6IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIHJldHVybiBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIE9iamVjdC5hc3NpZ24oZGVmYXVsdEJ1ZmZlck9wdGlvbnMsIG9wdGlvbnMgfHwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCB0eXBlOiB0eXBlIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQmFzZVRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkJhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFtcIiArIGlkICsgXCJdIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlVGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhc2VUZXh0dXJlICYmIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHbG9iYWwgbnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IDA7XG4gICAgcmV0dXJuIEJhc2VUZXh0dXJlO1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0aGF0IGNhbiBtYW5hZ2Ugc2V2ZXJhbCByZXNvdXJjZSAoaXRlbXMpIGluc2lkZS5cbiAqIEFsbCByZXNvdXJjZXMgbmVlZCB0byBoYXZlIHRoZSBzYW1lIHBpeGVsIHNpemUuXG4gKiBQYXJlbnQgY2xhc3MgZm9yIEN1YmVSZXNvdXJjZSBhbmQgQXJyYXlSZXNvdXJjZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFic3RyYWN0TXVsdGlSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RNdWx0aVJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byBmb3IgUmVzb3VyY2UgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdWx0aVJlc291cmNlKGxlbmd0aCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcGFydGlhbCBiYXNlVGV4dHVyZXMgdGhhdCBjb3JyZXNwb25kIHRvIHJlc291cmNlc1xuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJhc2VUZXh0dXJlPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgSURzIGZvciBlYWNoIHBhcnRcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pdGVtRGlydHlJZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnRUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBfdGhpcy5pdGVtcy5wdXNoKHBhcnRUZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIC0yIC0gZmlyc3QgcnVuIG9mIHRleHR1cmUgYXJyYXkgdXBsb2FkXG4gICAgICAgICAgICAvLyAtMSAtIHRleHR1cmUgaXRlbSB3YXMgYWxsb2NhdGVkXG4gICAgICAgICAgICAvLyA+PTAgLSB0ZXh0dXJlIGl0ZW0gdXBsb2FkZWQgLCBpbiBzeW5jIHdpdGggaXRlbXNbaV0uZGlydHlJZFxuICAgICAgICAgICAgX3RoaXMuaXRlbURpcnR5SWRzLnB1c2goLTIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZWxlbWVudHMgaW4gYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIGJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seSBiZSBvbmVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1c2VkIGZyb20gQXJyYXlSZXNvdXJjZSBhbmQgQ3ViZVJlc291cmNlIGNvbnN0cnVjdG9yc1xuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IHJlc291cmNlcyAtIENhbiBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy4gLFxuICAgICAqICBsZW5ndGggc2hvdWxkIGJlIHNhbWUgYXMgY29uc3RydWN0b3IgbGVuZ3RoXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIGRldGVjdCBvcHRpb25zIGZvciByZXNvdXJjZXNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5pbml0RnJvbUFycmF5ID0gZnVuY3Rpb24gKHJlc291cmNlcywgb3B0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VzW2ldKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCYXNlVGV4dHVyZUF0KHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSgpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlc1tpXSBpbnN0YW5jZW9mIFJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KHJlc291cmNlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlc1tpXSwgb3B0aW9ucyksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgQmFzZUltYWdlUmVzb3VyY2VcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIHJlc291cmNlIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkFycmF5UmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuYWRkUmVzb3VyY2VBdCA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgaW5kZXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLml0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dCBvZiBib3VuZHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5oZXJpdCB0aGUgZmlyc3QgcmVzb3VyY2UgZGltZW5zaW9uc1xuICAgICAgICBpZiAocmVzb3VyY2UudmFsaWQgJiYgIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKHJlc291cmNlLndpZHRoLCByZXNvdXJjZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBiYXNlIHRleHR1cmUgcGVyIFRleHR1cmVBcnJheSBpcyBhbGxvd2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ucGFyZW50VGV4dHVyZUFycmF5ID0gYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9uKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5zZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ucGFyZW50VGV4dHVyZUFycmF5ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub2ZmKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCBhbGwgdGhlIHJlc291cmNlcyBzaW11bHRhbmVvdXNseVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IFdoZW4gbG9hZCBpcyByZXNvbHZlZFxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvdXJjZXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5yZXNvdXJjZTsgfSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtOyB9KTtcbiAgICAgICAgLy8gVE9ETzogYWxzbyBpbXBsZW1lbnQgbG9hZCBwYXJ0LWJ5LXBhcnQgc3RyYXRlZ3lcbiAgICAgICAgdmFyIHByb21pc2VzID0gcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5sb2FkKCk7IH0pO1xuICAgICAgICB0aGlzLl9sb2FkID0gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5pdGVtc1swXSwgcmVhbFdpZHRoID0gX2EucmVhbFdpZHRoLCByZWFsSGVpZ2h0ID0gX2EucmVhbEhlaWdodDtcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZShyZWFsV2lkdGgsIHJlYWxIZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdE11bHRpUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbi8qKlxuICogQSByZXNvdXJjZSB0aGF0IGNvbnRhaW5zIGEgbnVtYmVyIG9mIHNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXJyYXlSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJyYXlSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnxBcnJheTwqPn0gc291cmNlIC0gTnVtYmVyIG9mIGl0ZW1zIGluIGFycmF5IG9yIHRoZSBjb2xsZWN0aW9uXG4gICAgICogICAgICAgIG9mIGltYWdlIFVSTHMgdG8gdXNlLiBDYW4gYWxzbyBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byBhcHBseSB0byB7QGxpbmsgUElYSS5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFycmF5UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdmFyIHVybHM7XG4gICAgICAgIHZhciBsZW5ndGg7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHVybHMgPSBzb3VyY2U7XG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGVuZ3RoLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSkgfHwgdGhpcztcbiAgICAgICAgaWYgKHVybHMpIHtcbiAgICAgICAgICAgIF90aGlzLmluaXRGcm9tQXJyYXkodXJscywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBiYXNlVGV4dHVyZSBieSBJRCxcbiAgICAgKiBBcnJheVJlc291cmNlIGp1c3QgdGFrZXMgcmVzb3VyY2UgZnJvbSBpdCwgbm90aGluZyBtb3JlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkFycmF5UmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmFkZEJhc2VUZXh0dXJlQXQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGluZGV4KSB7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5UmVzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBSZW5kZXJUZXh0dXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV8yRF9BUlJBWTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VzIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRleHR1cmUgd2FzIHVwbG9hZGVkXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgbGVuZ3RoID0gX2EubGVuZ3RoLCBpdGVtRGlydHlJZHMgPSBfYS5pdGVtRGlydHlJZHMsIGl0ZW1zID0gX2EuaXRlbXM7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTNEKGdsLlRFWFRVUkVfMkRfQVJSQVksIDAsIHRleHR1cmUuZm9ybWF0LCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCBsZW5ndGgsIDAsIHRleHR1cmUuZm9ybWF0LCB0ZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoaXRlbURpcnR5SWRzW2ldIDwgaXRlbS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgaXRlbURpcnR5SWRzW2ldID0gaXRlbS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLnRleFN1YkltYWdlM0QoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgMCwgMCwgLy8geG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAwLCAvLyB5b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIGksIC8vIHpvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS53aWR0aCwgaXRlbS5yZXNvdXJjZS5oZWlnaHQsIDEsIHRleHR1cmUuZm9ybWF0LCB0ZXh0dXJlLnR5cGUsIGl0ZW0ucmVzb3VyY2Uuc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gQXJyYXlSZXNvdXJjZTtcbn0oQWJzdHJhY3RNdWx0aVJlc291cmNlKSk7XG5cbi8qKlxuICogQmFzZSBmb3IgYWxsIHRoZSBpbWFnZS9jYW52YXMgcmVzb3VyY2VzXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlSW1hZ2VSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZUltYWdlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH0gc291cmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZUltYWdlUmVzb3VyY2Uoc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzb3VyY2VBbnkgPSBzb3VyY2U7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZUFueS5uYXR1cmFsV2lkdGggfHwgc291cmNlQW55LnZpZGVvV2lkdGggfHwgc291cmNlQW55LndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlQW55Lm5hdHVyYWxIZWlnaHQgfHwgc291cmNlQW55LnZpZGVvSGVpZ2h0IHx8IHNvdXJjZUFueS5oZWlnaHQ7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gYHRydWVgLCB3aWxsIGZvcmNlIGB0ZXhJbWFnZTJEYCBvdmVyIGB0ZXhTdWJJbWFnZTJEYCBmb3IgdXBsb2FkaW5nLlxuICAgICAgICAgKiBDZXJ0YWluIHR5cGVzIG9mIG1lZGlhIChlLmcuIHZpZGVvKSB1c2luZyBgdGV4SW1hZ2UyRGAgaXMgbW9yZSBwZXJmb3JtYW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubm9TdWJJbWFnZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBjcm9zcyBvcmlnaW4gYmFzZWQgZGV0ZWN0aW5nIHRoZSB1cmwgYW5kIHRoZSBjcm9zc29yaWdpblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSBjcm9zc09yaWdpblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbY3Jvc3NvcmlnaW49dHJ1ZV0gLSBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiAoZWxlbWVudCwgdXJsLCBjcm9zc29yaWdpbikge1xuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiB1cmwuaW5kZXhPZignZGF0YTonKSAhPT0gMCkge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IGRldGVybWluZUNyb3NzT3JpZ2luKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3Jvc3NvcmlnaW4gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IFtzb3VyY2VdIC0gKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciB3aWR0aCA9IGJhc2VUZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZSB8fCB0aGlzLnNvdXJjZTtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIGlmICghdGhpcy5ub1N1YkltYWdlXG4gICAgICAgICAgICAmJiBiYXNlVGV4dHVyZS50YXJnZXQgPT09IGdsLlRFWFRVUkVfMkRcbiAgICAgICAgICAgICYmIGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGhcbiAgICAgICAgICAgICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgc291cmNlIHdpZHRoL2hlaWdodCB3YXMgY2hhbmdlZCwgcmVzaXplIGNhbiBjYXVzZSBleHRyYSBiYXNlVGV4dHVyZSB1cGRhdGUuXG4gICAgICogVHJpZ2dlcnMgb25lIHVwZGF0ZSBpbiBhbnkgY2FzZS5cbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZS5uYXR1cmFsV2lkdGggfHwgc291cmNlLnZpZGVvV2lkdGggfHwgc291cmNlLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIE9mZnNjcmVlbkNhbnZhc1xuICovXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxDYW52YXNFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIENhbnZhcyBlbGVtZW50IHRvIHVzZVxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlbGVzcy1jb25zdHJ1Y3RvclxuICAgIGZ1bmN0aW9uIENhbnZhc1Jlc291cmNlKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8T2Zmc2NyZWVuQ2FudmFzfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgSFRNTENhbnZhc0VsZW1lbnQgb3IgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICovXG4gICAgQ2FudmFzUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdmFyIE9mZnNjcmVlbkNhbnZhcyA9IHNlbGYuT2Zmc2NyZWVuQ2FudmFzO1xuICAgICAgICAvLyBDaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCB5ZXQgc3VwcG9ydCBPZmZzY3JlZW5DYW52YXNcbiAgICAgICAgaWYgKE9mZnNjcmVlbkNhbnZhcyAmJiBzb3VyY2UgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLkhUTUxDYW52YXNFbGVtZW50ICYmIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBhIEN1YmVUZXh0dXJlIHdoaWNoIGNvbnRhaW5zIHNpeCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkFycmF5UmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDdWJlUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEN1YmVSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xQSVhJLlJlc291cmNlPn0gW3NvdXJjZV0gLSBDb2xsZWN0aW9uIG9mIFVSTHMgb3IgcmVzb3VyY2VzXG4gICAgICogICAgICAgIHRvIHVzZSBhcyB0aGUgc2lkZXMgb2YgdGhlIGN1YmUuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEltYWdlUmVzb3VyY2Ugb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gV2hldGhlciB0byBhdXRvLWxvYWQgcmVzb3VyY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmtCYXNlVGV4dHVyZT10cnVlXSAtIEluIGNhc2UgQmFzZVRleHR1cmVzIGFyZSBzdXBwbGllZCxcbiAgICAgKiAgIHdoZXRoZXIgdG8gY29weSB0aGVtIG9yIHVzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEN1YmVSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCBhdXRvTG9hZCA9IF9hLmF1dG9Mb2FkLCBsaW5rQmFzZVRleHR1cmUgPSBfYS5saW5rQmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmxlbmd0aCAhPT0gQ3ViZVJlc291cmNlLlNJREVTKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGxlbmd0aC4gR290IFwiICsgc291cmNlLmxlbmd0aCArIFwiLCBleHBlY3RlZCA2XCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgNiwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pIHx8IHRoaXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLml0ZW1zW2ldLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSW4gY2FzZSBCYXNlVGV4dHVyZXMgYXJlIHN1cHBsaWVkLCB3aGV0aGVyIHRvIHVzZSBzYW1lIHJlc291cmNlIG9yIGJpbmQgYmFzZVRleHR1cmUgaXRzZWxmXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpbmtCYXNlVGV4dHVyZSA9IGxpbmtCYXNlVGV4dHVyZSAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIF90aGlzLmluaXRGcm9tQXJyYXkoc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVA7XG4gICAgfTtcbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLmFkZEJhc2VUZXh0dXJlQXQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGluZGV4LCBsaW5rQmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKGxpbmtCYXNlVGV4dHVyZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsaW5rQmFzZVRleHR1cmUgPSB0aGlzLmxpbmtCYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubGlua0Jhc2VUZXh0dXJlXG4gICAgICAgICAgICB8fCBiYXNlVGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXlcbiAgICAgICAgICAgIHx8IE9iamVjdC5rZXlzKGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBjb3B5IG1vZGVcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3ViZVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgY29weWluZyBvZiByZW5kZXJUZXh0dXJlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxpbmsgbW9kZSwgdGhlIGRpZmZpY3VsdCBvbmUhXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGluZGV4O1xuICAgICAgICAgICAgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5ID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnZhbGlkICYmICF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShiYXNlVGV4dHVyZS5yZWFsV2lkdGgsIGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSByZXNvdXJjZVxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBfYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZGlydHkgPSB0aGlzLml0ZW1EaXJ0eUlkcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNpZGUgPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGRpcnR5W2ldIDwgc2lkZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNpZGUudmFsaWQgJiYgc2lkZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBzaWRlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgc2lkZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgZGlydHlbaV0gPSBzaWRlLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpcnR5W2ldIDwgLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWl0aGVyIGl0ZW0gaXMgbm90IHZhbGlkIHlldCwgZWl0aGVyIGl0cyBhIHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb2NhdGUgdGhlIG1lbW9yeVxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5nbC50ZXhJbWFnZTJEKHNpZGUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIF9iYXNlVGV4dHVyZS5yZWFsV2lkdGgsIF9iYXNlVGV4dHVyZS5yZWFsSGVpZ2h0LCAwLCBfYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIGFuIGFycmF5IG9mIDYgZWxlbWVudHNcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc291cmNlKSAmJiBzb3VyY2UubGVuZ3RoID09PSBDdWJlUmVzb3VyY2UuU0lERVM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgdGV4dHVyZSBzaWRlcyB0byBzdG9yZSBmb3IgQ3ViZVJlc291cmNlc1xuICAgICAqXG4gICAgICogQG5hbWUgUElYSS5DdWJlUmVzb3VyY2UuU0lERVNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDZcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UuU0lERVMgPSA2O1xuICAgIHJldHVybiBDdWJlUmVzb3VyY2U7XG59KEFic3RyYWN0TXVsdGlSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxJbWFnZUVsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbWFnZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxzdHJpbmd9IHNvdXJjZSAtIGltYWdlIHNvdXJjZSBvciBVUkxcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIHN0YXJ0IGxvYWRpbmcgcHJvY2Vzc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSB3aGV0aGVyIGl0cyByZXF1aXJlZCB0byBjcmVhdGVcbiAgICAgKiAgICAgICAgYSBiaXRtYXAgYmVmb3JlIHVwbG9hZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZW11bHRpcGx5IGltYWdlIGFscGhhIGluIGJpdG1hcFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEltYWdlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSkge1xuICAgICAgICAgICAgdmFyIGltYWdlRWxlbWVudCA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4oaW1hZ2VFbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuICAgICAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHNvdXJjZTtcbiAgICAgICAgICAgIHNvdXJjZSA9IGltYWdlRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNvdXJjZSkgfHwgdGhpcztcbiAgICAgICAgLy8gRmlyZUZveCA2OCwgYW5kIHBvc3NpYmx5IG90aGVyIHZlcnNpb25zLCBzZWVtcyBsaWtlIHNldHRpbmcgdGhlIEhUTUxJbWFnZUVsZW1lbnQjd2lkdGggYW5kICNoZWlnaHRcbiAgICAgICAgLy8gdG8gbm9uLXplcm8gdmFsdWVzIGJlZm9yZSBpdHMgbG9hZGluZyBjb21wbGV0ZXMgaWYgaW1hZ2VzIGFyZSBpbiBhIGNhY2hlLlxuICAgICAgICAvLyBCZWNhdXNlIG9mIHRoaXMsIG5lZWQgdG8gc2V0IHRoZSBgX3dpZHRoYCBhbmQgdGhlIGBfaGVpZ2h0YCB0byB6ZXJvIHRvIGF2b2lkIHVwbG9hZGluZyBpbmNvbXBsZXRlIGltYWdlcy5cbiAgICAgICAgLy8gUGxlYXNlIHJlZmVyIHRvIHRoZSBpc3N1ZSAjNTk2OCAoaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81OTY4KS5cbiAgICAgICAgaWYgKCFzb3VyY2UuY29tcGxldGUgJiYgISFfdGhpcy5fd2lkdGggJiYgISFfdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVSTCBvZiB0aGUgaW1hZ2Ugc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVybCA9IHNvdXJjZS5zcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHByb2Nlc3MgaXMgY29tcGxldGVkXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGRpc3Bvc2VkIGFmdGVyIHVwbG9hZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJlc2VydmVCaXRtYXAgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGNhcGFibGUsIGNvbnZlcnQgdGhlIGltYWdlIHVzaW5nIGNyZWF0ZUltYWdlQml0bWFwIEFQSVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNyZWF0ZUJpdG1hcCA9IChvcHRpb25zLmNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY3JlYXRlQml0bWFwIDogc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUCkgJiYgISFzZWxmLmNyZWF0ZUltYWdlQml0bWFwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgdGV4dHVyZSBhbHBoYU1vZGUgZmllbGRcbiAgICAgICAgICogQ29waWVzIGZyb20gb3B0aW9uc1xuICAgICAgICAgKiBEZWZhdWx0IGlzIGBudWxsYCwgY29waWVzIG9wdGlvbiBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQUxQSEFfTU9ERVN8bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1vZGUgPSB0eXBlb2Ygb3B0aW9ucy5hbHBoYU1vZGUgPT09ICdudW1iZXInID8gb3B0aW9ucy5hbHBoYU1vZGUgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEltYWdlQml0bWFwIGVsZW1lbnQgY3JlYXRlZCBmb3IgSFRNTEltYWdlRWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtJbWFnZUJpdG1hcH1cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgcHJvbWlzZSB3aGVuIGltYWdlIHdpbGwgYmUgbG9hZGVkIGFuZCBwcm9jZXNzZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NyZWF0ZUJpdG1hcF0gLSB3aGV0aGVyIHByb2Nlc3MgaW1hZ2UgaW50byBiaXRtYXBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKGNyZWF0ZUJpdG1hcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IGNyZWF0ZUJpdG1hcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IF90aGlzLnNvdXJjZTtcbiAgICAgICAgICAgIF90aGlzLnVybCA9IHNvdXJjZS5zcmM7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jcmVhdGVCaXRtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5wcm9jZXNzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuY29tcGxldGUgJiYgc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZHMgUHJvbWlzZSBmcmVlemluZyB3aGVuIHJlc291cmNlIGJyb2tlblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IGNhY2hlZCBwcm9taXNlIHRvIGZpbGwgdGhhdCBiaXRtYXBcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmICh0aGlzLl9wcm9jZXNzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iaXRtYXAgIT09IG51bGwgfHwgIXNlbGYuY3JlYXRlSW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IHNlbGYuY3JlYXRlSW1hZ2VCaXRtYXAoc291cmNlLCAwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsIHtcbiAgICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0sgPyAncHJlbXVsdGlwbHknIDogJ25vbmUnLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJpdG1hcCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSBpbWFnZSByZXNvdXJjZSB0byBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gdXBsb2FkIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEJhc2VUZXh0dXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gR0xUZXh0dXJlIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmFscGhhTW9kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIGJpdG1hcCBzdG9yZXMgdW5wYWNrIHByZW11bHRpcGx5IGZsYWcsIHdlIGRvbnQgaGF2ZSB0byBub3RpZnkgdGV4SW1hZ2UyRCBhYm91dCBpdFxuICAgICAgICAgICAgYmFzZVRleHR1cmUuYWxwaGFNb2RlID0gdGhpcy5hbHBoYU1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZUJpdG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgIC8vIHllYWgsIGlnbm9yZSB0aGUgb3V0cHV0XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGxvYWQuY2FsbCh0aGlzLCByZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgdGhpcy5iaXRtYXApO1xuICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVCaXRtYXApIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB0aGVyZSBhcmUgb3RoZXIgcmVuZGVyZXJzIHRoYXQgcG9zc2libHkgbmVlZCB0aGlzIGJpdG1hcFxuICAgICAgICAgICAgdmFyIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGdsVGV4dHVyZXMgPSBiYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcztcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBnbFRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyVGV4ID0gZ2xUZXh0dXJlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclRleCAhPT0gZ2xUZXh0dXJlICYmIG90aGVyVGV4LmRpcnR5SWQgIT09IGJhc2VUZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmxhZykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJpdG1hcC5jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCkge1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBzdHJpbmcgb3IgSFRNTEltYWdlRWxlbWVudFxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnIHx8IHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBTVkcgZWxlbWVudHMgYW5kIGdyYXBoaWNzLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU1ZHUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNWR1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgLSBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZT0xXSAtIFNjYWxlIHRvIGFwcGx5IHRvIFNWRy4gT3ZlcnJpZGRlbiBieS4uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBSYXN0ZXJpemUgU1ZHIHRoaXMgd2lkZS4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiBoZWlnaHQgbm90IHNwZWNpZmllZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIFJhc3Rlcml6ZSBTVkcgdGhpcyBoaWdoLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIHdpZHRoIG5vdCBzcGVjaWZpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgcmlnaHQgYXdheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTVkdSZXNvdXJjZShzb3VyY2VCYXNlNjQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3ZnID0gc291cmNlQmFzZTY0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBzY2FsZSB0byBhcHBseSB3aGVuIHJhc3Rlcml6aW5nIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB3aWR0aCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3ZlcnJpZGVXaWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGhlaWdodCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgd2hlbiBjb21wbGV0ZWx5IGxvYWRlZFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY3Jvc3NvcmlnaW4gPSBvcHRpb25zLmNyb3Nzb3JpZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgdW50aWwgYWZ0ZXIgbG9hZCBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLnNvdXJjZS53aWR0aCwgX3RoaXMuc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ29udmVydCBTVkcgaW5saW5lIHN0cmluZyB0byBkYXRhLXVyaVxuICAgICAgICAgICAgaWYgKCgvXlxcPHN2Zy8pLnRlc3QoX3RoaXMuc3ZnLnRyaW0oKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJ0b2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChfdGhpcy5zdmcpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fbG9hZFN2ZygpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBTVkcgaW1hZ2UgZnJvbSBgaW1hZ2VVcmxgIG9yIGBkYXRhIFVSTGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5fbG9hZFN2ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRlbXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih0ZW1wSW1hZ2UsIHRoaXMuc3ZnLCB0aGlzLl9jcm9zc29yaWdpbik7XG4gICAgICAgIHRlbXBJbWFnZS5zcmMgPSB0aGlzLnN2ZztcbiAgICAgICAgdGVtcEltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0ZW1wSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdmdXaWR0aCA9IHRlbXBJbWFnZS53aWR0aDtcbiAgICAgICAgICAgIHZhciBzdmdIZWlnaHQgPSB0ZW1wSW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCByZW5kZXIgc2l6ZVxuICAgICAgICAgICAgdmFyIHdpZHRoID0gc3ZnV2lkdGggKiBfdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzdmdIZWlnaHQgKiBfdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fb3ZlcnJpZGVXaWR0aCB8fCBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IF90aGlzLl9vdmVycmlkZVdpZHRoIHx8IF90aGlzLl9vdmVycmlkZUhlaWdodCAvIHN2Z0hlaWdodCAqIHN2Z1dpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IF90aGlzLl9vdmVycmlkZUhlaWdodCB8fCBfdGhpcy5fb3ZlcnJpZGVXaWR0aCAvIHN2Z1dpZHRoICogc3ZnSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMuc291cmNlO1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY2FudmFzLl9waXhpSWQgPSBcImNhbnZhc19cIiArIHVpZCgpO1xuICAgICAgICAgICAgLy8gRHJhdyB0aGUgU3ZnIHRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgICAgIC5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgLmRyYXdJbWFnZSh0ZW1wSW1hZ2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUoKTtcbiAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuSVNpemV9IGltYWdlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLmdldFNpemUgPSBmdW5jdGlvbiAoc3ZnU3RyaW5nKSB7XG4gICAgICAgIHZhciBzaXplTWF0Y2ggPSBTVkdSZXNvdXJjZS5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgICAgIHZhciBzaXplID0ge307XG4gICAgICAgIGlmIChzaXplTWF0Y2gpIHtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UsIGV4dGVuc2lvbikge1xuICAgICAgICAvLyB1cmwgZmlsZSBleHRlbnNpb24gaXMgU1ZHXG4gICAgICAgIHJldHVybiBleHRlbnNpb24gPT09ICdzdmcnXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGRhdGEtdXJpXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgKC9eZGF0YTppbWFnZVxcL3N2Z1xcK3htbCg7KGNoYXJzZXQ9dXRmOHx1dGY4KSk/O2Jhc2U2NC8pLnRlc3Qoc291cmNlKSlcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgaW5saW5lXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJzxzdmcnKSA9PT0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdFeHAgZm9yIFNWRyBzaXplLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5TVkdSZXNvdXJjZVxuICAgICAqIEBleGFtcGxlICZsdDtzdmcgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiZndDsmbHQ7L3N2ZyZndDtcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG4gICAgcmV0dXJuIFNWR1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBWaWRlb1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWaWRlb1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudHxvYmplY3R8c3RyaW5nfEFycmF5PHN0cmluZ3xvYmplY3Q+fSBzb3VyY2UgLSBWaWRlbyBlbGVtZW50IHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyB0aGUgdmlkZW8gaW1tZWRpYXRlbHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QbGF5PXRydWVdIC0gU3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51cGRhdGVGUFM9MF0gLSBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uXG4gICAgICogTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZGVvUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSkge1xuICAgICAgICAgICAgdmFyIHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5OTZcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCAnYXV0bycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmaXJzdFNyYyA9IHNvdXJjZVswXS5zcmMgfHwgc291cmNlWzBdO1xuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odmlkZW9FbGVtZW50LCBmaXJzdFNyYywgb3B0aW9ucy5jcm9zc29yaWdpbik7XG4gICAgICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBzb3VyY2VbaV0sIHNyYyA9IF9hLnNyYywgbWltZSA9IF9hLm1pbWU7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVNyYyA9IHNyYy5zcGxpdCgnPycpLnNoaWZ0KCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0ID0gYmFzZVNyYy5zdWJzdHIoYmFzZVNyYy5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgICAgICAgICAgICAgbWltZSA9IG1pbWUgfHwgVmlkZW9SZXNvdXJjZS5NSU1FX1RZUEVTW2V4dF0gfHwgXCJ2aWRlby9cIiArIGV4dDtcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnR5cGUgPSBtaW1lO1xuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5hcHBlbmRDaGlsZChzb3VyY2VFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBzb3VyY2VcbiAgICAgICAgICAgIHNvdXJjZSA9IHZpZGVvRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNvdXJjZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm9TdWJJbWFnZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSB0aGUgYmFzZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBpbnN0YW5jZSBpcyBjdXJyZW50bHkgY29ubmVjdGVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSB0aGUgYmFzZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl91cGRhdGVGUFMgPSBvcHRpb25zLnVwZGF0ZUZQUyB8fCAwO1xuICAgICAgICBfdGhpcy5fbXNUb05leHRVcGRhdGUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBzZXQgdG8gdHJ1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgcGxheSB2aWRlb3MgdXNlZCBieSB0aGlzIHRleHR1cmUgb25jZVxuICAgICAgICAgKiB0aGV5IGFyZSBsb2FkZWQuIElmIGZhbHNlLCBpdCB3aWxsIG5vdCBtb2RpZnkgdGhlIHBsYXlpbmcgc3RhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QbGF5ID0gb3B0aW9ucy5hdXRvUGxheSAhPT0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIGNvbXBsZXRlZCB3aXRoIGxvYWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICAvLyBCaW5kIGZvciBsaXN0ZW5lcnNcbiAgICAgICAgX3RoaXMuX29uQ2FuUGxheSA9IF90aGlzLl9vbkNhblBsYXkuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9vbkVycm9yID0gX3RoaXMuX29uRXJyb3IuYmluZChfdGhpcyk7XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB1cGRhdGluZyBvZiB0aGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YVRpbWU9MF0gLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChfZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIGlmIHZpZGVvIGhhcyBoYWQgaXRzIHBsYXliYWNrUmF0ZSBjaGFuZ2VkXG4gICAgICAgICAgICB2YXIgZWxhcHNlZE1TID0gVGlja2VyLnNoYXJlZC5lbGFwc2VkTVMgKiB0aGlzLnNvdXJjZS5wbGF5YmFja1JhdGU7XG4gICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IE1hdGguZmxvb3IodGhpcy5fbXNUb05leHRVcGRhdGUgLSBlbGFwc2VkTVMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl91cGRhdGVGUFMgfHwgdGhpcy5fbXNUb05leHRVcGRhdGUgPD0gMCkge1xuICAgICAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSB0aGlzLl91cGRhdGVGUFMgPyBNYXRoLmZsb29yKDEwMDAgLyB0aGlzLl91cGRhdGVGUFMpIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgcHJlbG9hZGluZyB0aGUgdmlkZW8gcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSlcbiAgICAgICAgICAgICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICBzb3VyY2UuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5fb25QbGF5U3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMuX29uUGxheVN0b3AuYmluZCh0aGlzKSk7XG4gICAgICAgIGlmICghdGhpcy5faXNTb3VyY2VSZWFkeSgpKSB7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB2aWRlbyBlcnJvciBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nLlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVBsYXlpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UuY3VycmVudFRpbWUgPiAwICYmIHNvdXJjZS5wYXVzZWQgPT09IGZhbHNlICYmIHNvdXJjZS5lbmRlZCA9PT0gZmFsc2UgJiYgc291cmNlLnJlYWR5U3RhdGUgPiAyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVhZHkuXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5yZWFkeVN0YXRlID09PSAzIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSA0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25QbGF5U3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEp1c3QgaW4gY2FzZSB0aGUgdmlkZW8gaGFzIG5vdCByZWNlaXZlZCBpdHMgY2FuIHBsYXkgZXZlbiB5ZXQuLlxuICAgICAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcGF1c2UgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdG9wcyB0aGUgdXBkYXRlIGxvb3BcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGlzIGxvYWRlZCBhbmQgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25DYW5QbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgdmFyIHZhbGlkID0gdGhpcy52YWxpZDtcbiAgICAgICAgdGhpcy5yZXNpemUoc291cmNlLnZpZGVvV2lkdGgsIHNvdXJjZS52aWRlb0hlaWdodCk7XG4gICAgICAgIC8vIHByZXZlbnQgbXVsdGlwbGUgbG9hZGVkIGRpc3BhdGNoZXMuLlxuICAgICAgICBpZiAoIXZhbGlkICYmIHRoaXMuX3Jlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvUGxheSkge1xuICAgICAgICAgICAgc291cmNlLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICAgICAgc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICBzb3VyY2Uuc3JjID0gJyc7XG4gICAgICAgICAgICBzb3VyY2UubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLCBcImF1dG9VcGRhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIHRoZSBiYXNlIHRleHR1cmUgYXV0b21hdGljYWxseSB1cGRhdGUgaXRzZWxmLCBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyICYmIHRoaXMuX2lzU291cmNlUGxheWluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLCBcInVwZGF0ZUZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAgICAgICAgICogQSBsb3dlciBmcHMgY2FuIGhlbHAgcGVyZm9ybWFuY2UsIGFzIHVwZGF0aW5nIHRoZSB0ZXh0dXJlIGF0IDYwZnBzIG9uIGEgMzBwcyB2aWRlbyBtYXkgbm90IGJlIGVmZmljaWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlRlBTO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl91cGRhdGVGUFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVGUFMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZpZGVvIHNvdXJjZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UsIGV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm4gKHNlbGYuSFRNTFZpZGVvRWxlbWVudCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgfHwgVmlkZW9SZXNvdXJjZS5UWVBFUy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgY29tbW9uIHZpZGVvIGZpbGUgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgVmlkZW9SZXNvdXJjZS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLlRZUEVTID0gWydtcDQnLCAnbTR2JywgJ3dlYm0nLCAnb2dnJywgJ29ndicsICdoMjY0JywgJ2F2aScsICdtb3YnXTtcbiAgICAvKipcbiAgICAgKiBNYXAgb2YgdmlkZW8gTUlNRSB0eXBlcyB0aGF0IGNhbid0IGJlIGRpcmVjdGx5IGRlcml2ZWQgZnJvbSBmaWxlIGV4dGVuc2lvbnMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLk1JTUVfVFlQRVMgPSB7XG4gICAgICAgIG9ndjogJ3ZpZGVvL29nZycsXG4gICAgICAgIG1vdjogJ3ZpZGVvL3F1aWNrdGltZScsXG4gICAgICAgIG00djogJ3ZpZGVvL21wNCcsXG4gICAgfTtcbiAgICByZXR1cm4gVmlkZW9SZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBJbWFnZUJpdG1hcC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEltYWdlQml0bWFwUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlQml0bWFwUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtJbWFnZUJpdG1hcH0gc291cmNlIC0gSW1hZ2UgZWxlbWVudCB0byB1c2VcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZWxlc3MtY29uc3RydWN0b3JcbiAgICBmdW5jdGlvbiBJbWFnZUJpdG1hcFJlc291cmNlKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBJbWFnZUJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICEhc2VsZi5jcmVhdGVJbWFnZUJpdG1hcCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcDtcbiAgICB9O1xuICAgIHJldHVybiBJbWFnZUJpdG1hcFJlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG5JTlNUQUxMRUQucHVzaChJbWFnZVJlc291cmNlLCBJbWFnZUJpdG1hcFJlc291cmNlLCBDYW52YXNSZXNvdXJjZSwgVmlkZW9SZXNvdXJjZSwgU1ZHUmVzb3VyY2UsIEJ1ZmZlclJlc291cmNlLCBDdWJlUmVzb3VyY2UsIEFycmF5UmVzb3VyY2UpO1xuXG52YXIgX3Jlc291cmNlcyA9IHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgUmVzb3VyY2U6IFJlc291cmNlLFxuICAgIEJhc2VJbWFnZVJlc291cmNlOiBCYXNlSW1hZ2VSZXNvdXJjZSxcbiAgICBJTlNUQUxMRUQ6IElOU1RBTExFRCxcbiAgICBhdXRvRGV0ZWN0UmVzb3VyY2U6IGF1dG9EZXRlY3RSZXNvdXJjZSxcbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2U6IEFic3RyYWN0TXVsdGlSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlOiBBcnJheVJlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlOiBCdWZmZXJSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZTogQ2FudmFzUmVzb3VyY2UsXG4gICAgQ3ViZVJlc291cmNlOiBDdWJlUmVzb3VyY2UsXG4gICAgSW1hZ2VSZXNvdXJjZTogSW1hZ2VSZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZTogU1ZHUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZTogVmlkZW9SZXNvdXJjZSxcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlOiBJbWFnZUJpdG1hcFJlc291cmNlXG59O1xuXG4vKipcbiAqIFN5c3RlbSBpcyBhIGJhc2UgY2xhc3MgdXNlZCBmb3IgZXh0ZW5kaW5nIHN5c3RlbXMgdXNlZCBieSB0aGUge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gKlxuICogQHNlZSBQSVhJLlJlbmRlcmVyI2FkZFN5c3RlbVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKi9cbiAgICBTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFN5c3RlbTtcbn0oKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgRGVwdGhUZXh0dXJlLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJ1ZmZlclJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRGVwdGhSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGVwdGhSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZXB0aFJlc291cmNlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBEZXB0aFJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgICAgICB2YXIgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSB3aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgXG4gICAgICAgICAgICAvLyAgZ2wuREVQVEhfQ09NUE9ORU5UMTYgTmVlZGVkIGZvciBkZXB0aCB0byByZW5kZXIgcHJvcGVybHkgaW4gd2ViZ2wyLjBcbiAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxID8gZ2wuREVQVEhfQ09NUE9ORU5UIDogZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHdpZHRoLCBoZWlnaHQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBEZXB0aFJlc291cmNlO1xufShCdWZmZXJSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEEgZnJhbWVidWZmZXIgY2FuIGJlIHVzZWQgdG8gcmVuZGVyIGNvbnRlbnRzIG9mZiBvZiB0aGUgc2NyZWVuLiB7QGxpbmsgUElYSS5CYXNlUmVuZGVyVGV4dHVyZX0gdXNlc1xuICogb25lIGludGVybmFsbHkgdG8gcmVuZGVyIGludG8gaXRzZWxmLiBZb3UgY2FuIGF0dGFjaCBhIGRlcHRoIG9yIHN0ZW5jaWwgYnVmZmVyIHRvIGEgZnJhbWVidWZmZXIuXG4gKlxuICogT24gV2ViR0wgMiBtYWNoaW5lcywgc2hhZGVycyBjYW4gb3V0cHV0IHRvIG11bHRpcGxlIHRleHR1cmVzIHNpbXVsdGFuZW91c2x5IHdpdGggR0xTTCAzMDAgRVMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRnJhbWVidWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZyYW1lYnVmZmVyKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpZHRoIG9mIGZyYW1lYnVmZmVyIGluIHBpeGVsc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoIHx8IDEwMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgZnJhbWVidWZmZXIgaW4gcGl4ZWxzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCB8fCAxMDApO1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmdsRnJhbWVidWZmZXJzID0ge307XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VGcmFtZWJ1ZmZlcicpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzaXJlZCBudW1iZXIgb2Ygc2FtcGxlcyBmb3IgYW50aWFsaWFzaW5nLiAwIG1lYW5zIEFBIHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogRXhwZXJpbWVudGFsIFdlYkdMMiBmZWF0dXJlLCBhbGxvd3MgdG8gdXNlIGFudGlhbGlhc2luZyBpbiBpbmRpdmlkdWFsIHJlbmRlclRleHR1cmVzLlxuICAgICAgICAgKiBBbnRpYWxpYXNpbmcgaXMgdGhlIHNhbWUgYXMgZm9yIG1haW4gYnVmZmVyIHdpdGggcmVuZGVyZXIgYGFudGlhbGlhczp0cnVlYCBvcHRpb25zLlxuICAgICAgICAgKiBTZXJpb3VzbHkgYWZmZWN0cyBHUFUgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBHUFUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqYGBganNcbiAgICAgICAgICogcmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA9IFBJWEkuTVNBQV9RVUFMSVRZLkhJR0g7XG4gICAgICAgICAqIC8vLi4uXG4gICAgICAgICAqIHJlbmRlcmVyLnJlbmRlcihteUNvbnRhaW5lciwge3JlbmRlclRleHR1cmV9KTtcbiAgICAgICAgICogcmVuZGVyZXIuZnJhbWVidWZmZXIuYmxpdCgpOyAvLyBjb3BpZXMgZGF0YSBmcm9tIE1TQUEgZnJhbWVidWZmZXIgdG8gdGV4dHVyZVxuICAgICAgICAgKiAgYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTVNBQV9RVUFMSVRZfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLk1TQUFfUVVBTElUWS5OT05FXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFtZWJ1ZmZlci5wcm90b3R5cGUsIFwiY29sb3JUZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29sb3JUZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkIHRleHR1cmUgdG8gdGhlIGNvbG9yVGV4dHVyZSBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0wXSAtIEluZGV4IG9mIHRoZSBhcnJheSB0byBhZGQgdGhlIHRleHR1cmUgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBhcnJheVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGRDb2xvclRleHR1cmUgPSBmdW5jdGlvbiAoaW5kZXgsIHRleHR1cmUpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XG4gICAgICAgIC8vIFRPRE8gYWRkIHNvbWUgdmFsaWRhdGlvbiB0byB0aGUgdGV4dHVyZSAtIHNhbWUgd2lkdGggLyBoZWlnaHQgZXRjP1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXNbaW5kZXhdID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobnVsbCwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgZGVwdGggdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmFkZERlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShuZXcgRGVwdGhSZXNvdXJjZShudWxsLCB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLFxuICAgICAgICAgICAgZm9ybWF0OiBGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVCxcbiAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmFibGUgZGVwdGggb24gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVEZXB0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXB0aCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHN0ZW5jaWwgb24gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVTdGVuY2lsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUrKztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICAvLyB0YWtlIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGUgdGV4dHVyZSBtYXkgaGF2ZSBhIGRpZmZlcmVudCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmRlcHRoVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYW5kIHJlbW92ZXMgdGhlIGRlcHRoIHRleHR1cmUgYWRkZWQgdG8gdGhpcyBmcmFtZWJ1ZmZlci5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveURlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICArK3RoaXMuZGlydHlJZDtcbiAgICAgICAgICAgICsrdGhpcy5kaXJ0eUZvcm1hdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZyYW1lYnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHtyZW5kZXJUZXh0dXJlfSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwge3JlbmRlclRleHR1cmV9KTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VSZW5kZXJUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlUmVuZGVyVGV4dHVyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtvcHRpb25zLnNjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfVxuICAgICAqICAgZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLlJFU09MVVRJT05dIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW9cbiAgICAgKiAgIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBvZiBzaWduYXR1cmVcbiAgICAgICAgICAgIHZhciB3aWR0aF8xID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlaWdodF8xID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoXzEsIGhlaWdodDogaGVpZ2h0XzEsIHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbnVsbCwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgX3RoaXMubWlwbWFwID0gTUlQTUFQX01PREVTLk9GRjtcbiAgICAgICAgX3RoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGgpIHx8IDEwMDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCkgfHwgMTAwO1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIF90aGlzLmZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKF90aGlzLndpZHRoICogX3RoaXMucmVzb2x1dGlvbiwgX3RoaXMuaGVpZ2h0ICogX3RoaXMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIC5hZGRDb2xvclRleHR1cmUoMCwgX3RoaXMpO1xuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIHN0ZW5jaWwgbWFza3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgQmFzZVJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBhbmQgZnJhbWVidWZmZXIgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGVzdHJveURlcHRoVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oQmFzZVRleHR1cmUpKTtcblxuLyoqXG4gKiBTdG9yZXMgYSB0ZXh0dXJlJ3MgZnJhbWUgaW4gVVYgY29vcmRpbmF0ZXMsIGluXG4gKiB3aGljaCBldmVyeXRoaW5nIGxpZXMgaW4gdGhlIHJlY3RhbmdsZSBgWygwLDApLCAoMSwwKSxcbiAqICgxLDEpLCAoMCwxKV1gLlxuICpcbiAqIHwgQ29ybmVyICAgICAgIHwgQ29vcmRpbmF0ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18XG4gKiB8IFRvcC1MZWZ0ICAgICB8IGAoeDAseTApYCAgIHxcbiAqIHwgVG9wLVJpZ2h0ICAgIHwgYCh4MSx5MSlgICAgfFxuICogfCBCb3R0b20tUmlnaHQgfCBgKHgyLHkyKWAgICB8XG4gKiB8IEJvdHRvbS1MZWZ0ICB8IGAoeDMseTMpYCAgIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlVXZzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVVdnMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngwID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTAgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTEgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDIgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTIgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLWxlZnQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MyA9IDE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKi9cbiAgICBUZXh0dXJlVXZzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKSB7XG4gICAgICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHRoID0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgICAgICB2YXIgY1ggPSAoZnJhbWUueCAvIHR3KSArIHcyO1xuICAgICAgICAgICAgdmFyIGNZID0gKGZyYW1lLnkgLyB0aCkgKyBoMjtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgZ3JvdXBEOC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTAgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDIgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkzID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzJdID0gdGhpcy54MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzVdID0gdGhpcy55MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55MztcbiAgICB9O1xuICAgIFRleHR1cmVVdnMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvY29yZTpUZXh0dXJlVXZzIFwiXG4gICAgICAgICAgICArIChcIngwPVwiICsgdGhpcy54MCArIFwiIHkwPVwiICsgdGhpcy55MCArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJ4MT1cIiArIHRoaXMueDEgKyBcIiB5MT1cIiArIHRoaXMueTEgKyBcIiB4Mj1cIiArIHRoaXMueDIgKyBcIiBcIilcbiAgICAgICAgICAgICsgKFwieTI9XCIgKyB0aGlzLnkyICsgXCIgeDM9XCIgKyB0aGlzLngzICsgXCIgeTM9XCIgKyB0aGlzLnkzKVxuICAgICAgICAgICAgKyBcIl1cIjtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlVXZzO1xufSgpKTtcblxudmFyIERFRkFVTFRfVVZTID0gbmV3IFRleHR1cmVVdnMoKTtcbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuXG4gKlxuICogSXQgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHk7IGluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS5cbiAqIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkIGZvciBhIHRleHR1cmUsIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIElmIHlvdSBkaWRudCBwYXNzIHRoZSB0ZXh0dXJlIGZyYW1lIHRvIGNvbnN0cnVjdG9yLCBpdCBlbmFibGVzIGBub0ZyYW1lYCBtb2RlOlxuICogaXQgc3Vic2NyaWJlcyBvbiBiYXNlVGV4dHVyZSBldmVudHMsIGl0IGF1dG9tYXRpY2FsbHkgcmVzaXplcyBhdCB0aGUgc2FtZSB0aW1lIGFzIGJhc2VUZXh0dXJlLlxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZVBhcmFtIFIgLSBUaGUgQmFzZVRleHR1cmUncyBSZXNvdXJjZSB0eXBlLlxuICovXG52YXIgVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dHVyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBzb3VyY2UgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW29yaWddIC0gVGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFt0cmltXSAtIFRyaW1tZWQgcmVjdGFuZ2xlIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0ZV0gLSBpbmRpY2F0ZXMgaG93IHRoZSB0ZXh0dXJlIHdhcyByb3RhdGVkIGJ5IHRleHR1cmUgcGFja2VyLiBTZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gW2FuY2hvcl0gLSBEZWZhdWx0IGFuY2hvciBwb2ludCB1c2VkIGZvciBzcHJpdGUgcGxhY2VtZW50IC8gcm90YXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlKGJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgcm90YXRlLCBhbmNob3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhpcyBUZXh0dXJlIGhhdmUgYW55IGZyYW1lIGRhdGEgYXNzaWduZWQgdG8gaXQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbW9kZSBpcyBlbmFibGVkIGF1dG9tYXRpY2FsbHkgaWYgbm8gZnJhbWUgd2FzIHBhc3NlZCBpbnNpZGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIHRoaXMgbW9kZSB0ZXh0dXJlIGlzIHN1YnNjcmliZWQgdG8gYmFzZVRleHR1cmUgZXZlbnRzLCBhbmQgZmlyZXMgYHVwZGF0ZWAgb24gYW55IGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQmV3YXJlLCBhZnRlciBsb2FkaW5nIG9yIHJlc2l6ZSBvZiBiYXNlVGV4dHVyZSBldmVudCBjYW4gZmlyZWQgdHdvIHRpbWVzIVxuICAgICAgICAgKiBJZiB5b3Ugd2FudCBtb3JlIGNvbnRyb2wsIHN1YnNjcmliZSBvbiBiYXNlVGV4dHVyZSBpdHNlbGYuXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIHRleHR1cmUub24oJ3VwZGF0ZScsICgpID0+IHt9KTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEFueSBhc3NpZ25tZW50IG9mIGBmcmFtZWAgc3dpdGNoZXMgb2ZmIGBub0ZyYW1lYCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubm9GcmFtZSA9IGZhbHNlO1xuICAgICAgICBpZiAoIWZyYW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiB0aGUgQmFzZVRleHR1cmUgaW1hZ2UgdG8gYWN0dWFsbHkgY29weSB0byB0aGUgQ2FudmFzIC8gV2ViR0wgd2hlbiByZW5kZXJpbmcsXG4gICAgICAgICAqIGlycmVzcGVjdGl2ZSBvZiB0aGUgYWN0dWFsIGZyYW1lIHNpemUgb3IgcGxhY2VtZW50ICh3aGljaCBjYW4gYmUgaW5mbHVlbmNlZCBieSB0cmltbWVkIHRleHR1cmUgYXRsYXNlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRyaW1tZWQgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYHRyaW1gIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyaW0gPSB0cmltO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuIENhbiBiZSB1c2VkIGFzIHF1YWQgVVZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXZzID0gREVGQVVMVF9VVlM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFRleHR1cmVNYXRyaXggaW5zdGFuY2UgZm9yIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKiBCeSBkZWZhdWx0IHRoYXQgb2JqZWN0IGlzIG5vdCBjcmVhdGVkIGJlY2F1c2UgaXRzIGhlYXZ5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTsgLy8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgX3RoaXMuX3JvdGF0ZSA9IE51bWJlcihyb3RhdGUgfHwgMCk7XG4gICAgICAgIGlmIChyb3RhdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2xkIHRleHR1cmVwYWNrZXIgbGVnYWN5LCBzb21lIGdhbWVzL2xpYnJhcmllcyBhcmUgcGFzc2luZyBcInRydWVcIiBmb3Igcm90YXRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgX3RoaXMuX3JvdGF0ZSA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3RoaXMuX3JvdGF0ZSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXR0ZW1wdCB0byB1c2UgZGlhbW9uZC1zaGFwZWQgVVZzLiBJZiB5b3UgYXJlIHN1cmUsIHNldCByb3RhdGlvbiBtYW51YWxseScpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmNob3IgcG9pbnQgdGhhdCBpcyB1c2VkIGFzIGRlZmF1bHQgaWYgc3ByaXRlIGlzIGNyZWF0ZWQgd2l0aCB0aGlzIHRleHR1cmUuXG4gICAgICAgICAqIENoYW5naW5nIHRoZSBgZGVmYXVsdEFuY2hvcmAgYXQgYSBsYXRlciBwb2ludCBvZiB0aW1lIHdpbGwgbm90IHVwZGF0ZSBTcHJpdGUncyBhbmNob3IgcG9pbnQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqIEBkZWZhdWx0IHswLDB9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0QW5jaG9yID0gYW5jaG9yID8gbmV3IFBvaW50KGFuY2hvci54LCBhbmNob3IueSkgOiBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgSUQgaXMgb2JzZXJ2ZWQgYnkgc3ByaXRlcyBhbmQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZXMuXG4gICAgICAgICAqIENhbGwgdXBkYXRlVXZzKCkgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWRzIHVuZGVyIHdoaWNoIHRoaXMgVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgdGV4dHVyZSBjYWNoZS4gVGhpcyBpc1xuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IHNldCBhcyBsb25nIGFzIFRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBUZXh0dXJlIGlzIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBUZXh0dXJlQ2FjaGUgYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG4gICAgICAgIGlmICghYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uY2UoJ2xvYWRlZCcsIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCBfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3RoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJhbWUgd2Ugc2hvdWxkIG1vbml0b3IgZm9yIGFueSBiYXNlIHRleHR1cmUgY2hhbmdlcy4uXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbigndXBkYXRlJywgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhpcyB0ZXh0dXJlIG9uIHRoZSBncHUuXG4gICAgICpcbiAgICAgKiBDYWxscyB0aGUgVGV4dHVyZVJlc291cmNlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBhZGp1c3RlZCBgZnJhbWVgIG1hbnVhbGx5LCBwbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGluc3RlYWQuXG4gICAgICpcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIHVwZGF0ZWRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvZGUgbG9va3MgY29uZnVzaW5nLi4gYm9vIHRvIGFidXNpbmcgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgICAgIC8vIGlmIHVzZXIgZ2F2ZSB1cyBmcmFtZSB0aGF0IGhhcyBiaWdnZXIgc2l6ZSB0aGFuIHJlc2l6ZWQgdGV4dHVyZSBpdCBjYW4gYmUgYSBwcm9ibGVtXG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5fZnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIC0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2U7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0ZXh0dXJlIGlmIGl0IGV4aXN0cyBpbiB0aGUgdGV4dHVyZSBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIHJlbW92ZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSBpcyBhY3R1YWxseSBkZXN0cm95ZWQgdG9vLi5cbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2UgJiYgcmVzb3VyY2UudXJsICYmIFRleHR1cmVDYWNoZVtyZXNvdXJjZS51cmxdKSB7XG4gICAgICAgICAgICAgICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ2xvYWRlZCcsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl91dnMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWcgPSBudWxsO1xuICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRleHR1cmUgb2JqZWN0IHRoYXQgYWN0cyB0aGUgc2FtZSBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9uZWRGcmFtZSA9IHRoaXMuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciBjbG9uZWRPcmlnID0gdGhpcy5fZnJhbWUgPT09IHRoaXMub3JpZyA/IGNsb25lZEZyYW1lIDogdGhpcy5vcmlnLmNsb25lKCk7XG4gICAgICAgIHZhciBjbG9uZWRUZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgIXRoaXMubm9GcmFtZSAmJiBjbG9uZWRGcmFtZSwgY2xvbmVkT3JpZywgdGhpcy50cmltICYmIHRoaXMudHJpbS5jbG9uZSgpLCB0aGlzLnJvdGF0ZSwgdGhpcy5kZWZhdWx0QW5jaG9yKTtcbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgY2xvbmVkVGV4dHVyZS5fZnJhbWUgPSBjbG9uZWRGcmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmVkVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBDYWxsIGl0IGFmdGVyIGNoYW5naW5nIHRoZSBmcmFtZVxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZVV2cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3V2cyA9PT0gREVGQVVMVF9VVlMpIHtcbiAgICAgICAgICAgIHRoaXMuX3V2cyA9IG5ldyBUZXh0dXJlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8UElYSS5CYXNlVGV4dHVyZX0gc291cmNlIC1cbiAgICAgKiAgICAgICAgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5waXhpSWRQcmVmaXg9cGl4aWlkXSAtIElmIGEgc291cmNlIGhhcyBubyBpZCwgdGhpcyBpcyB0aGUgcHJlZml4IG9mIHRoZSBnZW5lcmF0ZWQgaWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHJpY3RdIC0gRW5mb3JjZSBzdHJpY3QtbW9kZSwgc2VlIHtAbGluayBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFfS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zLCBzdHJpY3QpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKHN0cmljdCA9PT0gdm9pZCAwKSB7IHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFOyB9XG4gICAgICAgIHZhciBpc0ZyYW1lID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBjYWNoZUlkID0gbnVsbDtcbiAgICAgICAgaWYgKGlzRnJhbWUpIHtcbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZWZpeCA9IChvcHRpb25zICYmIG9wdGlvbnMucGl4aUlkUHJlZml4KSB8fCAncGl4aWlkJztcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IHByZWZpeCArIFwiX1wiICsgdWlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG4gICAgICAgIC8vIFN0cmljdC1tb2RlIHJlamVjdHMgaW52YWxpZCBjYWNoZUlkc1xuICAgICAgICBpZiAoaXNGcmFtZSAmJiBzdHJpY3QgJiYgIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gVGV4dHVyZUNhY2hlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgYmFzZSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmb3IgbG9hZGluZyB0ZXh0dXJlcyB2aWEgVVJMcy4gVXNlIGluc3RlYWQgb2YgYFRleHR1cmUuZnJvbWAgYmVjYXVzZVxuICAgICAqIGl0IGRvZXMgYSBiZXR0ZXIgam9iIG9mIGhhbmRsaW5nIGZhaWxlZCBVUkxzIG1vcmUgZWZmZWN0aXZlbHkuIFRoaXMgYWxzbyBpZ25vcmVzXG4gICAgICogYFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEVgLiBXb3JrcyBmb3IgVmlkZW9zLCBTVkdzLCBJbWFnZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSByZW1vdGUgVVJMIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbmFsIG9wdGlvbnMgdG8gaW5jbHVkZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8UElYSS5UZXh0dXJlPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBUZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbVVSTCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlc291cmNlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBhdXRvTG9hZDogZmFsc2UgfSwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKHVybCwgT2JqZWN0LmFzc2lnbih7IHJlc291cmNlT3B0aW9uczogcmVzb3VyY2VPcHRpb25zIH0sIG9wdGlvbnMpLCBmYWxzZSk7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb3VyY2U7XG4gICAgICAgIC8vIFRoZSB0ZXh0dXJlIHdhcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICBpZiAodGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYW51YWxseSBsb2FkIHRoZSB0ZXh0dXJlLCB0aGlzIHNob3VsZCBhbGxvdyB1c2VycyB0byBoYW5kbGUgbG9hZCBlcnJvcnNcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgLSBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXh0dXJlIGZyb20gYSBzb3VyY2UgYW5kIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fHN0cmluZ30gc291cmNlIC0gVGhlIGlucHV0IHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmwgLSBGaWxlIG5hbWUgb2YgdGV4dHVyZSwgZm9yIGNhY2hlIGFuZCByZXNvbHZpbmcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gSHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IE91dHB1dCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tTG9hZGVyID0gZnVuY3Rpb24gKHNvdXJjZSwgaW1hZ2VVcmwsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNldHRpbmdzLlNDQUxFX01PREUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpLFxuICAgICAgICB9LCBvcHRpb25zKSk7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IGJhc2VUZXh0dXJlLnJlc291cmNlO1xuICAgICAgICBpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZVJlc291cmNlKSB7XG4gICAgICAgICAgICByZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgLy8gTm8gbmFtZSwgdXNlIGltYWdlVXJsIGluc3RlYWRcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gaW1hZ2VVcmw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uXG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZW5lcmFsbHkgaW1hZ2VzIGFyZSB2YWxpZCByaWdodCBhd2F5XG4gICAgICAgIGlmICh0ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNWRyBhc3NldHMgbmVlZCB0byBiZSBwYXJzZWQgYXN5bmMsIGxldCdzIHdhaXRcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLm9uY2UoJ2xvYWRlZCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodGV4dHVyZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBUZXh0dXJlIHRvIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFtcIiArIGlkICsgXCJdIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBUZXh0dXJlQ2FjaGVbaWRdID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJvbUNhY2hlID0gVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dHVyZSAmJiB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwicmVzb2x1dGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJmcmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG4gICAgICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciB4ID0gZnJhbWUueCwgeSA9IGZyYW1lLnksIHdpZHRoID0gZnJhbWUud2lkdGgsIGhlaWdodCA9IGZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIHZhciB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIHZhciB5Tm90Rml0ID0geSArIGhlaWdodCA+IHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdCkge1xuICAgICAgICAgICAgICAgIHZhciByZWxhdGlvbnNoaXAgPSB4Tm90Rml0ICYmIHlOb3RGaXQgPyAnYW5kJyA6ICdvcic7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWCA9IFwiWDogXCIgKyB4ICsgXCIgKyBcIiArIHdpZHRoICsgXCIgPSBcIiArICh4ICsgd2lkdGgpICsgXCIgPiBcIiArIHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWSA9IFwiWTogXCIgKyB5ICsgXCIgKyBcIiArIGhlaWdodCArIFwiID0gXCIgKyAoeSArIGhlaWdodCkgKyBcIiA+IFwiICsgdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0dXJlIEVycm9yOiBmcmFtZSBkb2VzIG5vdCBmaXQgaW5zaWRlIHRoZSBiYXNlIFRleHR1cmUgZGltZW5zaW9uczogJ1xuICAgICAgICAgICAgICAgICAgICArIChlcnJvclggKyBcIiBcIiArIHJlbGF0aW9uc2hpcCArIFwiIFwiICsgZXJyb3JZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUudmFsaWQ7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWcgPSBmcmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJyb3RhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRleHR1cmUgaXMgcm90YXRlZCBpbnNpZGUgdGhlIGF0bGFzXG4gICAgICAgICAqIHNldCB0byAyIHRvIGNvbXBlbnNhdGUgZm9yIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIHNldCB0byA2IHRvIGNvbXBlbnNhdGUgZm9yIHNwaW5lIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBjYW4gYmUgdXNlZCB0byByb3RhdGUgb3IgbWlycm9yIHNwcml0ZXNcbiAgICAgICAgICogU2VlIHtAbGluayBQSVhJLmdyb3VwRDh9IGZvciBleHBsYW5hdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHJvdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBCYXNlVGV4dHVyZXxUZXh0dXJlIGNhc3RcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jYXN0VG9CYXNlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmU7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5mdW5jdGlvbiBjcmVhdGVXaGl0ZVRleHR1cmUoKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDE2LCAxNik7XG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShuZXcgQ2FudmFzUmVzb3VyY2UoY2FudmFzKSkpO1xufVxuZnVuY3Rpb24gcmVtb3ZlQWxsSGFuZGxlcnModGV4KSB7XG4gICAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkgeyB9O1xuICAgIHRleC5vbiA9IGZ1bmN0aW9uIF9lbXB0eU9uKCkgeyB9O1xuICAgIHRleC5vbmNlID0gZnVuY3Rpb24gX2VtcHR5T25jZSgpIHsgfTtcbiAgICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7IH07XG59XG4vKipcbiAqIEFuIGVtcHR5IHRleHR1cmUsIHVzZWQgb2Z0ZW4gdG8gbm90IGhhdmUgdG8gY3JlYXRlIG11bHRpcGxlIGVtcHR5IHRleHR1cmVzLlxuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cblRleHR1cmUuRU1QVFkgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoKSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkuYmFzZVRleHR1cmUpO1xuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTZ4MTYgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIF9fSGludC0yX186IFRoZSBhY3R1YWwgbWVtb3J5IGFsbG9jYXRpb24gd2lsbCBoYXBwZW4gb24gZmlyc3QgcmVuZGVyLlxuICogWW91IHNob3VsZG4ndCBjcmVhdGUgcmVuZGVyVGV4dHVyZXMgZWFjaCBmcmFtZSBqdXN0IHRvIGRlbGV0ZSB0aGVtIGFmdGVyLCB0cnkgdG8gcmV1c2UgdGhlbS5cbiAqXG4gKiBBIFJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHtyZW5kZXJUZXh0dXJlfSk7XG4gKiBgYGBcbiAqIE5vdGUgdGhhdCB5b3Ugc2hvdWxkIG5vdCBjcmVhdGUgYSBuZXcgcmVuZGVyZXIsIGJ1dCByZXVzZSB0aGUgc2FtZSBvbmUgYXMgdGhlIHJlc3Qgb2YgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwge3JlbmRlclRleHR1cmV9KTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyVGV4dHVyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVJlbmRlclRleHR1cmV9IGJhc2VSZW5kZXJUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBgc291cmNlRnJhbWVgIHdoZW4gdGhpcyB0ZXh0dXJlIGlzIGluc2lkZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgICAgICogWW91IGNhbiByZWFkIGl0IGluc2lkZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUga2V5IGZvciBwb29sZWQgdGV4dHVyZSBvZiBGaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJQb29sS2V5ID0gbnVsbDtcbiAgICAgICAgX3RoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlclRleHR1cmUucHJvdG90eXBlLCBcImZyYW1lYnVmZmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3J0Y3V0IHRvIGB0aGlzLmJhc2VUZXh0dXJlLmZyYW1lYnVmZmVyYCwgc2F2ZXMgYmFzZVRleHR1cmUgY2FzdC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLmZyYW1lYnVmZmVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc2l6ZUJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQsIHJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmIChyZXNpemVCYXNlVGV4dHVyZSA9PT0gdm9pZCAwKSB7IHJlc2l6ZUJhc2VUZXh0dXJlID0gdHJ1ZTsgfVxuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICAvLyBUT0RPIC0gY291bGQgYmUgbm90IHJlcXVpcmVkLi5cbiAgICAgICAgdGhpcy52YWxpZCA9ICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCk7XG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gdGhpcy5vcmlnLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IHRoaXMub3JpZy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGlmIChyZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmUsIGJ1dCBkb2VzIG5vdCBjaGFuZ2UgZnJhbWVidWZmZXIgc2l6ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIG5ldyByZXNvbHV0aW9uIHRvIGFwcGx5IHRvIFJlbmRlclRleHR1cmVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPT09IHJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBiYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB0aGlzLnJlc2l6ZShiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCBmYWxzZSk7XG4gICAgfTtcbiAgICBSZW5kZXJUZXh0dXJlLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgcmVzdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcmVzdFtfaSAtIDFdID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIEBkZXByZWNhdGVkIGZhbGxiYWNrLCBvbGQtc3R5bGU6IGNyZWF0ZSh3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc2LjAuMCcsICdBcmd1bWVudHMgKHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuJyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiByZXN0WzBdLFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogcmVzdFsxXSxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiByZXN0WzJdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKG5ldyBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oVGV4dHVyZSkpO1xuXG4vKipcbiAqIEV4cGVyaW1lbnRhbCFcbiAqXG4gKiBUZXh0dXJlIHBvb2wsIHVzZWQgYnkgRmlsdGVyU3lzdGVtIGFuZCBwbHVnaW5zXG4gKiBTdG9yZXMgY29sbGVjdGlvbiBvZiB0ZW1wb3JhcnkgcG93MiBvciBzY3JlZW4tc2l6ZWQgcmVuZGVyVGV4dHVyZXNcbiAqXG4gKiBJZiB5b3UgdXNlIGN1c3RvbSBSZW5kZXJUZXh0dXJlUG9vbCBmb3IgeW91ciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBtZXRob2RzXG4gKiBgZ2V0RmlsdGVyVGV4dHVyZWAgYW5kIGByZXR1cm5GaWx0ZXJUZXh0dXJlYCBzYW1lIGFzIGluXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZVBvb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt0ZXh0dXJlT3B0aW9uc10gLSBvcHRpb25zIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gQmFzZVJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFt0ZXh0dXJlT3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVQb29sKHRleHR1cmVPcHRpb25zKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICAgICAgdGhpcy50ZXh0dXJlT3B0aW9ucyA9IHRleHR1cmVPcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsb3cgcmVuZGVyVGV4dHVyZXMgb2YgdGhlIHNhbWUgc2l6ZSBhcyBzY3JlZW4sIG5vdCBqdXN0IHBvdzJcbiAgICAgICAgICpcbiAgICAgICAgICogQXV0b21hdGljYWxseSBzZXRzIHRvIHRydWUgYWZ0ZXIgYHNldFNjcmVlblNpemVgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjcmVhdGVzIG9mIHRleHR1cmUgd2l0aCBwYXJhbXMgdGhhdCB3ZXJlIHNwZWNpZmllZCBpbiBwb29sIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIC0gd2lkdGggb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCAtIGhlaWdodCBvZiB0ZXh0dXJlIGluIHBpeGVsc1xuICAgICAqIEByZXR1cm5zIHtSZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jcmVhdGVUZXh0dXJlID0gZnVuY3Rpb24gKHJlYWxXaWR0aCwgcmVhbEhlaWdodCkge1xuICAgICAgICB2YXIgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogcmVhbFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWFsSGVpZ2h0LFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgfSwgdGhpcy50ZXh0dXJlT3B0aW9ucykpO1xuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0T3B0aW1hbFRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHZhciBrZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gfHwgbWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KSB7XG4gICAgICAgICAgICBtaW5XaWR0aCA9IG5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAoKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNikgfCAobWluSGVpZ2h0ICYgMHhGRkZGKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZVBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXkgPSBrZXk7XG4gICAgICAgIHJlbmRlclRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGV4dHJhIHRleHR1cmUgb2YgdGhlIHNhbWUgc2l6ZSBhcyBpbnB1dCByZW5kZXJUZXh0dXJlXG4gICAgICpcbiAgICAgKiBgZ2V0RmlsdGVyVGV4dHVyZShpbnB1dCwgMC41KWAgb3IgYGdldEZpbHRlclRleHR1cmUoMC41LCBpbnB1dClgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogIEl0IG92ZXJyaWRlcywgaXQgZG9lcyBub3QgbXVsdGlwbHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKGlucHV0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVyblRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB2YXIga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgcmV0dXJuVGV4dHVyZSwgdG8gYmUgY29tcGxpYW50IHdpdGggRmlsdGVyU3lzdGVtIGludGVyZmFjZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5yZXR1cm5GaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBwb29sXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95VGV4dHVyZXM9dHJ1ZV0gLSBkZXN0cm95IGFsbCBzdG9yZWQgdGV4dHVyZXNcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlUG9vbCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgc2NyZWVuIHNpemUgd2FzIGNoYW5nZWQsIGRyb3BzIGFsbCBzY3JlZW4tc2l6ZWQgdGV4dHVyZXMsXG4gICAgICogc2V0cyBuZXcgc2NyZWVuIHNpemUsIHNldHMgYGVuYWJsZUZ1bGxTY3JlZW5gIHRvIHRydWVcbiAgICAgKlxuICAgICAqIFNpemUgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLCBgcmVuZGVyZXIudmlld2AgY2FuIGJlIHBhc3NlZCBoZXJlLCBub3QgYHJlbmRlcmVyLnNjcmVlbmBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JU2l6ZX0gc2l6ZSAtIEluaXRpYWwgc2l6ZSBvZiBzY3JlZW5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuc2V0U2NyZWVuU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplLndpZHRoID09PSB0aGlzLl9waXhlbHNXaWR0aFxuICAgICAgICAgICAgJiYgc2l6ZS5oZWlnaHQgPT09IHRoaXMuX3BpeGVsc0hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY3JlZW5LZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV07XG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcbiAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV0gPSBbXTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtleSB0aGF0IGlzIHVzZWQgdG8gc3RvcmUgZnVsbHNjcmVlbiByZW5kZXJUZXh0dXJlcyBpbiBhIHBvb2xcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3Qge3N0cmluZ31cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZID0gJ3NjcmVlbic7XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVQb29sO1xufSgpKTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBIb2xkcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgc2luZ2xlIGF0dHJpYnV0ZSBzdHJ1Y3R1cmUgcmVxdWlyZWQgdG8gcmVuZGVyIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udGFpbiB0aGUgYWN0dWFsIGRhdGEsIGJ1dCBpbnN0ZWFkIGhhcyBhIGJ1ZmZlciBpZCB0aGF0IG1hcHMgdG8gYSB7QGxpbmsgUElYSS5CdWZmZXJ9XG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXR0cmlidXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidWZmZXIgLSB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVFlQRVN9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gLSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7IHNpemUgPSAwOyB9XG4gICAgICAgIGlmIChub3JtYWxpemVkID09PSB2b2lkIDApIHsgbm9ybWFsaXplZCA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IFRZUEVTLkZMT0FUOyB9XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnN0cmlkZSA9IHN0cmlkZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBBdHRyaWJ1dGUuXG4gICAgICovXG4gICAgQXR0cmlidXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGFuIEF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyIC0gdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIC0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVFlQRVN9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqL1xuICAgIEF0dHJpYnV0ZS5mcm9tID0gZnVuY3Rpb24gKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdHRyaWJ1dGU7XG59KCkpO1xuXG52YXIgVUlEID0gMDtcbi8qKlxuICogQSB3cmFwcGVyIGZvciBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYW5kIHVwbG9hZGVkIGJ5IFdlYkdMXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gZGF0YSAtIHRoZSBkYXRhIHRvIHN0b3JlIGluIHRoZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz10cnVlXSAtIGB0cnVlYCBmb3Igc3RhdGljIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luZGV4PWZhbHNlXSAtIGB0cnVlYCBmb3IgaW5kZXggYnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVmZmVyKGRhdGEsIF9zdGF0aWMsIGluZGV4KSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IHRydWU7IH1cbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSBmYWxzZTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSAoZGF0YSB8fCBuZXcgRmxvYXQzMkFycmF5KDEpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBidWZmZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgR0xCdWZmZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2xCdWZmZXJzID0ge307XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXRpYyA9IF9zdGF0aWM7XG4gICAgICAgIHRoaXMuaWQgPSBVSUQrKztcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicpO1xuICAgIH1cbiAgICAvLyBUT0RPIGNvdWxkIGV4cGxvcmUgZmxhZ2dpbmcgb25seSBhIHBhcnRpYWwgdXBsb2FkP1xuICAgIC8qKlxuICAgICAqIGZsYWdzIHRoaXMgYnVmZmVyIGFzIHJlcXVpcmluZyBhbiB1cGxvYWQgdG8gdGhlIEdQVVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8U2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBbZGF0YV0gLSB0aGUgZGF0YSB0byB1cGRhdGUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBCdWZmZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBidWZmZXIgYmFzZWQgb24gYW4gYXJyYXkgb3IgVHlwZWRBcnJheVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJWaWV3IHwgbnVtYmVyW119IGRhdGEgLSB0aGUgVHlwZWRBcnJheSB0aGF0IHRoZSBidWZmZXIgd2lsbCBzdG9yZS4gSWYgdGhpcyBpcyBhIHJlZ3VsYXIgQXJyYXkgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IEEgbmV3IEJ1ZmZlciBiYXNlZCBvbiB0aGUgZGF0YSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlcjtcbn0oKSk7XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxufTtcbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKSB7XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcbiAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICB2YXIgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbnZhciBieXRlU2l6ZU1hcCA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xudmFyIFVJRCQxID0gMDtcbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAkMSA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxuICAgIFVpbnQxNkFycmF5OiBVaW50MTZBcnJheSxcbn07XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIFRoZSBHZW9tZXRyeSByZXByZXNlbnRzIGEgbW9kZWwuIEl0IGNvbnNpc3RzIG9mIHR3byBjb21wb25lbnRzOlxuICogLSBHZW9tZXRyeVN0eWxlIC0gVGhlIHN0cnVjdHVyZSBvZiB0aGUgbW9kZWwgc3VjaCBhcyB0aGUgYXR0cmlidXRlcyBsYXlvdXRcbiAqIC0gR2VvbWV0cnlEYXRhIC0gdGhlIGRhdGEgb2YgdGhlIG1vZGVsIC0gdGhpcyBjb25zaXN0cyBvZiBidWZmZXJzLlxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQgKHRoYXRzIGhvdyBJIHByZWZlciEpXG4gKlxuICogYGBganNcbiAqIGxldCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLDIpXG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKVxuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcltdfSBbYnVmZmVyc10gLSBhbiBhcnJheSBvZiBidWZmZXJzLiBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2F0dHJpYnV0ZXNdIC0gb2YgdGhlIGdlb21ldHJ5LCBvcHRpb25hbCBzdHJ1Y3R1cmUgb2YgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnkoYnVmZmVycywgYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYnVmZmVycyA9PT0gdm9pZCAwKSB7IGJ1ZmZlcnMgPSBbXTsgfVxuICAgICAgICBpZiAoYXR0cmlidXRlcyA9PT0gdm9pZCAwKSB7IGF0dHJpYnV0ZXMgPSB7fTsgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBWQU9zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcbiAgICAgICAgdGhpcy5pZCA9IFVJRCQxKys7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgaW5zdGFuY2VzIGluIHRoaXMgZ2VvbWV0cnksIHBhc3MgaXQgdG8gYEdlb21ldHJ5U3lzdGVtLmRyYXcoKWBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluc3RhbmNlQ291bnQgPSAxO1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlR2VvbWV0cnknKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50IG9mIGV4aXN0aW5nIChub3QgZGVzdHJveWVkKSBtZXNoZXMgdGhhdCByZWZlcmVuY2UgdGhpcyBnZW9tZXRyeVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKlxuICAgICogQWRkcyBhbiBhdHRyaWJ1dGUgdG8gdGhlIGdlb21ldHJ5XG4gICAgKiBOb3RlOiBgc3RyaWRlYCBhbmQgYHN0YXJ0YCBzaG91bGQgYmUgYHVuZGVmaW5lZGAgaWYgeW91IGRvbnQga25vdyB0aGVtLCBub3QgMCFcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIChtYXRjaGluZyB1cCB0byBhIHNoYWRlcilcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IGJ1ZmZlciAtIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgYXR0cmlidXRlIC4gWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gQXJyYXkgYW5kIGEgYnVmZmVyIHdpbGwgYmUgY3JlYXRlZCBmcm9tIGl0LlxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIC0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSAtIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICogQHBhcmFtIHtQSVhJLlRZUEVTfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge1BJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlXSAtIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnN0YW5jZT1mYWxzZV0gLSBJbnN0YW5jaW5nIGZsYWdcbiAgICAqXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24gKGlkLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChzaXplID09PSB2b2lkIDApIHsgc2l6ZSA9IDA7IH1cbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHZvaWQgMCkgeyBub3JtYWxpemVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGluc3RhbmNlID09PSB2b2lkIDApIHsgaW5zdGFuY2UgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwYXNzIGEgYnVmZmVyIHdoZW4gY3JlYXRpbmcgYW4gYXR0cmlidXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIGJ1ZmZlciFcbiAgICAgICAgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHMgPSBpZC5zcGxpdCgnfCcpO1xuICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoaWRzW2ldLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKTtcbiAgICAgICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2lkXSA9IG5ldyBBdHRyaWJ1dGUoYnVmZmVySW5kZXgsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKTtcbiAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBpZiB0aGVyZSBpcyBpbnN0YW5jZWQgZGF0YSB0aGVuIHRoaXMgd2lsbCBiZSBkcmF3biB3aXRoIGluc3RhbmNpbmchXG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gdGhpcy5pbnN0YW5jZWQgfHwgaW5zdGFuY2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQXR0cmlidXRlfSB0aGUgYXR0cmlidXRlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbaWRdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGJ1ZmZlciByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSB0aGUgYnVmZmVyIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbdGhpcy5nZXRBdHRyaWJ1dGUoaWQpLmJ1ZmZlcl07XG4gICAgfTtcbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGluZGV4IGJ1ZmZlciB0byB0aGUgZ2VvbWV0cnlcbiAgICAqIFRoZSBpbmRleCBidWZmZXIgY29udGFpbnMgaW50ZWdlcnMsIHRocmVlIGZvciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBnZW9tZXRyeSwgd2hpY2ggcmVmZXJlbmNlIHRoZSB2YXJpb3VzIGF0dHJpYnV0ZSBidWZmZXJzIChwb3NpdGlvbiwgY29sb3VyLCBVViBjb29yZGluYXRlcywgb3RoZXIgVVYgY29vcmRpbmF0ZXMsIG5vcm1hbCwg4oCmKS4gVGhlcmUgaXMgb25seSBPTkUgaW5kZXggYnVmZmVyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIC0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBpbmRleCBidWZmZXIuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGluZGV4IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4QnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgc3RydWN0dXJlIHNvIHRoYXQgYWxsIGN1cnJlbnQgYXR0cmlidXRlcyBiZWNvbWUgaW50ZXJsZWF2ZWQgaW50byBhIHNpbmdsZSBidWZmZXJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgeW91ciBtb2RlbCByZW1haW5zIHN0YXRpYyBhcyBpdCBvZmZlcnMgYSBsaXR0bGUgcGVyZm9ybWFuY2UgYm9vc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuaW50ZXJsZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYSBzaW1wbGUgY2hlY2sgdG8gc2VlIGlmIGJ1ZmZlcnMgYXJlIGFscmVhZHkgaW50ZXJsZWF2ZWQuLlxuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMSB8fCAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLmluZGV4QnVmZmVyKSlcbiAgICAgICAgICAgIHsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgLy8gYXNzdW1lIGFscmVhZHkgdGhhdCBubyBidWZmZXJzIGFyZSBpbnRlcmxlYXZlZFxuICAgICAgICB2YXIgYXJyYXlzID0gW107XG4gICAgICAgIHZhciBzaXplcyA9IFtdO1xuICAgICAgICB2YXIgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgQnVmZmVyKCk7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIGFycmF5cy5wdXNoKGJ1ZmZlci5kYXRhKTtcbiAgICAgICAgICAgIHNpemVzLnB1c2goKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuICAgICAgICAgICAgYXR0cmlidXRlLmJ1ZmZlciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIuZGF0YSA9IGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzID0gW2ludGVybGVhdmVkQnVmZmVyXTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzLmJ1ZmZlcnNbaV0uZGF0YS5zbGljZSgwKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldID0gbmV3IEF0dHJpYnV0ZShhdHRyaWIuYnVmZmVyLCBhdHRyaWIuc2l6ZSwgYXR0cmliLm5vcm1hbGl6ZWQsIGF0dHJpYi50eXBlLCBhdHRyaWIuc3RyaWRlLCBhdHRyaWIuc3RhcnQsIGF0dHJpYi5pbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1t0aGlzLmJ1ZmZlcnMuaW5kZXhPZih0aGlzLmluZGV4QnVmZmVyKV07XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogbWVyZ2VzIGFuIGFycmF5IG9mIGdlb21ldHJpZXMgaW50byBhIG5ldyBzaW5nbGUgb25lXG4gICAgICogZ2VvbWV0cnkgYXR0cmlidXRlIHN0eWxlcyBtdXN0IG1hdGNoIGZvciB0aGlzIG9wZXJhdGlvbiB0byB3b3JrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnlbXX0gZ2VvbWV0cmllcyAtIGFycmF5IG9mIGdlb21ldHJpZXMgdG8gbWVyZ2VcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gc2hpbnkgbmV3IGdlb21ldHJ5IVxuICAgICAqL1xuICAgIEdlb21ldHJ5Lm1lcmdlID0gZnVuY3Rpb24gKGdlb21ldHJpZXMpIHtcbiAgICAgICAgLy8gdG9kbyBhZGQgYSBnZW9tZXRyeSBjaGVjayFcbiAgICAgICAgLy8gYWxzbyBhIHNpemUgY2hlY2suLiBjYW50IGJlIHRvbyBiaWchXVxuICAgICAgICB2YXIgZ2VvbWV0cnlPdXQgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICAgICAgdmFyIG9mZnNldHMgPSBbXTtcbiAgICAgICAgdmFyIGdlb21ldHJ5O1xuICAgICAgICAvLyBwYXNzIG9uZS4uIGdldCBzaXplcy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgc2l6ZXNbal0gPSBzaXplc1tqXSB8fCAwO1xuICAgICAgICAgICAgICAgIHNpemVzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYnVpbGQgdGhlIGNvcnJlY3Qgc2l6ZSBhcnJheXMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdHlwZXMhXG4gICAgICAgICAgICBhcnJheXNbaV0gPSBuZXcgbWFwJDFbZ2V0QnVmZmVyVHlwZShnZW9tZXRyeS5idWZmZXJzW2ldLmRhdGEpXShzaXplc1tpXSk7XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcihhcnJheXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhc3MgdG8gc2V0IGRhdGEuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGFycmF5c1tqXS5zZXQoZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLCBvZmZzZXRzW2pdKTtcbiAgICAgICAgICAgICAgICBvZmZzZXRzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2VvbWV0cnlPdXQuYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeU91dC5idWZmZXJzW2dlb21ldHJ5LmJ1ZmZlcnMuaW5kZXhPZihnZW9tZXRyeS5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gMDtcbiAgICAgICAgICAgIHZhciBvZmZzZXQyID0gMDtcbiAgICAgICAgICAgIHZhciBidWZmZXJJbmRleFRvQ291bnQgPSAwO1xuICAgICAgICAgICAgLy8gZ2V0IGEgYnVmZmVyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuYnVmZmVyc1tpXSAhPT0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVySW5kZXhUb0NvdW50ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgc3RyaWRlIG9mIG9uZSBidWZmZXIuLlxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKChhdHRyaWJ1dGUuYnVmZmVyIHwgMCkgPT09IGJ1ZmZlckluZGV4VG9Db3VudCkge1xuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgKz0gKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aW1lIHRvIG9mZiBzZXQgYWxsIGluZGV4ZXMuLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyRGF0YSA9IGdlb21ldHJpZXNbaV0uaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5kYXRhW2ogKyBvZmZzZXQyXSArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBnZW9tZXRyeS5idWZmZXJzW2J1ZmZlckluZGV4VG9Db3VudF0uZGF0YS5sZW5ndGggLyAoc3RyaWRlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5T3V0O1xuICAgIH07XG4gICAgcmV0dXJuIEdlb21ldHJ5O1xufSgpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFF1YWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFF1YWQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVhZCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSkpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDMsIDJdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUXVhZDtcbn0oR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZCB3aXRoIHV2cyBsaWtlIGluIHY0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgUXVhZFV2ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhRdWFkVXYsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVhZFV2KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIC0xLCAxIF0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSk7XG4gICAgICAgIF90aGlzLnZlcnRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoX3RoaXMudmVydGljZXMpO1xuICAgICAgICBfdGhpcy51dkJ1ZmZlciA9IG5ldyBCdWZmZXIoX3RoaXMudXZzKTtcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBfdGhpcy52ZXJ0ZXhCdWZmZXIpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgX3RoaXMudXZCdWZmZXIpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uICh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgdmFyIHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB5ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS55IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcbiAgICAgICAgdGhpcy51dnNbMF0gPSB4O1xuICAgICAgICB0aGlzLnV2c1sxXSA9IHk7XG4gICAgICAgIHRoaXMudXZzWzJdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbM10gPSB5O1xuICAgICAgICB0aGlzLnV2c1s0XSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzVdID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzddID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuICAgICAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgICAgICB5ID0gZGVzdGluYXRpb25GcmFtZS55O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG4gICAgICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG4gICAgICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGxlZ2FjeSB1cGxvYWQgbWV0aG9kLCBqdXN0IG1hcmtzIGJ1ZmZlcnMgZGlydHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5RdWFkVXZ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFF1YWRVdjtcbn0oR2VvbWV0cnkpKTtcblxudmFyIFVJRCQyID0gMDtcbi8qKlxuICogVW5pZm9ybSBncm91cCBob2xkcyB1bmlmb3JtIG1hcCBhbmQgc29tZSBJRCdzIGZvciB3b3JrXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVW5pZm9ybUdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWNdIC0gVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtIHZhbHVlc1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHVuaWZvcm1zO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXRzIGEgZ3JvdXAgYW5kIG5vdCBhIHNpbmdsZSB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncm91cCA9IHRydWU7XG4gICAgICAgIC8vIGxldHMgZ2VuZXJhdGUgdGhpcyB3aGVuIHRoZSBzaGFkZXIgP1xuICAgICAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogZGlydHkgdmVyc2lvblxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlxdWUgaWRcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkID0gVUlEJDIrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWMgPSAhIV9zdGF0aWM7XG4gICAgfVxuICAgIFVuaWZvcm1Hcm91cC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB9O1xuICAgIFVuaWZvcm1Hcm91cC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG5hbWUsIHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXNbbmFtZV0gPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9O1xuICAgIFVuaWZvcm1Hcm91cC5mcm9tID0gZnVuY3Rpb24gKHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9O1xuICAgIHJldHVybiBVbmlmb3JtR3JvdXA7XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmaWx0ZXIgc3RhdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEZpbHRlclN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbHRlclN0YXRlKCkge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0IG9mIHRoZSBmaWx0ZXJzXG4gICAgICAgICAqIFdlIHN0b3JlIGZvciBjYXNlIHdoZW4gY3VzdG9tIGZpbHRlciB3YW50cyB0byBrbm93IHRoZSBlbGVtZW50IGl0IHdhcyBhcHBsaWVkIG9uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBhdGliaWxpdHkgd2l0aCBQaXhpSlMgdjQgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZWdhY3kgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIC8vIG5leHQgdGhyZWUgZmllbGRzIGFyZSBjcmVhdGVkIG9ubHkgZm9yIHJvb3RcbiAgICAgICAgLy8gcmUtYXNzaWduZWQgZm9yIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogT3JpZ2luYWwgcmVuZGVyLXRhcmdldCBzb3VyY2UgZnJhbWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmluZGluZ1NvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogT3JpZ2luYWwgcmVuZGVyLXRhcmdldCBkZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iaW5kaW5nRGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSB0cmFuc2Zvcm0gc2F2ZWQgYnkgbGluay5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEZpbHRlclN0YXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN0YXRlO1xufSgpKTtcblxudmFyIHRlbXBQb2ludHMgPSBbbmV3IFBvaW50KCksIG5ldyBQb2ludCgpLCBuZXcgUG9pbnQoKSwgbmV3IFBvaW50KCldO1xudmFyIHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmaWx0ZXJzLlxuICpcbiAqICMjIFBpcGVsaW5lXG4gKlxuICogVGhlIEZpbHRlclN5c3RlbSBleGVjdXRlcyB0aGUgZmlsdGVyaW5nIHBpcGVsaW5lIGJ5IHJlbmRlcmluZyB0aGUgZGlzcGxheS1vYmplY3QgaW50byBhIHRleHR1cmUsIGFwcGx5aW5nIGl0c1xuICogW2ZpbHRlcnNde0BsaW5rIFBJWEkuRmlsdGVyfSBpbiBzZXJpZXMsIGFuZCB0aGUgbGFzdCBmaWx0ZXIgb3V0cHV0cyBpbnRvIHRoZSBmaW5hbCByZW5kZXItdGFyZ2V0LlxuICpcbiAqIFRoZSBmaWx0ZXItZnJhbWUgaXMgdGhlIHJlY3RhbmdsZSBpbiB3b3JsZCBzcGFjZSBiZWluZyBmaWx0ZXJlZCwgYW5kIHRob3NlIGNvbnRlbnRzIGFyZSBtYXBwZWQgaW50b1xuICogYCgwLCAwLCBmaWx0ZXJGcmFtZS53aWR0aCwgZmlsdGVyRnJhbWUuaGVpZ2h0KWAgaW50byB0aGUgZmlsdGVyIHJlbmRlci10ZXh0dXJlLiBUaGUgZmlsdGVyLWZyYW1lIGlzIGFsc28gY2FsbGVkXG4gKiB0aGUgc291cmNlLWZyYW1lLCBhcyBpdCBpcyB1c2VkIHRvIGJpbmQgdGhlIGZpbHRlciByZW5kZXItdGV4dHVyZXMuIFRoZSBsYXN0IGZpbHRlciBvdXRwdXRzIHRvIHRoZSBgZmlsdGVyRnJhbWVgXG4gKiBpbiB0aGUgZmluYWwgcmVuZGVyLXRhcmdldC5cbiAqXG4gKiAjIyBVc2FnZVxuICpcbiAqIHtAbGluayBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZH0gaXMgYW4gZXhhbXBsZSBvZiBob3cgdG8gdXNlIHRoZSBmaWx0ZXIgc3lzdGVtLiBJdCBpcyBhIDMgc3RlcCBwcm9jZXNzOlxuICpcbiAqICogKipwdXNoKio6IFVzZSB7QGxpbmsgUElYSS5GaWx0ZXJTeXN0ZW0jcHVzaH0gdG8gcHVzaCB0aGUgc2V0IG9mIGZpbHRlcnMgdG8gYmUgYXBwbGllZCBvbiBhIGZpbHRlci10YXJnZXQuXG4gKiAqICoqcmVuZGVyKio6IFJlbmRlciB0aGUgY29udGVudHMgdG8gYmUgZmlsdGVyZWQgdXNpbmcgdGhlIHJlbmRlcmVyLiBUaGUgZmlsdGVyLXN5c3RlbSB3aWxsIG9ubHkgY2FwdHVyZSB0aGUgY29udGVudHNcbiAqICAgICAgaW5zaWRlIHRoZSBib3VuZHMgb2YgdGhlIGZpbHRlci10YXJnZXQuIE5PVEU6IFVzaW5nIHtAbGluayBQSVhJLlJlbmRlcmVyI3JlbmRlcn0gaXNcbiAqICAgICAgaWxsZWdhbCBkdXJpbmcgYW4gZXhpc3RpbmcgcmVuZGVyIGN5Y2xlLCBhbmQgaXQgbWF5IHJlc2V0IHRoZSBmaWx0ZXIgc3lzdGVtLlxuICogKiAqKnBvcCoqOiBVc2Uge0BsaW5rIFBJWEkuRmlsdGVyU3lzdGVtI3BvcH0gdG8gcG9wICYgZXhlY3V0ZSB0aGUgZmlsdGVycyB5b3UgaW5pdGlhbGx5IHB1c2hlZC4gSXQgd2lsbCBhcHBseSB0aGVtXG4gKiAgICAgIHNlcmlhbGx5IGFuZCBvdXRwdXQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgZmlsdGVyLXRhcmdldC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgRmlsdGVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGaWx0ZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmaWx0ZXJzIGZvciB0aGUgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUocmVuZGVyZXIudmlldyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHBvb2wgZm9yIHN0b3JpbmcgZmlsdGVyIHN0YXRlcywgc2F2ZSB1cyBjcmVhdGluZyBuZXcgb25lcyBlYWNoIHRpY2tcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZVBvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdmVyeSBzaW1wbGUgZ2VvbWV0cnkgdXNlZCB3aGVuIGRyYXdpbmcgYSBmaWx0ZXIgZWZmZWN0IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBRdWFkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBRdWFkIFVWc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWRVdn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlbXBvcmFyeSByZWN0IGZvciBtYXRoc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB1bmlmb3JtIGdyb3VwIGlzIGF0dGFjaGVkIHRvIGZpbHRlciB1bmlmb3JtcyB3aGVuIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SZWN0YW5nbGV9IG91dHB1dEZyYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFNpemVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0UGl4ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0Q2xhbXBcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJlc29sdXRpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckFyZWFcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgb3V0cHV0RnJhbWU6IG5ldyBSZWN0YW5nbGUoKSxcbiAgICAgICAgICAgIGlucHV0U2l6ZTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0UGl4ZWw6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dENsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIC8vIGxlZ2FjeSB2YXJpYWJsZXNcbiAgICAgICAgICAgIGZpbHRlckFyZWE6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBmaWx0ZXJDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIGNsZWFyIG91dHB1dCByZW5kZXJUZXh0dXJlIGluIEFVVE8vQkxJVCBtb2RlLiBTZWUge0BsaW5rIFBJWEkuQ0xFQVJfTU9ERVN9XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb3JjZUNsZWFyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbGQgcGFkZGluZyBiZWhhdmlvciBpcyB0byB1c2UgdGhlIG1heCBhbW91bnQgaW5zdGVhZCBvZiBzdW0gcGFkZGluZy5cbiAgICAgICAgICogVXNlIHRoaXMgZmxhZyBpZiB5b3UgbmVlZCB0aGUgb2xkIGJlaGF2aW9yLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXNlTWF4UGFkZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIHNldCBvZiBmaWx0ZXJzIHRvIGJlIGFwcGxpZWQgbGF0ZXIgdG8gdGhlIHN5c3RlbS4gVGhpcyB3aWxsIHJlZGlyZWN0IGZ1cnRoZXIgcmVuZGVyaW5nIGludG8gYW5cbiAgICAgKiBpbnB1dCByZW5kZXItdGV4dHVyZSBmb3IgdGhlIHJlc3Qgb2YgdGhlIGZpbHRlcmluZyBwaXBlbGluZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVQb29sLnBvcCgpIHx8IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmaWx0ZXJzWzBdLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICB2YXIgYXV0b0ZpdCA9IGZpbHRlcnNbMF0uYXV0b0ZpdDtcbiAgICAgICAgdmFyIGxlZ2FjeSA9IGZpbHRlcnNbMF0ubGVnYWN5O1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGxvd2VzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBwYWRkaW5nIHJlcXVpcmVkIGZvciBmaWx0ZXJzXG4gICAgICAgICAgICBwYWRkaW5nID0gdGhpcy51c2VNYXhQYWRkaW5nXG4gICAgICAgICAgICAgICAgLy8gb2xkIGJlaGF2aW9yOiB1c2UgbGFyZ2VzdCBhbW91bnQgb2YgcGFkZGluZyFcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHBhZGRpbmcsIGZpbHRlci5wYWRkaW5nKVxuICAgICAgICAgICAgICAgIC8vIG5ldyBiZWhhdmlvcjogc3VtIHRoZSBwYWRkaW5nXG4gICAgICAgICAgICAgICAgOiBwYWRkaW5nICsgZmlsdGVyLnBhZGRpbmc7XG4gICAgICAgICAgICAvLyBvbmx5IGF1dG8gZml0IGlmIGFsbCBmaWx0ZXJzIGFyZSBhdXRvZml0XG4gICAgICAgICAgICBhdXRvRml0ID0gYXV0b0ZpdCAmJiBmaWx0ZXIuYXV0b0ZpdDtcbiAgICAgICAgICAgIGxlZ2FjeSA9IGxlZ2FjeSB8fCBmaWx0ZXIubGVnYWN5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJTdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrWzBdLnJlbmRlclRleHR1cmUgPSByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZmlsdGVyU3RhY2sucHVzaChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBzdGF0ZS5sZWdhY3kgPSBsZWdhY3k7XG4gICAgICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcbiAgICAgICAgaWYgKGF1dG9GaXQpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2VGcmFtZVByb2plY3RlZCA9IHRoaXMudGVtcFJlY3QuY29weUZyb20ocmVuZGVyVGV4dHVyZVN5c3RlbS5zb3VyY2VGcmFtZSk7XG4gICAgICAgICAgICAvLyBQcm9qZWN0IHNvdXJjZSBmcmFtZSBpbnRvIHdvcmxkIHNwYWNlIChpZiBwcm9qZWN0aW9uIGlzIGFwcGxpZWQpXG4gICAgICAgICAgICBpZiAocmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybUFBQkIodGVtcE1hdHJpeC5jb3B5RnJvbShyZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSkuaW52ZXJ0KCksIHNvdXJjZUZyYW1lUHJvamVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmZpdChzb3VyY2VGcmFtZVByb2plY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUm91bmQgc291cmNlRnJhbWUgaW4gc2NyZWVuIHNwYWNlIGJhc2VkIG9uIHJlbmRlci10ZXh0dXJlLlxuICAgICAgICB0aGlzLnJvdW5kRnJhbWUoc3RhdGUuc291cmNlRnJhbWUsIHJlbmRlclRleHR1cmVTeXN0ZW0uY3VycmVudCA/IHJlbmRlclRleHR1cmVTeXN0ZW0uY3VycmVudC5yZXNvbHV0aW9uIDogcmVuZGVyZXIucmVzb2x1dGlvbiwgcmVuZGVyVGV4dHVyZVN5c3RlbS5zb3VyY2VGcmFtZSwgcmVuZGVyVGV4dHVyZVN5c3RlbS5kZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSk7XG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuICAgICAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnJlbmRlclRleHR1cmUud2lkdGg7XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUucmVuZGVyVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy50ZW1wUmVjdDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS54ID0gMDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS55ID0gMDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICBzdGF0ZS5iaW5kaW5nU291cmNlRnJhbWUuY29weUZyb20ocmVuZGVyVGV4dHVyZVN5c3RlbS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIHN0YXRlLmJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLmNvcHlGcm9tKHJlbmRlclRleHR1cmVTeXN0ZW0uZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHN0YXRlLnRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgICAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHJlbmRlclRleHR1cmVTeXN0ZW0uYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKDAsIDAsIDAsIDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wcyBvZmYgdGhlIGZpbHRlciBhbmQgYXBwbGllcyBpdC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IGZpbHRlclN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGdsb2JhbFVuaWZvcm1zID0gdGhpcy5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtcztcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMub3V0cHV0RnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBpbnB1dFNpemUgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFNpemU7XG4gICAgICAgIHZhciBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICAgICAgdmFyIGlucHV0Q2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICBpbnB1dFNpemVbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICBpbnB1dFNpemVbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgaW5wdXRTaXplWzJdID0gMS4wIC8gaW5wdXRTaXplWzBdO1xuICAgICAgICBpbnB1dFNpemVbM10gPSAxLjAgLyBpbnB1dFNpemVbMV07XG4gICAgICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsyXSA9IDEuMCAvIGlucHV0UGl4ZWxbMF07XG4gICAgICAgIGlucHV0UGl4ZWxbM10gPSAxLjAgLyBpbnB1dFBpeGVsWzFdO1xuICAgICAgICBpbnB1dENsYW1wWzBdID0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICAgICAgaW5wdXRDbGFtcFsxXSA9IDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgICAgIGlucHV0Q2xhbXBbMl0gPSAoc3RhdGUuc291cmNlRnJhbWUud2lkdGggKiBpbnB1dFNpemVbMl0pIC0gKDAuNSAqIGlucHV0UGl4ZWxbMl0pO1xuICAgICAgICBpbnB1dENsYW1wWzNdID0gKHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSkgLSAoMC41ICogaW5wdXRQaXhlbFszXSk7XG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSByZWN0IGlmIGl0cyBsZWdhY3kuLlxuICAgICAgICBpZiAoc3RhdGUubGVnYWN5KSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyQXJlYSA9IGdsb2JhbFVuaWZvcm1zLmZpbHRlckFyZWE7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBzdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVszXSA9IHN0YXRlLnNvdXJjZUZyYW1lLnk7XG4gICAgICAgICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlclN0YWNrW2ZpbHRlclN0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoc3RhdGUucmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmxpdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShmbGlwLndpZHRoLCBmbGlwLmhlaWdodCwgc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICAgICAgICBmbG9wLmZpbHRlckZyYW1lID0gZmxpcC5maWx0ZXJGcmFtZTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgQ0xFQVJfTU9ERVMuQ0xFQVIsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBDTEVBUl9NT0RFUy5CTEVORCwgc3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3RhdGVQb29sLnB1c2goc3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXJUZXh0dXJlIHdpdGggY29ycmVzcG9uZGluZyBgZmlsdGVyRnJhbWVgLCBjbGVhcnMgaXQgaWYgbW9kZSBjb3JyZXNwb25kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBmaWx0ZXJUZXh0dXJlIC0gcmVuZGVyVGV4dHVyZSB0byBiaW5kLCBzaG91bGQgYmVsb25nIHRvIGZpbHRlciBwb29sIG9yIGZpbHRlciBzdGFja1xuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBjbGVhck1vZGUsIGJ5IGRlZmF1bHQgaXRzIENMRUFSL1lFUy4gU2VlIHtAbGluayBQSVhJLkNMRUFSX01PREVTfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYmluZEFuZENsZWFyID0gZnVuY3Rpb24gKGZpbHRlclRleHR1cmUsIGNsZWFyTW9kZSkge1xuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSB2b2lkIDApIHsgY2xlYXJNb2RlID0gQ0xFQVJfTU9ERVMuQ0xFQVI7IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlciwgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IF9hLnJlbmRlclRleHR1cmUsIHN0YXRlU3lzdGVtID0gX2Euc3RhdGU7XG4gICAgICAgIGlmIChmaWx0ZXJUZXh0dXJlID09PSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFja1t0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjay5sZW5ndGggLSAxXS5yZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAvLyBSZXN0b3JlIHByb2plY3Rpb24gdHJhbnNmb3JtIGlmIHJlbmRlcmluZyBpbnRvIHRoZSBvdXRwdXQgcmVuZGVyLXRhcmdldC5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0aGlzLmFjdGl2ZVN0YXRlLnRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgcHJvamVjdGlvbiB3aXRoaW4gZmlsdGVyaW5nIHBpcGVsaW5lLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlclRleHR1cmUgJiYgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSkge1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnRlbXBSZWN0O1xuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS54ID0gMDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUueSA9IDA7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlU3lzdGVtLmJpbmQoZmlsdGVyVGV4dHVyZSwgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsdGVyVGV4dHVyZSAhPT0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2subGVuZ3RoIC0gMV0ucmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZVN5c3RlbS5iaW5kKGZpbHRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVzdG9yZSBiaW5kaW5nIGZvciBvdXRwdXQgcmVuZGVyLXRhcmdldC5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZpbHRlclRleHR1cmUsIHRoaXMuYWN0aXZlU3RhdGUuYmluZGluZ1NvdXJjZUZyYW1lLCB0aGlzLmFjdGl2ZVN0YXRlLmJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciB0aGUgdGV4dHVyZSBpbiBCTElUIG1vZGUgaWYgYmxlbmRpbmcgaXMgZGlzYWJsZWQgb3IgdGhlIGZvcmNlQ2xlYXIgZmxhZyBpcyBzZXQuIFRoZSBibGVuZGluZ1xuICAgICAgICAvLyBpcyBzdG9yZWQgaW4gdGhlIDB0aCBiaXQgb2YgdGhlIHN0YXRlLlxuICAgICAgICB2YXIgYXV0b0NsZWFyID0gKHN0YXRlU3lzdGVtLnN0YXRlSWQgJiAxKSB8fCB0aGlzLmZvcmNlQ2xlYXI7XG4gICAgICAgIGlmIChjbGVhck1vZGUgPT09IENMRUFSX01PREVTLkNMRUFSXG4gICAgICAgICAgICB8fCAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5CTElUICYmIGF1dG9DbGVhcikpIHtcbiAgICAgICAgICAgIC8vIFVzZSBmcmFtZWJ1ZmZlci5jbGVhciBiZWNhdXNlIHdlIHdhbnQgdG8gY2xlYXIgdGhlIHdob2xlIGZpbHRlciB0ZXh0dXJlLCBub3QganVzdCB0aGUgZmlsdGVyaW5nXG4gICAgICAgICAgICAvLyBhcmVhIG92ZXIgd2hpY2ggdGhlIHNoYWRlcnMgYXJlIHJ1bi4gVGhpcyBpcyBiZWNhdXNlIGZpbHRlcnMgbWF5IHNhbXBsaW5nIG91dHNpZGUgb2YgaXQgKGUuZy4gYmx1cilcbiAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgY2xhbXBpbmcgdGhlaXIgYXJpdGhtZXRpYy5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IFtjbGVhck1vZGVdIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5hcHBseUZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICAvLyBTZXQgc3RhdGUgYmVmb3JlIGJpbmRpbmcsIHNvIGJpbmRBbmRDbGVhciBnZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQoZmlsdGVyLnN0YXRlKTtcbiAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXIob3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAvLyBzZXQgdGhlIHVuaWZvcm1zLi5cbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gaW5wdXQ7XG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy5maWx0ZXJHbG9iYWxzID0gdGhpcy5nbG9iYWxVbmlmb3JtcztcbiAgICAgICAgLy8gVE9ETyBtYWtlIGl0IHNvIHRoYXQgdGhlIG9yZGVyIG9mIHRoaXMgZG9lcyBub3QgbWF0dGVyLi5cbiAgICAgICAgLy8gYmVjYXVzZSBpdCBkb2VzIGF0IHRoZSBtb21lbnQgY29zIG9mIGdsb2JhbCB1bmlmb3Jtcy5cbiAgICAgICAgLy8gdGhleSBuZWVkIHRvIGdldCByZXN5bmNlZFxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChmaWx0ZXIpO1xuICAgICAgICBpZiAoZmlsdGVyLmxlZ2FjeSkge1xuICAgICAgICAgICAgdGhpcy5xdWFkVXYubWFwKGlucHV0Ll9mcmFtZSwgaW5wdXQuZmlsdGVyRnJhbWUpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWRVdik7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRV9TVFJJUCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgICAqXG4gICAgICogVXNlIGBvdXRwdXRNYXRyaXggKiB2VGV4dHVyZUNvb3JkYCBpbiB0aGUgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlU3ByaXRlTWF0cml4ID0gZnVuY3Rpb24gKG91dHB1dE1hdHJpeCwgc3ByaXRlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZlU3RhdGUsIHNvdXJjZUZyYW1lID0gX2Euc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgPSBfYS5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICB2YXIgb3JpZyA9IHNwcml0ZS5fdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LnNldChkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCAwLCAwLCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCwgc291cmNlRnJhbWUueCwgc291cmNlRnJhbWUueSk7XG4gICAgICAgIHZhciB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LlRFTVBfTUFUUklYKTtcbiAgICAgICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKDEuMCAvIG9yaWcud2lkdGgsIDEuMCAvIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBTeXN0ZW0uXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUaG9zZSB0ZXh0dXJlcyBoYXMgdG8gYmUgZGVzdHJveWVkIGJ5IFJlbmRlclRleHR1cmVTeXN0ZW0gb3IgRnJhbWVidWZmZXJTeXN0ZW1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcihmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSByZW5kZXIgdGV4dHVyZSB0byB1c2UgaW5zaWRlIGN1cnJlbnQgZmlsdGVyXG4gICAgICogVG8gYmUgY29tcGxpYW50IHdpdGggb2xkZXIgZmlsdGVycywgeW91IGNhbiB1c2UgcGFyYW1zIGluIGFueSBvcmRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtpbnB1dF0gLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmdldEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAoaW5wdXQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBzd2FwID0gaW5wdXQ7XG4gICAgICAgICAgICBpbnB1dCA9IHJlc29sdXRpb247XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc3dhcDtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IGlucHV0IHx8IHRoaXMuYWN0aXZlU3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGZpbHRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcbiAgICAgICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRhcmdldCB0byBmcmVlXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXR1cm5GaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW1wdGllcyB0aGUgdGV4dHVyZSBwb29sLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKHRydWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsbHMgYHRleHR1cmVQb29sLnJlc2l6ZSgpYCwgYWZmZWN0cyBmdWxsU2NyZWVuIHJlbmRlclRleHR1cmVzXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZSh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gZmlyc3QgcGFyYW1cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gc2Vjb25kIHBhcmFtXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS50cmFuc2Zvcm1BQUJCID0gZnVuY3Rpb24gKG1hdHJpeCwgcmVjdCkge1xuICAgICAgICB2YXIgbHQgPSB0ZW1wUG9pbnRzWzBdO1xuICAgICAgICB2YXIgbGIgPSB0ZW1wUG9pbnRzWzFdO1xuICAgICAgICB2YXIgcnQgPSB0ZW1wUG9pbnRzWzJdO1xuICAgICAgICB2YXIgcmIgPSB0ZW1wUG9pbnRzWzNdO1xuICAgICAgICBsdC5zZXQocmVjdC5sZWZ0LCByZWN0LnRvcCk7XG4gICAgICAgIGxiLnNldChyZWN0LmxlZnQsIHJlY3QuYm90dG9tKTtcbiAgICAgICAgcnQuc2V0KHJlY3QucmlnaHQsIHJlY3QudG9wKTtcbiAgICAgICAgcmIuc2V0KHJlY3QucmlnaHQsIHJlY3QuYm90dG9tKTtcbiAgICAgICAgbWF0cml4LmFwcGx5KGx0LCBsdCk7XG4gICAgICAgIG1hdHJpeC5hcHBseShsYiwgbGIpO1xuICAgICAgICBtYXRyaXguYXBwbHkocnQsIHJ0KTtcbiAgICAgICAgbWF0cml4LmFwcGx5KHJiLCByYik7XG4gICAgICAgIHZhciB4MCA9IE1hdGgubWluKGx0LngsIGxiLngsIHJ0LngsIHJiLngpO1xuICAgICAgICB2YXIgeTAgPSBNYXRoLm1pbihsdC55LCBsYi55LCBydC55LCByYi55KTtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5tYXgobHQueCwgbGIueCwgcnQueCwgcmIueCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWF4KGx0LnksIGxiLnksIHJ0LnksIHJiLnkpO1xuICAgICAgICByZWN0LnggPSB4MDtcbiAgICAgICAgcmVjdC55ID0geTA7XG4gICAgICAgIHJlY3Qud2lkdGggPSB4MSAtIHgwO1xuICAgICAgICByZWN0LmhlaWdodCA9IHkxIC0geTA7XG4gICAgfTtcbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJvdW5kRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUsIHJlc29sdXRpb24sIGJpbmRpbmdTb3VyY2VGcmFtZSwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUsIHRyYW5zZm9ybSkge1xuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHRyYW5zZm9ybS5hLCBiID0gdHJhbnNmb3JtLmIsIGMgPSB0cmFuc2Zvcm0uYywgZCA9IHRyYW5zZm9ybS5kO1xuICAgICAgICAgICAgLy8gU2tpcCBpZiBza2V3L3JvdGF0aW9uIHByZXNlbnQgaW4gbWF0cml4LCBleGNlcHQgZm9yIG11bHRpcGxlIG9mIDkwwrAgcm90YXRpb24uIElmIHJvdGF0aW9uXG4gICAgICAgICAgICAvLyBpcyBhIG11bHRpcGxlIG9mIDkwwrAsIHRoZW4gZWl0aGVyIHBhaXIgb2YgKGIsYykgb3IgKGEsZCkgd2lsbCBiZSAoMCwwKS5cbiAgICAgICAgICAgIGlmICgoYiAhPT0gMCB8fCBjICE9PSAwKSAmJiAoYSAhPT0gMCB8fCBkICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm0gPyB0ZW1wTWF0cml4LmNvcHlGcm9tKHRyYW5zZm9ybSkgOiB0ZW1wTWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIEdldCBmb3J3YXJkIHRyYW5zZm9ybSBmcm9tIHdvcmxkIHNwYWNlIHRvIHNjcmVlbiBzcGFjZVxuICAgICAgICB0cmFuc2Zvcm1cbiAgICAgICAgICAgIC50cmFuc2xhdGUoLWJpbmRpbmdTb3VyY2VGcmFtZS54LCAtYmluZGluZ1NvdXJjZUZyYW1lLnkpXG4gICAgICAgICAgICAuc2NhbGUoYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUud2lkdGggLyBiaW5kaW5nU291cmNlRnJhbWUud2lkdGgsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIGJpbmRpbmdTb3VyY2VGcmFtZS5oZWlnaHQpXG4gICAgICAgICAgICAudHJhbnNsYXRlKGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLngsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLnkpO1xuICAgICAgICAvLyBDb252ZXJ0IGZyYW1lIHRvIHNjcmVlbiBzcGFjZVxuICAgICAgICB0aGlzLnRyYW5zZm9ybUFBQkIodHJhbnNmb3JtLCBmcmFtZSk7XG4gICAgICAgIC8vIFJvdW5kIGZyYW1lIGluIHNjcmVlbiBzcGFjZVxuICAgICAgICBmcmFtZS5jZWlsKHJlc29sdXRpb24pO1xuICAgICAgICAvLyBQcm9qZWN0IGJhY2sgaW50byB3b3JsZCBzcGFjZS5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm1BQUJCKHRyYW5zZm9ybS5pbnZlcnQoKSwgZnJhbWUpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQmFzZSBmb3IgYSBjb21tb24gb2JqZWN0IHJlbmRlcmVyIHRoYXQgY2FuIGJlIHVzZWQgYXMgYVxuICogc3lzdGVtIHJlbmRlcmVyIHBsdWdpbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JqZWN0UmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBlbXB0eSB0aGUgY3VycmVudFxuICAgICAqIGJhdGNoIGJ5IHJlbmRlcmluZyBvYmplY3RzIG5vdy5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGZsdXNoIVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cnVjdGlvbiBtZXRob2QgdGhhdCBmcmVlcyBhbGwgcmVzb3VyY2VzLiBUaGlzXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBieSBzdWJjbGFzc2VzLlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0dWIgbWV0aG9kIHRoYXQgaW5pdGlhbGl6ZXMgYW55IHN0YXRlIHJlcXVpcmVkIGJlZm9yZVxuICAgICAqIHJlbmRlcmluZyBzdGFydHMuIEl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBgcHJlcmVuZGVyYFxuICAgICAqIHNpZ25hbCwgd2hpY2ggb2NjdXJzIGV2ZXJ5IGZyYW1lLCBpbiB0aGF0IGl0IGlzIGNhbGxlZFxuICAgICAqIHdoZW5ldmVyIGFuIG9iamVjdCByZXF1ZXN0cyBfdGhpc18gcmVuZGVyZXIgc3BlY2lmaWNhbGx5LlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gc2V0IHRoZSBzaGFkZXIuLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHJlbmRlcmVyLiBJdCBzaG91bGQgZnJlZSB1cCBhbnkgc3RhdGUgYW5kXG4gICAgICogYmVjb21lIGRvcm1hbnQuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtlZXBzIHRoZSBvYmplY3QgdG8gcmVuZGVyLiBJdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAgICAgKiByZW5kZXJlZCBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKF9vYmplY3QpIHtcbiAgICAgICAgLy8gcmVuZGVyIHRoZSBvYmplY3RcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGJhdGNoaW5nLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmF0Y2hTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBfdGhpcy5lbXB0eVJlbmRlcmVyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5PYmplY3RSZW5kZXJlcn0gb2JqZWN0UmVuZGVyZXIgLSBUaGUgb2JqZWN0IHJlbmRlcmVyIHRvIHVzZS5cbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuc2V0T2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiAob2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBvYmplY3RSZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzeXN0ZW0gdG8gYW4gZW1wdHkgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmR5IGZ1bmN0aW9uIGZvciBiYXRjaCByZW5kZXJlcnM6IGNvcGllcyBib3VuZCB0ZXh0dXJlcyBpbiBmaXJzdCBtYXhUZXh0dXJlcyBsb2NhdGlvbnMgdG8gYXJyYXlcbiAgICAgKiBzZXRzIGFjdHVhbCBfYmF0Y2hMb2NhdGlvbiBmb3IgdGhlbVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlW119IGFyciAtIGFyciBjb3B5IGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIGNvcGllZCBlbGVtZW50c1xuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5jb3B5Qm91bmRUZXh0dXJlcyA9IGZ1bmN0aW9uIChhcnIsIG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBib3VuZFRleHR1cmVzW2ldIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoYXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXNzaWducyBiYXRjaCBsb2NhdGlvbnMgdG8gdGV4dHVyZXMgaW4gYXJyYXkgYmFzZWQgb24gYm91bmRUZXh0dXJlcyBzdGF0ZS5cbiAgICAgKiBBbGwgdGV4dHVyZXMgaW4gdGV4QXJyYXkgc2hvdWxkIGhhdmUgYF9iYXRjaEVuYWJsZWQgPSBfYmF0Y2hJZGAsXG4gICAgICogYW5kIHRoZWlyIGNvdW50IHNob3VsZCBiZSBsZXNzIHRoYW4gYG1heFRleHR1cmVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXkgLSB0ZXh0dXJlcyB0byBib3VuZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSBib3VuZFRleHR1cmVzIC0gY3VycmVudCBzdGF0ZSBvZiBib3VuZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiYXRjaElkIC0gbWFya2VyIGZvciBfYmF0Y2hFbmFibGVkIHBhcmFtIG9mIHRleHR1cmVzIGluIHRleEFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIHRleHR1cmUgbG9jYXRpb25zIHRvIG1hbmlwdWxhdGVcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuYm91bmRBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgYmF0Y2hJZCwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGV4QXJyYXkuZWxlbWVudHMsIGlkcyA9IHRleEFycmF5LmlkcywgY291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBsb2MgPSB0ZXguX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICBpZiAobG9jID49IDAgJiYgbG9jIDwgbWF4VGV4dHVyZXNcbiAgICAgICAgICAgICAgICAmJiBib3VuZFRleHR1cmVzW2xvY10gPT09IHRleCkge1xuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGxvYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZCAmJiBib3VuZC5fYmF0Y2hFbmFibGVkID09PSBiYXRjaElkXG4gICAgICAgICAgICAgICAgICAgICYmIGJvdW5kLl9iYXRjaExvY2F0aW9uID09PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgdGV4Ll9iYXRjaExvY2F0aW9uID0gajtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgQ09OVEVYVF9VSURfQ09VTlRFUiA9IDA7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgY29udGV4dC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29udGV4dFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGV4dFN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb250ZXh0U3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRWl0aGVyIDEgb3IgMiB0byByZWZsZWN0IHRoZSBXZWJHTCB2ZXJzaW9uIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndlYkdMVmVyc2lvbiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnNpb25zIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kcmF3X2J1ZmZlcnN9IGRyYXdCdWZmZXJzIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZGVwdGhfdGV4dHVyZX0gZGVwdGhUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3RleHR1cmVfZmxvYXR9IGZsb2F0VGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2xvc2VfY29udGV4dH0gbG9zZUNvbnRleHQgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdmVydGV4X2FycmF5X29iamVjdH0gdmVydGV4QXJyYXlPYmplY3QgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWN9IGFuaXNvdHJvcGljRmlsdGVyaW5nIC0gV2ViR0wgdjEgYW5kIHYyIGV4dGVuc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRmVhdHVyZXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgY29udGV4dFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHVpbnQzMkluZGljZXMgLSBTdXBwb3J0cyBvZiAzMi1iaXQgaW5kaWNlcyBidWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzID0ge1xuICAgICAgICAgICAgdWludDMySW5kaWNlczogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIC8vIEJpbmQgZnVuY3Rpb25zXG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gX3RoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKF90aGlzKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgX3RoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250ZXh0U3lzdGVtLnByb3RvdHlwZSwgXCJpc0xvc3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBjb250ZXh0IGlzIGxvc3RcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBjb250ZXh0IGNoYW5nZSBldmVudFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIG5ldyB3ZWJnbCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5pbml0RnJvbUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdChnbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29udGV4dCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21PcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5jcmVhdGVDb250ZXh0KHRoaXMucmVuZGVyZXIudmlldywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW5pdEZyb21Db250ZXh0KGdsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBDb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZVxuICAgICAqICAgIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChjYW52YXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGdsO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKSB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmdldEV4dGVuc2lvbnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2w7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBdXRvLXBvcHVsYXRlIHRoZSBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdGltZSB0byBzZXQgdXAgZGVmYXVsdCBleHRlbnNpb25zIHRoYXQgUGl4aSB1c2VzLlxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgY29tbW9uID0ge1xuICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICBzM3RjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyksXG4gICAgICAgICAgICBzM3RjX3NSR0I6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYicpLFxuICAgICAgICAgICAgZXRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMnKSxcbiAgICAgICAgICAgIGV0YzE6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEnKSxcbiAgICAgICAgICAgIHB2cnRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpXG4gICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyksXG4gICAgICAgICAgICBhdGM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0YycpLFxuICAgICAgICAgICAgYXN0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YycpXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIGNvbW1vbiwge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZXB0aF90ZXh0dXJlJyksXG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JyksXG4gICAgICAgICAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgdWludDMyRWxlbWVudEluZGV4OiBnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywgY29tbW9uLCB7XG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGNvbG9yQnVmZmVyRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQodGhpcy5nbCk7XG4gICAgfTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS52YWxpZGF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuICAgICAgICB2YXIgaXNXZWJHbDIgPSAnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gc2VsZiAmJiBnbCBpbnN0YW5jZW9mIHNlbGYuV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcbiAgICAgICAgaWYgKGlzV2ViR2wyKSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgICAgIGlmICghYXR0cmlidXRlcy5zdGVuY2lsKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYXN1aW50MzIgPSBpc1dlYkdsMiB8fCAhIWdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpO1xuICAgICAgICB0aGlzLnN1cHBvcnRzLnVpbnQzMkluZGljZXMgPSBoYXN1aW50MzI7XG4gICAgICAgIGlmICghaGFzdWludDMyKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCAzMiBpbmRleCBidWZmZXIsIGNvbXBsZXggZ3JhcGhpY3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRleHRTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEludGVybmFsIGZyYW1lYnVmZmVyIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTEZyYW1lYnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTEZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogc3RlbmNpbCtkZXB0aCAsIHVzdWFsbHkgY29zdHMgMzJiaXRzIHBlciBwaXhlbFxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlciBmb3JtYXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxhdGVzdCBrbm93biB2ZXJzaW9uIG9mIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RlZCBBQSBzYW1wbGVzIG51bWJlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgTVNBQSwgd2UgdXNlIHRoaXMgUmVuZGVyYnVmZmVyIGluc3RlYWQgb2YgY29sb3JUZXh0dXJlc1swXSB3aGVuIHdlIHdyaXRlIGluZm9cbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1zYWFCdWZmZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW4gY2FzZSB3ZSB1c2UgTVNBQSwgdGhpcyBpcyBhY3R1YWwgZnJhbWVidWZmZXIgdGhhdCBoYXMgY29sb3JUZXh0dXJlc1swXVxuICAgICAgICAgKiBUaGUgY29udGVudHMgb2YgdGhhdCBmcmFtZWJ1ZmZlciBhcmUgcmVhZCB3aGVuIHdlIHVzZSB0aGF0IHJlbmRlclRleHR1cmUgaW4gc3ByaXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGl0RnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gR0xGcmFtZWJ1ZmZlcjtcbn0oKSk7XG5cbnZhciB0ZW1wUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZnJhbWVidWZmZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGcmFtZWJ1ZmZlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRnJhbWVidWZmZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRnJhbWVidWZmZXJTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgbWFuYWdlZCBmcmFtZWJ1ZmZlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyYW1lYnVmZmVyIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7RnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5rbm93bkZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKDEwLCAxMCk7XG4gICAgICAgIF90aGlzLm1zYWFTYW1wbGVzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRyYXdCdWZmZXJzO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xKSB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoYWN0aXZlVGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEuZHJhd0J1ZmZlcnNXRUJHTChhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzTVJUID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2ViR0wyXG4gICAgICAgICAgICAvLyBjYWNoZSBwb3NzaWJsZSBNU0FBIHNhbXBsZXNcbiAgICAgICAgICAgIHRoaXMubXNhYVNhbXBsZXMgPSBnbC5nZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlcihnbC5SRU5ERVJCVUZGRVIsIGdsLlJHQkE4LCBnbC5TQU1QTEVTKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IFtmcmFtZWJ1ZmZlcl1cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gZnJhbWUsIGRlZmF1bHQgaXMgZnJhbWVidWZmZXIgc2l6ZVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyLCBmcmFtZSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gY2FjaGluZyBsYXllciFcbiAgICAgICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSBmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgdGV4dHVyZXMgYXJlIHVuYm91bmQuLlxuICAgICAgICAgICAgLy8gbm93IGNoZWNrIGZvciB1cGRhdGVzLi4uXG4gICAgICAgICAgICBpZiAoZmJvLmRpcnR5SWQgIT09IGZyYW1lYnVmZmVyLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICBmYm8uZGlydHlJZCA9IGZyYW1lYnVmZmVyLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUZvcm1hdCAhPT0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5Rm9ybWF0ID0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmYm8uZGlydHlTaXplICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleCA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZCh0ZXgucGFyZW50VGV4dHVyZUFycmF5IHx8IHRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgdGhpcy5yZW5kZXJlci53aWR0aCwgdGhpcy5yZW5kZXJlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCdzIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggLSBYIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgLSBZIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIC0gV2lkdGggb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHZpZXdwb3J0XG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnNldFZpZXdwb3J0ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIHYgPSB0aGlzLnZpZXdwb3J0O1xuICAgICAgICBpZiAodi53aWR0aCAhPT0gd2lkdGggfHwgdi5oZWlnaHQgIT09IGhlaWdodCB8fCB2LnggIT09IHggfHwgdi55ICE9PSB5KSB7XG4gICAgICAgICAgICB2LnggPSB4O1xuICAgICAgICAgICAgdi55ID0geTtcbiAgICAgICAgICAgIHYud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHYuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5nbC52aWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgY3VycmVudCB3aWR0aCBhbmQgaGVpZ2h0LiBSZXR1cm5zIG9iamVjdCB3aXRoIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHZhbHVlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGVtcFxuICAgICAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLmN1cnJlbnQud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50LmhlaWdodCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMucmVuZGVyZXIud2lkdGgsIGhlaWdodDogdGhpcy5yZW5kZXJlci5oZWlnaHQgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjb2xvciBvZiB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHIgLSBSZWQgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZyAtIEdyZWVuIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGIgLSBCbHVlIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgLSBBbHBoYSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7UElYSS5CVUZGRVJfQklUU30gW21hc2s9QlVGRkVSX0JJVFMuQ09MT1IgfCBCVUZGRVJfQklUUy5ERVBUSF0gLSBCaXR3aXNlIE9SIG9mIG1hc2tzXG4gICAgICogIHRoYXQgaW5kaWNhdGUgdGhlIGJ1ZmZlcnMgdG8gYmUgY2xlYXJlZCwgYnkgZGVmYXVsdCBDT0xPUiBhbmQgREVQVEggYnVmZmVycy5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAociwgZywgYiwgYSwgbWFzaykge1xuICAgICAgICBpZiAobWFzayA9PT0gdm9pZCAwKSB7IG1hc2sgPSBCVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIOyB9XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIC8vIFRPRE8gY2xlYXIgY29sb3IgY2FuIGJlIHNldCBvbmx5IG9uZSByaWdodD9cbiAgICAgICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICAgICAgZ2wuY2xlYXIobWFzayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyYW1lYnVmZmVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICogQHJldHVybnMge1BJWEkuR0xGcmFtZWJ1ZmZlcn0gY3JlYXRlZCBHTEZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmluaXRGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZmJvID0gbmV3IEdMRnJhbWVidWZmZXIoZ2wuY3JlYXRlRnJhbWVidWZmZXIoKSk7XG4gICAgICAgIGZiby5tdWx0aXNhbXBsZSA9IHRoaXMuZGV0ZWN0U2FtcGxlcyhmcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSk7XG4gICAgICAgIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdID0gZmJvO1xuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmJvO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUucmVzaXplRnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGNvbG9yVGV4dHVyZXNbaV0sIDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgLy8gYmluZCB0aGUgY29sb3IgdGV4dHVyZVxuICAgICAgICB2YXIgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG4gICAgICAgIHZhciBjb3VudCA9IGNvbG9yVGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICBpZiAoIWdsLmRyYXdCdWZmZXJzKSB7XG4gICAgICAgICAgICBjb3VudCA9IE1hdGgubWluKGNvdW50LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmJvLm11bHRpc2FtcGxlID4gMSkge1xuICAgICAgICAgICAgZmJvLm1zYWFCdWZmZXIgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXVsdGlzYW1wbGUsIGdsLlJHQkE4LCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjdGl2ZVRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IDAgJiYgZmJvLm11bHRpc2FtcGxlID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgdmFyIHBhcmVudFRleHR1cmUgPSB0ZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQocGFyZW50VGV4dHVyZSwgMCk7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLCB0ZXh0dXJlLnRhcmdldCwgcGFyZW50VGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIGFjdGl2ZVRleHR1cmVzLnB1c2goZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlVGV4dHVyZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMoYWN0aXZlVGV4dHVyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciB3cml0ZURlcHRoVGV4dHVyZSA9IHRoaXMud3JpdGVEZXB0aFRleHR1cmU7XG4gICAgICAgICAgICBpZiAod3JpdGVEZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVwdGhUZXh0dXJlID0gZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGRlcHRoVGV4dHVyZSwgMCk7XG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlRFWFRVUkVfMkQsIGRlcHRoVGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZiby5zdGVuY2lsICYmIChmcmFtZWJ1ZmZlci5zdGVuY2lsIHx8IGZyYW1lYnVmZmVyLmRlcHRoKSkge1xuICAgICAgICAgICAgZmJvLnN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICAvLyBUT0RPLi4gdGhpcyBpcyBkZXB0aCBBTkQgc3RlbmNpbD9cbiAgICAgICAgICAgIGlmICghZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7IC8vIHlvdSBjYW4ndCBoYXZlIGJvdGgsIHNvIG9uZSBzaG91bGQgdGFrZSBwcmlvcml0eSBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVjdHMgbnVtYmVyIG9mIHNhbXBsZXMgdGhhdCBpcyBub3QgbW9yZSB0aGFuIGEgcGFyYW0gYnV0IGFzIGNsb3NlIHRvIGl0IGFzIHBvc3NpYmxlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTVNBQV9RVUFMSVRZfSBzYW1wbGVzIC0gbnVtYmVyIG9mIHNhbXBsZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5NU0FBX1FVQUxJVFl9IC0gcmVjb21tZW5kZWQgbnVtYmVyIG9mIHNhbXBsZXNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGV0ZWN0U2FtcGxlcyA9IGZ1bmN0aW9uIChzYW1wbGVzKSB7XG4gICAgICAgIHZhciBtc2FhU2FtcGxlcyA9IHRoaXMubXNhYVNhbXBsZXM7XG4gICAgICAgIHZhciByZXMgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgaWYgKHNhbXBsZXMgPD0gMSB8fCBtc2FhU2FtcGxlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zYWFTYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobXNhYVNhbXBsZXNbaV0gPD0gc2FtcGxlcykge1xuICAgICAgICAgICAgICAgIHJlcyA9IG1zYWFTYW1wbGVzW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXMgPT09IDEpIHtcbiAgICAgICAgICAgIHJlcyA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPbmx5IHdvcmtzIHdpdGggV2ViR0wyXG4gICAgICpcbiAgICAgKiBibGl0cyBmcmFtZWJ1ZmZlciB0byBhbm90aGVyIG9mIHRoZSBzYW1lIG9yIGJpZ2dlciBzaXplXG4gICAgICogYWZ0ZXIgdGhhdCB0YXJnZXQgZnJhbWVidWZmZXIgaXMgYm91bmRcbiAgICAgKlxuICAgICAqIEZhaWxzIHdpdGggV2ViR0wgd2FybmluZyBpZiBibGl0cyBtdWx0aXNhbXBsZSBmcmFtZWJ1ZmZlciB0byBkaWZmZXJlbnQgc2l6ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBbZnJhbWVidWZmZXJdIC0gYnkgZGVmYXVsdCBpdCBibGl0cyBcImludG8gaXRzZWxmXCIsIGZyb20gcmVuZGVyQnVmZmVyIHRvIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3NvdXJjZVBpeGVsc10gLSBzb3VyY2UgcmVjdGFuZ2xlIGluIHBpeGVsc1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtkZXN0UGl4ZWxzXSAtIGRlc3QgcmVjdGFuZ2xlIGluIHBpeGVscywgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyBzb3VyY2VQaXhlbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmxpdCA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgc291cmNlUGl4ZWxzLCBkZXN0UGl4ZWxzKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGN1cnJlbnQgPSBfYS5jdXJyZW50LCByZW5kZXJlciA9IF9hLnJlbmRlcmVyLCBnbCA9IF9hLmdsLCBDT05URVhUX1VJRCA9IF9hLkNPTlRFWFRfVUlEO1xuICAgICAgICBpZiAocmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmJvID0gY3VycmVudC5nbEZyYW1lYnVmZmVyc1tDT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZmJvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgaWYgKGZiby5tdWx0aXNhbXBsZSA8PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFmYm8uYmxpdEZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcihjdXJyZW50LndpZHRoLCBjdXJyZW50LmhlaWdodCk7XG4gICAgICAgICAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlci5hZGRDb2xvclRleHR1cmUoMCwgY3VycmVudC5jb2xvclRleHR1cmVzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lYnVmZmVyID0gZmJvLmJsaXRGcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyLndpZHRoID0gY3VycmVudC53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghc291cmNlUGl4ZWxzKSB7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMgPSB0ZW1wUmVjdGFuZ2xlO1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzLndpZHRoID0gY3VycmVudC53aWR0aDtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscy5oZWlnaHQgPSBjdXJyZW50LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlc3RQaXhlbHMpIHtcbiAgICAgICAgICAgIGRlc3RQaXhlbHMgPSBzb3VyY2VQaXhlbHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNhbWVTaXplID0gc291cmNlUGl4ZWxzLndpZHRoID09PSBkZXN0UGl4ZWxzLndpZHRoICYmIHNvdXJjZVBpeGVscy5oZWlnaHQgPT09IGRlc3RQaXhlbHMuaGVpZ2h0O1xuICAgICAgICB0aGlzLmJpbmQoZnJhbWVidWZmZXIpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuUkVBRF9GUkFNRUJVRkZFUiwgZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgZ2wuYmxpdEZyYW1lYnVmZmVyKHNvdXJjZVBpeGVscy54LCBzb3VyY2VQaXhlbHMueSwgc291cmNlUGl4ZWxzLndpZHRoLCBzb3VyY2VQaXhlbHMuaGVpZ2h0LCBkZXN0UGl4ZWxzLngsIGRlc3RQaXhlbHMueSwgZGVzdFBpeGVscy53aWR0aCwgZGVzdFBpeGVscy5oZWlnaHQsIGdsLkNPTE9SX0JVRkZFUl9CSVQsIHNhbWVTaXplID8gZ2wuTkVBUkVTVCA6IGdsLkxJTkVBUik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBmcmFtZWJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXIgLSBmcmFtZWJ1ZmZlciB0aGF0IGhhcyB0byBiZSBkaXNwb3NlZCBvZlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyLCBjb250ZXh0TG9zdCkge1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmICghZmJvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuaW5kZXhPZihmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGlmIChmYm8uc3RlbmNpbCkge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGFsbCBmcmFtZWJ1ZmZlcnMsIGJ1dCBub3QgdGV4dHVyZXMgYm91bmQgdG8gdGhlbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIChjb250ZXh0TG9zdCkge1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycztcbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlRnJhbWVidWZmZXIobGlzdFtpXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3JjaW5nIGNyZWF0aW9uIG9mIHN0ZW5jaWwgYnVmZmVyIGZvciBjdXJyZW50IGZyYW1lYnVmZmVyLCBpZiBpdCB3YXNuJ3QgZG9uZSBiZWZvcmUuXG4gICAgICogVXNlZCBieSBNYXNrU3lzdGVtLCB3aGVuIGl0cyB0aW1lIHRvIHVzZSBzdGVuY2lsIG1hc2sgZm9yIEdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJdHMgYW4gYWx0ZXJuYXRpdmUgZm9yIHB1YmxpYyBsYXp5IGBmcmFtZWJ1ZmZlci5lbmFibGVTdGVuY2lsYCwgaW4gY2FzZSB3ZSBuZWVkIHN0ZW5jaWwgd2l0aG91dCByZWJpbmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5mb3JjZVN0ZW5jaWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFmYm8gfHwgZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZWJ1ZmZlci5lbmFibGVTdGVuY2lsKCk7XG4gICAgICAgIHZhciB3ID0gZnJhbWVidWZmZXIud2lkdGg7XG4gICAgICAgIHZhciBoID0gZnJhbWVidWZmZXIuaGVpZ2h0O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCB3LCBoKTtcbiAgICAgICAgZmJvLnN0ZW5jaWwgPSBzdGVuY2lsO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmVzZXRzIGZyYW1lYnVmZmVyIHN0b3JlZCBzdGF0ZSwgYmluZHMgc2NyZWVuIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSByZW5kZXJUZXh0dXJlIHJlc2V0KClcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEZyYW1lYnVmZmVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIEdMQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMQnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlciB8fCBudWxsO1xuICAgICAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IC0xO1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIEdMQnVmZmVyO1xufSgpKTtcblxudmFyIGJ5dGVTaXplTWFwJDEgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHZW9tZXRyeVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnlTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnlTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oYXNWYW8gPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGhhcyBgQU5HTEVfaW5zdGFuY2VkX2FycmF5c2AgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHN1cHBvcnQgYGdsLlVOU0lHTkVEX0lOVGAgaW4gYGdsLmRyYXdFbGVtZW50c2Agb3IgYGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZGBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRHZW9tZXRyaWVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGJ1ZmZlcnMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAoY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlVmFvRXh0ZW5zaW9uXzEgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy52ZXJ0ZXhBcnJheU9iamVjdDtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uXzEgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hdGl2ZVZhb0V4dGVuc2lvbl8xKSB7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb25fMS5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uXzEuYmluZFZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbl8xLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzVmFvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlRXh0XzEgPSBnbC5nZXRFeHRlbnNpb24oJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZUV4dF8xKSB7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRShhLCBiKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgfHwgISFjb250ZXh0LmV4dGVuc2lvbnMudWludDMyRWxlbWVudEluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgZ2VvbWV0cnkgc28gdGhhdCBpcyBjYW4gYmUgZHJhd24uIENyZWF0aW5nIGEgVmFvIGlmIHJlcXVpcmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gaW5zdGFuY2Ugb2YgZ2VvbWV0cnkgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IFtzaGFkZXJdIC0gaW5zdGFuY2Ugb2Ygc2hhZGVyIHRvIHVzZSB2YW8gZm9yXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHNoYWRlcikge1xuICAgICAgICBzaGFkZXIgPSBzaGFkZXIgfHwgdGhpcy5yZW5kZXJlci5zaGFkZXIuc2hhZGVyO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBub3Qgc3VyZSB0aGUgYmVzdCB3YXkgdG8gYWRkcmVzcyB0aGlzLi5cbiAgICAgICAgLy8gY3VycmVudGx5IGRpZmZlcmVudCBzaGFkZXJzIHJlcXVpcmUgZGlmZmVyZW50IFZBT3MgZm9yIHRoZSBzYW1lIGdlb21ldHJ5XG4gICAgICAgIC8vIFN0aWxsIG11bGxpbmcgb3ZlciB0aGUgYmVzdCB3YXkgdG8gc29sdmUgdGhpcyBvbmUuLlxuICAgICAgICAvLyB3aWxsIGxpa2VseSBuZWVkIHRvIG1vZGlmeSB0aGUgc2hhZGVyIGF0dHJpYnV0ZSBsb2NhdGlvbnMgYXQgcnVuIHRpbWUhXG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBpbmNSZWZDb3VudCA9IGZhbHNlO1xuICAgICAgICBpZiAoIXZhb3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICAgICAgaW5jUmVmQ291bnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YW8gPSB2YW9zW3NoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmluaXRHZW9tZXRyeVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0sIGluY1JlZkNvdW50KTtcbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNWYW8pIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIC0gb3B0aW1pc2UgbGF0ZXIhXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9vcCB0aHJvdWdoIGlmIG5vdGhpbmcgY2hhbmdlZCFcbiAgICAgICAgLy8gbWF5YmUgbG9vayB0byBhZGQgYW4gJ2F1dG91cGRhdGUnIHRvIGdlb21ldHJ5P1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IGFuZCB1bmJpbmQgYW55IGFjdGl2ZSBWQU8gYW5kIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJ1ZmZlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW2ldO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpIHtcbiAgICAgICAgICAgICAgICBnbEJ1ZmZlci51cGRhdGVJRCA9IGJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvdWxkIGNoYW5nZSBpZiB0aGUgVkFPIGNoYW5nZXMuLi5cbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNvbWUgdXAgd2l0aCBhIGJldHRlciB3YXkgdG8gY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLmJvdW5kQnVmZmVyc1t0eXBlXSAhPT0gZ2xCdWZmZXIpXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcih0eXBlLCBnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0IGlzIGFsd2F5cyB6ZXJvIGZvciBub3chXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlclN1YkRhdGEodHlwZSwgMCwgYnVmZmVyLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuICAgICAgICAgICAgICAgICAgICBnbEJ1ZmZlci5ieXRlTGVuZ3RoID0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YSh0eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGF0aWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY2hlY2tDb21wYXRpYmlsaXR5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIC8vIGdlb21ldHJ5IG11c3QgaGF2ZSBhdCBsZWFzdCBhbGwgdGhlIGF0dHJpYnV0ZXMgdGhhdCB0aGUgc2hhZGVyIHJlcXVpcmVzLlxuICAgICAgICB2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIGZvciAodmFyIGogaW4gc2hhZGVyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFnZW9tZXRyeUF0dHJpYnV0ZXNbal0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXFxcIlwiICsgaiArIFwiXFxcIiBhdHRyaWJ1dGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZ2VvbWV0cnkgYW5kIHByb2dyYW0gYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gdG8gZ2V0IHNpZ25hdHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSB0byB0ZXN0IGdlb21ldHJ5IGFnYWluc3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSBnZW9tZXRyeSBhbmQgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIHZhciBzdHJpbmdzID0gWydnJywgZ2VvbWV0cnkuaWRdO1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnMpIHtcbiAgICAgICAgICAgIGlmIChzaGFkZXJBdHRyaWJ1dGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaW5jUmVmQ291bnQ9ZmFsc2VdIC0gSW5jcmVtZW50IHJlZkNvdW50IG9mIGFsbCBnZW9tZXRyeSBidWZmZXJzXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmluaXRHZW9tZXRyeVZhbyA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSwgaW5jUmVmQ291bnQpIHtcbiAgICAgICAgaWYgKGluY1JlZkNvdW50ID09PSB2b2lkIDApIHsgaW5jUmVmQ291bnQgPSB0cnVlOyB9XG4gICAgICAgIHRoaXMuY2hlY2tDb21wYXRpYmlsaXR5KGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIHNpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICAgICAgdmFyIHZhb09iamVjdEhhc2ggPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIHZhbyA9IHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXTtcbiAgICAgICAgaWYgKHZhbykge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGdpdmUgdXMgZWFzeSBhY2Nlc3MgdG8gdGhlIHZhb1xuICAgICAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgICAgIHJldHVybiB2YW87XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciB0ZW1wU3RyaWRlID0ge307XG4gICAgICAgIHZhciB0ZW1wU3RhcnQgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaiBpbiBidWZmZXJzKSB7XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2pdID0gMDtcbiAgICAgICAgICAgIHRlbXBTdGFydFtqXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSAmJiBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0pIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2pdLnNpemUgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0uc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQSVhJIEdlb21ldHJ5IGF0dHJpYnV0ZSAnXCIgKyBqICsgXCInIHNpemUgY2Fubm90IGJlIGRldGVybWluZWQgKGxpa2VseSB0aGUgYm91bmQgc2hhZGVyIGRvZXMgbm90IGhhdmUgdGhlIGF0dHJpYnV0ZSlcIik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlc1tqXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbal0uc2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlc1tqXS50eXBlXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgdmFyIGF0dHJpYlNpemUgPSBhdHRyaWJ1dGUuc2l6ZTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RyaWRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXSA9PT0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSA9IHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0YXJ0ID0gdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgICAgIHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXSArPSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGUudHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgIC8vIGZpcnN0IHVwZGF0ZSAtIGFuZCBjcmVhdGUgdGhlIGJ1ZmZlcnMhXG4gICAgICAgIC8vIG9ubHkgY3JlYXRlIGEgZ2wgYnVmZmVyIGlmIGl0IGFjdHVhbGx5IGdldHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tpXTtcbiAgICAgICAgICAgIGlmICghYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdID0gbmV3IEdMQnVmZmVyKGdsLmNyZWF0ZUJ1ZmZlcigpKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0gPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluY1JlZkNvdW50KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAtIG1heWJlIG1ha2UgdGhpcyBhIGRhdGEgb2JqZWN0P1xuICAgICAgICAvLyBsZXRzIHdhaXQgdG8gc2VlIGlmIHdlIG5lZWQgdG8gZmlyc3QhXG4gICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgY2FjaGUhXG4gICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICAgIHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXSA9IHZhbztcbiAgICAgICAgcmV0dXJuIHZhbztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IGJ1ZmZlciAtIGJ1ZmZlciB3aXRoIGRhdGFcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBkZWxldGVWZXJ0ZXhBcnJheVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgY29udGV4dExvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdO1xuICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgICAgICBpZiAoIWdsQnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZ2VvbWV0cnlcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgd2l0aCBidWZmZXJzLiBPbmx5IFZBTyB3aWxsIGJlIGRpc3Bvc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBjb250ZXh0TG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdO1xuICAgICAgICB2YXIgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgICAgICBpZiAoIXZhb3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWYgPSBidWZmZXJzW2ldLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBidWYucmVmQ291bnQtLTtcbiAgICAgICAgICAgIGlmIChidWYucmVmQ291bnQgPT09IDAgJiYgIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKGJ1ZmZlcnNbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciB2YW9JZCBpbiB2YW9zKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIG9ubHkgc2lnbmF0dXJlcywgZXZlcnl0aGluZyBlbHNlIGFyZSBjb3BpZXNcbiAgICAgICAgICAgICAgICBpZiAodmFvSWRbMF0gPT09ICdnJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFvID0gdmFvc1t2YW9JZF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gPT09IHZhbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkaXNwb3NlIGFsbCBXZWJHTCByZXNvdXJjZXMgb2YgYWxsIG1hbmFnZWQgZ2VvbWV0cmllcyBhbmQgYnVmZmVyc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGBnbC5kZWxldGVgIGNhbGxzXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VBbGwgPSBmdW5jdGlvbiAoY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEdlb21ldHJpZXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlR2VvbWV0cnkodGhpcy5tYW5hZ2VkR2VvbWV0cmllc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkQnVmZmVycyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIodGhpcy5tYW5hZ2VkQnVmZmVyc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlIHZlcnRleCBhcnJheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFNoYWRlciBwcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmFjdGl2YXRlVmFvID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHVwZGF0ZSB0aGUgaW5kZXggYnVmZmVyIGlmIHdlIGhhdmUgb25lLi5cbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdlb21ldHJ5LmluZGV4QnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RCdWZmZXIgPSBudWxsO1xuICAgICAgICAvLyBhZGQgYSBuZXcgb25lIVxuICAgICAgICBmb3IgKHZhciBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAocHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RCdWZmZXIgIT09IGdsQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0QnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5sb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGludHJvZHVjZSBzdGF0ZSBhZ2FpblxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGZvciBvbGRlciBkZXZpY2VzIHRoYXQgaGF2ZSBubyBWQU9zXG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jYXRpb24sIGF0dHJpYnV0ZS5zaXplLCBhdHRyaWJ1dGUudHlwZSB8fCBnbC5GTE9BVCwgYXR0cmlidXRlLm5vcm1hbGl6ZWQsIGF0dHJpYnV0ZS5zdHJpZGUsIGF0dHJpYnV0ZS5zdGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbGN1bGF0ZSBpbnN0YW5jZSBjb3VudCBiYXNlZCBvZiB0aGlzLi4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGxvY2F0aW9uLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2VvbWV0cnkgZXJyb3IsIEdQVSBJbnN0YW5jaW5nIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhdyB0aGUgZ2VvbWV0cnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIC0gdGhlIHR5cGUgcHJpbWl0aXZlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZV0gLSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBTdGFydGluZyBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5zdGFuY2VDb3VudF0gLSB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc2V0IG9mIGVsZW1lbnRzIHRvIGV4ZWN1dGVcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICh0eXBlLCBzaXplLCBzdGFydCwgaW5zdGFuY2VDb3VudCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcbiAgICAgICAgLy8gVE9ETy4uIHRoaXMgc2hvdWxkIG5vdCBjaGFuZ2Ugc28gbWF5YmUgY2FjaGUgdGhlIGZ1bmN0aW9uP1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHZhciBieXRlU2l6ZSA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgICB2YXIgZ2xUeXBlID0gYnl0ZVNpemUgPT09IDIgPyBnbC5VTlNJR05FRF9TSE9SVCA6IGdsLlVOU0lHTkVEX0lOVDtcbiAgICAgICAgICAgIGlmIChieXRlU2l6ZSA9PT0gMiB8fCAoYnl0ZVNpemUgPT09IDQgJiYgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5Lmluc3RhbmNlZCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3Vuc3VwcG9ydGVkIGluZGV4IGJ1ZmZlciB0eXBlOiB1aW50MzInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gbmVlZCBhIGJldHRlciB3YXkgdG8gY2FsY3VsYXRlIHNpemUuLlxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCksIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmJpbmQvcmVzZXQgZXZlcnl0aGluZ1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdsLmJpbmRWZXJ0ZXhBcnJheShudWxsKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEdlb21ldHJ5U3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBDb21wb25lbnQgZm9yIG1hc2tlZCBlbGVtZW50c1xuICpcbiAqIEhvbGRzIG1hc2sgbW9kZSBhbmQgdGVtcG9yYXJ5IGRhdGEgYWJvdXQgY3VycmVudCBtYXNrXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWFza0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIE1hc2tEYXRhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW21hc2tPYmplY3Q9bnVsbF0gLSBvYmplY3QgdGhhdCBkZXNjcmliZXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXNrRGF0YShtYXNrT2JqZWN0KSB7XG4gICAgICAgIGlmIChtYXNrT2JqZWN0ID09PSB2b2lkIDApIHsgbWFza09iamVjdCA9IG51bGw7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgdHlwZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1BU0tfVFlQRVN9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHdlIGtub3cgdGhlIG1hc2sgdHlwZSBiZWZvcmVoYW5kXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBlbGVtZW50IHdlIHVzZSB0byBtYXNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza09iamVjdCA9IG1hc2tPYmplY3QgfHwgbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgaXQgYmVsb25ncyB0byBNYXNrU3lzdGVtIHBvb2xcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9vbGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0b3Igb2YgdGhlIHR5cGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNNYXNrRGF0YSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGVuY2lsIGNvdW50ZXIgYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Npc3NvciBjb3VudGVyIGFib3ZlIHRoZSBtYXNrIGluIHN0YWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjaXNzb3JDb3VudGVyID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjaXNzb3Igb3BlcmF0aW9uIGFib3ZlIHRoZSBtYXNrIGluIHN0YWNrLlxuICAgICAgICAgKiBOdWxsIGlmIF9zY2lzc29yQ291bnRlciBpcyB6ZXJvLCByZWN0YW5nbGUgaW5zdGFuY2UgaWYgcG9zaXRpdmUuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2Npc3NvclJlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0ZWQgZWxlbWVudC4gVGVtcG9yYXJ5IHZhcmlhYmxlIHNldCBieSBNYXNrU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlc2V0cyB0aGUgbWFzayBkYXRhIGFmdGVyIHBvcE1hc2soKVxuICAgICAqL1xuICAgIE1hc2tEYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9vbGVkKSB7XG4gICAgICAgICAgICB0aGlzLm1hc2tPYmplY3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuICAgICAgICAgICAgdGhpcy5hdXRvRGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY29waWVzIGNvdW50ZXJzIGZyb20gbWFza0RhdGEgYWJvdmUsIGNhbGxlZCBmcm9tIHB1c2hNYXNrKClcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF8bnVsbH0gbWFza0Fib3ZlXG4gICAgICovXG4gICAgTWFza0RhdGEucHJvdG90eXBlLmNvcHlDb3VudGVyc09yUmVzZXQgPSBmdW5jdGlvbiAobWFza0Fib3ZlKSB7XG4gICAgICAgIGlmIChtYXNrQWJvdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gbWFza0Fib3ZlLl9zdGVuY2lsQ291bnRlcjtcbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JDb3VudGVyID0gbWFza0Fib3ZlLl9zY2lzc29yQ291bnRlcjtcbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbWFza0Fib3ZlLl9zY2lzc29yUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JDb3VudGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1hc2tEYXRhO1xufSgpKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgLSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHJldHVybiB7V2ViR0xTaGFkZXJ9IHRoZSBzaGFkZXJcbiAqL1xuZnVuY3Rpb24gY29tcGlsZVNoYWRlcihnbCwgdHlwZSwgc3JjKSB7XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICByZXR1cm4gc2hhZGVyO1xufVxuLyoqXG4gKiBAZnVuY3Rpb24gY29tcGlsZVByb2dyYW1cbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdmVydGV4U3JjIC0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZnJhZ21lbnRTcmMgLSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlTG9jYXRpb25zIC0gQW4gYXR0cmlidXRlIGxvY2F0aW9uIG1hcCB0aGF0IGxldHMgeW91IG1hbnVhbGx5IHNldCB0aGUgYXR0cmlidXRlIGxvY2F0aW9uc1xuICogQHJldHVybiB7V2ViR0xQcm9ncmFtfSB0aGUgc2hhZGVyIHByb2dyYW1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucykge1xuICAgIHZhciBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xuICAgIHZhciBnbEZyYWdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U3JjKTtcbiAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcbiAgICAvLyBvcHRpb25hbGx5LCBzZXQgdGhlIGF0dHJpYnV0ZXMgbWFudWFsbHkgZm9yIHRoZSBwcm9ncmFtIHJhdGhlciB0aGFuIGxldHRpbmcgV2ViR0wgZGVjaWRlLi5cbiAgICBpZiAoYXR0cmlidXRlTG9jYXRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gYXR0cmlidXRlTG9jYXRpb25zKSB7XG4gICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmlidXRlTG9jYXRpb25zW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAvLyBpZiBsaW5raW5nIGZhaWxzLCB0aGVuIGxvZyBhbmQgY2xlYW51cFxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZ2xWZXJ0U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih2ZXJ0ZXhTcmMpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihnbC5nZXRTaGFkZXJJbmZvTG9nKGdsVmVydFNoYWRlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGdsRnJhZ1NoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZnJhZ21lbnRTcmMpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihnbC5nZXRTaGFkZXJJbmZvTG9nKGdsRnJhZ1NoYWRlcikpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BpeGkuanMgRXJyb3I6IENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlci4nKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuVkFMSURBVEVfU1RBVFVTJywgZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5WQUxJREFURV9TVEFUVVMpKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuZ2V0RXJyb3IoKScsIGdsLmdldEVycm9yKCkpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtID0gbnVsbDtcbiAgICB9XG4gICAgLy8gY2xlYW4gdXAgc29tZSBzaGFkZXJzXG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsVmVydFNoYWRlcik7XG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsRnJhZ1NoYWRlcik7XG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5cbmZ1bmN0aW9uIGJvb2xlYW5BcnJheShzaXplKSB7XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyYXlbaV0gPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBAbWV0aG9kIGRlZmF1bHRWYWx1ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUeXBlIG9mIHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ3ZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAndmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3VpbnQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAnaXZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDIgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnaXZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnaXZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAndXZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ3V2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICd1dmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnYm9vbCc6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgJ2J2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICdidmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnYnZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ21hdDInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMV0pO1xuICAgICAgICBjYXNlICdtYXQzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMV0pO1xuICAgICAgICBjYXNlICdtYXQ0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxXSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG52YXIgdW5rbm93bkNvbnRleHQgPSB7fTtcbnZhciBjb250ZXh0ID0gdW5rbm93bkNvbnRleHQ7XG4vKipcbiAqIHJldHVybnMgYSBsaXR0bGUgV2ViR0wgY29udGV4dCB0byB1c2UgZm9yIHByb2dyYW0gaW5zcGVjdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gYSBnbCBjb250ZXh0IHRvIHRlc3Qgd2l0aFxuICovXG5mdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdW5rbm93bkNvbnRleHQgfHwgKGNvbnRleHQgJiYgY29udGV4dC5pc0NvbnRleHRMb3N0KCkpKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGdsID0gdm9pZCAwO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKSB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7fSlcbiAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge30pO1xuICAgICAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc2hhZGVyIHRlc3RpbmcuLlxuICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfZHJhd19idWZmZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dCA9IGdsO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn1cblxudmFyIG1heEZyYWdtZW50UHJlY2lzaW9uO1xuZnVuY3Rpb24gZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKSB7XG4gICAgaWYgKCFtYXhGcmFnbWVudFByZWNpc2lvbikge1xuICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgaWYgKGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHZhciBzaGFkZXJGcmFnbWVudCA9IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbC5GUkFHTUVOVF9TSEFERVIsIGdsLkhJR0hfRkxPQVQpO1xuICAgICAgICAgICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gc2hhZGVyRnJhZ21lbnQucHJlY2lzaW9uID8gUFJFQ0lTSU9OLkhJR0ggOiBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXhGcmFnbWVudFByZWNpc2lvbjtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBmbG9hdCBwcmVjaXNpb24gb24gdGhlIHNoYWRlciwgZW5zdXJpbmcgdGhlIGRldmljZSBzdXBwb3J0cyB0aGUgcmVxdWVzdCBwcmVjaXNpb24uXG4gKiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCwgaXQganVzdCBlbnN1cmVzIHRoYXQgdGhlIGRldmljZSBpcyBhYmxlIHRvIGhhbmRsZSBpdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSBzaGFkZXIgc291cmNlXG4gKiBAcGFyYW0ge1BJWEkuUFJFQ0lTSU9OfSByZXF1ZXN0ZWRQcmVjaXNpb24gLSBUaGUgcmVxdWVzdCBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci5cbiAqIEBwYXJhbSB7UElYSS5QUkVDSVNJT059IG1heFN1cHBvcnRlZFByZWNpc2lvbiAtIFRoZSBtYXhpbXVtIHByZWNpc2lvbiB0aGUgc2hhZGVyIHN1cHBvcnRzLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG5mdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbikge1xuICAgIGlmIChzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICAvLyBubyBwcmVjaXNpb24gc3VwcGxpZWQsIHNvIFBpeGlKUyB3aWxsIGFkZCB0aGUgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICB2YXIgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuICAgICAgICAvLyBJZiBoaWdocCBpcyByZXF1ZXN0ZWQgYnV0IG5vdCBzdXBwb3J0ZWQsIGRvd25ncmFkZSBwcmVjaXNpb24gdG8gYSBsZXZlbCBhbGwgZGV2aWNlcyBzdXBwb3J0LlxuICAgICAgICBpZiAocmVxdWVzdGVkUHJlY2lzaW9uID09PSBQUkVDSVNJT04uSElHSCAmJiBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIKSB7XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcInByZWNpc2lvbiBcIiArIHByZWNpc2lvbiArIFwiIGZsb2F0O1xcblwiICsgc3JjO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSAncHJlY2lzaW9uIGhpZ2hwJykge1xuICAgICAgICAvLyBwcmVjaXNpb24gd2FzIHN1cHBsaWVkLCBidXQgYXQgYSBsZXZlbCB0aGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0LCBzbyBkb3duZ3JhZGluZyB0byBtZWRpdW1wLlxuICAgICAgICByZXR1cm4gc3JjLnJlcGxhY2UoJ3ByZWNpc2lvbiBoaWdocCcsICdwcmVjaXNpb24gbWVkaXVtcCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgIGZsb2F0OiAxLFxuICAgIHZlYzI6IDIsXG4gICAgdmVjMzogMyxcbiAgICB2ZWM0OiA0LFxuICAgIGludDogMSxcbiAgICBpdmVjMjogMixcbiAgICBpdmVjMzogMyxcbiAgICBpdmVjNDogNCxcbiAgICB1aW50OiAxLFxuICAgIHV2ZWMyOiAyLFxuICAgIHV2ZWMzOiAzLFxuICAgIHV2ZWM0OiA0LFxuICAgIGJvb2w6IDEsXG4gICAgYnZlYzI6IDIsXG4gICAgYnZlYzM6IDMsXG4gICAgYnZlYzQ6IDQsXG4gICAgbWF0MjogNCxcbiAgICBtYXQzOiA5LFxuICAgIG1hdDQ6IDE2LFxuICAgIHNhbXBsZXIyRDogMSxcbn07XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIG1hcFNpemVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1hcFNpemUodHlwZSkge1xuICAgIHJldHVybiBHTFNMX1RPX1NJWkVbdHlwZV07XG59XG5cbnZhciBHTF9UQUJMRSA9IG51bGw7XG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgICBGTE9BVDogJ2Zsb2F0JyxcbiAgICBGTE9BVF9WRUMyOiAndmVjMicsXG4gICAgRkxPQVRfVkVDMzogJ3ZlYzMnLFxuICAgIEZMT0FUX1ZFQzQ6ICd2ZWM0JyxcbiAgICBJTlQ6ICdpbnQnLFxuICAgIElOVF9WRUMyOiAnaXZlYzInLFxuICAgIElOVF9WRUMzOiAnaXZlYzMnLFxuICAgIElOVF9WRUM0OiAnaXZlYzQnLFxuICAgIFVOU0lHTkVEX0lOVDogJ3VpbnQnLFxuICAgIFVOU0lHTkVEX0lOVF9WRUMyOiAndXZlYzInLFxuICAgIFVOU0lHTkVEX0lOVF9WRUMzOiAndXZlYzMnLFxuICAgIFVOU0lHTkVEX0lOVF9WRUM0OiAndXZlYzQnLFxuICAgIEJPT0w6ICdib29sJyxcbiAgICBCT09MX1ZFQzI6ICdidmVjMicsXG4gICAgQk9PTF9WRUMzOiAnYnZlYzMnLFxuICAgIEJPT0xfVkVDNDogJ2J2ZWM0JyxcbiAgICBGTE9BVF9NQVQyOiAnbWF0MicsXG4gICAgRkxPQVRfTUFUMzogJ21hdDMnLFxuICAgIEZMT0FUX01BVDQ6ICdtYXQ0JyxcbiAgICBTQU1QTEVSXzJEOiAnc2FtcGxlcjJEJyxcbiAgICBJTlRfU0FNUExFUl8yRDogJ3NhbXBsZXIyRCcsXG4gICAgVU5TSUdORURfSU5UX1NBTVBMRVJfMkQ6ICdzYW1wbGVyMkQnLFxuICAgIFNBTVBMRVJfQ1VCRTogJ3NhbXBsZXJDdWJlJyxcbiAgICBJTlRfU0FNUExFUl9DVUJFOiAnc2FtcGxlckN1YmUnLFxuICAgIFVOU0lHTkVEX0lOVF9TQU1QTEVSX0NVQkU6ICdzYW1wbGVyQ3ViZScsXG4gICAgU0FNUExFUl8yRF9BUlJBWTogJ3NhbXBsZXIyREFycmF5JyxcbiAgICBJTlRfU0FNUExFUl8yRF9BUlJBWTogJ3NhbXBsZXIyREFycmF5JyxcbiAgICBVTlNJR05FRF9JTlRfU0FNUExFUl8yRF9BUlJBWTogJ3NhbXBsZXIyREFycmF5Jyxcbn07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gbWFwVHlwZShnbCwgdHlwZSkge1xuICAgIGlmICghR0xfVEFCTEUpIHtcbiAgICAgICAgdmFyIHR5cGVOYW1lcyA9IE9iamVjdC5rZXlzKEdMX1RPX0dMU0xfVFlQRVMpO1xuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVOYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRuID0gdHlwZU5hbWVzW2ldO1xuICAgICAgICAgICAgR0xfVEFCTEVbZ2xbdG5dXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBHTF9UQUJMRVt0eXBlXTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuLy8gUGFyc2VycywgZWFjaCBvbmUgb2YgdGhlc2Ugd2lsbCB0YWtlIGEgbG9vayBhdCB0aGUgdHlwZSBvZiBzaGFkZXIgcHJvcGVydHkgYW5kIHVuaWZvcm0uXG4vLyBpZiB0aGV5IHBhc3MgdGhlIHRlc3QgZnVuY3Rpb24gdGhlbiB0aGUgY29kZSBmdW5jdGlvbiBpcyBjYWxsZWQgdGhhdCByZXR1cm5zIGEgdGhlIHNoYWRlciB1cGxvYWQgY29kZSBmb3IgdGhhdCB1bmlmb3JtLlxuLy8gU2hhZGVyIHVwbG9hZCBjb2RlIGlzIGF1dG9tYWdpY2FsbHkgZ2VuZXJhdGVkIHdpdGggdGhlc2UgcGFyc2Vycy5cbi8vIElmIG5vIHBhcnNlciBpcyB2YWxpZCB0aGVuIHRoZSBkZWZhdWx0IHVwbG9hZCBmdW5jdGlvbnMgYXJlIHVzZWQuXG4vLyBleHBvc2luZyBQYXJzZXJzIG1lYW5zIHRoYXQgY3VzdG9tIHVwbG9hZCBsb2dpYyBjYW4gYmUgYWRkZWQgdG8gcGl4aSdzIHNoYWRlcnMuXG4vLyBBIGdvb2QgZXhhbXBsZSB3b3VsZCBiZSBhIHBpeGkgcmVjdGFuZ2xlIGNhbiBiZSBkaXJlY3RseSBzZXQgb24gYSB1bmlmb3JtLlxuLy8gSWYgdGhlIHNoYWRlciBzZWVzIGl0IGl0IGtub3dzIGhvdyB0byB1cGxvYWQgdGhlIHJlY3RhbmdsZSBzdHJ1Y3R1cmUgYXMgYSB2ZWM0XG4vLyBmb3JtYXQgaXMgYXMgZm9sbG93czpcbi8vXG4vLyB7XG4vLyAgICAgdGVzdDogKGRhdGEsIHVuaWZvcm0pID0+IHt9IDwtLS0gdGVzdCBpcyB0aGlzIGNvZGUgc2hvdWxkIGJlIHVzZWQgZm9yIHRoaXMgdW5pZm9ybVxuLy8gICAgIGNvZGU6IChuYW1lLCB1bmlmb3JtKSA9PiB7fSA8LS0tIHJldHVybnMgdGhlIHN0cmluZyBvZiB0aGUgcGllY2Ugb2YgY29kZSB0aGF0IHVwbG9hZHMgdGhlIHVuaWZvcm1cbi8vIH1cbnZhciB1bmlmb3JtUGFyc2VycyA9IFtcbiAgICAvLyBhIGZsb2F0IGNhY2hlIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ2Zsb2F0JyAmJiBkYXRhLnNpemUgPT09IDE7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICBpZih1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXSAhPT0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUpXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZSA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdXFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0pXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gaGFuZGxpbmcgc2FtcGxlcnNcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAgICAgcmV0dXJuIChkYXRhLnR5cGUgPT09ICdzYW1wbGVyMkQnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXJDdWJlJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyMkRBcnJheScpICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5O1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gXCJ0ID0gc3luY0RhdGEudGV4dHVyZUNvdW50Kys7XFxuXFxuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLCB0KTtcXG5cXG4gICAgICAgICAgICBpZih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZSAhPT0gdClcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlID0gdDtcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB0KTtcXG47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxcbiAgICAgICAgICAgIH1cIjsgfSxcbiAgICB9LFxuICAgIC8vIHVwbG9hZGluZyBwaXhpIG1hdHJpeCBvYmplY3QgdG8gbWF0M1xuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEsIHVuaWZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICdtYXQzJyAmJiBkYXRhLnNpemUgPT09IDEgJiYgdW5pZm9ybS5hICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGFuZCBzb21lIHNtYXJ0IGNhY2hpbmcgZGlydHkgaWRzIGhlcmUhXG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCBmYWxzZSwgdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udG9BcnJheSh0cnVlKSk7XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyB1cGxvYWRpbmcgYSBwaXhpIHBvaW50IGFzIGEgdmVjMiB3aXRoIGNhY2hpbmcgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhLCB1bmlmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjMicgJiYgZGF0YS5zaXplID09PSAxICYmIHVuaWZvcm0ueCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB2LngsIHYueSk7XFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGNhY2hpbmcgbGF5ZXIgZm9yIGEgdmVjMlxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDE7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB2WzBdLCB2WzFdKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkIGEgcGl4aSByZWN0YW5nbGUgYXMgYSB2ZWM0IHdpdGggY2FjaGluZyBsYXllclxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEsIHVuaWZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICd2ZWM0JyAmJiBkYXRhLnNpemUgPT09IDEgJiYgdW5pZm9ybS53aWR0aCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55IHx8IGN2WzJdICE9PSB2LndpZHRoIHx8IGN2WzNdICE9PSB2LmhlaWdodClcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdi53aWR0aDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdi5oZWlnaHQ7XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHYueCwgdi55LCB2LndpZHRoLCB2LmhlaWdodClcXG4gICAgICAgICAgICAgICAgfVwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gYSBjYWNoaW5nIGxheWVyIGZvciB2ZWM0IHVwbG9hZGluZ1xuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICd2ZWM0JyAmJiBkYXRhLnNpemUgPT09IDE7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2WzJdO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2WzNdO1xcblxcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKVxcbiAgICAgICAgICAgICAgICB9XCI7XG4gICAgICAgIH0sXG4gICAgfSBdO1xuXG4vLyBjdiA9IENhY2hlZFZhbHVlXG4vLyB2ID0gdmFsdWVcbi8vIHVkID0gdW5pZm9ybURhdGFcbi8vIHV2ID0gdW5pZm9ybVZhbHVlXG4vLyBsID0gbG9jYXRpb25cbnZhciBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA9IHtcbiAgICBmbG9hdDogXCJcXG4gICAgaWYoY3YgIT09IHYpXFxuICAgIHtcXG4gICAgICAgIGN2LnYgPSB2O1xcbiAgICAgICAgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2KVxcbiAgICB9XCIsXG4gICAgdmVjMjogXCJcXG4gICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgIGdsLnVuaWZvcm0yZihsb2NhdGlvbiwgdlswXSwgdlsxXSlcXG4gICAgfVwiLFxuICAgIHZlYzM6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBjdlsyXSA9IHZbMl07XFxuXFxuICAgICAgICBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pXFxuICAgIH1cIixcbiAgICB2ZWM0OiAnZ2wudW5pZm9ybTRmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG4gICAgaW50OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBpdmVjMzogJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGl2ZWM0OiAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG4gICAgdWludDogJ2dsLnVuaWZvcm0xdWkobG9jYXRpb24sIHYpJyxcbiAgICB1dmVjMjogJ2dsLnVuaWZvcm0ydWkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICB1dmVjMzogJ2dsLnVuaWZvcm0zdWkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICB1dmVjNDogJ2dsLnVuaWZvcm00dWkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBib29sOiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBidmVjMzogJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGJ2ZWM0OiAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG4gICAgbWF0MjogJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0NDogJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgc2FtcGxlcjJEOiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxufTtcbnZhciBHTFNMX1RPX0FSUkFZX1NFVFRFUlMgPSB7XG4gICAgZmxvYXQ6IFwiZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWMyOiBcImdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjMzogXCJnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzQ6ICdnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2KScsXG4gICAgbWF0NDogJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MjogJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgaW50OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMzOiAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWM0OiAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuICAgIHVpbnQ6ICdnbC51bmlmb3JtMXVpdihsb2NhdGlvbiwgdiknLFxuICAgIHV2ZWMyOiAnZ2wudW5pZm9ybTJ1aXYobG9jYXRpb24sIHYpJyxcbiAgICB1dmVjMzogJ2dsLnVuaWZvcm0zdWl2KGxvY2F0aW9uLCB2KScsXG4gICAgdXZlYzQ6ICdnbC51bmlmb3JtNHVpdihsb2NhdGlvbiwgdiknLFxuICAgIGJvb2w6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzM6ICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzQ6ICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEOiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxufTtcbmZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB1bmlmb3JtRGF0YSkge1xuICAgIHZhciBmdW5jRnJhZ21lbnRzID0gW1wiXFxuICAgICAgICB2YXIgdiA9IG51bGw7XFxuICAgICAgICB2YXIgY3YgPSBudWxsXFxuICAgICAgICB2YXIgdCA9IDA7XFxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbFxcbiAgICBcIl07XG4gICAgZm9yICh2YXIgaSBpbiBncm91cC51bmlmb3Jtcykge1xuICAgICAgICB2YXIgZGF0YSA9IHVuaWZvcm1EYXRhW2ldO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5ncm91cCkge1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAodXZbXFxcIlwiICsgaSArIFwiXFxcIl0sIHN5bmNEYXRhKTtcXG4gICAgICAgICAgICAgICAgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcbiAgICAgICAgdmFyIHBhcnNlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAodW5pZm9ybVBhcnNlcnNbal0udGVzdChkYXRhLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaCh1bmlmb3JtUGFyc2Vyc1tqXS5jb2RlKGksIHVuaWZvcm0pKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VkKSB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVUeXBlID0gKGRhdGEuc2l6ZSA9PT0gMSkgPyBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA6IEdMU0xfVE9fQVJSQVlfU0VUVEVSUztcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgXCJ1ZFtcXFwiXCIgKyBpICsgXCJcXFwiXS5sb2NhdGlvblwiKTtcbiAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgaSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIGkgKyBcIlxcXCJdO1xcbiAgICAgICAgICAgIFwiICsgdGVtcGxhdGUgKyBcIjtcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLypcbiAgICAgKiB0aGUgaW50cm9kdWN0aW9uIG9mIHN5bmNEYXRhIGlzIHRvIHNvbHZlIGFuIGlzc3VlIHdoZXJlIHRleHR1cmVzIGluIHVuaWZvcm0gZ3JvdXBzIGFyZSBub3Qgc2V0IGNvcnJlY3RseVxuICAgICAqIHRoZSB0ZXh0dXJlIGNvdW50IHdhcyBhbHdheXMgc3RhcnRpbmcgZnJvbSAwIGluIGVhY2ggZ3JvdXAuIFRoaXMgbmVlZHMgdG8gaW5jcmVtZW50IGVhY2ggdGltZSBhIHRleHR1cmUgaXMgdXNlZFxuICAgICAqIG5vIG1hdHRlciB3aGljaCBncm91cCBpcyBiZWluZyB1c2VkXG4gICAgICpcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd1ZCcsICd1dicsICdyZW5kZXJlcicsICdzeW5jRGF0YScsIGZ1bmNGcmFnbWVudHMuam9pbignXFxuJykpO1xufVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAnZmxvYXQgdGVzdCA9IDAuMTsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykge1xuICAgIHZhciBzcmMgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gXCJpZih0ZXN0ID09IFwiICsgaSArIFwiLjApe31cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihtYXhJZnMsIGdsKSB7XG4gICAgaWYgKG1heElmcyA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIHdoaWxlICh0cnVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIG1heElmcyA9IChtYXhJZnMgLyAyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbi8vIENhY2hlIHRoZSByZXN1bHQgdG8gcHJldmVudCBydW5uaW5nIHRoaXMgb3ZlciBhbmQgb3ZlclxudmFyIHVuc2FmZUV2YWw7XG4vKipcbiAqIE5vdCBhbGwgcGxhdGZvcm1zIGFsbG93IHRvIGdlbmVyYXRlIGZ1bmN0aW9uIGNvZGUgKGUuZy4sIGBuZXcgRnVuY3Rpb25gKS5cbiAqIHRoaXMgcHJvdmlkZXMgdGhlIHBsYXRmb3JtLWxldmVsIGRldGVjdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHR5cGVvZiB1bnNhZmVFdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUV2YWw7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldy1mdW5jICovXG4gICAgICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKCdwYXJhbTEnLCAncGFyYW0yJywgJ3BhcmFtMycsICdyZXR1cm4gcGFyYW0xW3BhcmFtMl0gPT09IHBhcmFtMzsnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB1bnNhZmVFdmFsID0gZnVuYyh7IGE6ICdiJyB9LCAnYScsICdiJykgPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHVuc2FmZUV2YWwgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuc2FmZUV2YWw7XG59XG5cbnZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgKj0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XCI7XG5cbnZhciBkZWZhdWx0VmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufVxcblwiO1xuXG52YXIgVUlEJDMgPSAwO1xudmFyIG5hbWVDYWNoZSA9IHt9O1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgc2hhZGVyIHByb2dyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBOYW1lIGZvciBzaGFkZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJ3BpeGktc2hhZGVyJzsgfVxuICAgICAgICB0aGlzLmlkID0gVUlEJDMrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0RnJhZ21lbnRTcmM7XG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gdGhpcy52ZXJ0ZXhTcmMudHJpbSgpO1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gdGhpcy5mcmFnbWVudFNyYy50cmltKCk7XG4gICAgICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09ICcjdmVyc2lvbicpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcbiAgICAgICAgICAgIGlmIChuYW1lQ2FjaGVbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgICAgICBuYW1lICs9IFwiLVwiICsgbmFtZUNhY2hlW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIFwiICsgbmFtZSArIFwiXFxuXCIgKyB0aGlzLnZlcnRleFNyYztcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIgKyBuYW1lICsgXCJcXG5cIiArIHRoaXMuZnJhZ21lbnRTcmM7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX1ZFUlRFWCwgUFJFQ0lTSU9OLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbih0aGlzLmZyYWdtZW50U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQsIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN1cnJlbnRseSB0aGlzIGRvZXMgbm90IGV4dHJhY3Qgc3RydWN0cyBvbmx5IGRlZmF1bHQgdHlwZXNcbiAgICAgICAgdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYyk7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugc3RvcmUgc2hhZGVyIHJlZmVyZW5jZXMuLlxuICAgICAgICB0aGlzLmdsUHJvZ3JhbXMgPSB7fTtcbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZGF0YSBmb3IgYSBidXkgY3JlYXRpbmcgYSBzbWFsbCB0ZXN0IHByb2dyYW1cbiAgICAgKiBvciByZWFkaW5nIHRoZSBzcmMgZGlyZWN0bHkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKi9cbiAgICBQcm9ncmFtLnByb3RvdHlwZS5leHRyYWN0RGF0YSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKSB7XG4gICAgICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB0aGlzLmdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgV2ViR0wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBhdHRyaWJ1dGUgZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlRGF0YSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBnbCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB2YXIgYXR0cmlidXRlc0FycmF5ID0gW107XG4gICAgICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGF0dHJpYkRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IGRhdGE7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEubmFtZSA+IGIubmFtZSkgPyAxIDogLTE7IH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5W2ldLmxvY2F0aW9uID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d2ViR0wtcHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge2NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIHVuaWZvcm0gZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZ2V0VW5pZm9ybURhdGEgPSBmdW5jdGlvbiAocHJvZ3JhbSwgZ2wpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge307XG4gICAgICAgIHZhciB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuICAgICAgICAvLyBUT0RPIGV4cG9zZSB0aGlzIGFzIGEgcHJvcD9cbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdJC8sICcnKTtcbiAgICAgICAgICAgIHZhciBpc0FycmF5ID0gdW5pZm9ybURhdGEubmFtZS5tYXRjaCgvXFxbLio/XFxdJC8pO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlKTtcbiAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgc2l6ZTogdW5pZm9ybURhdGEuc2l6ZSxcbiAgICAgICAgICAgICAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmlmb3JtcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9ncmFtLCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9ncmFtLCBcImRlZmF1bHRGcmFnbWVudFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBwcm9ncmFtIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY2FjaGVkIHByb2dyYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZT1waXhpLXNoYWRlcl0gLSBOYW1lIGZvciBzaGFkZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlByb2dyYW19IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBQcm9ncmFtLmZyb20gPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSkge1xuICAgICAgICB2YXIga2V5ID0gdmVydGV4U3JjICsgZnJhZ21lbnRTcmM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgUHJvZ3JhbUNhY2hlW2tleV0gPSBwcm9ncmFtID0gbmV3IFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2dyYW07XG4gICAgfTtcbiAgICByZXR1cm4gUHJvZ3JhbTtcbn0oKSk7XG5cbi8qKlxuICogQSBoZWxwZXIgY2xhc3MgZm9yIHNoYWRlcnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaGFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IFtwcm9ncmFtXSAtIFRoZSBwcm9ncmFtIHRoZSBzaGFkZXIgd2lsbCB1c2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9ncmFtIHRoYXQgdGhlIHNoYWRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgICAgIC8vIHVuaWZvcm1zIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSB1bmlmb3JtIGdyb3VwXG4gICAgICAgIGlmICh1bmlmb3Jtcykge1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSB1bmlmb3JtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAoe30pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRpbWUgdG8gYnVpbGQgc29tZSBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAvLyBJIGd1ZXNzIGRvd24gdGhlIGxpbmUgdGhpcyBjb3VsZCBzb3J0IG9mIGdlbmVyYXRlIGFuIGluc3RydWN0aW9uIGxpc3QgcmF0aGVyIHRoYW4gdXNlIGRpcnR5IGlkcz9cbiAgICAgICAgLy8gZG9lcyB0aGUgdHJpY2sgZm9yIG5vdyB0aG91Z2ghXG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cbiAgICBTaGFkZXIucHJvdG90eXBlLmNoZWNrVW5pZm9ybUV4aXN0cyA9IGZ1bmN0aW9uIChuYW1lLCBncm91cCkge1xuICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIHZhciB1bmlmb3JtID0gZ3JvdXAudW5pZm9ybXNbaV07XG4gICAgICAgICAgICBpZiAodW5pZm9ybS5ncm91cCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB1c2FnZSBjb3VudCBvbiBwcm9ncmFtcz9cbiAgICAgICAgLy8gcmVtb3ZlIGlmIG5vdCB1c2VkIVxuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2hhZGVyLnByb3RvdHlwZSwgXCJ1bmlmb3Jtc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaGFkZXIgdW5pZm9ybSB2YWx1ZXMsIHNob3J0Y3V0IGZvciBgdW5pZm9ybUdyb3VwLnVuaWZvcm1zYFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgc2hhZGVyIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaGFkZXJ9IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBTaGFkZXIuZnJvbSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFNoYWRlcjtcbn0oKSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbnZhciBCTEVORCA9IDA7XG52YXIgT0ZGU0VUID0gMTtcbnZhciBDVUxMSU5HID0gMjtcbnZhciBERVBUSF9URVNUID0gMztcbnZhciBXSU5ESU5HID0gNDtcbnZhciBERVBUSF9NQVNLID0gNTtcbi8qKlxuICogVGhpcyBpcyBhIFdlYkdMIHN0YXRlLCBhbmQgaXMgaXMgcGFzc2VkIFRoZSBXZWJHTCBTdGF0ZU1hbmFnZXIuXG4gKlxuICogRWFjaCBtZXNoIHJlbmRlcmVkIG1heSByZXF1aXJlIFdlYkdMIHRvIGJlIGluIGEgZGlmZmVyZW50IHN0YXRlLlxuICogRm9yIGV4YW1wbGUgeW91IG1heSB3YW50IGRpZmZlcmVudCBibGVuZCBtb2RlIG9yIHRvIGVuYWJsZSBwb2x5Z29uIG9mZnNldHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gMDtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHRoTWFzayA9IHRydWU7XG4gICAgICAgIC8vICB0aGlzLmRlcHRoVGVzdCA9IHRydWU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiYmxlbmRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGJsZW5kaW5nIG9mIHRoZSBjb21wdXRlZCBmcmFnbWVudCBjb2xvciB2YWx1ZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQkxFTkQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJvZmZzZXRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBPRkZTRVQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBPRkZTRVQpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgT0ZGU0VUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiY3VsbGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkcpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IENVTExJTkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJkZXB0aFRlc3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBERVBUSF9URVNUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiZGVwdGhNYXNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgd3JpdGluZyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9NQVNLKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfTUFTSykpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBERVBUSF9NQVNLKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiY2xvY2t3aXNlRnJvbnRGYWNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBmcm9udCBvciBiYWNrLWZhY2luZyBwb2x5Z29ucyBjYW4gYmUgY3VsbGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IFdJTkRJTkcpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgV0lORElORyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHdoZW4gdGhpcyBzdGF0ZSBpcyBzZXQuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibGVuZCA9ICh2YWx1ZSAhPT0gQkxFTkRfTU9ERVMuTk9ORSk7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwicG9seWdvbk9mZnNldFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvbHlnb25PZmZzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm9mZnNldHMgPSAhIXZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RhdGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvY29yZTpTdGF0ZSBcIlxuICAgICAgICAgICAgKyAoXCJibGVuZE1vZGU9XCIgKyB0aGlzLmJsZW5kTW9kZSArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJjbG9ja3dpc2VGcm9udEZhY2U9XCIgKyB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJjdWxsaW5nPVwiICsgdGhpcy5jdWxsaW5nICsgXCIgXCIpXG4gICAgICAgICAgICArIChcImRlcHRoTWFzaz1cIiArIHRoaXMuZGVwdGhNYXNrICsgXCIgXCIpXG4gICAgICAgICAgICArIChcInBvbHlnb25PZmZzZXQ9XCIgKyB0aGlzLnBvbHlnb25PZmZzZXQpXG4gICAgICAgICAgICArIFwiXVwiO1xuICAgIH07XG4gICAgU3RhdGUuZm9yMmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGU7XG59KCkpO1xuXG52YXIgZGVmYXVsdFZlcnRleCQxID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbnZhciBkZWZhdWx0RnJhZ21lbnQkMSA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxufVxcblwiO1xuXG4vKipcbiAqIEEgZmlsdGVyIGlzIGEgc3BlY2lhbCBzaGFkZXIgdGhhdCBhcHBsaWVzIHBvc3QtcHJvY2Vzc2luZyBlZmZlY3RzIHRvIGFuIGlucHV0IHRleHR1cmUgYW5kIHdyaXRlcyBpbnRvIGFuIG91dHB1dFxuICogcmVuZGVyLXRhcmdldC5cbiAqXG4gKiB7QGxpbmsgaHR0cDovL3BpeGlqcy5pby9leGFtcGxlcy8jL2ZpbHRlcnMvYmx1ci1maWx0ZXIuanMgRXhhbXBsZX0gb2YgdGhlXG4gKiB7QGxpbmsgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIgQmx1ckZpbHRlcn0uXG4gKlxuICogIyMjIFVzYWdlXG4gKiBGaWx0ZXJzIGNhbiBiZSBhcHBsaWVkIHRvIGFueSBEaXNwbGF5T2JqZWN0IG9yIENvbnRhaW5lci5cbiAqIFBpeGlKUycgYEZpbHRlclN5c3RlbWAgcmVuZGVycyB0aGUgY29udGFpbmVyIGludG8gdGVtcG9yYXJ5IEZyYW1lYnVmZmVyLFxuICogdGhlbiBmaWx0ZXIgcmVuZGVycyBpdCB0byB0aGUgc2NyZWVuLlxuICogTXVsdGlwbGUgZmlsdGVycyBjYW4gYmUgYWRkZWQgdG8gdGhlIGBmaWx0ZXJzYCBhcnJheSBwcm9wZXJ0eSBhbmQgc3RhY2tlZCBvbiBlYWNoIG90aGVyLlxuICpcbiAqIGBgYFxuICogY29uc3QgZmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG15U2hhZGVyVmVydCwgbXlTaGFkZXJGcmFnLCB7IG15VW5pZm9ybTogMC41IH0pO1xuICogY29uc3QgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuZmlsdGVycyA9IFtmaWx0ZXJdO1xuICogYGBgXG4gKlxuICogIyMjIFByZXZpb3VzIFZlcnNpb24gRGlmZmVyZW5jZXNcbiAqXG4gKiBJbiBQaXhpSlMgKip2MyoqLCBhIGZpbHRlciB3YXMgYWx3YXlzIGFwcGxpZWQgdG8gX3dob2xlIHNjcmVlbl8uXG4gKlxuICogSW4gUGl4aUpTICoqdjQqKiwgYSBmaWx0ZXIgY2FuIGJlIGFwcGxpZWQgX29ubHkgcGFydCBvZiB0aGUgc2NyZWVuXy5cbiAqIERldmVsb3BlcnMgaGFkIHRvIGNyZWF0ZSBhIHNldCBvZiB1bmlmb3JtcyB0byBkZWFsIHdpdGggY29vcmRpbmF0ZXMuXG4gKlxuICogSW4gUGl4aUpTICoqdjUqKiBjb21iaW5lcyBfYm90aCBhcHByb2FjaGVzXy5cbiAqIERldmVsb3BlcnMgY2FuIHVzZSBub3JtYWwgY29vcmRpbmF0ZXMgb2YgdjMgYW5kIHRoZW4gYWxsb3cgZmlsdGVyIHRvIHVzZSBwYXJ0aWFsIEZyYW1lYnVmZmVycyxcbiAqIGJyaW5naW5nIHRob3NlIGV4dHJhIHVuaWZvcm1zIGludG8gYWNjb3VudC5cbiAqXG4gKiBBbHNvIGJlIGF3YXJlIHRoYXQgd2UgaGF2ZSBjaGFuZ2VkIGRlZmF1bHQgdmVydGV4IHNoYWRlciwgcGxlYXNlIGNvbnN1bHRcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqICMjIyBGcmFtZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIHRhYmxlIHN1bW1hcml6ZXMgdGhlIGNvb3JkaW5hdGUgc3BhY2VzIHVzZWQgaW4gdGhlIGZpbHRlcmluZyBwaXBlbGluZTpcbiAqXG4gKiA8dGFibGU+XG4gKiA8dGhlYWQ+XG4gKiAgIDx0cj5cbiAqICAgICA8dGg+Q29vcmRpbmF0ZSBTcGFjZTwvdGg+XG4gKiAgICAgPHRoPkRlc2NyaXB0aW9uPC90aD5cbiAqICAgPC90cj5cbiAqIDwvdGhlYWQ+XG4gKiA8dGJvZHk+XG4gKiAgIDx0cj5cbiAqICAgICA8dGQ+VGV4dHVyZSBDb29yZGluYXRlczwvdGQ+XG4gKiAgICAgPHRkPlxuICogICAgICAgICBUaGUgdGV4dHVyZSAob3IgVVYpIGNvb3JkaW5hdGVzIGluIHRoZSBpbnB1dCBiYXNlLXRleHR1cmUncyBzcGFjZS4gVGhlc2UgYXJlIG5vcm1hbGl6ZWQgaW50byB0aGUgKDAsMSkgcmFuZ2UgYWxvbmdcbiAqICAgICAgICAgYm90aCBheGVzLlxuICogICAgIDwvdGQ+XG4gKiAgIDwvdHI+XG4gKiAgIDx0cj5cbiAqICAgICA8dGQ+V29ybGQgU3BhY2U8L3RkPlxuICogICAgIDx0ZD5cbiAqICAgICAgICAgQSBwb2ludCBpbiB0aGUgc2FtZSBzcGFjZSBhcyB0aGUgd29ybGQgYm91bmRzIG9mIGFueSBkaXNwbGF5LW9iamVjdCAoaS5lLiBpbiB0aGUgc2NlbmUgZ3JhcGgncyBzcGFjZSkuXG4gKiAgICAgPC90ZD5cbiAqICAgPC90cj5cbiAqICAgPHRyPlxuICogICAgIDx0ZD5QaHlzaWNhbCBQaXhlbHM8L3RkPlxuICogICAgIDx0ZD5cbiAqICAgICAgICAgVGhpcyBpcyBiYXNlLXRleHR1cmUncyBzcGFjZSB3aXRoIHRoZSBvcmlnaW4gb24gdGhlIHRvcC1sZWZ0LiBZb3UgY2FuIGNhbGN1bGF0ZSB0aGVzZSBieSBtdWx0aXBseWluZyB0aGUgdGV4dHVyZVxuICogICAgICAgICBjb29yZGluYXRlcyBieSB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdGV4dHVyZS5cbiAqICAgICA8L3RkPlxuICogICA8L3RyPlxuICogPC90Ym9keT5cbiAqIDwvdGFibGU+XG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmllZFRleHR1cmVDb29yZCwgaW5wdXRDbGFtcC54eSwgaW5wdXRDbGFtcC56dykpXG4gKiBgYGBcbiAqIE9SXG4gKiBgYGBcbiAqIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIG1pbihtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKlxuICogIyMjIEFkZGl0aW9uYWwgSW5mb3JtYXRpb25cbiAqXG4gKiBDb21wbGV0ZSBkb2N1bWVudGF0aW9uIG9uIEZpbHRlciB1c2FnZSBpcyBsb2NhdGVkIGluIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnMgY2FuIGJlIGRvd25sb2FkZWRcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZSBQaXhpSlMgRmlsdGVycyByZXBvc2l0b3J5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbHRlcih2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMgfHwgRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmMsIGZyYWdtZW50U3JjIHx8IEZpbHRlci5kZWZhdWx0RnJhZ21lbnRTcmMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb2dyYW0sIHVuaWZvcm1zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBhZGRpbmcgb2YgdGhlIGZpbHRlci4gU29tZSBmaWx0ZXJzIHJlcXVpcmUgZXh0cmEgc3BhY2UgdG8gYnJlYXRoIHN1Y2ggYXMgYSBibHVyLlxuICAgICAgICAgKiBJbmNyZWFzaW5nIHRoaXMgd2lsbCBhZGQgZXh0cmEgd2lkdGggYW5kIGhlaWdodCB0byB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgdGhhdCB0aGVcbiAgICAgICAgICogZmlsdGVyIGlzIGFwcGxpZWQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIGZpbHRlci4gU2V0dGluZyB0aGlzIHRvIGJlIGxvd2VyIHdpbGwgbG93ZXIgdGhlIHF1YWxpdHkgYnV0XG4gICAgICAgICAqIGluY3JlYXNlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgZmlsdGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgUGl4aUpTIHdpbGwgZml0IHRoZSBmaWx0ZXIgYXJlYSBpbnRvIGJvdW5kYXJpZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICAgICAgICogU3dpdGNoIGl0IG9mZiBpZiBpdCBkb2VzIG5vdCB3b3JrIGZvciBzcGVjaWZpYyBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvRml0ID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExlZ2FjeSBmaWx0ZXJzIHVzZSBwb3NpdGlvbiBhbmQgdXZzIGZyb20gYXR0cmlidXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxlZ2FjeSA9ICEhX3RoaXMucHJvZ3JhbS5hdHRyaWJ1dGVEYXRhLmFUZXh0dXJlQ29vcmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IFtjbGVhck1vZGVdIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VycmVudFN0YXRlXSAtIEl0J3MgY3VycmVudCBzdGF0ZSBvZiBmaWx0ZXIuXG4gICAgICogICAgICAgIFRoZXJlIGFyZSBzb21lIHVzZWZ1bCBwcm9wZXJ0aWVzIGluIHRoZSBjdXJyZW50U3RhdGUgOlxuICAgICAqICAgICAgICB0YXJnZXQsIGZpbHRlcnMsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJUYXJnZXQsIHJlc29sdXRpb25cbiAgICAgKi9cbiAgICBGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSwgX2N1cnJlbnRTdGF0ZSkge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIC8vIG9yIGp1c3QgZG8gYSByZWd1bGFyIHJlbmRlci4uXG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlsdGVyLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlciwgXCJkZWZhdWx0VmVydGV4U3JjXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmVydGV4JDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlsdGVyLCBcImRlZmF1bHRGcmFnbWVudFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQkMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBGaWx0ZXI7XG59KFNoYWRlcikpO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgb3RoZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZNYXNrQ29vcmQgPSAoIG90aGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFzaztcXG51bmlmb3JtIGZsb2F0IGFscGhhO1xcbnVuaWZvcm0gZmxvYXQgbnBtQWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG4gICAgZmxvYXQgYWxwaGFNdWwgPSAxLjAgLSBucG1BbHBoYSAqICgxLjAgLSBtYXNreS5hKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKGFscGhhTXVsICogbWFza3kuciAqIGFscGhhICogY2xpcCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG9yaWdpbmFsO1xcbn1cXG5cIjtcblxudmFyIHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIHV2IG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogVGFrZXMgYHRyaW1gIGFuZCBgcm90YXRlYCBpbnRvIGFjY291bnQuIE1heSBjb250YWluIGNsYW1wIHNldHRpbmdzIGZvciBNZXNoZXMgYW5kIFRpbGluZ1Nwcml0ZS5cbiAqXG4gKiBDYW4gYmUgdXNlZCBpbiBUZXh0dXJlIGB1dk1hdHJpeGAgZmllbGQsIG9yIHNlcGFyYXRlbHksIHlvdSBjYW4gdXNlIGRpZmZlcmVudCBjbGFtcCBzZXR0aW5ncyBvbiB0aGUgc2FtZSB0ZXh0dXJlLlxuICogSWYgeW91IHdhbnQgdG8gYWRkIHN1cHBvcnQgZm9yIHRleHR1cmUgcmVnaW9uIG9mIGNlcnRhaW4gZmVhdHVyZSBvciBmaWx0ZXIsIHRoYXQncyB3aGF0IHlvdSdyZSBsb29raW5nIGZvci5cbiAqXG4gKiBUYWtlcyB0cmFjayBvZiBUZXh0dXJlIGNoYW5nZXMgdGhyb3VnaCBgX2xhc3RUZXh0dXJlSURgIHByaXZhdGUgZmllbGQuXG4gKiBVc2UgYHVwZGF0ZSgpYCBtZXRob2QgY2FsbCB0byB0cmFjayBpdCBmcm9tIG91dHNpZGUuXG4gKlxuICogQHNlZSBQSVhJLlRleHR1cmVcbiAqIEBzZWUgUElYSS5NZXNoXG4gKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlTWF0cml4ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBvYnNlcnZlZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjbGFtcE1hcmdpbl0gLSBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nLCAwLjUgYnkgZGVmYXVsdC4gVXNlIC0wLjUgZm9yIGV4dHJhIGJvcmRlci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlTWF0cml4KHRleHR1cmUsIGNsYW1wTWFyZ2luKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF0cml4IG9wZXJhdGlvbiB0aGF0IGNvbnZlcnRzIHRleHR1cmUgcmVnaW9uIGNvb3JkcyB0byB0ZXh0dXJlIGNvb3Jkc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hcENvb3JkID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2xhbXAgcmVnaW9uIGZvciBub3JtYWxpemVkIGNvb3JkcywgbGVmdC10b3AgcGl4ZWwgY2VudGVyIGluIHh5ICwgYm90dG9tLXJpZ2h0IGluIHp3LlxuICAgICAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3JtYWxpemVkIGNsYW1wIG9mZnNldC5cbiAgICAgICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyBUZXh0dXJlIGZyYW1lIGNoYW5nZXNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyBUZXh0dXJlIGZyYW1lIGNoYW5nZXNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAxLjUgaWYgeW91IHRleHR1cmUgaGFzIHJlcGVhdGVkIHJpZ2h0IGFuZCBib3R0b20gbGluZXMsIHRoYXQgbGVhZHMgdG8gc21vb3RoZXIgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBPZmZzZXQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBNYXJnaW4gPSAodHlwZW9mIGNsYW1wTWFyZ2luID09PSAndW5kZWZpbmVkJykgPyAwLjUgOiBjbGFtcE1hcmdpbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRleHR1cmUgc2l6ZSBpcyB0aGUgc2FtZSBhcyBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTaW1wbGUgPSBmYWxzZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmVNYXRyaXgucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogdGV4dHVyZSBwcm9wZXJ0eVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdXZzIC0gbWVzaCB1dnNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD11dnNdIC0gb3V0cHV0XG4gICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gb3V0cHV0XG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiAodXZzLCBvdXQpIHtcbiAgICAgICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvdXQgPSB1dnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdCA9IHRoaXMubWFwQ29vcmQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdXZzW2kgKyAxXTtcbiAgICAgICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0gKHggKiBtYXQuYikgKyAoeSAqIG1hdC5kKSArIG1hdC50eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIC0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXguX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4Ll91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICAgICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXgub3JpZztcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LCAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG4gICAgICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIGZyYW1lWzJdID0gKHRleC5fZnJhbWUueCArIHRleC5fZnJhbWUud2lkdGggLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzFdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsSGVpZ2h0O1xuICAgICAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAgICAgJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0XG4gICAgICAgICAgICAmJiB0ZXgucm90YXRlID09PSAwO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTWF0cml4O1xufSgpKTtcblxuLyoqXG4gKiBUaGlzIGhhbmRsZXMgYSBTcHJpdGUgYWN0aW5nIGFzIGEgbWFzaywgYXMgb3Bwb3NlZCB0byBhIEdyYXBoaWMuXG4gKlxuICogV2ViR0wgb25seS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlTWFza0ZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ByaXRlTWFza0ZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgdGFyZ2V0IHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZU1hc2tGaWx0ZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQpIHx8IHRoaXM7XG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICovXG4gICAgU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIHZhciBtYXNrU3ByaXRlID0gdGhpcy5tYXNrU3ByaXRlO1xuICAgICAgICB2YXIgdGV4ID0gbWFza1Nwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgaWYgKCF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleC51dk1hdHJpeCkge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnV2TWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgodGV4LCAwLjApO1xuICAgICAgICB9XG4gICAgICAgIHRleC51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5ucG1BbHBoYSA9IHRleC5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPyAwLjAgOiAxLjA7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFzayA9IHRleDtcbiAgICAgICAgLy8gZ2V0IF9ub3JtYWxpemVkIHNwcml0ZSB0ZXh0dXJlIGNvb3Jkc18gYW5kIGNvbnZlcnQgdGhlbSB0byBfbm9ybWFsaXplZCBhdGxhcyB0ZXh0dXJlIGNvb3Jkc18gd2l0aCBgcHJlcGVuZGBcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSlcbiAgICAgICAgICAgIC5wcmVwZW5kKHRleC51dk1hdHJpeC5tYXBDb29yZCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnV2TWF0cml4LnVDbGFtcEZyYW1lO1xuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3ByaXRlTWFza0ZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIG1hc2tzLlxuICpcbiAqIFRoZXJlIGFyZSB0aHJlZSBidWlsdC1pbiB0eXBlcyBvZiBtYXNraW5nOlxuICogKiAqKlNjaXNzb3IgTWFza2luZyoqOiBTY2lzc29yIG1hc2tpbmcgZGlzY2FyZHMgcGl4ZWxzIHRoYXQgYXJlIG91dHNpZGUgb2YgYSByZWN0YW5nbGUgY2FsbGVkIHRoZSBzY2lzc29yIGJveC4gSXQgaXNcbiAqICB0aGUgbW9zdCBwZXJmb3JtYW50IGFzIHRoZSBzY2lzc29yIHRlc3QgaXMgaW5leHBlbnNpdmUuIEhvd2V2ZXIsIGl0IGNhbiBvbmx5IGJlIHVzZWQgd2hlbiB0aGUgbWFzayBpcyByZWN0YW5ndWxhci5cbiAqICogKipTdGVuY2lsIE1hc2tpbmcqKjogU3RlbmNpbCBtYXNraW5nIGRpc2NhcmRzIHBpeGVscyB0aGF0IGRvbid0IG92ZXJsYXAgd2l0aCB0aGUgcGl4ZWxzIHJlbmRlcmVkIGludG8gdGhlIHN0ZW5jaWxcbiAqICBidWZmZXIuIEl0IGlzIHRoZSBuZXh0IGZhc3Rlc3Qgb3B0aW9uIGFzIGl0IGRvZXMgbm90IHJlcXVpcmUgcmVuZGVyaW5nIGludG8gYSBzZXBhcmF0ZSBmcmFtZWJ1ZmZlci4gSG93ZXZlciwgaXQgZG9lc1xuICogIGNhdXNlIHRoZSBtYXNrIHRvIGJlIHJlbmRlcmVkICoqdHdpY2UqKiBmb3IgZWFjaCBtYXNraW5nIG9wZXJhdGlvbjsgaGVuY2UsIG1pbmltaXplIHRoZSByZW5kZXJpbmcgY29zdCBvZiB5b3VyIG1hc2tzLlxuICogKiAqKlNwcml0ZSBNYXNrIEZpbHRlcmluZyoqOiBTcHJpdGUgbWFzayBmaWx0ZXJpbmcgZGlzY2FyZHMgcGl4ZWxzIGJhc2VkIG9uIHRoZSByZWQgY2hhbm5lbCBvZiB0aGUgc3ByaXRlLW1hc2snc1xuICogIHRleHR1cmUuIChHZW5lcmFsbHksIHRoZSBtYXNraW5nIHRleHR1cmUgaXMgZ3JheXNjYWxlKS4gVXNpbmcgYWR2YW5jZWQgdGVjaG5pcXVlcywgeW91IG1pZ2h0IGJlIGFibGUgdG8gZW1iZWQgdGhpc1xuICogIHR5cGUgb2YgbWFza2luZyBpbiBhIGN1c3RvbSBzaGFkZXIgLSBhbmQgaGVuY2UsIGJ5cGFzc2luZyB0aGUgbWFza2luZyBzeXN0ZW0gZnVsbHkgZm9yIHBlcmZvcm1hbmNlIHdpbnMuXG4gKlxuICogVGhlIGJlc3QgdHlwZSBvZiBtYXNraW5nIGlzIGF1dG8tZGV0ZWN0ZWQgd2hlbiB5b3UgYHB1c2hgIG9uZS4gVG8gdXNlIHNjaXNzb3IgbWFza2luZywgeW91IG11c3QgcGFzcyBpbiBhIGBHcmFwaGljc2BcbiAqIG9iamVjdCB3aXRoIGp1c3QgYSByZWN0YW5nbGUgZHJhd24uXG4gKlxuICogIyMgTWFzayBTdGFja3NcbiAqXG4gKiBJbiB0aGUgc2NlbmUgZ3JhcGgsIG1hc2tzIGNhbiBiZSBhcHBsaWVkIHJlY3Vyc2l2ZWx5LCBpLmUuIGEgbWFzayBjYW4gYmUgYXBwbGllZCBkdXJpbmcgYSBtYXNraW5nIG9wZXJhdGlvbi4gVGhlIG1hc2tcbiAqIHN0YWNrIHN0b3JlcyB0aGUgY3VycmVudGx5IGFwcGxpZWQgbWFza3MgaW4gb3JkZXIuIEVhY2gge0BsaW5rIFBJWEkuQmFzZVJlbmRlclRleHR1cmV9IGhvbGRzIGl0cyBvd24gbWFzayBzdGFjaywgaS5lLlxuICogd2hlbiB5b3Ugc3dpdGNoIHJlbmRlci10ZXh0dXJlcywgdGhlIG9sZCBtYXNrcyBvbmx5IGFwcGxpZWQgd2hlbiB5b3Ugc3dpdGNoIGJhY2sgdG8gcmVuZGVyaW5nIHRvIHRoZSBvbGQgcmVuZGVyLXRhcmdldC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWFza1N5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFza1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3IgbWFza2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmFibGVTY2lzc29yID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdXNlZCBzcHJpdGUgbWFzayBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlTWFza0ZpbHRlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhTWFza1Bvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgbWFzayBkYXRhXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrRGF0YVBvb2wgPSBbXTtcbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGluZGV4IG9mIGFscGhhIG1hc2sgcG9vbFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiAobWFza1N0YWNrKSB7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbWFza1N0YWNrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3Iuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sobWFza1N0YWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIG1hc2sgYW5kIGFwcGVuZHMgaXQgdG8gdGhlIGN1cnJlbnQgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoZSBiYXRjaCByZW5kZXJlciBzaG91bGQgYmUgZmx1c2hlZCBiZWZvcmVoYW5kIHRvIHByZXZlbnQgcGVuZGluZyByZW5kZXJzIGZyb20gYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF8UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc3xQSVhJLkRpc3BsYXlPYmplY3R9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHRhcmdldCwgbWFza0RhdGFPclRhcmdldCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSBtYXNrRGF0YU9yVGFyZ2V0O1xuICAgICAgICBpZiAoIW1hc2tEYXRhLmlzTWFza0RhdGEpIHtcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5tYXNrRGF0YVBvb2wucG9wKCkgfHwgbmV3IE1hc2tEYXRhKCk7XG4gICAgICAgICAgICBkLnBvb2xlZCA9IHRydWU7XG4gICAgICAgICAgICBkLm1hc2tPYmplY3QgPSBtYXNrRGF0YU9yVGFyZ2V0O1xuICAgICAgICAgICAgbWFza0RhdGEgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrRGF0YS5hdXRvRGV0ZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmRldGVjdChtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldCh0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXSk7XG4gICAgICAgIG1hc2tEYXRhLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNDSVNTT1I6XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICAgICAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNwcml0ZU1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IG1hc2sgZnJvbSB0aGUgbWFzayBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGUgYmF0Y2ggcmVuZGVyZXIgc2hvdWxkIGJlIGZsdXNoZWQgYmVmb3JlaGFuZCB0byByZW5kZXIgdGhlIG1hc2tlZCBjb250ZW50cyBiZWZvcmUgdGhlIG1hc2sgaXMgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghbWFza0RhdGEgfHwgbWFza0RhdGEuX3RhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgYW4gYXNzZXJ0IHdoZW4gd2UgaGF2ZSBpdFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNDSVNTT1I6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnBvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnBvcChtYXNrRGF0YS5tYXNrT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEucmVzZXQoKTtcbiAgICAgICAgaWYgKG1hc2tEYXRhLnBvb2xlZCkge1xuICAgICAgICAgICAgdGhpcy5tYXNrRGF0YVBvb2wucHVzaChtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdHlwZSBvZiBNYXNrRGF0YSBiYXNlZCBvbiBpdHMgbWFza09iamVjdFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGFcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBpZiAobWFza09iamVjdC5pc1Nwcml0ZSkge1xuICAgICAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU1BSSVRFO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNURU5DSUw7XG4gICAgICAgIC8vIGRldGVjdCBzY2lzc29yIGluIGdyYXBoaWNzXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZVNjaXNzb3JcbiAgICAgICAgICAgICYmIG1hc2tPYmplY3QuaXNGYXN0UmVjdFxuICAgICAgICAgICAgJiYgbWFza09iamVjdC5pc0Zhc3RSZWN0KCkpIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBtYXNrT2JqZWN0LndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgLy8gVE9ETzogbW92ZSB0aGUgY2hlY2sgdG8gdGhlIG1hdHJpeCBpdHNlbGZcbiAgICAgICAgICAgIC8vIHdlIGFyZSBjaGVja2luZyB0aGF0IGl0cyBvcnRob2dvbmFsIGFuZCB4IHJvdGF0aW9uIGlzIDAgOTAgMTgwIG9yIDI3MFxuICAgICAgICAgICAgdmFyIHJvdFggPSBNYXRoLmF0YW4yKG1hdHJpeC5iLCBtYXRyaXguYSk7XG4gICAgICAgICAgICB2YXIgcm90WFkgPSBNYXRoLmF0YW4yKG1hdHJpeC5kLCBtYXRyaXguYyk7XG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIHRvIDAuMDFcbiAgICAgICAgICAgIHJvdFggPSBNYXRoLnJvdW5kKHJvdFggKiAoMTgwIC8gTWF0aC5QSSkgKiAxMDApO1xuICAgICAgICAgICAgcm90WFkgPSBNYXRoLnJvdW5kKHJvdFhZICogKDE4MCAvIE1hdGguUEkpICogMTAwKSAtIHJvdFg7XG4gICAgICAgICAgICByb3RYID0gKChyb3RYICUgOTAwMCkgKyA5MDAwKSAlIDkwMDA7XG4gICAgICAgICAgICByb3RYWSA9ICgocm90WFkgJSAxODAwMCkgKyAxODAwMCkgJSAxODAwMDtcbiAgICAgICAgICAgIGlmIChyb3RYID09PSAwICYmIHJvdFhZID09PSA5MDAwKSB7XG4gICAgICAgICAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU0NJU1NPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIHZhciB0YXJnZXQgPSBtYXNrRGF0YS5fdGFyZ2V0O1xuICAgICAgICB2YXIgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdO1xuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKG1hc2tPYmplY3QpXTtcbiAgICAgICAgfVxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrT2JqZWN0O1xuICAgICAgICB2YXIgc3Rhc2hGaWx0ZXJBcmVhID0gdGFyZ2V0LmZpbHRlckFyZWE7XG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza09iamVjdC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IHN0YXNoRmlsdGVyQXJlYTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BTcHJpdGVNYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH07XG4gICAgcmV0dXJuIE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzcGVjaWZpYyB0eXBlcyBvZiBtYXNraW5nIG9wZXJhdGlvbnMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFic3RyYWN0TWFza1N5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RNYXNrU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFza1N5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXNrIHN0YWNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnQgZm9yIGdsLmVuYWJsZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbENvbnN0ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRzIGNvdW50IG9mIG1hc2tzIG9mIGNlcnRhaW4gdHlwZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFza1N0YWNrLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIG1hc2sgc3RhY2sgdGhhdCBpcyB1c2VkIGJ5IHRoaXMgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhW119IG1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiAobWFza1N0YWNrKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBjdXJTdGFja0xlbiA9IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKTtcbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBtYXNrU3RhY2s7XG4gICAgICAgIHZhciBuZXdTdGFja0xlbiA9IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKTtcbiAgICAgICAgaWYgKG5ld1N0YWNrTGVuICE9PSBjdXJTdGFja0xlbikge1xuICAgICAgICAgICAgaWYgKG5ld1N0YWNrTGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgbWFzayBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gT1ZFUldSSVRFO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIG1hc2sgc3RhY2suXG4gICAgICpcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RNYXNrU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc2Npc3NvciBtYXNraW5nLlxuICpcbiAqIFNjaXNzb3IgbWFza2luZyBkaXNjYXJkcyBwaXhlbHMgb3V0c2lkZSBvZiBhIHJlY3RhbmdsZSBjYWxsZWQgdGhlIHNjaXNzb3IgYm94LiBUaGUgc2Npc3NvciBib3ggaXMgaW4gdGhlIGZyYW1lYnVmZmVyXG4gKiB2aWV3cG9ydCdzIHNwYWNlOyBob3dldmVyLCB0aGUgbWFzaydzIHJlY3RhbmdsZSBpcyBwcm9qZWN0ZWQgZnJvbSB3b3JsZC1zcGFjZSB0byB2aWV3cG9ydCBzcGFjZSBhdXRvbWF0aWNhbGx5XG4gKiBieSB0aGlzIHN5c3RlbS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2Npc3NvclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2Npc3NvclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTY2lzc29yU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNDSVNTT1JfVEVTVDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay5cbiAgICAgKlxuICAgICAqIEBhdXRob3IgYWx2aW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gVGhlIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICB2YXIgcHJldkRhdGEgPSBtYXNrRGF0YS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBib3VuZHMgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGlmIChwcmV2RGF0YSkge1xuICAgICAgICAgICAgYm91bmRzLmZpdChwcmV2RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvckNvdW50ZXIrKztcbiAgICAgICAgbWFza0RhdGEuX3NjaXNzb3JSZWN0ID0gYm91bmRzO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgYSBtYXNrIGlzIHBvcHBlZCBvZmYgdGhlIG1hc2sgc3RhY2suIEl0IHdpbGwgcmViaW5kIHRoZSBzY2lzc29yIGJveCB0byBiZSBsYXRlc3Qgd2l0aCB0aGVcbiAgICAgKiBsYXN0IG1hc2sgaW4gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYWxzbyBiZSBjYWxsZWQgd2hlbiB5b3UgZGlyZWN0bHkgbW9kaWZ5IHRoZSBzY2lzc29yIGJveCBhbmQgd2FudCB0byByZXN0b3JlIFBpeGlKUyBzdGF0ZS5cbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzY2lzc29yIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBydCA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24sIHRyYW5zZm9ybSA9IF9hLnRyYW5zZm9ybSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcnQgPyBydC5yZXNvbHV0aW9uIDogdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgc3ggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciBzeSA9IGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICB2YXIgeCA9ICgoKHJlY3QueCAtIHNvdXJjZUZyYW1lLngpICogc3gpICsgZGVzdGluYXRpb25GcmFtZS54KSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciB5ID0gKCgocmVjdC55IC0gc291cmNlRnJhbWUueSkgKiBzeSkgKyBkZXN0aW5hdGlvbkZyYW1lLnkpICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdC53aWR0aCAqIHN4ICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0ICogc3kgKiByZXNvbHV0aW9uO1xuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB4ICs9IHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICB5ICs9IHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydCkge1xuICAgICAgICAgICAgLy8gZmxpcFkuIEluIGZ1dHVyZSB3ZSdsbCBoYXZlIGl0IG92ZXIgcmVuZGVyVGV4dHVyZXMgYXMgYW4gb3B0aW9uXG4gICAgICAgICAgICB5ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoZWlnaHQgLSB5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBTY2lzc29yU3lzdGVtO1xufShBYnN0cmFjdE1hc2tTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc3RlbmNpbHMgKHVzZWQgZm9yIG1hc2tzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RlbmNpbFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RlbmNpbFN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGVuY2lsU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNURU5DSUxfVEVTVDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBwcmV2TWFza0NvdW50ID0gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZm9yY2UgdXNlIHN0ZW5jaWwgdGV4dHVyZSBpbiBjdXJyZW50IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmZvcmNlU3RlbmNpbCgpO1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyKys7XG4gICAgICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIG5ldyBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG9sZCBvbmVzLlxuICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgcHJldk1hc2tDb3VudCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5JTkNSKTtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIHN0ZW5jaWwgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBtYXNrT2JqZWN0IC0gb2JqZWN0IG9mIHBvcHBlZCBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAobWFza09iamVjdCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAodGhpcy5nZXRTdGFja0xlbmd0aCgpID09PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGUgc3RhY2sgaXMgZW1wdHkhXG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICBnbC5jbGVhcihnbC5TVEVOQ0lMX0JVRkZFUl9CSVQpO1xuICAgICAgICAgICAgZ2wuY2xlYXJTdGVuY2lsKDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVjcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgcG9wcGVkIG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIgb25lc1xuICAgICAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5ERUNSKTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc3RlbmNpbCBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLmdldFN0YWNrTGVuZ3RoKCkpIC0gMTtcbiAgICB9O1xuICAgIHJldHVybiBTdGVuY2lsU3lzdGVtO1xufShBYnN0cmFjdE1hc2tTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIFRoZSBgcHJvamVjdGlvbk1hdHJpeGAgaXMgYSBnbG9iYWwgdW5pZm9ybSBwcm92aWRlZCB0byBhbGwgc2hhZGVycy4gSXQgaXMgdXNlZCB0byB0cmFuc2Zvcm0gcG9pbnRzIGluIHdvcmxkIHNwYWNlIHRvXG4gKiBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJvamVjdGlvblN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJvamVjdGlvblN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcm9qZWN0aW9uU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlc3RpbmF0aW9uIGZyYW1lIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHByb2plY3Rpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZGVzdGluYXRpb24gZnJhbWUgaXMgdGhlIHJlY3RhbmdsZSBpbiB0aGUgcmVuZGVyLXRhcmdldCBpbnRvIHdoaWNoIGNvbnRlbnRzIGFyZSByZW5kZXJlZC4gSWYgcmVuZGVyaW5nXG4gICAgICAgICAqIHRvIHRoZSBzY3JlZW4sIHRoZSBvcmlnaW4gaXMgb24gdGhlIHRvcC1sZWZ0LiBJZiByZW5kZXJpbmcgdG8gYSBmcmFtZWJ1ZmZlciwgdGhlIG9yaWdpbiBpcyBvbiB0aGVcbiAgICAgICAgICogYm90dG9tLWxlZnQuIFRoaXMgXCJmbGlwcGluZ1wiIHBoZW5vbWVub24gaXMgYmVjYXVzZSBvZiBXZWJHTCBjb252ZW50aW9uIGZvciAoc2hhZGVyKSB0ZXh0dXJlIGNvb3JkaW5hdGVzLCB3aGVyZVxuICAgICAgICAgKiB0aGUgYm90dG9tLWxlZnQgY29ybmVyIGlzICgwLDApLiBJdCBhbGxvd3MgZGlzcGxheS1vYmplY3RzIHRvIG1hcCB0aGVpciAoMCwwKSBwb3NpdGlvbiBpbiBsb2NhbC1zcGFjZSAodG9wLWxlZnQpXG4gICAgICAgICAqIHRvICgwLDApIGluIHRleHR1cmUgc3BhY2UgKGJvdHRvbS1sZWZ0KS4gSW4gb3RoZXIgd29yZHMsIGEgc3ByaXRlJ3MgdG9wLWxlZnQgY29ybmVyIGFjdHVhbGx5IHJlbmRlcnMgdGhlXG4gICAgICAgICAqIHRleHR1cmUncyBib3R0b20tbGVmdCBjb3JuZXIuIFlvdSB3aWxsIGFsc28gbm90aWNlIHRoaXMgd2hlbiB1c2luZyBhIHRvb2wgbGlrZSBTcGVjdG9ySlMgdG8gdmlldyB5b3VyIHRleHR1cmVzXG4gICAgICAgICAqIGF0IHJ1bnRpbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZXN0aW5hdGlvbiBmcmFtZSdzIGRpbWVuc2lvbnMgKHdpZHRoLGhlaWdodCkgc2hvdWxkIGJlIGVxdWFsIHRvIHRoZSBzb3VyY2UgZnJhbWUuIFRoaXMgaXMgYmVjYXVzZSxcbiAgICAgICAgICogb3RoZXJ3aXNlLCB0aGUgY29udGVudHMgd2lsbCBiZSBzY2FsZWQgdG8gZmlsbCB0aGUgZGVzdGluYXRpb24gZnJhbWUuIFNpbWlsYXJseSwgdGhlIGRlc3RpbmF0aW9uIGZyYW1lJ3MgKHgseSlcbiAgICAgICAgICogY29vcmRpbmF0ZXMgYXJlICgwLDApIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIGZyYW1lIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHByb2plY3Rpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgc291cmNlIGZyYW1lIGlzIHRoZSByZWN0YW5nbGUgaW4gd29ybGQgc3BhY2UgY29udGFpbmluZyB0aGUgY29udGVudHMgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgZGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBub3QgdXNlZCBpbnRlcm5hbGx5LiBJdCBpcyBub3QgYWR2aXNlZCB0byB1c2UgdGhpcyBmZWF0dXJlIHNwZWNpZmljYWxseSB1bmxlc3MgeW91IGtub3cgd2hhdFxuICAgICAgICAgKiB5b3UncmUgZG9pbmcuIFRoZSBgdXBkYXRlYCBtZXRob2Qgd2lsbCBkZWZhdWx0IHRvIHRoaXMgZnJhbWUgaWYgeW91IGRvIG5vdCBwYXNzIHRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdEZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3Rpb24gbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbWF0cml4IGNhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBwb2ludHMgZnJvbSB3b3JsZCBzcGFjZSB0byBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlcywgYW5kIGlzIGNhbGN1bGF0ZWRcbiAgICAgICAgICogZnJvbSB0aGUgc291cmNlRnJhbWUg4oaSIGRlc3RpbmF0aW9uRnJhbWUgbWFwcGluZyBwcm92aWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHJlbmRlcmVyJ3MgYGdsb2JhbFVuaWZvcm1zYCBrZWVwcyBhIHJlZmVyZW5jZSB0byB0aGlzLCBhbmQgc28gaXQgaXMgYXZhaWxhYmxlIGZvciBhbGwgc2hhZGVycyB0byB1c2UgYXMgYVxuICAgICAgICAgKiB1bmlmb3JtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB0cmFuc2Zvcm0gdG8gYmUgYXBwZW5kZWQgdG8gdGhlIHByb2plY3Rpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBwb2ludHMgaW4gd29ybGQtc3BhY2Ugb25lIGxhc3QgdGltZSBiZWZvcmUgdGhleSBhcmUgb3V0cHV0dGVkIGJ5IHRoZSBzaGFkZXIuIFlvdSBjYW5cbiAgICAgICAgICogdXNlIHRvIHJvdGF0ZSB0aGUgd2hvbGUgc2NlbmUsIGZvciBleGFtcGxlLiBSZW1lbWJlciB0byBjbGVhciBpdCBvbmNlIHlvdSd2ZSByZW5kZXJlZCBldmVyeXRoaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbi1tYXRyaXggYmFzZWQgb24gdGhlIHNvdXJjZUZyYW1lIOKGkiBkZXN0aW5hdGlvbkZyYW1lIG1hcHBpbmcgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBOT1RFOiBJdCBpcyBleHBlY3RlZCB5b3UgY2FsbCBgcmVuZGVyZXIuZnJhbWVidWZmZXIuc2V0Vmlld3BvcnQoZGVzdGluYXRpb25GcmFtZSlgIGFmdGVyIHRoaXMuIFRoaXMgaXMgYmVjYXVzZVxuICAgICAqIHRoZSBmcmFtZWJ1ZmZlciB2aWV3cG9ydCBjb252ZXJ0cyBzaGFkZXIgdmVydGV4IG91dHB1dCBpbiBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlcyB0byB3aW5kb3cgY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBOT1RFLTI6IHtAbGluayBSZW5kZXJUZXh0dXJlU3lzdGVtI2JpbmR9IHVwZGF0ZXMgdGhlIHByb2plY3Rpb24tbWF0cml4IHdoZW4geW91IGJpbmQgYSByZW5kZXItdGV4dHVyZS4gSXQgaXMgZXhwZWN0ZWRcbiAgICAgKiB0aGF0IHlvdSBkaXJ0eSB0aGUgY3VycmVudCBiaW5kaW5ncyB3aGVuIGNhbGxpbmcgdGhpcyBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgcmVjdGFuZ2xlIGluIHRoZSByZW5kZXItdGFyZ2V0IHRvIHJlbmRlciB0aGUgY29udGVudHNcbiAgICAgKiAgaW50by4gSWYgcmVuZGVyaW5nIHRvIHRoZSBjYW52YXMsIHRoZSBvcmlnaW4gaXMgb24gdGhlIHRvcC1sZWZ0OyBpZiByZW5kZXJpbmcgdG8gYSByZW5kZXItdGV4dHVyZSwgdGhlIG9yaWdpblxuICAgICAqICBpcyBvbiB0aGUgYm90dG9tLWxlZnQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgcmVjdGFuZ2xlIGluIHdvcmxkIHNwYWNlIHRoYXQgY29udGFpbnMgdGhlIGNvbnRlbnRzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlci10YXJnZXQsIHdoaWNoIGlzIHRoZSByYXRpbyBvZiB3b3JsZC1zcGFjZSAob3IgQ1NTKSBwaXhlbHNcbiAgICAgKiAgdG8gcGh5c2ljYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIFdoZXRoZXIgdGhlIHJlbmRlci10YXJnZXQgaXMgdGhlIHNjcmVlbi4gVGhpcyBpcyByZXF1aXJlZCBiZWNhdXNlIHJlbmRlcmluZyB0byB0ZXh0dXJlc1xuICAgICAqICBpcyB5LWZsaXBwZWQgKGkuZS4gdXBzaWRlIGRvd24gcmVsYXRpdmUgdG8gdGhlIHNjcmVlbikuXG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVmYXVsdEZyYW1lO1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAvLyBDYWxjdWxhdGUgb2JqZWN0LXNwYWNlIHRvIGNsaXAtc3BhY2UgcHJvamVjdGlvblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBgcHJvamVjdGlvbk1hdHJpeGAgdG8gbWFwIHBvaW50cyBpbnNpZGUgYHNvdXJjZUZyYW1lYCB0byBpbnNpZGUgYGRlc3RpbmF0aW9uRnJhbWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZSBpbiB0aGUgcmVuZGVyLXRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUgaW4gd29ybGQgc3BhY2UuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVuZGVyLXRhcmdldCdzIHJlc29sdXRpb24sIGkuZS4gcmF0aW8gb2YgQ1NTIHRvIHBoeXNpY2FsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBXaGV0aGVyIHJlbmRlcmluZyBpbnRvIHRoZSBzY3JlZW4uIE90aGVyd2lzZSwgaWYgcmVuZGVyaW5nIHRvIGEgZnJhbWVidWZmZXIsIHRoZSBwcm9qZWN0aW9uXG4gICAgICogIGlzIHktZmxpcHBlZC5cbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVQcm9qZWN0aW9uID0gZnVuY3Rpb24gKF9kZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgX3Jlc29sdXRpb24sIHJvb3QpIHtcbiAgICAgICAgdmFyIHBtID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICB2YXIgc2lnbiA9ICFyb290ID8gMSA6IC0xO1xuICAgICAgICBwbS5pZGVudGl0eSgpO1xuICAgICAgICBwbS5hID0gKDEgLyBzb3VyY2VGcmFtZS53aWR0aCAqIDIpO1xuICAgICAgICBwbS5kID0gc2lnbiAqICgxIC8gc291cmNlRnJhbWUuaGVpZ2h0ICogMik7XG4gICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICBwbS50eSA9IC1zaWduIC0gKHNvdXJjZUZyYW1lLnkgKiBwbS5kKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChfbWF0cml4KSB7XG4gICAgICAgIC8vIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvamVjdGlvblN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIGFzc2lnbmVkIHNvdXJjZUZyYW1lIG9yIGRlc3RpbmF0aW9uRnJhbWVcbnZhciB0ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIHJlbmRlclRleHR1cmUgZGVzdGluYXRpb25GcmFtZVxudmFyIHRlbXBSZWN0MiA9IG5ldyBSZWN0YW5nbGUoKTtcbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHJlbmRlciB0ZXh0dXJlcy5cbiAqXG4gKiBTaG91bGQgYmUgYWRkZWQgYWZ0ZXIgRnJhbWVidWZmZXJTeXN0ZW1cbiAqXG4gKiAjIyMgRnJhbWVzXG4gKlxuICogVGhlIGBSZW5kZXJUZXh0dXJlU3lzdGVtYCBob2xkcyBhIHNvdXJjZUZyYW1lIOKGkiBkZXN0aW5hdGlvbkZyYW1lIHByb2plY3Rpb24uIFRoZSBmb2xsb3dpbmcgdGFibGUgZXhwbGFpbnMgdGhlIGRpZmZlcmVudFxuICogY29vcmRpbmF0ZSBzcGFjZXMgdXNlZDpcbiAqXG4gKiB8IEZyYW1lICAgICAgICAgICAgICAgICAgfCBEZXNjcmlwdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgQ29vcmRpbmF0ZSBTeXN0ZW0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IHNvdXJjZUZyYW1lICAgICAgICAgICAgfCBUaGUgcmVjdGFuZ2xlIGluc2lkZSBvZiB3aGljaCBkaXNwbGF5LW9iamVjdHMgYXJlIGJlaW5nIHJlbmRlcmVkIHwgKipXb3JsZCBTcGFjZSoqOiBUaGUgb3JpZ2luIG9uIHRoZSB0b3AtbGVmdCAgICAgICAgICAgICB8XG4gKiB8IGRlc3RpbmF0aW9uRnJhbWUgICAgICAgfCBUaGUgcmVjdGFuZ2xlIGluIHRoZSByZW5kZXItdGFyZ2V0IChjYW52YXMgb3IgdGV4dHVyZSkgaW50byB3aGljaCBjb250ZW50cyBzaG91bGQgYmUgcmVuZGVyZWQgfCBJZiByZW5kZXJpbmcgdG8gdGhlIGNhbnZhcywgdGhpcyBpcyBpbiBzY3JlZW4gc3BhY2UgYW5kIHRoZSBvcmlnaW4gaXMgb24gdGhlIHRvcC1sZWZ0LiBJZiByZW5kZXJpbmcgdG8gYSByZW5kZXItdGV4dHVyZSwgdGhpcyBpcyBpbiBpdHMgYmFzZS10ZXh0dXJlJ3Mgc3BhY2Ugd2l0aCB0aGUgb3JpZ2luIG9uIHRoZSBib3R0b20tbGVmdC4gIHxcbiAqIHwgdmlld3BvcnRGcmFtZSAgICAgICAgICB8IFRoZSBmcmFtZWJ1ZmZlciB2aWV3cG9ydCBjb3JyZXNwb25kaW5nIHRvIHRoZSBkZXN0aW5hdGlvbi1mcmFtZSAgfCAqKldpbmRvdyBDb29yZGluYXRlcyoqOiBUaGUgb3JpZ2luIGlzIGFsd2F5cyBvbiB0aGUgYm90dG9tLWxlZnQuIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyVGV4dHVyZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNsZWFyIGJhY2tncm91bmQgY29sb3IgYXMgcmdiYVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyQ29sb3IgPSByZW5kZXJlci5fYmFja2dyb3VuZENvbG9yUmdiYTtcbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMgcHJvcGVydHkgc29tZXdoZXJlIGVsc2UhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hc2tzIGZvciB0aGUgU3RlbmNpbFN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdE1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvLyBlbXB0eSByZW5kZXIgdGV4dHVyZT9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZnJhbWUgZm9yIHRoZSByZW5kZXItdGFyZ2V0J3MgcHJvamVjdGlvbiBtYXBwaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuUHJvamVjdGlvblN5c3RlbSNzb3VyY2VGcmFtZX0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVzdGluYXRpb24gZnJhbWUgZm9yIHRoZSByZW5kZXItdGFyZ2V0J3MgcHJvamVjdGlvbiBtYXBwaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuUHJvamVjdGlvbiNkZXN0aW5hdGlvbkZyYW1lfSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpZXdwb3J0IGZyYW1lIGZvciB0aGUgcmVuZGVyLXRhcmdldCdzIHZpZXdwb3J0IGJpbmRpbmcuIFRoaXMgaXMgZXF1YWwgdG8gdGhlIGRlc3RpbmF0aW9uLWZyYW1lXG4gICAgICAgICAqIGZvciByZW5kZXItdGV4dHVyZXMsIHdoaWxlIGl0IGlzIHktZmxpcHBlZCB3aGVuIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIChpLmUuIGl0cyBvcmlnaW4gaXMgYWx3YXlzIG9uXG4gICAgICAgICAqIHRoZSBib3R0b20tbGVmdCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdwb3J0RnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCB0aGUgY3VycmVudCByZW5kZXIgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFJlbmRlclRleHR1cmUgdG8gYmluZCwgYnkgZGVmYXVsdCBpdHMgYG51bGxgLCB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3NvdXJjZUZyYW1lXSAtIHBhcnQgb2Ygc2NyZWVuIHRoYXQgaXMgbWFwcGVkIHRvIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2Rlc3RpbmF0aW9uRnJhbWVdIC0gcGFydCBvZiByZW5kZXJUZXh0dXJlLCBieSBkZWZhdWx0IGl0IGhhcyB0aGUgc2FtZSBzaXplIGFzIHNvdXJjZUZyYW1lXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSA9PT0gdm9pZCAwKSB7IHJlbmRlclRleHR1cmUgPSBudWxsOyB9XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSkge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LndpZHRoID0gcmVuZGVyVGV4dHVyZS5mcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJUZXh0dXJlLmZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLnggPSByZW5kZXJUZXh0dXJlLmZyYW1lLng7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLnkgPSByZW5kZXJUZXh0dXJlLmZyYW1lLnk7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLndpZHRoID0gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3QyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVidWZmZXIgPSBiYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSkge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LndpZHRoID0gcmVuZGVyZXIuc2NyZWVuLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzb3VyY2VGcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpZXdwb3J0RnJhbWUgPSB0aGlzLnZpZXdwb3J0RnJhbWU7XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueCA9IGRlc3RpbmF0aW9uRnJhbWUueCAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueSA9IGRlc3RpbmF0aW9uRnJhbWUueSAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmlld3BvcnRGcmFtZS5oZWlnaHQgPSBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdmlld3BvcnRGcmFtZS55ID0gcmVuZGVyZXIudmlldy5oZWlnaHQgLSAodmlld3BvcnRGcmFtZS55ICsgdmlld3BvcnRGcmFtZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChmcmFtZWJ1ZmZlciwgdmlld3BvcnRGcmFtZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sICFmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKGJhc2VUZXh0dXJlLm1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKHRoaXMuZGVmYXVsdE1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbShzb3VyY2VGcmFtZSk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS5jb3B5RnJvbShkZXN0aW5hdGlvbkZyYW1lKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG9yIGFzIHJnYmEsIGRlZmF1bHQgdG8gdXNlIHRoZSByZW5kZXJlciBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoY2xlYXJDb2xvciwgbWFzaykge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmN1cnJlbnQuYmFzZVRleHR1cmUuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IHRoaXMuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIGJhc2VGcmFtZSA9IHRoaXMuY3VycmVudCA/IHRoaXMuY3VycmVudC5iYXNlVGV4dHVyZSA6IHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgICAgICB2YXIgY2xlYXJNYXNrID0gZGVzdGluYXRpb25GcmFtZS53aWR0aCAhPT0gYmFzZUZyYW1lLndpZHRoIHx8IGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICE9PSBiYXNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICBpZiAoY2xlYXJNYXNrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnZpZXdwb3J0RnJhbWUsIHggPSBfYS54LCB5ID0gX2EueSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAgICAgLy8gVE9ETzogU2Npc3NvclN5c3RlbSBzaG91bGQgY2FjaGUgd2hldGhlciB0aGUgc2Npc3NvciB0ZXN0IGlzIGVuYWJsZWQgb3Igbm90LlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5lbmFibGUodGhpcy5yZW5kZXJlci5nbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoY2xlYXJDb2xvclswXSwgY2xlYXJDb2xvclsxXSwgY2xlYXJDb2xvclsyXSwgY2xlYXJDb2xvclszXSwgbWFzayk7XG4gICAgICAgIGlmIChjbGVhck1hc2spIHtcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIHNjaXNzb3IgYm94XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyByZW5kZXJUZXh0dXJlIHN0YXRlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIElHTFVuaWZvcm1EYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElHTFVuaWZvcm1EYXRhKCkge1xuICAgIH1cbiAgICByZXR1cm4gSUdMVW5pZm9ybURhdGE7XG59KCkpO1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgUHJvZ3JhbVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIG5ldyBQaXhpIHByb2dyYW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBwcm9ncmFtIC0gd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtRGF0YSAtIHVuaWZvcm1zXG4gICAgICovXG4gICAgZnVuY3Rpb24gR0xQcm9ncmFtKHByb2dyYW0sIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHByb2dyYW1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xQcm9ncmFtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGhvbGRzIHRoZSB1bmlmb3JtIGRhdGEgd2hpY2ggY29udGFpbnMgdW5pZm9ybSBsb2NhdGlvbnNcbiAgICAgICAgICogYW5kIGN1cnJlbnQgdW5pZm9ybSB2YWx1ZXMgdXNlZCBmb3IgY2FjaGluZyBhbmQgcHJldmVudGluZyB1bm5lZWRlZCBHUFUgY29tbWFuZHNcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1EYXRhO1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pZm9ybUdyb3VwcyBob2xkcyB0aGUgdmFyaW91cyB1cGxvYWQgZnVuY3Rpb25zIGZvciB0aGUgc2hhZGVyLiBFYWNoIHVuaWZvcm0gZ3JvdXBcbiAgICAgICAgICogYW5kIHByb2dyYW0gaGF2ZSBhIHVuaXF1ZSB1cGxvYWQgZnVuY3Rpb24gZ2VuZXJhdGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgR0xQcm9ncmFtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBHTFByb2dyYW07XG59KCkpO1xuXG52YXIgVUlEJDQgPSAwO1xuLy8gZGVmYXVsdCBzeW5jIGRhdGEgc28gd2UgZG9uJ3QgY3JlYXRlIGEgbmV3IG9uZSBlYWNoIHRpbWUhXG52YXIgZGVmYXVsdFN5bmNEYXRhID0geyB0ZXh0dXJlQ291bnQ6IDAgfTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHNoYWRlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFNoYWRlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2hhZGVyU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlclN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8vIFZhbGlkYXRpb24gY2hlY2sgdGhhdCB0aGlzIGVudmlyb25tZW50IHN1cHBvcnQgYG5ldyBGdW5jdGlvbmBcbiAgICAgICAgX3RoaXMuc3lzdGVtQ2hlY2soKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSB0byBob2xkcyB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucy4gU3RvcmVkIGFnYWluc3QgVW5pZm9ybU9iamVjdHMgdW5pcXVlIHNpZ25hdHVyZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGUgPSB7fTtcbiAgICAgICAgX3RoaXMuaWQgPSBVSUQkNCsrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBmdW5jdGlvbiBieSBgQHBpeGkvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICAgKiB0aHJvd2luZyBhbiBlcnJvciBpZiBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgdW5zYWZlLWV2YWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5c3RlbUNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCAnXG4gICAgICAgICAgICAgICAgKyAncGxlYXNlIHVzZSBAcGl4aS91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgc2hhZGVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgbmV3IHNoYWRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvbnRTeW5jXSAtIGZhbHNlIGlmIHRoZSBzaGFkZXIgc2hvdWxkIGF1dG9tYXRpY2FsbHkgc3luYyBpdHMgdW5pZm9ybXMuXG4gICAgICogQHJldHVybnMge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIHRoYXQgYmVsb25ncyB0byB0aGUgc2hhZGVyLlxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChzaGFkZXIsIGRvbnRTeW5jKSB7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5nbG9iYWxzID0gdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAvLyBUT0RPIC0gc29tZSBjdXJyZW50IFBpeGkgcGx1Z2lucyBieXBhc3MgdGhpcy4uIHNvIGl0IG5vdCBzYWZlIHRvIHVzZSB5ZXQuLlxuICAgICAgICBpZiAodGhpcy5wcm9ncmFtICE9PSBwcm9ncmFtKSB7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKGdsUHJvZ3JhbS5wcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvbnRTeW5jKSB7XG4gICAgICAgICAgICBkZWZhdWx0U3luY0RhdGEudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1Hcm91cChzaGFkZXIudW5pZm9ybUdyb3VwLCBkZWZhdWx0U3luY0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdW5pZm9ybXMgLSB0aGUgdW5pZm9ybXMgdmFsdWVzIHRoYXQgYmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnNldFVuaWZvcm1zID0gZnVuY3Rpb24gKHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgIHNoYWRlci5zeW5jVW5pZm9ybXMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCB1bmlmb3JtcywgdGhpcy5yZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBzeW5jcyB1bmlmb3JtcyBvbiB0aGUgZ3JvdXBcbiAgICAgKiBAcGFyYW0geyp9IGdyb3VwIC0gdGhlIHVuaWZvcm0gZ3JvdXAgdG8gc3luY1xuICAgICAqIEBwYXJhbSB7Kn0gW3N5bmNEYXRhXSAtIHRoaXMgaXMgZGF0YSB0aGF0IGlzIHBhc3NlZCB0byB0aGUgc3luYyBmdW5jdGlvbiBhbmQgYW55IG5lc3RlZCBzeW5jIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3luY1VuaWZvcm1Hcm91cCA9IGZ1bmN0aW9uIChncm91cCwgc3luY0RhdGEpIHtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHRoaXMuZ2V0Z2xQcm9ncmFtKCk7XG4gICAgICAgIGlmICghZ3JvdXAuc3RhdGljIHx8IGdyb3VwLmRpcnR5SWQgIT09IGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSkge1xuICAgICAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdID0gZ3JvdXAuZGlydHlJZDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0sIHN5bmNEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGJ5IHRoZSBAcGl4aS91bnNhZmUtZXZhbCBwYWNrYWdlIHRvIHVzZSBzdGF0aWNcbiAgICAgKiBzeW5jVW5mb3JtcyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtcyA9IGZ1bmN0aW9uIChncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSkge1xuICAgICAgICB2YXIgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcbiAgICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlciwgc3luY0RhdGEpO1xuICAgIH07XG4gICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVTeW5jR3JvdXBzID0gZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdID0gdGhpcy5jYWNoZVtpZF07XG4gICAgICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCAtIHRoZSB1bmlmb3JtIGdyb3VwIHRvIGdldCBzaWduYXR1cmUgb2ZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybURhdGEgLSB1bmlmb3JtIGluZm9ybWF0aW9uIGdlbmVyYXRlZCBieSB0aGUgc2hhZGVyXG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgdW5pZm9ybSBncm91cFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiAoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IGdyb3VwLnVuaWZvcm1zO1xuICAgICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1zKSB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICBpZiAodW5pZm9ybURhdGFbaV0pIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ3Muam9pbignLScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBHTFNoYWRlIHJvZiB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gZm9yIHRoZSBjdXJyZW50bHkgYm91bmQgU2hhZGVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldGdsUHJvZ3JhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZ2xQcm9ncmFtIHZlcnNpb24gb2YgdGhlIFNoYWRlciBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiAoc2hhZGVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBhdHRyaWJNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLmF0dHJpYnV0ZURhdGEpIHtcbiAgICAgICAgICAgIGF0dHJpYk1hcFtpXSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtpXS5sb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhZGVyUHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCBwcm9ncmFtLnZlcnRleFNyYywgcHJvZ3JhbS5mcmFnbWVudFNyYywgYXR0cmliTWFwKTtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0ge307XG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBwcm9ncmFtLnVuaWZvcm1EYXRhW2ldO1xuICAgICAgICAgICAgdW5pZm9ybURhdGFbaV0gPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKGRhdGEudHlwZSwgZGF0YS5zaXplKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuICAgICAgICBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbFByb2dyYW07XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgU2hhZGVyU3lzdGVtIHN0YXRlLCBkb2VzIG5vdCBhZmZlY3QgV2ViR0wgc3RhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBkZXN0cm95IG1ldGhvZCBmb3IgU2hhZGVyU3lzdGVtXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTaGFkZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBbYXJyYXk9W11dIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7bnVtYmVyW11bXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5KSB7XG4gICAgaWYgKGFycmF5ID09PSB2b2lkIDApIHsgYXJyYXkgPSBbXTsgfVxuICAgIC8vIFRPRE8gLSBwcmVtdWx0aXBseSBhbHBoYSB3b3VsZCBiZSBkaWZmZXJlbnQuXG4gICAgLy8gYWRkIGEgYm9vbGVhbiBmb3IgdGhhdCFcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTVVMVElQTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MSUdIVEVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9ORV0gPSBbMCwgMF07XG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlhPUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuICAgIHJldHVybiBhcnJheTtcbn1cblxudmFyIEJMRU5EJDEgPSAwO1xudmFyIE9GRlNFVCQxID0gMTtcbnZhciBDVUxMSU5HJDEgPSAyO1xudmFyIERFUFRIX1RFU1QkMSA9IDM7XG52YXIgV0lORElORyQxID0gNDtcbnZhciBERVBUSF9NQVNLJDEgPSA1O1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgV2ViR0wgc3RhdGUgbWFjaGluZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN0YXRlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGF0ZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZVN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdMIGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIElEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvbHlnb24gb2Zmc2V0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJsZW5kIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PTkVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBjdXJyZW50IGJsZW5kIGVxdWF0aW9uIGlzIGRpZmZlcmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcCA9IFtdO1xuICAgICAgICAvLyBtYXAgZnVuY3Rpb25zIGZvciB3aGVuIHdlIHNldCBzdGF0ZS4uXG4gICAgICAgIF90aGlzLm1hcFtCTEVORCQxXSA9IF90aGlzLnNldEJsZW5kO1xuICAgICAgICBfdGhpcy5tYXBbT0ZGU0VUJDFdID0gX3RoaXMuc2V0T2Zmc2V0O1xuICAgICAgICBfdGhpcy5tYXBbQ1VMTElORyQxXSA9IF90aGlzLnNldEN1bGxGYWNlO1xuICAgICAgICBfdGhpcy5tYXBbREVQVEhfVEVTVCQxXSA9IF90aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgX3RoaXMubWFwW1dJTkRJTkckMV0gPSBfdGhpcy5zZXRGcm9udEZhY2U7XG4gICAgICAgIF90aGlzLm1hcFtERVBUSF9NQVNLJDFdID0gX3RoaXMuc2V0RGVwdGhNYXNrO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjaGVjayBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoZWNrcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBXZWJHTCBTdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICBfdGhpcy5kZWZhdWx0U3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsKTtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgICAgIC8vIFRPRE8gbWF5YmUgdG8gYW4gb2JqZWN0IGNoZWNrPyAoIHRoaXMuc3RhdGUgPT09IHN0YXRlICk/XG4gICAgICAgIGlmICh0aGlzLnN0YXRlSWQgIT09IHN0YXRlLmRhdGEpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gdGhpcy5zdGF0ZUlkIF4gc3RhdGUuZGF0YTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIC8vIG9yZGVyIGZyb20gbGVhc3QgdG8gbW9zdCBjb21tb25cbiAgICAgICAgICAgIHdoaWxlIChkaWZmKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgJiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlmZiA9IGRpZmYgPj4gMTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJhc2VkIG9uIHRoZSBhYm92ZSBzZXR0aW5ncyB3ZSBjaGVjayBmb3Igc3BlY2lmaWMgbW9kZXMuLlxuICAgICAgICAvLyBmb3IgZXhhbXBsZSBpZiBibGVuZCBpcyBhY3RpdmUgd2UgY2hlY2sgYW5kIHNldCB0aGUgYmxlbmQgbW9kZXNcbiAgICAgICAgLy8gb3Igb2YgcG9seWdvbiBvZmZzZXQgaXMgYWN0aXZlIHdlIGNoZWNrIHRoZSBwb2x5IGRlcHRoLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YXRlLCB3aGVuIHByZXZpb3VzIHN0YXRlIGlzIHVua25vd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0XG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmZvcmNlU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkJMRU5EKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgcG9seWdvbiBvZmZzZXQgdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0T2Zmc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldERlcHRoVGVzdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgZGVwdGggbWFzay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBkZXB0aCBtYXNrLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXREZXB0aE1hc2sgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbC5kZXB0aE1hc2sodmFsdWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEN1bGxGYWNlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5DVUxMX0ZBQ0UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2wgZnJvbnQgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB0cnVlIGlzIGNsb2Nrd2lzZSBhbmQgZmFsc2UgaXMgY291bnRlci1jbG9ja3dpc2VcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RnJvbnRGYWNlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgYmxlbmQgbW9kZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuYmxlbmRNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhtb2RlWzBdLCBtb2RlWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gNikge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUobW9kZVs0XSwgbW9kZVs1XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYmxlbmRFcSkge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKGdsLkZVTkNfQURELCBnbC5GVU5DX0FERCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvbHlnb24gb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gdGhlIHBvbHlnb24gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdGhlIHBvbHlnb24gb2Zmc2V0IHNjYWxlXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldFBvbHlnb25PZmZzZXQgPSBmdW5jdGlvbiAodmFsdWUsIHNjYWxlKSB7XG4gICAgICAgIHRoaXMuZ2wucG9seWdvbk9mZnNldCh2YWx1ZSwgc2NhbGUpO1xuICAgIH07XG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5mb3JjZVN0YXRlKHRoaXMuZGVmYXVsdFN0YXRlKTtcbiAgICAgICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gLTE7XG4gICAgICAgIHRoaXMuc2V0QmxlbmRNb2RlKDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY2hlY2tzIHRvIHNlZSB3aGljaCB1cGRhdGVzIHNob3VsZCBiZSBjaGVja2VkIGJhc2VkIG9uIHdoaWNoIHNldHRpbmdzIGhhdmUgYmVlbiBhY3RpdmF0ZWQuXG4gICAgICogRm9yIGV4YW1wbGUsIGlmIGJsZW5kIGlzIGVuYWJsZWQgdGhlbiB3ZSBzaG91bGQgY2hlY2sgdGhlIGJsZW5kIG1vZGVzIGVhY2ggdGltZSB0aGUgc3RhdGUgaXMgY2hhbmdlZFxuICAgICAqIG9yIGlmIHBvbHlnb24gZmlsbCBpcyBhY3RpdmF0ZWQgdGhlbiB3ZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBwb2x5Z29uIG9mZnNldCBjaGFuZ2VzLlxuICAgICAqIFRoZSBpZGVhIGlzIHRoYXQgd2Ugb25seSBjaGVjayB3aGF0IHdlIGhhdmUgdG9vLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIHRoZSBjaGVja2luZyBmdW5jdGlvbiB0byBhZGQgb3IgcmVtb3ZlXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHNob3VsZCB0aGUgY2hlY2sgZnVuY3Rpb24gYmUgYWRkZWQgb3IgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQ2hlY2sgPSBmdW5jdGlvbiAoZnVuYywgdmFsdWUpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGVja3MuaW5kZXhPZihmdW5jKTtcbiAgICAgICAgaWYgKHZhbHVlICYmIGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jaGVja3MucHVzaChmdW5jKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdmFsdWUgJiYgaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gLSB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAtIHRoZSBzdGF0ZSB0aGF0IHRoZSBibGVuZE1vZGUgd2lsbCBwdWxsZWQgZnJvbVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLmNoZWNrQmxlbmRNb2RlID0gZnVuY3Rpb24gKHN5c3RlbSwgc3RhdGUpIHtcbiAgICAgICAgc3lzdGVtLnNldEJsZW5kTW9kZShzdGF0ZS5ibGVuZE1vZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGVTeXN0ZW19IFN5c3RlbSAtIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlIC0gdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gKHN5c3RlbSwgc3RhdGUpIHtcbiAgICAgICAgc3lzdGVtLnNldFBvbHlnb25PZmZzZXQoMSwgc3RhdGUucG9seWdvbk9mZnNldCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlIGdhcmJhZ2UgY29sbGVjdGlvbiBvbiB0aGUgR1BVLFxuICogZW5zdXJpbmcgdGhhdCBpdCBkb2VzIG5vdCBnZXQgY2xvZ2dlZCB1cCB3aXRoIHRleHR1cmVzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBUZXh0dXJlR0NTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHR1cmVHQ1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR0NTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgY291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBpZGxlIHRpbWUsIGluIHNlY29uZHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0lETEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heElkbGUgPSBzZXR0aW5ncy5HQ19NQVhfSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIGl0ZW0gdG8gY2hlY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGVja0NvdW50TWF4ID0gc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBnYXJiYWdlIGNvbGxlY3Rpb24gbW9kZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdDX01PREVTfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW9kZSA9IHNldHRpbmdzLkdDX01PREU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnBvc3RyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gR0NfTU9ERVMuTUFOVUFMKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ291bnQgPiB0aGlzLmNoZWNrQ291bnRNYXgpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIHZhciBtYW5hZ2VkVGV4dHVyZXMgPSB0bS5tYW5hZ2VkVGV4dHVyZXM7XG4gICAgICAgIHZhciB3YXNSZW1vdmVkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIC8vIG9ubHkgc3VwcG9ydHMgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlcyBhdCB0aGUgbW9tZW50IVxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlLmZyYW1lYnVmZmVyICYmIHRoaXMuY291bnQgLSB0ZXh0dXJlLnRvdWNoZWQgPiB0aGlzLm1heElkbGUpIHtcbiAgICAgICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHdhc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3YXNSZW1vdmVkKSB7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VkVGV4dHVyZXNbaV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0IHRvIHJlbW92ZSB0aGUgdGV4dHVyZXMgZnJvbS5cbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlO1xuICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlc1xuICAgICAgICBpZiAodGV4dHVyZSAmJiAhdGV4dHVyZS5mcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZUdDU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCB0ZXh0dXJlIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTFRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgdGV4dHVyZSB0aGF0IHdhcyB1c2VkIGluIHRleEltYWdlMkRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgY29udGVudHMgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgc3R5bGUgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBtaXAgbGV2ZWxzIGhhcyB0byBiZSBnZW5lcmF0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwTW9kZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IDY0MDg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJuYWxGb3JtYXQgPSA1MTIxO1xuICAgICAgICB0aGlzLnNhbXBsZXJUeXBlID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIEdMVGV4dHVyZTtcbn0oKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0dXJlU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8vIFRPRE8gc2V0IHRvIG1heCB0ZXh0dXJlcy4uLlxuICAgICAgICAvKipcbiAgICAgICAgICogQm91bmQgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbG9jYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBtYW5hZ2VkIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCBzb21lb25lIHRlbXBlciB3aXRoIHRleHR1cmVzIHN0YXRlPyBXZSdsbCBvdmVyd3JpdGUgdGhlbSB3aGVuIHdlIG5lZWQgdG8gdW5iaW5kIHNvbWV0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZVRleHR1cmUgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVua25vd25UZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgICAgIF90aGlzLmhhc0ludGVnZXJUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuICAgICAgICB2YXIgbWF4VGV4dHVyZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoID0gbWF4VGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG4gICAgICAgIHZhciBlbXB0eVRleHR1cmUyRCA9IG5ldyBHTFRleHR1cmUoZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0gPSBlbXB0eVRleHR1cmUyRDtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0udGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGksIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIHRleHR1cmUgdG8gYSBzcGVjaWZpYyBsb2NhdGlvblxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gdW5iaW5kIHNvbWV0aGluZywgcGxlYXNlIHVzZSBgdW5iaW5kKHRleHR1cmUpYCBpbnN0ZWFkIG9mIGBiaW5kKG51bGwsIHRleHR1cmVMb2NhdGlvbilgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXyAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24gPT09IHZvaWQgMCkgeyBsb2NhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmluZCBwYXJ0aWFsIHRleHR1cmVcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZXBvcnQgYSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCAhPT0gdGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0ZXh0dXJlIGxvY2F0aW9uIGFuZCBib3VuZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQWN0dWFsIGBiaW5kKG51bGwsIGkpYCBjYWxscyB3aWxsIGJlIHBlcmZvcm1lZCBhdCBuZXh0IGB1bmJpbmQoKWAgY2FsbFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuaGFzSW50ZWdlclRleHR1cmVzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnVua25vd25UZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmJpbmQgYSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgYm91bmRUZXh0dXJlcyA9IF9hLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGhpcy51bmtub3duVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCB0aGlzLmVtcHR5VGV4dHVyZXNbdGV4dHVyZS50YXJnZXRdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgY3VycmVudCBib3VuZFRleHR1cmVzIGFsbCBoYXZlIEZMT0FUIHNhbXBsZXIgdHlwZSxcbiAgICAgKiBzZWUge0BsaW5rIFBJWEkuU0FNUExFUl9UWVBFU30gZm9yIGV4cGxhbmF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIGxvY2F0aW9ucyB0byBjaGVja1xuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmVuc3VyZVNhbXBsZXJUeXBlID0gZnVuY3Rpb24gKG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGJvdW5kVGV4dHVyZXMgPSBfYS5ib3VuZFRleHR1cmVzLCBoYXNJbnRlZ2VyVGV4dHVyZXMgPSBfYS5oYXNJbnRlZ2VyVGV4dHVyZXMsIENPTlRFWFRfVUlEID0gX2EuQ09OVEVYVF9VSUQ7XG4gICAgICAgIGlmICghaGFzSW50ZWdlclRleHR1cmVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IG1heFRleHR1cmVzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSBib3VuZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgaWYgKHRleCkge1xuICAgICAgICAgICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXguX2dsVGV4dHVyZXNbQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgICAgIGlmIChnbFRleHR1cmUuc2FtcGxlclR5cGUgIT09IFNBTVBMRVJfVFlQRVMuRkxPQVQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZCh0ZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuaW5pdFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gbmV3IEdMVGV4dHVyZSh0aGlzLmdsLmNyZWF0ZVRleHR1cmUoKSk7XG4gICAgICAgIC8vIGd1YXJhbnRlZSBhbiB1cGRhdGUuLlxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IC0xO1xuICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuICAgICAgICB0aGlzLm1hbmFnZWRUZXh0dXJlcy5wdXNoKHRleHR1cmUpO1xuICAgICAgICB0ZXh0dXJlLm9uKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBnbFRleHR1cmU7XG4gICAgfTtcbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZVR5cGUgPSBmdW5jdGlvbiAodGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IHRleHR1cmUuZm9ybWF0O1xuICAgICAgICBnbFRleHR1cmUudHlwZSA9IHRleHR1cmUudHlwZTtcbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHRleHR1cmUudHlwZSA9PT0gZ2wuRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMzJGO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoYXQncyBXZWJHTDEgSEFMRl9GTE9BVF9PRVNcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBjb252ZXJ0IGl0IHRvIFdlYkdMIEhBTEZfRkxPQVRcbiAgICAgICAgaWYgKHRleHR1cmUudHlwZSA9PT0gVFlQRVMuSEFMRl9GTE9BVCkge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLnR5cGUgPSBnbC5IQUxGX0ZMT0FUO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbFRleHR1cmUudHlwZSA9PT0gZ2wuSEFMRl9GTE9BVFxuICAgICAgICAgICAgJiYgdGV4dHVyZS5mb3JtYXQgPT09IGdsLlJHQkEpIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkExNkY7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHRoaXMuaW5pdFRleHR1cmVUeXBlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKSB7XG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIHVwbG9hZGVkLCBkb250IGRvIGFueXRoaW5nIVxuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS5zYW1wbGVyVHlwZSAhPT0gU0FNUExFUl9UWVBFUy5GTE9BVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW50ZWdlclRleHR1cmVzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQsIHJlbmRlclRleHR1cmUtbGlrZSBsb2dpY1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5oZWlnaHQgIT09IGhlaWdodFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRCh0ZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0ZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlXyAtIHRoZSB0ZXh0dXJlIHRvIGRlc3Ryb3lcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwUmVtb3ZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2tpcCByZW1vdmluZyB0aGUgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlTWFuYWdlci5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZCh0ZXh0dXJlKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRleHR1cmUgc3R5bGUgc3VjaCBhcyBtaXBtYXAgZmxhZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiAhPT0gMiAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSB0ZXh0dXJlLndyYXBNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2Uuc3R5bGUodGhpcy5yZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSkgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgc3R5bGUgZm9yIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXAgJiYgdGV4dHVyZS5taXBtYXAgIT09IE1JUE1BUF9NT0RFUy5PTl9NQU5VQUwpIHtcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKHRleHR1cmUudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfUywgZ2xUZXh0dXJlLndyYXBNb2RlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdmFyIGFuaXNvdHJvcGljRXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuYW5pc290cm9waWNGaWx0ZXJpbmc7XG4gICAgICAgICAgICBpZiAoYW5pc290cm9waWNFeHQgJiYgdGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsID4gMCAmJiB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsLCBnbC5nZXRQYXJhbWV0ZXIoYW5pc290cm9waWNFeHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSk7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG5cblxudmFyIF9zeXN0ZW1zID0ge1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBGaWx0ZXJTeXN0ZW06IEZpbHRlclN5c3RlbSxcbiAgICBCYXRjaFN5c3RlbTogQmF0Y2hTeXN0ZW0sXG4gICAgQ29udGV4dFN5c3RlbTogQ29udGV4dFN5c3RlbSxcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbTogRnJhbWVidWZmZXJTeXN0ZW0sXG4gICAgR2VvbWV0cnlTeXN0ZW06IEdlb21ldHJ5U3lzdGVtLFxuICAgIE1hc2tTeXN0ZW06IE1hc2tTeXN0ZW0sXG4gICAgU2Npc3NvclN5c3RlbTogU2Npc3NvclN5c3RlbSxcbiAgICBTdGVuY2lsU3lzdGVtOiBTdGVuY2lsU3lzdGVtLFxuICAgIFByb2plY3Rpb25TeXN0ZW06IFByb2plY3Rpb25TeXN0ZW0sXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcbiAgICBTaGFkZXJTeXN0ZW06IFNoYWRlclN5c3RlbSxcbiAgICBTdGF0ZVN5c3RlbTogU3RhdGVTeXN0ZW0sXG4gICAgVGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG4gICAgVGV4dHVyZVN5c3RlbTogVGV4dHVyZVN5c3RlbVxufTtcblxudmFyIHRlbXBNYXRyaXgkMSA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogVGhlIEFic3RyYWN0UmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuUmVuZGVyZXJ9IHdoaWNoIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgYSBQaXhpSlMgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWJzdHJhY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc3lzdGVtIC0gVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0aGlzIHJlbmRlcmVyIGlzIGZvci5cbiAgICAgKiBAcGFyYW0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlQ29udGV4dEFscGhhPXRydWVdIC0gUGFzcy10aHJvdWdoIHZhbHVlIGZvciBjYW52YXMnIGNvbnRleHQgYGFscGhhYCBwcm9wZXJ0eS5cbiAgICAgKiAgIElmIHlvdSB3YW50IHRvIHNldCB0cmFuc3BhcmVuY3ksIHBsZWFzZSB1c2UgYGJhY2tncm91bmRBbHBoYWAuIFRoaXMgb3B0aW9uIGlzIGZvciBjYXNlcyB3aGVyZSB0aGVcbiAgICAgKiAgIGNhbnZhcyBuZWVkcyB0byBiZSBvcGFxdWUsIHBvc3NpYmx5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIG9uIHNvbWUgb2xkZXIgZGV2aWNlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249UElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICAgICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZEFscGhhPTFdIC0gVmFsdWUgZnJvbSAwIChmdWxseSB0cmFuc3BhcmVudCkgdG8gMSAoZnVsbHkgb3BhcXVlKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBYnN0cmFjdFJlbmRlcmVyKHR5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MuUkVOREVSX09QVElPTlMsIG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB0aGUgd2hvbGUgc3RhZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXNzLXRocnUgc2V0dGluZyBmb3IgdGhlIHRoZSBjYW52YXMnIGNvbnRleHQgYGFscGhhYCBwcm9wZXJ0eS4gVGhpcyBpcyB0eXBpY2FsbHlcbiAgICAgICAgICogbm90IHNvbWV0aGluZyB5b3UgbmVlZCB0byBmaWRkbGUgd2l0aC4gSWYgeW91IHdhbnQgdHJhbnNwYXJlbmN5LCB1c2UgYGJhY2tncm91bmRBbHBoYWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VDb250ZXh0QWxwaGEgPSBvcHRpb25zLnVzZUNvbnRleHRBbHBoYTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgQ1NTIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9EZW5zaXR5ID0gISFvcHRpb25zLmF1dG9EZW5zaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoZSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgZmxhZyBhZmZlY3RzIHdoZXRoZXIgb3Igbm90IHRoZSBjb250ZW50cyBvZlxuICAgICAgICAgKiB0aGUgc3RlbmNpbCBidWZmZXIgaXMgcmV0YWluZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNldHMgaWYgdGhlIENhbnZhc1JlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICAgICAqIElmIHRoZSBzY2VuZSBpcyBOT1QgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGEgY2FudmFzIHNpemVkIGZpbGxSZWN0IG9wZXJhdGlvbiBldmVyeVxuICAgICAgICAgKiBmcmFtZSB0byBzZXQgdGhlIGNhbnZhcyBiYWNrZ3JvdW5kIGNvbG9yLiBJZiB0aGUgc2NlbmUgaXMgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGNsZWFyUmVjdFxuICAgICAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGV2ZXJ5IGZyYW1lLiBEaXNhYmxlIHRoaXMgYnkgc2V0dGluZyB0aGlzIHRvIGZhbHNlLiBGb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICogeW91ciBnYW1lIGhhcyBhIGNhbnZhcyBmaWxsaW5nIGJhY2tncm91bmQgaW1hZ2UgeW91IG9mdGVuIGRvbid0IG5lZWQgdGhpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQiwgQV0gYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAxXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgc3RyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAnIzAwMDAwMCc7XG4gICAgICAgIF90aGlzLmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8IF90aGlzLl9iYWNrZ3JvdW5kQ29sb3I7IC8vIHJ1biBiZyBjb2xvciBzZXR0ZXJcbiAgICAgICAgX3RoaXMuYmFja2dyb3VuZEFscGhhID0gb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE7XG4gICAgICAgIC8vIEBkZXByZWNhdGVkXG4gICAgICAgIGlmIChvcHRpb25zLnRyYW5zcGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc2LjAuMCcsICdPcHRpb24gdHJhbnNwYXJlbnQgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBiYWNrZ3JvdW5kQWxwaGEgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIF90aGlzLnVzZUNvbnRleHRBbHBoYSA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQWxwaGEgPSBvcHRpb25zLnRyYW5zcGFyZW50ID8gMCA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHJvb3Qgb2JqZWN0IHRoYXQgdGhlIHJlbmRlcmVyIHRyaWVkIHRvIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcGx1Z2lucy5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbnMgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0aWNNYXAgLSBUaGUgZGljdGlvbmFyeSBvZiBzdGF0aWNhbGx5IHNhdmVkIHBsdWdpbnMuXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuaW5pdFBsdWdpbnMgPSBmdW5jdGlvbiAoc3RhdGljTWFwKSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gc3RhdGljTWFwKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBuZXcgKHN0YXRpY01hcFtvXSkodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHZpZXcud2lkdGgsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgaG9yaXpvbnRhbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgODAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMgdmlldy5oZWlnaHQsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgdmVydGljYWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3LmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHNjcmVlbiBhbmQgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKiBDYW52YXMgZGltZW5zaW9ucyBhcmUgbXVsdGlwbGllZCBieSByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuc2NyZWVuLndpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgICAgIHRoaXMuc2NyZWVuLmhlaWdodCA9IHNjcmVlbkhlaWdodDtcbiAgICAgICAgdGhpcy52aWV3LndpZHRoID0gc2NyZWVuV2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIGlmICh0aGlzLmF1dG9EZW5zaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUud2lkdGggPSBzY3JlZW5XaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHZpZXcgaGFzIGJlZW4gcmVzaXplZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcmVzaXplXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ3Jlc2l6ZScsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZnVsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRleHR1cmUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGUgc3ByaXRlc1xuICAgICAqIFRoaXMgY2FuIGJlIHF1aXRlIHVzZWZ1bCBpZiB5b3VyIGRpc3BsYXlPYmplY3QgaXMgY29tcGxpY2F0ZWQgYW5kIG5lZWRzIHRvIGJlIHJldXNlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXlPYmplY3QgdGhlIG9iamVjdCB3aWxsIGJlIGdlbmVyYXRlZCBmcm9tLlxuICAgICAqIEBwYXJhbSBzY2FsZU1vZGUgLSBUaGUgc2NhbGUgbW9kZSBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKiBAcGFyYW0gW3JlZ2lvbl0gLSBUaGUgcmVnaW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LCB0aGF0IHNoYWxsIGJlIHJlbmRlcmVkLFxuICAgICAqICAgICAgICBpZiBubyByZWdpb24gaXMgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqIEByZXR1cm4gQSB0ZXh0dXJlIG9mIHRoZSBncmFwaGljcyBvYmplY3QuXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiwgcmVnaW9uKSB7XG4gICAgICAgIHJlZ2lvbiA9IHJlZ2lvbiB8fCBkaXNwbGF5T2JqZWN0LmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpO1xuICAgICAgICAvLyBtaW5pbXVtIHRleHR1cmUgc2l6ZSBpcyAxeDEsIDB4MCB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICAgIGlmIChyZWdpb24ud2lkdGggPT09IDApXG4gICAgICAgICAgICB7IHJlZ2lvbi53aWR0aCA9IDE7IH1cbiAgICAgICAgaWYgKHJlZ2lvbi5oZWlnaHQgPT09IDApXG4gICAgICAgICAgICB7IHJlZ2lvbi5oZWlnaHQgPSAxOyB9XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoe1xuICAgICAgICAgICAgd2lkdGg6IHJlZ2lvbi53aWR0aCB8IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IHJlZ2lvbi5oZWlnaHQgfCAwLFxuICAgICAgICAgICAgc2NhbGVNb2RlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgdGVtcE1hdHJpeCQxLnR4ID0gLXJlZ2lvbi54O1xuICAgICAgICB0ZW1wTWF0cml4JDEudHkgPSAtcmVnaW9uLnk7XG4gICAgICAgIHRoaXMucmVuZGVyKGRpc3BsYXlPYmplY3QsIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmU6IHJlbmRlclRleHR1cmUsXG4gICAgICAgICAgICBjbGVhcjogZmFsc2UsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRlbXBNYXRyaXgkMSxcbiAgICAgICAgICAgIHNraXBVcGRhdGVUcmFuc2Zvcm06ICEhZGlzcGxheU9iamVjdC5wYXJlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0FueSA9IHRoaXM7XG4gICAgICAgIC8vIG51bGwtaW5nIGFsbCBvYmplY3RzLCB0aGF0J3MgYSB0cmFkaXRpb24hXG4gICAgICAgIHRoaXNBbnkucGx1Z2lucyA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcbiAgICAgICAgdGhpc0FueS52aWV3ID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5zY3JlZW4gPSBudWxsO1xuICAgICAgICB0aGlzQW55Ll90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkub3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImJhY2tncm91bmRDb2xvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IGhleDJzdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIFwiYmFja2dyb3VuZEFscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFscGhhLiBTZXR0aW5nIHRoaXMgdG8gMCB3aWxsIG1ha2UgdGhlIGNhbnZhcyB0cmFuc3BhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYVszXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmFbM10gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBYnN0cmFjdFJlbmRlcmVyO1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBUaGUgUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIFdlYkdMIGVuYWJsZWQgY2FudmFzLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgc2hvdWxkIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBXZWJHTC5cbiAqXG4gKiBUaGlzIHJlbmRlcmVyIHdvcmtzIGJ5IGF1dG9tYXRpY2FsbHkgbWFuYWdpbmcgV2ViR0xCYXRjaGVzbSwgc28gbm8gbmVlZCBmb3IgU3ByaXRlIEJhdGNoZXMgb3IgU3ByaXRlIENsb3Vkcy5cbiAqIERvbid0IGZvcmdldCB0byBhZGQgdGhlIHZpZXcgdG8geW91ciBET00gb3IgeW91IHdpbGwgbm90IHNlZSBhbnl0aGluZyFcbiAqXG4gKiBSZW5kZXJlciBpcyBjb21wb3NlZCBvZiBzeXN0ZW1zIHRoYXQgbWFuYWdlIHNwZWNpZmljIHRhc2tzLiBUaGUgZm9sbG93aW5nIHN5c3RlbXMgYXJlIGFkZGVkIGJ5IGRlZmF1bHRcbiAqIHdoZW5ldmVyIHlvdSBjcmVhdGUgYSByZW5kZXJlcjpcbiAqXG4gKiB8IFN5c3RlbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IERlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICogfCB7QGxpbmsgUElYSS5CYXRjaFN5c3RlbX0gICAgICAgICAgICAgfCBUaGlzIG1hbmFnZXMgb2JqZWN0IHJlbmRlcmVycyB0aGF0IGRlZmVyIHJlbmRlcmluZyB1bnRpbCBhIGZsdXNoLiAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkNvbnRleHRTeXN0ZW19ICAgICAgICAgICB8IFRoaXMgbWFuYWdlcyB0aGUgV2ViR0wgY29udGV4dCBhbmQgZXh0ZW5zaW9ucy4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuRmlsdGVyU3lzdGVtfSAgICAgICAgICAgIHwgVGhpcyBtYW5hZ2VzIHRoZSBmaWx0ZXJpbmcgcGlwZWxpbmUgZm9yIHBvc3QtcHJvY2Vzc2luZyBlZmZlY3RzLiAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5GcmFtZWJ1ZmZlclN5c3RlbX0gICAgICAgfCBUaGlzIG1hbmFnZXMgZnJhbWVidWZmZXJzLCB3aGljaCBhcmUgdXNlZCBmb3Igb2Zmc2NyZWVuIHJlbmRlcmluZy4gICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkdlb21ldHJ5U3lzdGVtfSAgICAgICAgICB8IFRoaXMgbWFuYWdlcyBnZW9tZXRyaWVzICYgYnVmZmVycywgd2hpY2ggYXJlIHVzZWQgdG8gZHJhdyBvYmplY3QgbWVzaGVzLiAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuTWFza1N5c3RlbX0gICAgICAgICAgICAgIHwgVGhpcyBtYW5hZ2VzIG1hc2tpbmcgb3BlcmF0aW9ucy4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5Qcm9qZWN0aW9uU3lzdGVtfSAgICAgICAgfCBUaGlzIG1hbmFnZXMgdGhlIGBwcm9qZWN0aW9uTWF0cml4YCwgdXNlZCBieSBzaGFkZXJzIHRvIGdldCBOREMgY29vcmRpbmF0ZXMuICB8XG4gKiB8IHtAbGluayBQSVhJLlJlbmRlclRleHR1cmVTeXN0ZW19ICAgICB8IFRoaXMgbWFuYWdlcyByZW5kZXItdGV4dHVyZXMsIHdoaWNoIGFyZSBhbiBhYnN0cmFjdGlvbiBvdmVyIGZyYW1lYnVmZmVycy4gICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU2Npc3NvclN5c3RlbX0gICAgICAgICAgIHwgVGhpcyBoYW5kbGVzIHNjaXNzb3IgbWFza2luZywgYW5kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB7QGxpbmsgTWFza1N5c3RlbX0gICAgfFxuICogfCB7QGxpbmsgUElYSS5TaGFkZXJTeXN0ZW19ICAgICAgICAgICAgfCBUaGlzIG1hbmFnZXMgc2hhZGVycywgcHJvZ3JhbXMgdGhhdCBydW4gb24gdGhlIEdQVSB0byBjYWxjdWxhdGUgJ2VtIHBpeGVscy4gICB8XG4gKiB8IHtAbGluayBQSVhJLlN0YXRlU3lzdGVtfSAgICAgICAgICAgICB8IFRoaXMgbWFuYWdlcyB0aGUgV2ViR0wgc3RhdGUgdmFyaWFibGVzIGxpa2UgYmxlbmQgbW9kZSwgZGVwdGggdGVzdGluZywgZXRjLiAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU3RlbmNpbFN5c3RlbX0gICAgICAgICAgIHwgVGhpcyBoYW5kbGVzIHN0ZW5jaWwgbWFza2luZywgYW5kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB7QGxpbmsgTWFza1N5c3RlbX0gICAgfFxuICogfCB7QGxpbmsgUElYSS5UZXh0dXJlU3lzdGVtfSAgICAgICAgICAgfCBUaGlzIG1hbmFnZXMgdGV4dHVyZXMgYW5kIHRoZWlyIHJlc291cmNlcyBvbiB0aGUgR1BVLiAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlRleHR1cmVHQ1N5c3RlbX0gICAgICAgICB8IFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0ZXh0dXJlcyBmcm9tIHRoZSBHUFUgaWYgdGhleSBhcmUgbm90IHVzZWQuICAgIHxcbiAqXG4gKiBUaGUgYnJlYWR0aCBvZiB0aGUgQVBJIHN1cmZhY2UgcHJvdmlkZWQgYnkgdGhlIHJlbmRlcmVyIGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlc2Ugc3lzdGVtcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkFic3RyYWN0UmVuZGVyZXJcbiAqL1xudmFyIFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlQ29udGV4dEFscGhhPXRydWVdIC0gUGFzcy10aHJvdWdoIHZhbHVlIGZvciBjYW52YXMnIGNvbnRleHQgYGFscGhhYCBwcm9wZXJ0eS5cbiAgICAgKiAgIElmIHlvdSB3YW50IHRvIHNldCB0cmFuc3BhcmVuY3ksIHBsZWFzZSB1c2UgYGJhY2tncm91bmRBbHBoYWAuIFRoaXMgb3B0aW9uIGlzIGZvciBjYXNlcyB3aGVyZSB0aGVcbiAgICAgKiAgIGNhbnZhcyBuZWVkcyB0byBiZSBvcGFxdWUsIHBvc3NpYmx5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIG9uIHNvbWUgb2xkZXIgZGV2aWNlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzLiBJZiBub3QgYXZhaWxhYmxlIG5hdGl2ZWx5IHRoZW4gRlhBQVxuICAgICAqICBhbnRpYWxpYXNpbmcgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLlJFU09MVVRJT05dIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXJcbiAgICAgKiAgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuIElmIHlvdSB3aXNoIHRvIHNldCB0aGlzIHRvIGZhbHNlLCB5b3UgKm11c3QqIHNldFxuICAgICAqICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgdG8gYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE9MV0gLSBWYWx1ZSBmcm9tIDAgKGZ1bGx5IHRyYW5zcGFyZW50KSB0byAxIChmdWxseSBvcGFxdWUpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byBXZWJHTCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmNvbnRleHRdIC0gSWYgV2ViR0wgY29udGV4dCBhbHJlYWR5IGV4aXN0cywgYWxsIHBhcmFtZXRlcnMgbXVzdCBiZSB0YWtlbiBmcm9tIGl0LlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFJFTkRFUkVSX1RZUEUuV0VCR0wsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8vIHRoZSBvcHRpb25zIHdpbGwgaGF2ZSBiZWVuIG1vZGlmaWVkIGhlcmUgaW4gdGhlIHN1cGVyIGNvbnN0cnVjdG9yIHdpdGggcGl4aSdzIGRlZmF1bHQgc2V0dGluZ3MuLlxuICAgICAgICBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIGNvbnRleHQsIHNldCBieSB0aGUgY29udGV4dFN5c3RlbSAodGhpcy5jb250ZXh0KVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2wgPSBudWxsO1xuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBzaWduYWwgaW5zdGFuY2VzIG9mICoqcnVubmVyKiosIHRoZXNlXG4gICAgICAgICAqIGFyZSBhc3NpZ25lZCB0byBlYWNoIHN5c3RlbSBjcmVhdGVkLlxuICAgICAgICAgKiBAc2VlIFBJWEkuUnVubmVyXG4gICAgICAgICAqIEBuYW1lIHJ1bm5lcnNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGRlc3Ryb3kgLSBEZXN0cm95IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBjb250ZXh0Q2hhbmdlIC0gQ29udGV4dCBjaGFuZ2UgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2V0IC0gUmVzZXQgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHVwZGF0ZSAtIFVwZGF0ZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcG9zdHJlbmRlciAtIFBvc3QtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwcmVyZW5kZXIgLSBQcmUtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNpemUgLSBSZXNpemUgcnVubmVyXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ydW5uZXJzID0ge1xuICAgICAgICAgICAgZGVzdHJveTogbmV3IFJ1bm5lcignZGVzdHJveScpLFxuICAgICAgICAgICAgY29udGV4dENoYW5nZTogbmV3IFJ1bm5lcignY29udGV4dENoYW5nZScpLFxuICAgICAgICAgICAgcmVzZXQ6IG5ldyBSdW5uZXIoJ3Jlc2V0JyksXG4gICAgICAgICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpLFxuICAgICAgICAgICAgcG9zdHJlbmRlcjogbmV3IFJ1bm5lcigncG9zdHJlbmRlcicpLFxuICAgICAgICAgICAgcHJlcmVuZGVyOiBuZXcgUnVubmVyKCdwcmVyZW5kZXInKSxcbiAgICAgICAgICAgIHJlc2l6ZTogbmV3IFJ1bm5lcigncmVzaXplJyksXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza1N5c3RlbX0gbWFza1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hZGRTeXN0ZW0oTWFza1N5c3RlbSwgJ21hc2snKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb250ZXh0IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250ZXh0U3lzdGVtfSBjb250ZXh0XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKENvbnRleHRTeXN0ZW0sICdjb250ZXh0JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RhdGUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlU3lzdGVtfSBzdGF0ZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGF0ZVN5c3RlbSwgJ3N0YXRlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhZGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJTeXN0ZW19IHNoYWRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTaGFkZXJTeXN0ZW0sICdzaGFkZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlU3lzdGVtfSB0ZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVTeXN0ZW0sICd0ZXh0dXJlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2VvbWV0cnkgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5U3lzdGVtfSBnZW9tZXRyeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShHZW9tZXRyeVN5c3RlbSwgJ2dlb21ldHJ5JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRnJhbWVidWZmZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyU3lzdGVtfSBmcmFtZWJ1ZmZlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGcmFtZWJ1ZmZlclN5c3RlbSwgJ2ZyYW1lYnVmZmVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Npc3NvciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2Npc3NvclN5c3RlbX0gc2Npc3NvclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTY2lzc29yU3lzdGVtLCAnc2Npc3NvcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0ZW5jaWwgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0ZW5jaWxTeXN0ZW19IHN0ZW5jaWxcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RlbmNpbFN5c3RlbSwgJ3N0ZW5jaWwnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5Qcm9qZWN0aW9uU3lzdGVtfSBwcm9qZWN0aW9uXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFByb2plY3Rpb25TeXN0ZW0sICdwcm9qZWN0aW9uJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dHVyZSBnYXJiYWdlIGNvbGxlY3RvciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZUdDU3lzdGVtfSB0ZXh0dXJlR0NcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZUdDU3lzdGVtLCAndGV4dHVyZUdDJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmlsdGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJTeXN0ZW19IGZpbHRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUZXh0dXJlU3lzdGVtfSByZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFJlbmRlclRleHR1cmVTeXN0ZW0sICdyZW5kZXJUZXh0dXJlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmF0Y2ggc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoU3lzdGVtfSBiYXRjaFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShCYXRjaFN5c3RlbSwgJ2JhdGNoJyk7XG4gICAgICAgIF90aGlzLmluaXRQbHVnaW5zKFJlbmRlcmVyLl9fcGx1Z2lucyk7XG4gICAgICAgIC8qXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuaW5pdEZyb21Db250ZXh0KG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5jb250ZXh0LmluaXRGcm9tT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgYWxwaGE6ICEhX3RoaXMudXNlQ29udGV4dEFscGhhLFxuICAgICAgICAgICAgICAgIGFudGlhbGlhczogb3B0aW9ucy5hbnRpYWxpYXMsXG4gICAgICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBfdGhpcy51c2VDb250ZXh0QWxwaGEgJiYgX3RoaXMudXNlQ29udGV4dEFscGhhICE9PSAnbm90TXVsdGlwbGllZCcsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogX3RoaXMub3B0aW9ucy5wb3dlclByZWZlcmVuY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gdnMgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuICAgICAgICBzYXlIZWxsbyhfdGhpcy5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiA/ICdXZWJHTCAyJyA6ICdXZWJHTCAxJyk7XG4gICAgICAgIF90aGlzLnJlc2l6ZShfdGhpcy5vcHRpb25zLndpZHRoLCBfdGhpcy5vcHRpb25zLmhlaWdodCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHJlbmRlcmVyIGlmIFdlYkdMIGlzIGF2YWlsYWJsZS4gT3ZlcnJpZGVhYmxlXG4gICAgICogYnkgdGhlICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogcGFja2FnZSB0byBhbGxvdyBmYWxsYmFjay5cbiAgICAgKiB0aHJvd3MgZXJyb3IgaWYgV2ViR0wgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJlci5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoaXNXZWJHTFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlbmRlcmVyKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgdW5zdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLCB1c2UgXCJwaXhpLmpzLWxlZ2FjeVwiIGZvciBmYWxsYmFjayBjYW52YXMyZCBzdXBwb3J0LicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgbmV3IHN5c3RlbSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICogQHBhcmFtIENsYXNzUmVmIC0gQ2xhc3MgcmVmZXJlbmNlXG4gICAgICogQHBhcmFtIFtuYW1lXSAtIFByb3BlcnR5IG5hbWUgZm9yIHN5c3RlbSwgaWYgbm90IHNwZWNpZmllZFxuICAgICAqICAgICAgICB3aWxsIHVzZSBhIHN0YXRpYyBgbmFtZWAgcHJvcGVydHkgb24gdGhlIGNsYXNzIGl0c2VsZi4gVGhpc1xuICAgICAqICAgICAgICBuYW1lIHdpbGwgYmUgYXNzaWduZWQgYXMgcyBwcm9wZXJ0eSBvbiB0aGUgUmVuZGVyZXIgc28gbWFrZVxuICAgICAqICAgICAgICBzdXJlIGl0IGRvZXNuJ3QgY29sbGlkZSB3aXRoIHByb3BlcnRpZXMgb24gUmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJuIGluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmFkZFN5c3RlbSA9IGZ1bmN0aW9uIChDbGFzc1JlZiwgbmFtZSkge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBDbGFzc1JlZi5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzeXN0ZW0gPSBuZXcgQ2xhc3NSZWYodGhpcyk7XG4gICAgICAgIGlmICh0aGlzW25hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaG9vcHMhIFRoZSBuYW1lIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgaXMgYWxyZWFkeSBpbiB1c2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tuYW1lXSA9IHN5c3RlbTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnJ1bm5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tpXS5hZGQoc3lzdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYmVmb3JlIHJlbmRlcmluZyBzdGFydHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3ByZXJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNjb250ZXh0XG4gICAgICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBjbGVhcjtcbiAgICAgICAgdmFyIHRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHNraXBVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNi4wLjAnLCAnUmVuZGVyZXIjcmVuZGVyIGFyZ3VtZW50cyBjaGFuZ2VkLCB1c2Ugb3B0aW9ucyBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIGNsZWFyID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgICAgICBza2lwVXBkYXRlVHJhbnNmb3JtID0gYXJndW1lbnRzWzRdO1xuICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gb3B0aW9ucy5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGNsZWFyID0gb3B0aW9ucy5jbGVhcjtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBza2lwVXBkYXRlVHJhbnNmb3JtID0gb3B0aW9ucy5za2lwVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNhbiBiZSBoYW5keSB0byBrbm93IVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gIXJlbmRlclRleHR1cmU7XG4gICAgICAgIHRoaXMucnVubmVycy5wcmVyZW5kZXIuZW1pdCgpO1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuICAgICAgICAvLyBhcHBseSBhIHRyYW5zZm9ybSBhdCBhIEdQVSBsZXZlbFxuICAgICAgICB0aGlzLnByb2plY3Rpb24udHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAvLyBubyBwb2ludCByZW5kZXJpbmcgaWYgb3VyIGNvbnRleHQgaGFzIGJlZW4gYmxvd24gdXAhXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuaXNMb3N0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgdmFyIGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5lbmFibGVUZW1wUGFyZW50KCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5kaXNhYmxlVGVtcFBhcmVudChjYWNoZVBhcmVudCk7XG4gICAgICAgICAgICAvLyBkaXNwbGF5T2JqZWN0LmhpdEFyZWEgPSAvL1RPRE8gYWRkIGEgdGVtcCBoaXQgYXJlYVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXIodGhpcyk7XG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucnVubmVycy5wb3N0cmVuZGVyLmVtaXQoKTtcbiAgICAgICAgLy8gcmVzZXQgdHJhbnNmb3JtIGFmdGVyIHJlbmRlclxuICAgICAgICB0aGlzLnByb2plY3Rpb24udHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBXZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2l6ZS5lbWl0KHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBXZWJHTCBzdGF0ZSBzbyB5b3UgY2FuIHJlbmRlciB0aGluZ3MgaG93ZXZlciB5b3UgZmFuY3khXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNldC5lbWl0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmJpbmQoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgKGV2ZW50IGxpc3RlbmVycywgc3ByaXRlYmF0Y2gsIGV0Yy4uLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldykge1xuICAgICAgICB0aGlzLnJ1bm5lcnMuZGVzdHJveS5lbWl0KCk7XG4gICAgICAgIGZvciAodmFyIHIgaW4gdGhpcy5ydW5uZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbcl0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuICAgICAgICAvLyBUT0RPIG51bGxpZnkgYWxsIHRoZSBtYW5hZ2Vycy4uXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmVyLnByb3RvdHlwZSwgXCJleHRyYWN0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsZWFzZSB1c2UgYHBsdWdpbnMuZXh0cmFjdGAgaW5zdGVhZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5FeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDYuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNi4wLjAnLCAnUmVuZGVyZXIjZXh0cmFjdCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFJlbmRlcmVyI3BsdWdpbnMuZXh0cmFjdCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2lucy5leHRyYWN0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICAgICAqIEBwYXJhbSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbk5hbWUsIGN0b3IpIHtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zID0gUmVuZGVyZXIuX19wbHVnaW5zIHx8IHt9O1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnNbcGx1Z2luTmFtZV0gPSBjdG9yO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlcmVyO1xufShBYnN0cmFjdFJlbmRlcmVyKSk7XG5cbi8qKlxuICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGljaCByZW5kZXJlciB5b3Ugc2hvdWxkIGJlIHVzaW5nLlxuICogV2ViR0wgaXMgdGhlIHByZWZlcnJlZCByZW5kZXJlciBhcyBpdCBpcyBhIGxvdCBmYXN0ZXIuIElmIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAqIHRoZSBicm93c2VyIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBhIGNhbnZhcyByZW5kZXJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VDb250ZXh0QWxwaGE9dHJ1ZV0gLSBQYXNzLXRocm91Z2ggdmFsdWUgZm9yIGNhbnZhcycgY29udGV4dCBgYWxwaGFgIHByb3BlcnR5LlxuICogICBJZiB5b3Ugd2FudCB0byBzZXQgdHJhbnNwYXJlbmN5LCBwbGVhc2UgdXNlIGBiYWNrZ3JvdW5kQWxwaGFgLiBUaGlzIG9wdGlvbiBpcyBmb3IgY2FzZXMgd2hlcmUgdGhlXG4gKiAgIGNhbnZhcyBuZWVkcyB0byBiZSBvcGFxdWUsIHBvc3NpYmx5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIG9uIHNvbWUgb2xkZXIgZGV2aWNlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZEFscGhhPTFdIC0gVmFsdWUgZnJvbSAwIChmdWxseSB0cmFuc3BhcmVudCkgdG8gMSAoZnVsbHkgb3BhcXVlKS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLlJFU09MVVRJT05dIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgJGRlZmF1bHRWZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyICRkZWZhdWx0RmlsdGVyVmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbi8qKlxuICogRGVmYXVsdCB2ZXJ0ZXggc2hhZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG1lbWJlciB7c3RyaW5nfSBkZWZhdWx0VmVydGV4XG4gKi9cbi8qKlxuICogRGVmYXVsdCBmaWx0ZXIgdmVydGV4IHNoYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBtZW1iZXIge3N0cmluZ30gZGVmYXVsdEZpbHRlclZlcnRleFxuICovXG4vLyBOT1RFOiBUaGlzIGJsYWNrIG1hZ2ljIGlzIHNvIHRoYXQgQG1pY3Jvc29mdC9hcGktZXh0cmFjdG9yIGRvZXMgbm90IGNvbXBsYWluISBUaGlzIGV4cGxpY2l0bHkgc3BlY2lmaWVzIHRoZSB0eXBlc1xuLy8gb2YgZGVmYXVsdFZlcnRleCwgZGVmYXVsdEZpbHRlclZlcnRleC5cbnZhciBkZWZhdWx0VmVydGV4JDIgPSAkZGVmYXVsdFZlcnRleDtcbnZhciBkZWZhdWx0RmlsdGVyVmVydGV4ID0gJGRlZmF1bHRGaWx0ZXJWZXJ0ZXg7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoRHJhd0NhbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hEcmF3Q2FsbCgpIHtcbiAgICAgICAgdGhpcy50ZXhBcnJheSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmxlbmQgPSAwO1xuICAgICAgICB0aGlzLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkYXRhIGZvciB1bmlmb3JtcyBvciBjdXN0b20gd2ViZ2wgc3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEJhdGNoRHJhd0NhbGw7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgYnkgdGhlIGJhdGNoZXIgdG8gYnVpbGQgdGV4dHVyZSBiYXRjaGVzLlxuICogSG9sZHMgbGlzdCBvZiB0ZXh0dXJlcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBsb2NhdGlvbnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hUZXh0dXJlQXJyYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hUZXh0dXJlQXJyYXkoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpbnNpZGUgdGV4dHVyZXMgYXJyYXlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzcGVjdGl2ZSBsb2NhdGlvbnMgZm9yIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG51bWJlciBvZiBmaWxsZWQgZWxlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgfVxuICAgIEJhdGNoVGV4dHVyZUFycmF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoVGV4dHVyZUFycmF5O1xufSgpKTtcblxuLyoqXG4gKiBGbGV4aWJsZSB3cmFwcGVyIGFyb3VuZCBgQXJyYXlCdWZmZXJgIHRoYXQgYWxzbyBwcm92aWRlcyB0eXBlZCBhcnJheSB2aWV3cyBvbiBkZW1hbmQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVmlld2FibGVCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld2FibGVCdWZmZXIoc2l6ZU9yQnVmZmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2l6ZU9yQnVmZmVyID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVbmRlcmx5aW5nIGBBcnJheUJ1ZmZlcmAgdGhhdCBob2xkcyBhbGwgdGhlIGRhdGEgYW5kIGlzIG9mIGNhcGFjaXR5IGB0aGlzLnNpemVgLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5QnVmZmVyfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZU9yQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplT3JCdWZmZXIgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBzaXplT3JCdWZmZXIuYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gc2l6ZU9yQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEZsb2F0MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwiaW50OFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDhBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0ludDhBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDhWaWV3ID0gbmV3IEludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50OFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQ4QXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQxNlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDE2QXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtJbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDE2Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG5ldyBJbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50MTZWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50MTZWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MTZBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQxNlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDE2VmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwiaW50MzJWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQzMkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQzMlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZpZXcgb2YgdGhlIGdpdmVuIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIE9uZSBvZiBgaW50OGAsIGB1aW50OGAsIGBpbnQxNmAsXG4gICAgICogICAgYHVpbnQxNmAsIGBpbnQzMmAsIGB1aW50MzJgLCBhbmQgYGZsb2F0MzJgLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gdHlwZWQgYXJyYXkgb2YgZ2l2ZW4gdHlwZVxuICAgICAqL1xuICAgIFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS52aWV3ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdHlwZSArIFwiVmlld1wiXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFsbCBidWZmZXIgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhZnRlciBjYWxsaW5nXG4gICAgICogdGhpcy5cbiAgICAgKi9cbiAgICBWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbG9hdDMyVmlldyA9IG51bGw7XG4gICAgfTtcbiAgICBWaWV3YWJsZUJ1ZmZlci5zaXplT2YgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR5cGUgKyBcIiBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpZXdhYmxlQnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IGJhdGNoIHJlbmRlcmVyLiBJdCBidWZmZXJzIG9iamVjdHNcbiAqIHdpdGggdGV4dHVyZS1iYXNlZCBnZW9tZXRyaWVzIGFuZCByZW5kZXJzIHRoZW0gaW5cbiAqIGJhdGNoZXMuIEl0IHVwbG9hZHMgbXVsdGlwbGUgdGV4dHVyZXMgdG8gdGhlIEdQVSB0b1xuICogcmVkdWNlIHRvIHRoZSBudW1iZXIgb2YgZHJhdyBjYWxscy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBBYnN0cmFjdEJhdGNoUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0QmF0Y2hSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgaG9vayBvbnRvIHRoZSByZW5kZXJlcidzIGBjb250ZXh0Q2hhbmdlYFxuICAgICAqIGFuZCBgcHJlcmVuZGVyYCBzaWduYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBYnN0cmFjdEJhdGNoUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZ2VuZXJhdGUgYSBzaGFkZXIgdGhhdCBjYW5cbiAgICAgICAgICogY29sb3IgZWFjaCB2ZXJ0ZXggYmFzZWQgb24gYSBgYVRleHR1cmVJZGBcbiAgICAgICAgICogYXR0cmlidXRlIHRoYXQgcG9pbnRzIHRvIGFuIHRleHR1cmUgaW4gYHVTYW1wbGVyYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBlbmFibGVzIHRoZSBvYmplY3RzIHdpdGggZGlmZmVyZW50IHRleHR1cmVzXG4gICAgICAgICAqIHRvIGJlIGRyYXduIGluIHRoZSBzYW1lIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBjdXN0b21pemUgeW91ciBzaGFkZXIgYnkgY3JlYXRpbmcgeW91clxuICAgICAgICAgKiBjdXN0b20gc2hhZGVyIGdlbmVyYXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXRjaFNoYWRlckdlbmVyYXRvcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIGdlb21ldHJ5IG9mIG9iamVjdHNcbiAgICAgICAgICogdGhhdCBhcmUgZ29pbmcgdG8gYmUgYmF0Y2hlZCB3aXRoIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CYXRjaEdlb21ldHJ5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBkYXRhIGJlaW5nIGJ1ZmZlcmVkIHBlciB2ZXJ0ZXggaW4gdGhlXG4gICAgICAgICAqIGF0dHJpYnV0ZSBidWZmZXJzIChpbiBmbG9hdHMpLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgICAgICogYmF0Y2gtcmVuZGVyZXIgcGx1Z2luIHVzZXMgNjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBhVmVydGV4UG9zaXRpb24gfCAyIHxcbiAgICAgICAgICogfC0tLS0tLS0tLS0tLS0tLS0tfC0tLXxcbiAgICAgICAgICogfCBhVGV4dHVyZUNvb3JkcyAgfCAyIHxcbiAgICAgICAgICogfCBhQ29sb3IgICAgICAgICAgfCAxIHxcbiAgICAgICAgICogfCBhVGV4dHVyZUlkICAgICAgfCAxIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleFNpemUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgYnVmZmVyYWJsZSBvYmplY3RzIGJlZm9yZSBhIGZsdXNoXG4gICAgICAgICAqIG9jY3VycyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZSA9IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCB2ZXJ0aWNlcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHlcbiAgICAgICAgICogYnVmZmVyZWQgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCBpbmRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faW5kZXhDb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgb2Ygb2JqZWN0cyB0aGF0IGFyZSB5ZXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcmVkRWxlbWVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgZm9yIHRleHR1cmUgYmF0Y2ggYnVpbGRlciwgaGVscHMgdG8gc2F2ZSBhIGJpdCBvZiBDUFUgb24gYSBwYXNzLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcmVkVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyB0aGF0IGFyZSBidWZmZXJlZCBhbmQgYXJlXG4gICAgICAgICAqIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaGFkZXIgaXMgZ2VuZXJhdGVkIGJ5IGB0aGlzLnNoYWRlckdlbmVyYXRvcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGlzIGdlbmVyYXRlZCBzcGVjaWZpY2FsbHkgdG8gaGFuZGxlIHRoZSByZXF1aXJlZFxuICAgICAgICAgKiBudW1iZXIgb2YgdGV4dHVyZXMgYmVpbmcgYmF0Y2hlZCB0b2dldGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgdGhpcy5nZW9tZXRyeUNsYXNzYCBnZW9tZXRyeSBvYmplY3RzXG4gICAgICAgICAqIHRoYXQgc3RvcmUgYnVmZmVycy4gVGhleSBhcmUgdXNlZCB0byBwYXNzIGRhdGFcbiAgICAgICAgICogdG8gdGhlIHNoYWRlciBvbiBlYWNoIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2FpbiwgdW5sZXNzIGFcbiAgICAgICAgICogY29udGV4dCBjaGFuZ2Ugb2NjdXJzOyBob3dldmVyLCB0aGUgcG9vbCBtYXlcbiAgICAgICAgICogYmUgZXhwYW5kZWQgaWYgcmVxdWlyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlci5jb250ZXh0Q2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBgdGhpcy5fcGFja2VkR2VvbWV0cmllc2AuIEl0IGNhbiBiZSBleHBhbmRlZFxuICAgICAgICAgKiBpZiBtb3JlIHRoYW4gYHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemVgIGZsdXNoZXNcbiAgICAgICAgICogb2NjdXIgaW4gYSBzaW5nbGUgZnJhbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplID0gMjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmx1c2ggbWF5IG9jY3VyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlXG4gICAgICAgICAqIGZyYW1lLiBPbiBpT1MgZGV2aWNlcyBvciB3aGVuXG4gICAgICAgICAqIGBzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSYCBpcyBmYWxzZSwgdGhlXG4gICAgICAgICAqIGJhdGNoIHJlbmRlcmVyIGRvZXMgbm90IHVwbG9hZCBkYXRhIHRvIHRoZSBzYW1lXG4gICAgICAgICAqIGBXZWJHTEJ1ZmZlcmAgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGluZGV4IGludG8gYHBhY2tlZEdlb21ldHJpZXNgIHRoYXQgcG9pbnRzIHRvXG4gICAgICAgICAqIGdlb21ldHJ5IGhvbGRpbmcgdGhlIG1vc3QgcmVjZW50IGJ1ZmZlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mbHVzaElkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYFZpZXdhYmxlQnVmZmVyYCBvYmplY3RzIHRoYXQgYXJlIHNvcnRlZCBpblxuICAgICAgICAgKiBvcmRlciBvZiBpbmNyZWFzaW5nIHNpemUuIFRoZSBmbHVzaCBtZXRob2QgdXNlc1xuICAgICAgICAgKiB0aGUgYnVmZmVyIHdpdGggdGhlIGxlYXN0IHNpemUgYWJvdmUgdGhlIGFtb3VudFxuICAgICAgICAgKiBpdCByZXF1aXJlcy4gVGhlc2UgYXJlIHVzZWQgZm9yIHBhc3NpbmcgYXR0cmlidXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZpcnN0IGJ1ZmZlciBoYXMgYSBzaXplIG9mIDg7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVmlld2FibGVCdWZmZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRBdHRyaWJ1dGVCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hQnVmZmVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVWludDE2QXJyYXlgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBpbmRpY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgMTI7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0SW5kZXhCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pQnVmZmVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgdGV4dHVyZXMgdGhhdCBjYW4gYmUgdXBsb2FkZWQgdG9cbiAgICAgICAgICogdGhlIEdQVSB1bmRlciB0aGUgY3VycmVudCBjb250ZXh0LiBJdCBpcyBpbml0aWFsaXplZFxuICAgICAgICAgKiBwcm9wZXJseSBpbiBgdGhpcy5jb250ZXh0Q2hhbmdlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2NvbnRleHRDaGFuZ2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcbiAgICAgICAgcmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RlbXBCb3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGVcbiAgICAgKiBwYWNrZWQtZ2VvbWV0cnkgb2JqZWN0IHBvb2wuXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCBzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2hhZGVyID0gdGhpcy5zaGFkZXJHZW5lcmF0b3IuZ2VuZXJhdGVTaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMpO1xuICAgICAgICAvLyB3ZSB1c2UgdGhlIHNlY29uZCBzaGFkZXIgYXMgdGhlIGZpcnN0IG9uZSBkZXBlbmRpbmcgb24geW91ciBicm93c2VyXG4gICAgICAgIC8vIG1heSBvbWl0IGFUZXh0dXJlSWQgYXMgaXQgaXMgbm90IHVzZWQgYnkgdGhlIHNoYWRlciBzbyBpcyBvcHRpbWl6ZWQgb3V0LlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdEZsdXNoQnVmZmVycygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZXMgc3VyZSB0aGF0IHN0YXRpYyBhbmQgZHluYW1pYyBmbHVzaCBwb29sZWQgb2JqZWN0cyBoYXZlIGNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuaW5pdEZsdXNoQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9kcmF3Q2FsbFBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCwgX3RleHR1cmVBcnJheVBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIC8vIG1heCBkcmF3IGNhbGxzXG4gICAgICAgIHZhciBNQVhfU1BSSVRFUyA9IHRoaXMuc2l6ZSAvIDQ7XG4gICAgICAgIC8vIG1heCB0ZXh0dXJlIGFycmF5c1xuICAgICAgICB2YXIgTUFYX1RBID0gTWF0aC5mbG9vcihNQVhfU1BSSVRFUyAvIHRoaXMuTUFYX1RFWFRVUkVTKSArIDE7XG4gICAgICAgIHdoaWxlIChfZHJhd0NhbGxQb29sLmxlbmd0aCA8IE1BWF9TUFJJVEVTKSB7XG4gICAgICAgICAgICBfZHJhd0NhbGxQb29sLnB1c2gobmV3IEJhdGNoRHJhd0NhbGwoKSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKF90ZXh0dXJlQXJyYXlQb29sLmxlbmd0aCA8IE1BWF9UQSkge1xuICAgICAgICAgICAgX3RleHR1cmVBcnJheVBvb2wucHVzaChuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk1BWF9URVhUVVJFUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBwcmVyZW5kZXJgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGVuc3VyZXMgdGhhdCBmbHVzaGVzIHN0YXJ0IGZyb20gdGhlIGZpcnN0IGdlb21ldHJ5XG4gICAgICogb2JqZWN0IGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUub25QcmVyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVmZmVycyB0aGUgXCJiYXRjaGFibGVcIiBvYmplY3QuIEl0IG5lZWQgbm90IGJlIHJlbmRlcmVkXG4gICAgICogaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIHJlbmRlciB3aGVuXG4gICAgICogICAgdXNpbmcgdGhpcyByZW5kZXJlclxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ICsgKGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyKSA+IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ICs9IGVsZW1lbnQuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXNbdGhpcy5fYnVmZmVyU2l6ZV0gPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB0ZXh0dXJlcyA9IF9hLl9idWZmZXJlZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMgPSBfYS5NQVhfVEVYVFVSRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQXJyYXlzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sO1xuICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLnJlbmRlcmVyLmJhdGNoO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgdmFyIGNvdW50VGV4QXJyYXlzID0gMDtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1swXTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gMDtcbiAgICAgICAgYmF0Y2guY29weUJvdW5kVGV4dHVyZXMoYm91bmRUZXh0dXJlcywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJTaXplOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSB0ZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0ZXguX2JhdGNoRW5hYmxlZCA9PT0gVElDSykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID49IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICB0ZXhBcnJheSA9IHRleHR1cmVBcnJheXNbKytjb3VudFRleEFycmF5c107XG4gICAgICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4Ll9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgdGV4LnRvdWNoZWQgPSB0b3VjaDtcbiAgICAgICAgICAgIHRleEFycmF5LmVsZW1lbnRzW3RleEFycmF5LmNvdW50KytdID0gdGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXhBcnJheS5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICArK2NvdW50VGV4QXJyYXlzO1xuICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFuLXVwXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgZHJhd2NhbGxzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmluaXNoXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgc3RhcnQsIGZpbmlzaCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlbGVtZW50cyA9IF9hLl9idWZmZXJlZEVsZW1lbnRzLCBfYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgX2luZGV4QnVmZmVyID0gX2EuX2luZGV4QnVmZmVyLCB2ZXJ0ZXhTaXplID0gX2EudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgZGNJbmRleCA9IHRoaXMuX2RjSW5kZXg7XG4gICAgICAgIHZhciBhSW5kZXggPSB0aGlzLl9hSW5kZXg7XG4gICAgICAgIHZhciBpSW5kZXggPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIHZhciBkcmF3Q2FsbCA9IGRyYXdDYWxsc1tkY0luZGV4XTtcbiAgICAgICAgZHJhd0NhbGwuc3RhcnQgPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICB2YXIgdGV4ID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHNwcml0ZUJsZW5kTW9kZSA9IHByZW11bHRpcGx5QmxlbmRNb2RlW3RleC5hbHBoYU1vZGUgPyAxIDogMF1bc3ByaXRlLmJsZW5kTW9kZV07XG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCBpICYmIGRyYXdDYWxsLmJsZW5kICE9PSBzcHJpdGVCbGVuZE1vZGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zaXplID0gaUluZGV4IC0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsID0gZHJhd0NhbGxzWysrZGNJbmRleF07XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IGlJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFja0ludGVybGVhdmVkR2VvbWV0cnkoc3ByaXRlLCBfYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KTtcbiAgICAgICAgICAgIGFJbmRleCArPSBzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyICogdmVydGV4U2l6ZTtcbiAgICAgICAgICAgIGlJbmRleCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICBkcmF3Q2FsbC5ibGVuZCA9IHNwcml0ZUJsZW5kTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPCBmaW5pc2gpIHtcbiAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICsrZGNJbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kY0luZGV4ID0gZGNJbmRleDtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gYUluZGV4O1xuICAgICAgICB0aGlzLl9pSW5kZXggPSBpSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIHRleHR1cmVzIGZvciBjdXJyZW50IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuYmluZEFuZENsZWFyVGV4QXJyYXkgPSBmdW5jdGlvbiAodGV4QXJyYXkpIHtcbiAgICAgICAgdmFyIHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4QXJyYXkuY291bnQ7IGorKykge1xuICAgICAgICAgICAgdGV4dHVyZVN5c3RlbS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCB0ZXhBcnJheS5pZHNbal0pO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbal0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRleEFycmF5LmNvdW50ID0gMDtcbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHBhY2tlZEdlb21ldHJpZXMgPSBfYS5fcGFja2VkR2VvbWV0cmllcywgYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIgPSBfYS5faW5kZXhCdWZmZXI7XG4gICAgICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikgeyAvKiBVc3VhbGx5IG9uIGlPUyBkZXZpY2VzLCB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAgICAgICBsaWtlIHVwbG9hZHMgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lLiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUrKztcbiAgICAgICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoSWQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZHJhd0JhdGNoZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkY0NvdW50ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlciwgZ2wgPSBfYS5nbCwgc3RhdGVTeXN0ZW0gPSBfYS5zdGF0ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgY3VyVGV4QXJyYXkgPSBudWxsO1xuICAgICAgICAvLyBVcGxvYWQgdGV4dHVyZXMgYW5kIGRvIHRoZSBkcmF3IGNhbGxzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkcmF3Q2FsbHNbaV0sIHRleEFycmF5ID0gX2IudGV4QXJyYXksIHR5cGUgPSBfYi50eXBlLCBzaXplID0gX2Iuc2l6ZSwgc3RhcnQgPSBfYi5zdGFydCwgYmxlbmQgPSBfYi5ibGVuZDtcbiAgICAgICAgICAgIGlmIChjdXJUZXhBcnJheSAhPT0gdGV4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICBjdXJUZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZEFuZENsZWFyVGV4QXJyYXkodGV4QXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBibGVuZDtcbiAgICAgICAgICAgIHN0YXRlU3lzdGVtLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgc3RhcnQgKiAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGVudCBfbm93XyBhbmQgZW1wdGllcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmdldEF0dHJpYnV0ZUJ1ZmZlcih0aGlzLl92ZXJ0ZXhDb3VudCk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleEJ1ZmZlcih0aGlzLl9pbmRleENvdW50KTtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5faUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZGNJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuZHJhd0JhdGNoZXMoKTtcbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgYnVmZmVyIGZvciB0aGUgbmV4dCBmbHVzaFxuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBzcHJpdGUgYmF0Y2guXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5lbnN1cmVTYW1wbGVyVHlwZSh0aGlzLk1BWF9URVhUVVJFUyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5fc2hhZGVyKTtcbiAgICAgICAgaWYgKHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgYnVmZmVyICMwLCB3ZSBkb24ndCBuZWVkIG90aGVyc1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbmQgZmx1c2hlcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYEFic3RyYWN0QmF0Y2hSZW5kZXJlcmAuIEl0IGNhbm5vdCBiZSB1c2VkIGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3NoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGFuIGF0dHJpYnV0ZSBidWZmZXIgZnJvbSBgdGhpcy5fYUJ1ZmZlcnNgIHRoYXRcbiAgICAgKiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gY2FwYWNpdHkgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtWaWV3YWJsZUJ1ZmZlcn0gLSBidWZmZXIgdGhhbiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZ2V0QXR0cmlidXRlQnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gOCB2ZXJ0aWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gOCkpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogODtcbiAgICAgICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0ZXhTaXplICogNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gaW5kZXggYnVmZmVyIGZyb20gYHRoaXMuX2lCdWZmZXJzYCB0aGF0IGNhblxuICAgICAqIGhhdmUgYXQgbGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIHJlcXVpcmVkIGNhcGFjaXR5XG4gICAgICogQHJldHVybiB7VWludDE2QXJyYXl9IC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWBcbiAgICAgKiAgICBpbmRpY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIC8vIDEyIGluZGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIHZhciByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDEyKSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiAxMjtcbiAgICAgICAgaWYgKHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XSA9IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShyb3VuZGVkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBmb3VyIGJhdGNoaW5nIHBhcmFtZXRlcnMgb2YgYGVsZW1lbnRgLCBpbnRlcmxlYXZlc1xuICAgICAqIGFuZCBwdXNoZXMgdGhlbSBpbnRvIHRoZSBiYXRjaGluZyBhdHRyaWJ1dGUvaW5kZXggYnVmZmVycyBnaXZlbi5cbiAgICAgKlxuICAgICAqIEl0IHVzZXMgdGhlc2UgcHJvcGVydGllczogYHZlcnRleERhdGFgIGB1dnNgLCBgdGV4dHVyZUlkYCBhbmRcbiAgICAgKiBgaW5kaWNpZXNgLiBJdCBhbHNvIHVzZXMgdGhlIFwidGludFwiIG9mIHRoZSBiYXNlLXRleHR1cmUsIGlmXG4gICAgICogcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IGVsZW1lbnQgLSBlbGVtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlZpZXdhYmxlQnVmZmVyfSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGluZGV4QnVmZmVyIC0gaW5kZXggYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFJbmRleCAtIG51bWJlciBvZiBmbG9hdHMgYWxyZWFkeSBpbiB0aGUgYXR0cmlidXRlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpSW5kZXggLSBudW1iZXIgb2YgaW5kaWNlcyBhbHJlYWR5IGluIGBpbmRleEJ1ZmZlcmBcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KSB7XG4gICAgICAgIHZhciB1aW50MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXcsIGZsb2F0MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3O1xuICAgICAgICB2YXIgcGFja2VkVmVydGljZXMgPSBhSW5kZXggLyB0aGlzLnZlcnRleFNpemU7XG4gICAgICAgIHZhciB1dnMgPSBlbGVtZW50LnV2cztcbiAgICAgICAgdmFyIGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IGVsZW1lbnQudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuX2JhdGNoTG9jYXRpb247XG4gICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKGVsZW1lbnQud29ybGRBbHBoYSwgMS4wKTtcbiAgICAgICAgdmFyIGFyZ2IgPSAoYWxwaGEgPCAxLjBcbiAgICAgICAgICAgICYmIGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuYWxwaGFNb2RlKVxuICAgICAgICAgICAgPyBwcmVtdWx0aXBseVRpbnQoZWxlbWVudC5fdGludFJHQiwgYWxwaGEpXG4gICAgICAgICAgICA6IGVsZW1lbnQuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyW2lJbmRleCsrXSA9IHBhY2tlZFZlcnRpY2VzICsgaW5kaWNpZXNbaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoRHJhd0NhbGxbXX1cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCA9IFtdO1xuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5W119XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sID0gW107XG4gICAgcmV0dXJuIEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuLyoqXG4gKiBIZWxwZXIgdGhhdCBnZW5lcmF0ZXMgYmF0Y2hpbmcgbXVsdGktdGV4dHVyZSBzaGFkZXIuIFVzZSBpdCB3aXRoIHlvdXIgbmV3IEJhdGNoUmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFNoYWRlckdlbmVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVydGV4U3JjIC0gVmVydGV4IHNoYWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFnVGVtcGxhdGUgLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZS4gTXVzdCBjb250YWluIFwiJWNvdW50JVwiIGFuZCBcIiVmb3Jsb29wJVwiLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdUZW1wbGF0ZSA9IGZyYWdUZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVjb3VudCUnKSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVmb3Jsb29wJVwiLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEJhdGNoU2hhZGVyR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZVNoYWRlciA9IGZ1bmN0aW9uIChtYXhUZXh0dXJlcykge1xuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSkge1xuICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSA9IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgXCJcIiArIG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCB0aGlzLmdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICBCYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTYW1wbGVTcmMgPSBmdW5jdGlvbiAobWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIHNyYyA9ICcnO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICAgICAgICAgICAgc3JjICs9IFwiaWYodlRleHR1cmVJZCA8IFwiICsgaSArIFwiLjUpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICAgICAgc3JjICs9IFwiXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzW1wiICsgaSArIFwiXSwgdlRleHR1cmVDb29yZCk7XCI7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgICAgICB9XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICByZXR1cm4gc3JjO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoU2hhZGVyR2VuZXJhdG9yO1xufSgpKTtcblxuLyoqXG4gKiBHZW9tZXRyeSB1c2VkIHRvIGJhdGNoIHN0YW5kYXJkIFBJWEkgY29udGVudCAoZS5nLiBNZXNoLCBTcHJpdGUsIEdyYXBoaWNzIG9iamVjdHMpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhdGNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz1mYWxzZV0gLSBPcHRpbWl6YXRpb24gZmxhZywgd2hlcmUgYGZhbHNlYFxuICAgICAqICAgICAgICBpcyB1cGRhdGVkIGV2ZXJ5IGZyYW1lLCBgdHJ1ZWAgZG9lc24ndCBjaGFuZ2UgZnJhbWUtdG8tZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hHZW9tZXRyeShfc3RhdGljKSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgdXNlZCBmb3IgcG9zaXRpb24sIGNvbG9yLCB0ZXh0dXJlIElEc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgdHJ1ZSk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgX3RoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIF90aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FDb2xvcicsIF90aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgX3RoaXMuX2J1ZmZlciwgMSwgdHJ1ZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoX3RoaXMuX2luZGV4QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hHZW9tZXRyeTtcbn0oR2VvbWV0cnkpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMyA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHRpbnQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHRpbnQ7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDIgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgICVmb3Jsb29wJVxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG52YXIgQmF0Y2hQbHVnaW5GYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhdGNoUmVuZGVyZXIgcGx1Z2luIGZvciBSZW5kZXJlci4gdGhpcyBjb252ZW5pZW5jZSBjYW4gcHJvdmlkZSBhbiBlYXN5IHdheVxuICAgICAqIHRvIGV4dGVuZCBCYXRjaFJlbmRlcmVyIHdpdGggYWxsIHRoZSBuZWNlc3NhcnkgcGllY2VzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBgXG4gICAgICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gICAgICogdmFyeWluZyB2ZWM0IHZDb2xvcjtcbiAgICAgKiB2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XG4gICAgICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xuICAgICAqXG4gICAgICogdm9pZCBtYWluKHZvaWQpe1xuICAgICAqICAgICB2ZWM0IGNvbG9yO1xuICAgICAqICAgICAlZm9ybG9vcCVcbiAgICAgKiAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yICogdmVjNChjb2xvci5hIC0gY29sb3IucmdiLCBjb2xvci5hKTtcbiAgICAgKiB9XG4gICAgICogYDtcbiAgICAgKiBjb25zdCBJbnZlcnRCYXRjaFJlbmRlcmVyID0gUElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKHsgZnJhZ21lbnQgfSk7XG4gICAgICogUElYSS5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW52ZXJ0JywgSW52ZXJ0QmF0Y2hSZW5kZXJlcik7XG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKCk7XG4gICAgICogc3ByaXRlLnBsdWdpbk5hbWUgPSAnaW52ZXJ0JztcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZlcnRleD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0VmVydGV4U3JjXSAtIFZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50PVBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlXSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52ZXJ0ZXhTaXplPTZdIC0gVmVydGV4IHNpemVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZ2VvbWV0cnlDbGFzcz1QSVhJLkJhdGNoR2VvbWV0cnldXG4gICAgICogQHJldHVybiB7Kn0gTmV3IGJhdGNoIHJlbmRlcmVyIHBsdWdpblxuICAgICAqL1xuICAgIEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHZlcnRleDogZGVmYXVsdFZlcnRleCQzLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCQyLFxuICAgICAgICAgICAgZ2VvbWV0cnlDbGFzczogQmF0Y2hHZW9tZXRyeSxcbiAgICAgICAgICAgIHZlcnRleFNpemU6IDYsXG4gICAgICAgIH0sIG9wdGlvbnMpLCB2ZXJ0ZXggPSBfYS52ZXJ0ZXgsIGZyYWdtZW50ID0gX2EuZnJhZ21lbnQsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplLCBnZW9tZXRyeUNsYXNzID0gX2EuZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhCYXRjaFBsdWdpbiwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbmV3IEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgICAgIF90aGlzLnZlcnRleFNpemUgPSB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCYXRjaFBsdWdpbjtcbiAgICAgICAgfShBYnN0cmFjdEJhdGNoUmVuZGVyZXIpKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXRjaFBsdWdpbkZhY3RvcnksIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhdGNoUGx1Z2luRmFjdG9yeSwgXCJkZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQkMjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYXRjaFBsdWdpbkZhY3Rvcnk7XG59KCkpO1xuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG52YXIgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWVzcGFjZSByZXNvdXJjZXNcbiAqIEBzZWUgUElYSVxuICogQGRlcHJlY2F0ZWQgc2luY2UgNi4wLjBcbiAqL1xudmFyIHJlc291cmNlcyA9IHt9O1xudmFyIF9sb29wXzEgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvdXJjZXMsIG5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNi4wLjAnLCBcIlBJWEkuc3lzdGVtcy5cIiArIG5hbWUgKyBcIiBoYXMgbW92ZWQgdG8gUElYSS5cIiArIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIF9yZXNvdXJjZXNbbmFtZV07XG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuZm9yICh2YXIgbmFtZSBpbiBfcmVzb3VyY2VzKSB7XG4gICAgX2xvb3BfMShuYW1lKTtcbn1cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lc3BhY2Ugc3lzdGVtc1xuICogQHNlZSBQSVhJXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSA2LjAuMFxuICovXG52YXIgc3lzdGVtcyA9IHt9O1xudmFyIF9sb29wXzIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzeXN0ZW1zLCBuYW1lLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzYuMC4wJywgXCJQSVhJLnJlc291cmNlcy5cIiArIG5hbWUgKyBcIiBoYXMgbW92ZWQgdG8gUElYSS5cIiArIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIF9zeXN0ZW1zW25hbWVdO1xuICAgICAgICB9LFxuICAgIH0pO1xufTtcbmZvciAodmFyIG5hbWUgaW4gX3N5c3RlbXMpIHtcbiAgICBfbG9vcF8yKG5hbWUpO1xufVxuXG5leHBvcnQgeyBBYnN0cmFjdEJhdGNoUmVuZGVyZXIsIEFic3RyYWN0TXVsdGlSZXNvdXJjZSwgQWJzdHJhY3RSZW5kZXJlciwgQXJyYXlSZXNvdXJjZSwgQXR0cmlidXRlLCBCYXNlSW1hZ2VSZXNvdXJjZSwgQmFzZVJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaEdlb21ldHJ5LCBCYXRjaFBsdWdpbkZhY3RvcnksIEJhdGNoUmVuZGVyZXIsIEJhdGNoU2hhZGVyR2VuZXJhdG9yLCBCYXRjaFN5c3RlbSwgQmF0Y2hUZXh0dXJlQXJyYXksIEJ1ZmZlciwgQnVmZmVyUmVzb3VyY2UsIENhbnZhc1Jlc291cmNlLCBDb250ZXh0U3lzdGVtLCBDdWJlUmVzb3VyY2UsIEZpbHRlciwgRmlsdGVyU3RhdGUsIEZpbHRlclN5c3RlbSwgRnJhbWVidWZmZXIsIEZyYW1lYnVmZmVyU3lzdGVtLCBHTEZyYW1lYnVmZmVyLCBHTFByb2dyYW0sIEdMVGV4dHVyZSwgR2VvbWV0cnksIEdlb21ldHJ5U3lzdGVtLCBJR0xVbmlmb3JtRGF0YSwgSU5TVEFMTEVELCBJbWFnZUJpdG1hcFJlc291cmNlLCBJbWFnZVJlc291cmNlLCBNYXNrRGF0YSwgTWFza1N5c3RlbSwgT2JqZWN0UmVuZGVyZXIsIFByb2dyYW0sIFByb2plY3Rpb25TeXN0ZW0sIFF1YWQsIFF1YWRVdiwgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBvb2wsIFJlbmRlclRleHR1cmVTeXN0ZW0sIFJlbmRlcmVyLCBSZXNvdXJjZSwgU1ZHUmVzb3VyY2UsIFNjaXNzb3JTeXN0ZW0sIFNoYWRlciwgU2hhZGVyU3lzdGVtLCBTcHJpdGVNYXNrRmlsdGVyLCBTdGF0ZSwgU3RhdGVTeXN0ZW0sIFN0ZW5jaWxTeXN0ZW0sIFN5c3RlbSwgVGV4dHVyZSwgVGV4dHVyZUdDU3lzdGVtLCBUZXh0dXJlTWF0cml4LCBUZXh0dXJlU3lzdGVtLCBUZXh0dXJlVXZzLCBVbmlmb3JtR3JvdXAsIFZpZGVvUmVzb3VyY2UsIFZpZXdhYmxlQnVmZmVyLCBhdXRvRGV0ZWN0UmVuZGVyZXIsIGF1dG9EZXRlY3RSZXNvdXJjZSwgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciwgZGVmYXVsdEZpbHRlclZlcnRleCwgZGVmYXVsdFZlcnRleCQyIGFzIGRlZmF1bHRWZXJ0ZXgsIHJlc291cmNlcywgc3lzdGVtcywgdW5pZm9ybVBhcnNlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FwcCAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9hcHAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGNsYXNzIHRvIGNyZWF0ZSBhIG5ldyBQSVhJIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoaXMgY2xhc3MgYXV0b21hdGljYWxseSBjcmVhdGVzIHRoZSByZW5kZXJlciwgdGlja2VyIGFuZCByb290IGNvbnRhaW5lci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBBZGQgdGhlIHZpZXcgdG8gdGhlIERPTVxuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gZXgsIGFkZCBkaXNwbGF5IG9iamVjdHNcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJykpO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcGxpY2F0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIEF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgKipOb3RlKio6IFNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VDb250ZXh0QWxwaGE9dHJ1ZV0gLSBQYXNzLXRocm91Z2ggdmFsdWUgZm9yIGNhbnZhcycgY29udGV4dCBgYWxwaGFgIHByb3BlcnR5LlxuICAgICAqICAgSWYgeW91IHdhbnQgdG8gc2V0IHRyYW5zcGFyZW5jeSwgcGxlYXNlIHVzZSBgYmFja2dyb3VuZEFscGhhYC4gVGhpcyBvcHRpb24gaXMgZm9yIGNhc2VzIHdoZXJlIHRoZVxuICAgICAqICAgY2FudmFzIG5lZWRzIHRvIGJlIG9wYXF1ZSwgcG9zc2libHkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgb24gc29tZSBvbGRlciBkZXZpY2VzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gICAgICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249UElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAgICAgKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICAgICAqICAgaXQgaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE9MV0gLSBWYWx1ZSBmcm9tIDAgKGZ1bGx5IHRyYW5zcGFyZW50KSB0byAxIChmdWxseSBvcGFxdWUpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuICoqKFdlYkdMIG9ubHkpKiouXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRUaWNrZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyB0aWNrZXIuXG4gICAgICogIElmIHNldCB0byBmYWxzZSwgeW91IGNhbm5vdCByZWdpc3RlciBhIGhhbmRsZXIgdG8gb2NjdXIgYmVmb3JlIGFueXRoaW5nIHRoYXQgcnVucyBvbiB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgKiAgVGhlIHN5c3RlbSB0aWNrZXIgd2lsbCBhbHdheXMgcnVuIGJlZm9yZSBib3RoIHRoZSBzaGFyZWQgdGlja2VyIGFuZCB0aGUgYXBwIHRpY2tlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZExvYWRlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuTG9hZGVyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKiBAcGFyYW0ge1dpbmRvd3xIVE1MRWxlbWVudH0gW29wdGlvbnMucmVzaXplVG9dIC0gRWxlbWVudCB0byBhdXRvbWF0aWNhbGx5IHJlc2l6ZSBzdGFnZSB0by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm9vdCBkaXNwbGF5IGNvbnRhaW5lciB0aGF0J3MgcmVuZGVyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFnZSA9IG5ldyBDb250YWluZXIoKTtcbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpO1xuICAgICAgICAvLyBpbnN0YWxsIHBsdWdpbnMgaGVyZVxuICAgICAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5pbml0LmNhbGwoX3RoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBtaWRkbGV3YXJlIHBsdWdpbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5JQXBwbGljYXRpb25QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJ2aWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJzY3JlZW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBgZmlsdGVyQXJlYWAgb3IgYGhpdEFyZWFgIGZvciB0aGUgd2hvbGUgc2NyZWVuLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBEZXN0cm95IHBsdWdpbnMgaW4gdGhlIG9wcG9zaXRlIG9yZGVyXG4gICAgICAgIC8vIHdoaWNoIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZFxuICAgICAgICB2YXIgcGx1Z2lucyA9IEFwcGxpY2F0aW9uLl9wbHVnaW5zLnNsaWNlKDApO1xuICAgICAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuICovXG4gICAgQXBwbGljYXRpb24uX3BsdWdpbnMgPSBbXTtcbiAgICByZXR1cm4gQXBwbGljYXRpb247XG59KCkpO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbnZhciBSZXNpemVQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFJlc2l6ZVBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyZXNpemVUbycsIFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEhUTUwgZWxlbWVudCBvciB3aW5kb3cgdG8gYXV0b21hdGljYWxseSByZXNpemUgdGhlXG4gICAgICAgICAqIHJlbmRlcmVyJ3MgdmlldyBlbGVtZW50IHRvIG1hdGNoIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICAgICAqIEBtZW1iZXIge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgICAgICogQG5hbWUgcmVzaXplVG9cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqL1xuICAgICAgICB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkb20pIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgICAgICAgIGlmIChkb20pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNpemUgaXMgdGhyb3R0bGVkLCBzbyBpdCdzIHNhZmUgdG8gY2FsbCB0aGlzIG11bHRpcGxlIHRpbWVzIHBlciBmcmFtZSBhbmQgaXQnbGxcbiAgICAgICAgICogb25seSBiZSBjYWxsZWQgb25jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBtZXRob2QgcXVldWVSZXNpemVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNpemVUbykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgICAgICAgLy8gLy8gVGhyb3R0bGUgcmVzaXplIGV2ZW50cyBwZXIgcmFmXG4gICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVzaXplKCk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuY2VsIHRoZSByZXNpemUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAbWV0aG9kIGNhbmNlbFJlc2l6ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jlc2l6ZUlkKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoX3RoaXMuX3Jlc2l6ZUlkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRXhlY3V0ZSBhbiBpbW1lZGlhdGUgcmVzaXplIG9uIHRoZSByZW5kZXJlciwgdGhpcyBpcyBub3RcbiAgICAgICAgICogdGhyb3R0bGVkIGFuZCBjYW4gYmUgZXhwZW5zaXZlIHRvIGNhbGwgbWFueSB0aW1lcyBpbiBhIHJvdy5cbiAgICAgICAgICogV2lsbCByZXNpemUgb25seSBpZiBgcmVzaXplVG9gIHByb3BlcnR5IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBtZXRob2QgcmVzaXplXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2xlYXIgcXVldWUgcmVzaXplXG4gICAgICAgICAgICBfdGhpcy5jYW5jZWxSZXNpemUoKTtcbiAgICAgICAgICAgIHZhciB3aWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQ7XG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gdGhlIHdpbmRvd1xuICAgICAgICAgICAgaWYgKF90aGlzLl9yZXNpemVUbyA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gc2VsZi5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHNlbGYuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gb3RoZXIgSFRNTCBlbnRpdGllc1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuX3Jlc2l6ZVRvLCBjbGllbnRXaWR0aCA9IF9hLmNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgPSBfYS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBjbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBjbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXJlci5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIE9uIHJlc2l6ZVxuICAgICAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVUbyA9IG9wdGlvbnMucmVzaXplVG8gfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUmVzaXplUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplUGx1Z2luO1xufSgpKTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZXh0cmFjdCAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9leHRyYWN0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBleHBvcnRpbmcgY29udGVudCBmcm9tIGEgcmVuZGVyZXIuXG4gKiBGb3IgaW5zdGFuY2UsIHRoZXNlIHBsdWdpbnMgY2FuIGJlIHVzZWQgZm9yIHNhdmluZyBhbiBJbWFnZSwgQ2FudmFzIGVsZW1lbnQgb3IgZm9yIGV4cG9ydGluZyB0aGUgcmF3IGltYWdlIGRhdGEgKHBpeGVscykuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoZXNlIHBsdWdpbnMgZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcCAod2lsbCBhdXRvLWFkZCBleHRyYWN0IHBsdWdpbiB0byByZW5kZXJlcilcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIHJlZCBjaXJjbGVcbiAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHhGRjAwMDApXG4gKiAgICAgLmRyYXdDaXJjbGUoMCwgMCwgNTApO1xuICpcbiAqIC8vIFJlbmRlciB0aGUgZ3JhcGhpY3MgYXMgYW4gSFRNTEltYWdlRWxlbWVudFxuICogY29uc3QgaW1hZ2UgPSBhcHAucmVuZGVyZXIucGx1Z2lucy5leHRyYWN0LmltYWdlKGdyYXBoaWNzKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRXh0cmFjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeHRyYWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiAodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5mbG9vcigoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKSArIDFlLTQpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcigoZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbikgKyAxZS00KTtcbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIHZhciBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgY2FudmFzRGF0YS5kYXRhKTtcbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuICAgICAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRfMSA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQoY2FudmFzQnVmZmVyLndpZHRoLCBjYW52YXNCdWZmZXIuaGVpZ2h0LCAxKTtcbiAgICAgICAgICAgIHRhcmdldF8xLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgLy8gd2UgY2FuJ3QgcmVuZGVyIHRvIGl0c2VsZiBiZWNhdXNlIHdlIHNob3VsZCBiZSBlbXB0eSBiZWZvcmUgcmVuZGVyLlxuICAgICAgICAgICAgdGFyZ2V0XzEuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyID0gdGFyZ2V0XzE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnJlYWRQaXhlbHMoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB3ZWJnbFBpeGVscyk7XG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgd2ViZ2xQaXhlbHMpO1xuICAgICAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBwcmVtdWx0aXBsaWVkIHBpeGVsIGRhdGEgYW5kIHByb2R1Y2VzIHJlZ3VsYXIgcGl4ZWwgZGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBwaXhlbHMgLSBhcnJheSBvZiBwaXhlbCBkYXRhXG4gICAgICogQHBhcmFtIHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gb3V0IC0gb3V0cHV0IGFycmF5XG4gICAgICovXG4gICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUgPSBmdW5jdGlvbiAocGl4ZWxzLCBvdXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbHMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IG91dFtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuICAgICAgICAgICAgaWYgKGFscGhhICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMl0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gcGl4ZWxzW2ldO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBwaXhlbHNbaSArIDFdO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBwaXhlbHNbaSArIDJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXh0cmFjdDtcbn0oKSk7XG5cbmV4cG9ydCB7IEV4dHJhY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3QuanMubWFwXG4iLCIvKiFcbiAqIHJlc291cmNlLWxvYWRlciAtIHYzLjAuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLXNvdW5kXG4gKiBDb21waWxlZCBUdWUsIDAyIEp1bCAyMDE5IDE0OjA2OjE4IFVUQ1xuICpcbiAqIHJlc291cmNlLWxvYWRlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBwYXJzZVVyaSBmcm9tICdwYXJzZS11cmknO1xuaW1wb3J0IFNpZ25hbCBmcm9tICdtaW5pLXNpZ25hbHMnO1xuXG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICpcbiAqIEBuYW1lc3BhY2UgYXN5bmNcbiAqL1xuXG4vKipcbiAqIE5vb3AgZnVuY3Rpb25cbiAqXG4gKiBAaWdub3JlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBhc3luY1xuICovXG5mdW5jdGlvbiBfbm9vcCgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIEl0ZXJhdGVzIGFuIGFycmF5IGluIHNlcmllcy5cbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBlYWNoU2VyaWVzXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cblxuXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICB2YXIgaSA9IDA7XG4gIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRlZmVyTmV4dCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgfSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgIH1cbiAgfSkoKTtcbn1cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQGlnbm9yZVxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2FsbEZuID0gZm47XG4gICAgZm4gPSBudWxsO1xuICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBxdWV1ZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5cblxuZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICBpZiAoY29uY3VycmVuY3kgPT0gbnVsbCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICBjb25jdXJyZW5jeSA9IDE7XG4gIH0gZWxzZSBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgfVxuXG4gIHZhciB3b3JrZXJzID0gMDtcbiAgdmFyIHEgPSB7XG4gICAgX3Rhc2tzOiBbXSxcbiAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICB1bnNhdHVyYXRlZDogX25vb3AsXG4gICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgZW1wdHk6IF9ub29wLFxuICAgIGRyYWluOiBfbm9vcCxcbiAgICBlcnJvcjogX25vb3AsXG4gICAgc3RhcnRlZDogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBraWxsOiBmdW5jdGlvbiBraWxsKCkge1xuICAgICAgd29ya2VycyA9IDA7XG4gICAgICBxLmRyYWluID0gX25vb3A7XG4gICAgICBxLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHEuX3Rhc2tzID0gW107XG4gICAgfSxcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICB2YXIgdGFzayA9IHEuX3Rhc2tzLnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcnMgKz0gMTtcblxuICAgICAgICBpZiAod29ya2VycyA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgIH0sXG4gICAgcnVubmluZzogZnVuY3Rpb24gcnVubmluZygpIHtcbiAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgIH0sXG4gICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgIH0sXG4gICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgaWYgKHEucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSBmYWxzZTsgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuXG4gICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIF9pbnNlcnQoZGF0YSwgaW5zZXJ0QXRGcm9udCwgY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBxLnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcS5kcmFpbigpO1xuICAgICAgfSwgMSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSB7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogX25vb3BcbiAgICB9O1xuXG4gICAgaWYgKGluc2VydEF0RnJvbnQpIHtcbiAgICAgIHEuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHEuX3Rhc2tzLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcS5wcm9jZXNzKCk7XG4gICAgfSwgMSk7XG4gIH1cblxuICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3b3JrZXJzIC09IDE7XG4gICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgIHEuZXJyb3IoYXJndW1lbnRzWzBdLCB0YXNrLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAod29ya2VycyA8PSBxLmNvbmN1cnJlbmN5IC0gcS5idWZmZXIpIHtcbiAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgcS5kcmFpbigpO1xuICAgICAgfVxuXG4gICAgICBxLnByb2Nlc3MoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHE7XG59XG5cbnZhciBhc3luYyA9ICh7XG4gICAgZWFjaFNlcmllczogZWFjaFNlcmllcyxcbiAgICBxdWV1ZTogcXVldWVcbn0pO1xuXG4vLyBhIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlc1xudmFyIGNhY2hlID0ge307XG4vKipcbiAqIEEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBjYWNoaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5jYWNoaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBjYWNoaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgLy8gaWYgY2FjaGVkLCB0aGVuIHNldCBkYXRhIGFuZCBjb21wbGV0ZSB0aGUgcmVzb3VyY2VcbiAgaWYgKGNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICByZXNvdXJjZS5kYXRhID0gY2FjaGVbcmVzb3VyY2UudXJsXTtcbiAgICByZXNvdXJjZS5jb21wbGV0ZSgpOyAvLyBtYXJrcyByZXNvdXJjZSBsb2FkIGNvbXBsZXRlIGFuZCBzdG9wcyBwcm9jZXNzaW5nIGJlZm9yZSBtaWRkbGV3YXJlc1xuICB9IC8vIGlmIG5vdCBjYWNoZWQsIHdhaXQgZm9yIGNvbXBsZXRlIGFuZCBzdG9yZSBpdCBpbiB0aGUgY2FjaGUuXG4gIGVsc2Uge1xuICAgICAgcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW190aGlzLnVybF0gPSBfdGhpcy5kYXRhO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIG5leHQoKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDsgLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG5cbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7IC8vIG5vb3BcblxuZnVuY3Rpb24gX25vb3AkMSgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIGEgcmVzb3VyY2UgYW5kIGFsbCBjaGlsZCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKi9cblxuXG52YXIgUmVzb3VyY2UgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX2xvYWRUeXBlTWFwLCBleHRuYW1lLCBsb2FkVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAqL1xuICA7XG5cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvblhoclR5cGUoZXh0bmFtZSwgeGhyVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCBmb3IgYXVkaW8vdmlkZW8gbG9hZHMgeW91IGNhbiBwYXNzXG4gICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dD0wXSAtIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlc1xuICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgKi9cbiAgO1xuXG4gIGZ1bmN0aW9uIFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdGUgZmxhZ3Mgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5fZmxhZ3MgPSAwOyAvLyBzZXQgZGF0YSB1cmwgZmxhZywgbmVlZHMgdG8gYmUgc2V0IGVhcmx5IGZvciBzb21lIF9kZXRlcm1pbmVYIGNoZWNrcyB0byB3b3JrLlxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICAvKipcbiAgICAgKiBUaGUgZXh0ZW5zaW9uIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5leHRlbnNpb24gPSB0aGlzLl9nZXRFeHRlbnNpb24oKTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSB0aGF0IHdhcyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7YW55fVxuICAgICAqL1xuXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnYW5vbnltb3VzJyA6IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG4gICAgLyoqXG4gICAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzIGxvbmdlciB0aGFuIHRoaXMgdGltZVxuICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAqIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBtZXRob2Qgb2YgbG9hZGluZyB0byB1c2UgZm9yIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIHVzZWQgdG8gbG9hZCB0aGUgcmVzb3VyY2UgdmlhIFhIUi4gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcbiAgICAvKipcbiAgICAgKiBFeHRyYSBpbmZvIGZvciBtaWRkbGV3YXJlLCBhbmQgY29udHJvbGxpbmcgc3BlY2lmaWNzIGFib3V0IGhvdyB0aGUgcmVzb3VyY2UgbG9hZHMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAqIE1lYW5pbmcgaXQgd2lsbCBtb2RpZnkgaXQgYXMgaXQgc2VlcyBmaXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICovXG5cbiAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7RXJyb3J9XG4gICAgICovXG5cbiAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS4gVGhpcyBpcyBvbmx5IHNldFxuICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgKi9cblxuICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAqL1xuXG4gICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wJDE7XG4gICAgLyoqXG4gICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgdGltZXIgZm9yIGVsZW1lbnQgbG9hZHMgdG8gY2hlY2sgaWYgdGhleSB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7IC8vIHhociBjYWxsYmFja3NcblxuICAgIHRoaXMuX2JvdW5kWGhyT25FcnJvciA9IHRoaXMuX3hock9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IHRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uTG9hZCA9IHRoaXMuX3hock9uTG9hZC5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25TdGFydFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBlYWNoIHRpbWUgcHJvZ3Jlc3Mgb2YgdGhpcyByZXNvdXJjZSBsb2FkIHVwZGF0ZXMuXG4gICAgICogTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAqIGlzIGJlaW5nIGxvYWRlZCBvbiBhIG1vZGVybiBicm93c2VyLCB1c2luZyBYSFIsIGFuZCB0aGUgcmVtb3RlIHNlcnZlclxuICAgICAqIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSB0aGlzIHJlc291cmNlIGhhcyBsb2FkZWQsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpdCB3aWxsXG4gICAgICogYmUgaW4gdGhlIGBlcnJvcmAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBhZnRlciB0aGlzIHJlc291cmNlIGhhcyBoYWQgYWxsIHRoZSAqYWZ0ZXIqIG1pZGRsZXdhcmUgcnVuIG9uIGl0LlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBTaWduYWwoKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIHRvIGxvYWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudGFnZSAtIFRoZSBwcm9ncmVzcyBvZiB0aGUgbG9hZCBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElNZXRhZGF0YVxuICAgKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbbG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICogICAgICBvZiBhIHZpZGVvL2F1ZGlvIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsXG4gICAqICAgICAgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgdXJsIGluZGV4LlxuICAgKi9cblxuICAvKipcbiAgICogU3RvcmVzIHdoZXRoZXIgb3Igbm90IHRoaXMgdXJsIGlzIGEgZGF0YSB1cmwuXG4gICAqXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBSZXNvdXJjZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICpcbiAgICovXG4gIF9wcm90by5jb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc3RvcmUgZXJyb3JcblxuXG4gICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTsgLy8gY2xlYXIgZXZlbnRzIGJlZm9yZSBjYWxsaW5nIGFib3J0c1xuXG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTsgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG5cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAvLyBzaW5nbGUgc291cmNlXG4gICAgICBpZiAodGhpcy5kYXRhLnNyYykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgfSAvLyBtdWx0aS1zb3VyY2VcbiAgICAgIGVsc2Uge1xuICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IC8vIGRvbmUgbm93LlxuXG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjYihfdGhpcyk7XG4gICAgICAgIH0sIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpOyAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuXG4gICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVklERU87XG5cbiAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBmbGFnKSAhPT0gMDtcbiAgfVxuICAvKipcbiAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gdGhpcy5fZmxhZ3MgfCBmbGFnIDogdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jbGVhckV2ZW50cyA9IGZ1bmN0aW9uIF9jbGVhckV2ZW50cygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZWxlbWVudFRpbWVyKTtcblxuICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpbmFsaXplcyB0aGUgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2ZpbmlzaCA9IGZ1bmN0aW9uIF9maW5pc2goKSB7XG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBtdWx0aXBsZSBzb3VyY2VzLFxuICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRTb3VyY2VFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRTb3VyY2VFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJVbnN1cHBvcnRlZCBlbGVtZW50OiBcIiArIHR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgdGhpcy5kYXRhLnNyYyA9IEFycmF5LmlzQXJyYXkodGhpcy51cmwpID8gdGhpcy51cmxbMF0gOiB0aGlzLnVybDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVybC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX21pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG4gICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkoX21pbWVUeXBlcykgPyBfbWltZVR5cGVzWzBdIDogX21pbWVUeXBlcykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEubG9hZCgpO1xuXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhociA9IGZ1bmN0aW9uIF9sb2FkWGhyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7IC8vIHNldCB0aGUgcmVxdWVzdCB0eXBlIGFuZCB1cmxcblxuICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgeGhyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7IC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG5cbiAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH0gZWxzZSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgIH1cblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgIH1cblxuICAgIHZhciB4ZHIgPSB0aGlzLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcblxuICAgIHhkci50aW1lb3V0ID0gdGhpcy50aW1lb3V0IHx8IDUwMDA7IC8vIFhEUiBuZWVkcyBhIHRpbWVvdXQgdmFsdWUgb3IgaXQgYnJlYWtzIGluIElFOVxuXG4gICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0O1xuICAgIHhkci5vbnByb2dyZXNzID0gdGhpcy5fYm91bmRPblByb2dyZXNzO1xuICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcbiAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpOyAvLyBOb3RlOiBUaGUgeGRyLnNlbmQoKSBjYWxsIGlzIHdyYXBwZWQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYW5cbiAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgIC8vIFNvbWUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2lzc3Vlcy8xMjQ4XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgIH0sIDEpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fY3JlYXRlU291cmNlID0gZnVuY3Rpb24gX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICBpZiAoIW1pbWUpIHtcbiAgICAgIG1pbWUgPSB0eXBlICsgXCIvXCIgKyB0aGlzLl9nZXRFeHRlbnNpb24odXJsKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgc291cmNlLnNyYyA9IHVybDtcbiAgICBzb3VyY2UudHlwZSA9IG1pbWU7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGEgbG9hZCBlcnJvcnMgb3V0LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IoZXZlbnQpIHtcbiAgICB0aGlzLmFib3J0KFwiRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogXCIgKyBldmVudC50YXJnZXQubm9kZU5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIHByb2dyZXNzIGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50IG9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fEV2ZW50fSBldmVudCAtIFByb2dyZXNzIGV2ZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25UaW1lb3V0ID0gZnVuY3Rpb24gX29uVGltZW91dCgpIHtcbiAgICB0aGlzLmFib3J0KFwiTG9hZCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkVycm9yID0gZnVuY3Rpb24gX3hock9uRXJyb3IoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogXCIgKyB4aHIuc3RhdHVzICsgXCIsIHRleHQ6IFxcXCJcIiArIHhoci5zdGF0dXNUZXh0ICsgXCJcXFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGhyT25UaW1lb3V0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3QgdGltZWQgb3V0LlwiKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdExvYWRFdmVudHxFdmVudH0gZXZlbnQgLSBMb2FkIGV2ZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkxvYWQgPSBmdW5jdGlvbiBfeGhyT25Mb2FkKCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB2YXIgdGV4dCA9ICcnO1xuICAgIHZhciBzdGF0dXMgPSB0eXBlb2YgeGhyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcgPyBTVEFUVVNfT0sgOiB4aHIuc3RhdHVzOyAvLyBYRFIgaGFzIG5vIGAuc3RhdHVzYCwgYXNzdW1lIDIwMC5cbiAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG5cbiAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgfSAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG5cblxuICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgIH0gLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICB9XG5cbiAgICB2YXIgc3RhdHVzVHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgIH0gLy8gaWYganNvbiwgcGFyc2UgaW50byBqc29uIG9iamVjdFxuICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogXCIgKyBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gaWYgeG1sLCBwYXJzZSBpbnRvIGFuIHhtbCBkb2N1bWVudCBvciBkaXYgZWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogXCIgKyBlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFib3J0KFwiW1wiICsgeGhyLnN0YXR1cyArIFwiXSBcIiArIHhoci5zdGF0dXNUZXh0ICsgXCI6IFwiICsgeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBsZXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9IC8vIEEgc2FuZGJveGVkIGlmcmFtZSB3aXRob3V0IHRoZSAnYWxsb3ctc2FtZS1vcmlnaW4nIGF0dHJpYnV0ZSB3aWxsIGhhdmUgYSBzcGVjaWFsXG4gICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgIC8vIGNyb3NzT3JpZ2luIHJlcXVlc3RzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgbG9jYXRpb24gbWF0Y2hlcy5cblxuXG4gICAgaWYgKHdpbmRvdy5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9IC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG5cblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfSAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuXG5cbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdXJsID0gcGFyc2VVcmkodGVtcEFuY2hvci5ocmVmLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgdmFyIHByb3RvY29sID0gdXJsLnByb3RvY29sID8gdXJsLnByb3RvY29sICsgXCI6XCIgOiAnJzsgLy8gaWYgY3Jvc3Mgb3JpZ2luXG5cbiAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICB2YXIgZXh0ID0gJyc7XG5cbiAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgIHZhciBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIHVybC5pbmRleE9mKCc7Jywgc2xhc2hJbmRleCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBtaW1lIHR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZ2V0TWltZUZyb21YaHJUeXBlID0gZnVuY3Rpb24gX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgfVxuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICBrZXk6IFwiaXNEYXRhVXJsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAqIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0xvYWRpbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzb3VyY2U7XG59KCk7XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblxuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICBOT05FOiAwLFxuICBEQVRBX1VSTDogMSA8PCAwLFxuICBDT01QTEVURTogMSA8PCAxLFxuICBMT0FESU5HOiAxIDw8IDJcbn07XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLlRZUEUgPSB7XG4gIFVOS05PV046IDAsXG4gIEpTT046IDEsXG4gIFhNTDogMixcbiAgSU1BR0U6IDMsXG4gIEFVRElPOiA0LFxuICBWSURFTzogNSxcbiAgVEVYVDogNlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBYSFI6IDEsXG5cbiAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIElNQUdFOiAyLFxuXG4gIC8qKiBVc2VzIGFuIGBBdWRpb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBBVURJTzogMyxcblxuICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBWSURFTzogNFxufTtcbi8qKlxuICogVGhlIFhIUiByZWFkeSBzdGF0ZXMsIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cblxuUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gIC8qKiBzdHJpbmcgKi9cbiAgREVGQVVMVDogJ3RleHQnLFxuXG4gIC8qKiBBcnJheUJ1ZmZlciAqL1xuICBCVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG5cbiAgLyoqIEJsb2IgKi9cbiAgQkxPQjogJ2Jsb2InLFxuXG4gIC8qKiBEb2N1bWVudCAqL1xuICBET0NVTUVOVDogJ2RvY3VtZW50JyxcblxuICAvKiogT2JqZWN0ICovXG4gIEpTT046ICdqc29uJyxcblxuICAvKiogU3RyaW5nICovXG4gIFRFWFQ6ICd0ZXh0J1xufTtcblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgYm1wOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0aWZmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGdhOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHN2ZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgLy8gZm9yIFNWRyBkYXRhIHVybHNcbiAgLy8gYXVkaW9cbiAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIG9nZzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICB3YXY6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgLy8gdmlkZW9zXG4gIG1wNDogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5SZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgLy8geG1sXG4gIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIGh0bTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHRteDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHN2ZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgdHN4OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgcG5nOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGpwZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBlZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWZmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB3ZWJwOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIC8vIGpzb25cbiAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcbiAgLy8gdGV4dFxuICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICB0eHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIC8vIGZvbnRzXG4gIHR0ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICBvdGY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUlxufTsgLy8gV2UgY2FuJ3Qgc2V0IHRoZSBgc3JjYCBhdHRyaWJ1dGUgdG8gZW1wdHkgc3RyaW5nLCBzbyBvbiBhYm9ydCB3ZSBzZXQgaXQgdG8gdGhpcyAxcHggdHJhbnNwYXJlbnQgZ2lmXG5cblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09Jztcbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIHNldCBhIHZhbHVlIG9uIG9uZSBvZiB0aGUgZXh0ZW5zaW9uIG1hcHMuIEVuc3VyZXMgdGhlcmUgaXMgbm9cbiAqIGRvdCBhdCB0aGUgc3RhcnQgb2YgdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge29iamVjdH0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cblxuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgaWYgKCFleHRuYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fFhEb21haW5SZXF1ZXN0fSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuLyoqXG4gKiBFbmNvZGVzIGJpbmFyeSBpbnRvIGJhc2U2NC5cbiAqXG4gKiBAZnVuY3Rpb24gZW5jb2RlQmluYXJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gJyc7XG4gIHZhciBpbnggPSAwO1xuXG4gIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgIGZvciAodmFyIGpueCA9IDA7IGpueCA8IGJ5dGVidWZmZXIubGVuZ3RoOyArK2pueCkge1xuICAgICAgaWYgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gaW5wdXQuY2hhckNvZGVBdChpbngrKykgJiAweGZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgLy8gaW5kZXggMTogZmlyc3QgNiBiaXRzXG5cblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1swXSA9IGJ5dGVidWZmZXJbMF0gPj4gMjsgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDsgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjsgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSBieXRlYnVmZmVyWzJdICYgMHgzZjsgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuXG4gICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyBTZXQgbGFzdCBjaGFyYWN0ZXIgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgIH0gLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG5cblxuICAgIGZvciAodmFyIF9qbnggPSAwOyBfam54IDwgZW5jb2RlZENoYXJJbmRleGVzLmxlbmd0aDsgKytfam54KSB7XG4gICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW19qbnhdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG52YXIgVXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuLyoqXG4gKiBBIG1pZGRsZXdhcmUgZm9yIHRyYW5zZm9ybWluZyBYSFIgbG9hZGVkIEJsb2JzIGludG8gbW9yZSB1c2VmdWwgb2JqZWN0c1xuICpcbiAqIEBtZW1iZXJvZiBtaWRkbGV3YXJlXG4gKiBAZnVuY3Rpb24gcGFyc2luZ1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IExvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gKiBsb2FkZXIudXNlKG1pZGRsZXdhcmUucGFyc2luZyk7XG4gKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHQgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2luZyhyZXNvdXJjZSwgbmV4dCkge1xuICBpZiAoIXJlc291cmNlLmRhdGEpIHtcbiAgICBuZXh0KCk7XG4gICAgcmV0dXJuO1xuICB9IC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuXG5cbiAgaWYgKHJlc291cmNlLnhociAmJiByZXNvdXJjZS54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgIGlmICghd2luZG93LkJsb2IgfHwgdHlwZW9mIHJlc291cmNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgdHlwZSA9IHJlc291cmNlLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7IC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG5cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gXCJkYXRhOlwiICsgdHlwZSArIFwiO2Jhc2U2NCxcIiArIGVuY29kZUJpbmFyeShyZXNvdXJjZS54aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG5cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICBlbHNlIGlmIChyZXNvdXJjZS5kYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICB2YXIgc3JjID0gVXJsLmNyZWF0ZU9iamVjdFVSTChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG4gICAgICAgIHJlc291cmNlLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFOyAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH07IC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZC5cblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgfVxuXG4gIG5leHQoKTtcbn1cblxuLyoqXG4gKiBAbmFtZXNwYWNlIG1pZGRsZXdhcmVcbiAqL1xuXG52YXIgaW5kZXggPSAoe1xuICAgIGNhY2hpbmc6IGNhY2hpbmcsXG4gICAgcGFyc2luZzogcGFyc2luZ1xufSk7XG5cbnZhciBNQVhfUFJPR1JFU1MgPSAxMDA7XG52YXIgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICovXG4gIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoYmFzZVVybCA9PT0gdm9pZCAwKSB7XG4gICAgICBiYXNlVXJsID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGNvbmN1cnJlbmN5ID09PSB2b2lkIDApIHtcbiAgICAgIGNvbmN1cnJlbmN5ID0gMTA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgLyoqXG4gICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAqIFtgZW5jb2RlVVJJQ29tcG9uZW50YF0oaHR0cHM6Ly9tZG4uaW8vZW5jb2RlVVJJQ29tcG9uZW50KSBiZWZvcmUgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgKlxuICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dj0xJnVzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJydcbiAgICAgKi9cblxuICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICovXG5cbiAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIGBfbG9hZFJlc291cmNlYCBmdW5jdGlvbiBib3VuZCB3aXRoIHRoaXMgb2JqZWN0IGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHIgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHtcbiAgICAgIHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5fcXVldWUgPSBxdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSwgY29uY3VycmVuY3kpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTtcbiAgICAvKipcbiAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25FcnJvclNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uTG9hZFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uTG9hZFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uTG9hZCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gcHJvY2VzcyB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uU3RhcnRTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTsgLy8gQWRkIGRlZmF1bHQgYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgfSAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUubGVuZ3RoOyArK19pKSB7XG4gICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbX2ldKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhlIHByb2dyZXNzIGlzIGFkdmFuY2luZyBvbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvci5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYSBsb2FkIGNvbXBsZXRlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Mb2FkU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBzdGFydGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgbG9hZGVyIGNvbXBsZXRlcyBsb2FkaW5nIHJlc291cmNlcyBpdCBkaXNwYXRjaGVzIHRoaXMgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBhIGNhbGwgdG8gYC5hZGQoKWAuXG4gICAqXG4gICAqIEBzZWUgTG9hZGVyI2FkZFxuICAgKlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJQWRkT3B0aW9uc1xuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQsIGlmIG5vdCBwYXNzZWQgdGhlIHVybCBpcyB1c2VkLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gLSBBbGlhcyBmb3IgYG5hbWVgLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd8Ym9vbGVhbn0gW2Nyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtsb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW3hoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtvbkNvbXBsZXRlXSAtIENhbGxiYWNrIHRvIGFkZCBhbiBhbiBvbkNvbXBsZXRlIHNpZ25hbCBpc3RlbmVyLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLklNZXRhZGF0YX0gW21ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIHRha2UgYSB3aWRlIHZhcmlldHkgb2YgZGlmZmVyZW50IHBhcmFtZXRlcnMuIFRoZSBvbmx5IHRoaW5nIHRoYXQgaXMgYWx3YXlzXG4gICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBsb2FkZXJcbiAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICpcbiAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkyJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fVxuICAgKiAgICAgfSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHBzOi8vLi4uJyxcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAqICAgICAuYWRkKFtcbiAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICAnaHR0cDovLy4uLidcbiAgICogICAgIF0pXG4gICAqXG4gICAqICAgICAvLyBhbmQgeW91IGNhbiB1c2UgYm90aCBwYXJhbXMgYW5kIG9wdGlvbnNcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAdmFyaWF0aW9uIDFcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gMlxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDNcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiA0XG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDVcbiAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLiBUaGlzIG9iamVjdCBtdXN0IGNvbnRhaW4gYSBgdXJsYCBwcm9wZXJ0eS5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDZcbiAgKiBAcGFyYW0ge0FycmF5PElBZGRPcHRpb25zfHN0cmluZz59IHJlc291cmNlcyAtIEFuIGFycmF5IG9mIHJlc291cmNlcyB0byBsb2FkLCB3aGVyZSBlYWNoIGlzXG4gICogICAgICBlaXRoZXIgYW4gb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgb3IgYSBzdHJpbmcgdXJsLiBJZiB5b3UgcGFzcyBhbiBvYmplY3QsIGl0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IExvYWRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChuYW1lLCB1cmwsIG9wdGlvbnMsIGNiKSB7XG4gICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgIH0gLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cblxuXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgdXJsID0gbmFtZTtcbiAgICB9IC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgIH0gLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH0gLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICB9IC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuXG5cbiAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc291cmNlIG5hbWVkIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgYWxyZWFkeSBleGlzdHMuXCIpO1xuICAgIH0gLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG5cblxuICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTsgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcblxuICAgIHRoaXMucmVzb3VyY2VzW25hbWVdID0gbmV3IFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICB9IC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudFJlc291cmNlO1xuICAgICAgdmFyIGluY29tcGxldGVDaGlsZHJlbiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaTJdLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGZ1bGxDaHVuayA9IHBhcmVudC5wcm9ncmVzc0NodW5rICogKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAxKTsgLy8gKzEgZm9yIHBhcmVudFxuXG4gICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuW19pM10ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICB9IC8vIGFkZCB0aGUgcmVzb3VyY2UgdG8gdGhlIHF1ZXVlXG5cblxuICAgIHRoaXMuX3F1ZXVlLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG5cbiAgLyoqXG4gICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnByZSA9IGZ1bmN0aW9uIHByZShmbikge1xuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51c2UgPSBmdW5jdGlvbiB1c2UoZm4pIHtcbiAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAqXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcXVldWUua2lsbCgpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTsgLy8gYWJvcnQgYWxsIHJlc291cmNlIGxvYWRzXG5cblxuICAgIGZvciAodmFyIGsgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnJlc291cmNlc1trXTtcblxuICAgICAgaWYgKHJlcy5fb25Mb2FkQmluZGluZykge1xuICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzb3VyY2VzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0cyBsb2FkaW5nIHRoZSBxdWV1ZWQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgdGhlIHF1ZXVlIGhhcyBhbHJlYWR5IHN0YXJ0ZWQgd2UgYXJlIGRvbmUgaGVyZVxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICB0aGlzLl9vblN0YXJ0KCk7XG5cbiAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICB2YXIgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5fcXVldWUuX3Rhc2tzW2ldLmRhdGEucHJvZ3Jlc3NDaHVuayA9IGNodW5rO1xuICAgICAgfSAvLyBub3RpZnkgd2UgYXJlIHN0YXJ0aW5nXG5cblxuICAgICAgdGhpcy5fb25TdGFydCgpOyAvLyBzdGFydCBsb2FkaW5nXG5cblxuICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEwXG4gICAqL1xuICA7XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIGEgdXJsIGZvciB1c2FnZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byBwcmVwYXJlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAqL1xuICBfcHJvdG8uX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICB2YXIgcGFyc2VkVXJsID0gcGFyc2VVcmkodXJsLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHJlc3VsdDsgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cblxuICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICByZXN1bHQgPSB1cmw7XG4gICAgfSAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgIGVsc2UgaWYgKHRoaXMuYmFzZVVybC5sZW5ndGggJiYgdGhpcy5iYXNlVXJsLmxhc3RJbmRleE9mKCcvJykgIT09IHRoaXMuYmFzZVVybC5sZW5ndGggLSAxICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyBcIi9cIiArIHVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgIH0gLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcblxuXG4gICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgcmVzdWx0Lmxlbmd0aCAtIGhhc2gubGVuZ3RoKTtcblxuICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKCc/JykgIT09IC0xKSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiZcIiArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiP1wiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCArPSBoYXNoO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFJlc291cmNlID0gZnVuY3Rpb24gX2xvYWRSZXNvdXJjZShyZXNvdXJjZSwgZGVxdWV1ZSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlOyAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGVhY2hTZXJpZXModGhpcy5fYmVmb3JlTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMiwgcmVzb3VyY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgbmV4dChyZXNvdXJjZS5pc0NvbXBsZXRlID8ge30gOiBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgIF90aGlzMi5fb25Mb2FkKHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gTUFYX1BST0dSRVNTO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gbnVsbDsgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuXG4gICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcblxuICAgIHJlc291cmNlLl9kZXF1ZXVlKCk7IC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcblxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5kaXNwYXRjaChyZXNvdXJjZSk7XG4gICAgICBfdGhpczMucHJvZ3Jlc3MgPSBNYXRoLm1pbihNQVhfUFJPR1JFU1MsIF90aGlzMy5wcm9ncmVzcyArIHJlc291cmNlLnByb2dyZXNzQ2h1bmspO1xuXG4gICAgICBfdGhpczMub25Qcm9ncmVzcy5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcblxuICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgIF90aGlzMy5vbkVycm9yLmRpc3BhdGNoKHJlc291cmNlLmVycm9yLCBfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTsgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuXG5cbiAgICAgIGlmIChfdGhpczMuX3F1ZXVlLmlkbGUoKSAmJiBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIF90aGlzMy5fb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAga2V5OiBcImNvbmN1cnJlbmN5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9hZGVyO1xufSgpO1xuLyoqXG4gKiBBIGRlZmF1bHQgYXJyYXkgb2YgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuXG5Mb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5cbkxvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZSA9IFtdO1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cbkxvYWRlci5wcmUgPSBmdW5jdGlvbiBMb2FkZXJQcmVTdGF0aWMoZm4pIHtcbiAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcbi8qKlxuICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cblxuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgcmV0dXJuIExvYWRlcjtcbn07XG5cbmV4cG9ydCB7IExvYWRlciwgUmVzb3VyY2UsIGFzeW5jLCBlbmNvZGVCaW5hcnksIGluZGV4IGFzIG1pZGRsZXdhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc291cmNlLWxvYWRlci5lc20uanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2xvYWRlcnMgLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvbG9hZGVycyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlc291cmNlLCBtaWRkbGV3YXJlLCBMb2FkZXIgYXMgTG9hZGVyJDEgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgVGV4dHVyZUxvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgU1ZHIGVsZW1lbnRzIGEgdGV4dCwgcmVuZGVyIHdpdGggU1ZHUmVzb3VyY2UuXG4gICAgICovXG4gICAgVGV4dHVyZUxvYWRlci5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlKCdzdmcnLCBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSKTtcbiAgICAgICAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnc3ZnJywgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBUZXh0dXJlTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgKHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0UgfHwgcmVzb3VyY2UuZXh0ZW5zaW9uID09PSAnc3ZnJykpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzb3VyY2UuZGF0YSwgdXJsID0gcmVzb3VyY2UudXJsLCBuYW1lID0gcmVzb3VyY2UubmFtZSwgbWV0YWRhdGEgPSByZXNvdXJjZS5tZXRhZGF0YTtcbiAgICAgICAgICAgIFRleHR1cmUuZnJvbUxvYWRlcihkYXRhLCB1cmwsIG5hbWUsIG1ldGFkYXRhKS50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JzIGluIFRleHR1cmUuZnJvbUxvYWRlclxuICAgICAgICAgICAgICAgIC8vIHNvIHdlIGNhbiBwYXNzIHRoZW0gdG8gdGhlIExvYWRlclxuICAgICAgICAgICAgICAgIC5jYXRjaChuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVMb2FkZXI7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vb3JcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBQSVhJLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzcyBMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExvYWRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCBjb25jdXJyZW5jeSkgfHwgdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJlID0gcGx1Z2luLnByZSwgdXNlID0gcGx1Z2luLnVzZTtcbiAgICAgICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcmUocHJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51c2UodXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBsb2FkZXIgY2Fubm90IGJlIGRlc3Ryb3llZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBsb2FkZXIsIHJlbW92ZXMgcmVmZXJlbmNlcy5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gICAgICogQG1ldGhvZCBkZXN0cm95XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAgICAgICAgICogQG5hbWUgc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNoYXJlZCA9IExvYWRlci5fc2hhcmVkO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWQpIHtcbiAgICAgICAgICAgICAgICBzaGFyZWQgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIExvYWRlci5fc2hhcmVkID0gc2hhcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNoYXJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBMb2FkZXIgcGx1Z2luIGZvciB0aGUgZ2xvYmFsIHNoYXJlZCBsb2FkZXIgYW5kIGFsbFxuICAgICAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAqIEBwYXJhbSB7UElYSS5JTG9hZGVyUGx1Z2lufSBwbHVnaW4gLSBUaGUgcGx1Z2luIHRvIGFkZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgTG9hZGVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgICBpZiAocGx1Z2luLmFkZCkge1xuICAgICAgICAgICAgcGx1Z2luLmFkZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMb2FkZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFsbCBpbnN0YWxsZWQgYHVzZWAgbWlkZGxld2FyZSBmb3IgTG9hZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuSUxvYWRlclBsdWdpbj59IF9wbHVnaW5zXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMb2FkZXIuX3BsdWdpbnMgPSBbXTtcbiAgICByZXR1cm4gTG9hZGVyO1xufShMb2FkZXIkMSkpO1xuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlLnBhcnNpbmcgfSk7XG4vLyBwYXJzZSBhbnkgSW1hZ2Ugb2JqZWN0cyBpbnRvIHRleHR1cmVzXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oVGV4dHVyZUxvYWRlcik7XG4vKipcbiAqIFBsdWdpbiB0byBiZSBpbnN0YWxsZWQgZm9yIGhhbmRsaW5nIHNwZWNpZmljIExvYWRlciByZXNvdXJjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElMb2FkZXJQbHVnaW5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFthZGRdIC0gRnVuY3Rpb24gdG8gY2FsbCBpbW1lZGlhdGUgYWZ0ZXIgcmVnaXN0ZXJpbmcgcGx1Z2luLlxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbcHJlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGJlZm9yZSBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbdXNlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGFmdGVyIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQ2FsbGJhY2tJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBJU2lnbmFsQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0gLSBDb250ZXh0XG4gKiBAcmV0dXJucyB7SUNhbGxiYWNrSUR9IC0gQ2FsbGJhY2tJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBJU2lnbmFsRGV0YWNoXG4gKiBAcGFyYW0ge0lDYWxsYmFja0lEfSBpZCAtIENhbGxiYWNrSUQgcmV0dXJuZWQgYnkgYGFkZGAvYG9uY2VgIG1ldGhvZHNcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElMb2FkZXJTaWduYWxcbiAqIEBwcm9wZXJ0eSB7SVNpZ25hbENhbGxiYWNrfSBhZGQgLSBSZWdpc3RlciBjYWxsYmFja1xuICogQHByb3BlcnR5IHtJU2lnbmFsQ2FsbGJhY2t9IG9uY2UgLSBSZWdpc3RlciBvbmVzaG90IGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge0lTaWduYWxEZXRhY2h9IGRldGFjaCAtIERldGFjaCBzcGVjaWZpYyBjYWxsYmFjayBieSBJRFxuICovXG4vKipcbiAqIENhbGxiYWNrXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbn0gbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG4vKipcbiAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBsb2FkaW5nIHByb2Nlc3MuXG4gKiBAbmFtZSBvblN0YXJ0XG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfVxuICovXG4vKipcbiAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gKiBAbmFtZSBvblByb2dyZXNzXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfSBvblByb2dyZXNzXG4gKi9cbi8qKlxuICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICogQG5hbWUgb25FcnJvclxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH1cbiAqL1xuLyoqXG4gKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAqIEBuYW1lIG9uTG9hZFxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH1cbiAqL1xuLyoqXG4gKiBEaXNwYXRjaGVkIHdoZW4gY29tcGxldGVseSBsb2FkZWQgYWxsIHJlc291cmNlcy5cbiAqIEBuYW1lIG9uQ29tcGxldGVcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9XG4gKi9cblxuLyoqXG4gKiBBcHBsaWNhdGlvbiBwbHVnaW4gZm9yIHN1cHBvcnRpbmcgbG9hZGVyIG9wdGlvbi4gSW5zdGFsbGluZyB0aGUgTG9hZGVyUGx1Z2luXG4gKiBpcyBub3QgbmVjZXNzYXJ5IGlmIHVzaW5nICoqcGl4aS5qcyoqIG9yICoqcGl4aS5qcy1sZWdhY3kqKi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0FwcExvYWRlclBsdWdpbn0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcExvYWRlclBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcHBMb2FkZXJQbHVnaW4oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbiBhcHBsaWNhdGlvbiBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBcHBMb2FkZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHNoYXJlZExvYWRlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYXBwbGljYXRpb24gZGVzdHJveWVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFwcExvYWRlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFwcExvYWRlclBsdWdpbjtcbn0oKSk7XG5cbi8qKlxuKiBSZWZlcmVuY2UgdG8gKip7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlcn0qKidzIFJlc291cmNlIGNsYXNzLlxuKiBAc2VlIGh0dHBzOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9jbGFzc2VzL3Jlc291cmNlLmh0bWxcbiogQGNsYXNzIExvYWRlclJlc291cmNlXG4qIEBtZW1iZXJvZiBQSVhJXG4qL1xudmFyIExvYWRlclJlc291cmNlID0gUmVzb3VyY2U7XG5cbmV4cG9ydCB7IEFwcExvYWRlclBsdWdpbiwgTG9hZGVyLCBMb2FkZXJSZXNvdXJjZSwgVGV4dHVyZUxvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZGVycy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcyAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVmlld2FibGVCdWZmZXIsIEJ1ZmZlclJlc291cmNlLCBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IHVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IE1JUE1BUF9NT0RFUywgQUxQSEFfTU9ERVMsIFRZUEVTLCBGT1JNQVRTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxudmFyIF9hO1xuLyoqXG4gKiBXZWJHTCBpbnRlcm5hbCBmb3JtYXRzLCBpbmNsdWRpbmcgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdHMgcHJvdmlkZWQgYnkgZXh0ZW5zaW9uc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBJTlRFUk5BTF9GT1JNQVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQ9MHg4M0YwXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQ9MHg4M0YxXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQ9MHg4M0YyXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQ9MHg4M0YzXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ9MzU5MTdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVD0zNTkxOFxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUPTM1OTE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ9MzU5MTZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1IxMV9FQUM9MHg5MjcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQz0weDkyNzFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHMTFfRUFDPTB4OTI3MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfU0lHTkVEX1JHMTFfRUFDPTB4OTI3M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCOF9FVEMyPTB4OTI3NFxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCQThfRVRDMl9FQUM9MHg5Mjc4XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9TUkdCOF9FVEMyPTB4OTI3NVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDPTB4OTI3OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzI9MHg5Mjc2XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9TUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzI9MHg5Mjc3XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRz0weDhDMDBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNRz0weDhDMDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQl9QVlJUQ18yQlBQVjFfSU1HPTB4OEMwMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HPTB4OEMwM1xuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0w9MHg4RDY0XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JfQVRDX1dFQkdMPTB4OEM5MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0w9MHg4QzkyXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JBX0FUQ19JTlRFUlBPTEFURURfQUxQSEFfV0VCR0w9MHg4N0VFXG4gKi9cbnZhciBJTlRFUk5BTF9GT1JNQVRTO1xuKGZ1bmN0aW9uIChJTlRFUk5BTF9GT1JNQVRTKSB7XG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUXCJdID0gMzM3NzZdID0gXCJDT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFRcIl0gPSAzMzc3N10gPSBcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFRcIl0gPSAzMzc3OF0gPSBcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFRcIl0gPSAzMzc3OV0gPSBcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUXCI7XG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYlxuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUXCJdID0gMzU5MTddID0gXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVFwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhUXCJdID0gMzU5MThdID0gXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVFwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUXCJdID0gMzU5MTldID0gXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVFwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUXCJdID0gMzU5MTZdID0gXCJDT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVFwiO1xuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGNcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1IxMV9FQUNcIl0gPSAzNzQ4OF0gPSBcIkNPTVBSRVNTRURfUjExX0VBQ1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUNcIl0gPSAzNzQ4OV0gPSBcIkNPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUNcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHMTFfRUFDXCJdID0gMzc0OTBdID0gXCJDT01QUkVTU0VEX1JHMTFfRUFDXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUNcIl0gPSAzNzQ5MV0gPSBcIkNPTVBSRVNTRURfU0lHTkVEX1JHMTFfRUFDXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0I4X0VUQzJcIl0gPSAzNzQ5Ml0gPSBcIkNPTVBSRVNTRURfUkdCOF9FVEMyXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ1wiXSA9IDM3NDk2XSA9IFwiQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU1JHQjhfRVRDMlwiXSA9IDM3NDkzXSA9IFwiQ09NUFJFU1NFRF9TUkdCOF9FVEMyXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUNcIl0gPSAzNzQ5N10gPSBcIkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMlwiXSA9IDM3NDk0XSA9IFwiQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMlwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyXCJdID0gMzc0OTVdID0gXCJDT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMlwiO1xuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUdcIl0gPSAzNTg0MF0gPSBcIkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUdcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNR1wiXSA9IDM1ODQyXSA9IFwiQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUdcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQl9QVlJUQ18yQlBQVjFfSU1HXCJdID0gMzU4NDFdID0gXCJDT01QUkVTU0VEX1JHQl9QVlJUQ18yQlBQVjFfSU1HXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUdcIl0gPSAzNTg0M10gPSBcIkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HXCI7XG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMXCJdID0gMzYxOTZdID0gXCJDT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMXCI7XG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0Y1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCX0FUQ19XRUJHTFwiXSA9IDM1OTg2XSA9IFwiQ09NUFJFU1NFRF9SR0JfQVRDX1dFQkdMXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JBX0FUQ19FWFBMSUNJVF9BTFBIQV9XRUJHTFwiXSA9IDM1OTg2XSA9IFwiQ09NUFJFU1NFRF9SR0JBX0FUQ19FWFBMSUNJVF9BTFBIQV9XRUJHTFwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCQV9BVENfSU5URVJQT0xBVEVEX0FMUEhBX1dFQkdMXCJdID0gMzQ3OThdID0gXCJDT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTFwiO1xufSkoSU5URVJOQUxfRk9STUFUUyB8fCAoSU5URVJOQUxfRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIE1hcHMgdGhlIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXRzIGluIHtAbGluayBQSVhJLklOVEVSTkFMX0ZPUk1BVFN9IHRvIHRoZSBudW1iZXIgb2YgYnl0ZXMgdGFrZW4gYnlcbiAqIGVhY2ggdGV4ZWwuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBpZ25vcmVcbiAqL1xudmFyIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUwgPSAoX2EgPSB7fSxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1xuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVF0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVF0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVF0gPSAxLFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFRdID0gMSxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1xuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFRdID0gMC41LFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFRdID0gMC41LFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUM19FWFRdID0gMSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUXSA9IDEsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0Y1xuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SMTFfRUFDXSA9IDAuNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUNdID0gMC41LFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SRzExX0VBQ10gPSAxLFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUNdID0gMSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCOF9FVEMyXSA9IDAuNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQThfRVRDMl9FQUNdID0gMSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU1JHQjhfRVRDMl0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQ10gPSAxLFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMl0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMl0gPSAwLjUsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HXSA9IDAuNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HXSA9IDAuNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUddID0gMC4yNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HXSA9IDAuMjUsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0xdID0gMC41LFxuICAgIC8vIEBzZWUgaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvT3BlbkdML2V4dGVuc2lvbnMvQU1EL0FNRF9jb21wcmVzc2VkX0FUQ190ZXh0dXJlLnR4dFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGNcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX0FUQ19XRUJHTF0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfQVRDX0VYUExJQ0lUX0FMUEhBX1dFQkdMXSA9IDEsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTF0gPSAxLFxuICAgIF9hKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB7IHRocm93IHRbMV07IH0gcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpOyB9XHJcbiAgICAgICAgd2hpbGUgKF8pIHsgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHsgcmV0dXJuIHQ7IH1cclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSB7IG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07IH1cclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgeyBfLm9wcy5wb3AoKTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfSB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgeyB0aHJvdyBvcFsxXTsgfSByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XG5cbi8qKlxuICogUmVzb3VyY2UgdGhhdCBmZXRjaGVzIHRleHR1cmUgZGF0YSBvdmVyIHRoZSBuZXR3b3JrIGFuZCBzdG9yZXMgaXQgaW4gYSBidWZmZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmxvYlJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCbG9iUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBVUkwgb2YgdGhlIHRleHR1cmUgZmlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn1bYXV0b0xvYWRdIC0gd2hldGhlciB0byBmZXRjaCB0aGUgZGF0YSBpbW1lZGlhdGVseTtcbiAgICAgKiAgeW91IGNhbiBmZXRjaCBpdCBsYXRlciB2aWEge0BsaW5rIEJsb2JSZXNvdXJjZSNsb2FkfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsb2JSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyB3aWR0aDogMSwgaGVpZ2h0OiAxLCBhdXRvTG9hZDogdHJ1ZSB9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcmlnaW47XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG9yaWdpbiA9IHNvdXJjZTtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3JpZ2luID0gbnVsbDtcbiAgICAgICAgICAgIGRhdGEgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkYXRhLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVSTCBvZiB0aGUgdGV4dHVyZSBmaWxlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aWV3YWJsZSBidWZmZXIgb24gdGhlIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7Vmlld2FibGVCdWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICAvLyBISU5UOiBCbG9iUmVzb3VyY2UgYWxsb3dzIFwibnVsbFwiIHNvdXJjZXMsIGFzc3VtaW5nIHRoZSBjaGlsZCBjbGFzcyBwcm92aWRlcyBhbiBhbHRlcm5hdGl2ZVxuICAgICAgICBfdGhpcy5idWZmZXIgPSBkYXRhID8gbmV3IFZpZXdhYmxlQnVmZmVyKGRhdGEpIDogbnVsbDtcbiAgICAgICAgLy8gQWxsb3cgYXV0b0xvYWQgPSBcInVuZGVmaW5lZFwiIHN0aWxsIGxvYWQgdGhlIHJlc291cmNlIGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKF90aGlzLm9yaWdpbiAmJiBvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMub25CbG9iTG9hZGVkKF90aGlzLmJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJsb2JSZXNvdXJjZS5wcm90b3R5cGUub25CbG9iTG9hZGVkID0gZnVuY3Rpb24gKF9kYXRhKSB7XG4gICAgICAgIC8vIFRPRE86IE92ZXJyaWRlIHRoaXMgbWV0aG9kXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgYmxvYlxuICAgICAqL1xuICAgIEJsb2JSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXNwb25zZSwgYmxvYiwgYXJyYXlCdWZmZXI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHRoaXMub3JpZ2luKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuYmxvYigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGJsb2IuYXJyYXlCdWZmZXIoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25CbG9iTG9hZGVkKGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpc107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEJsb2JSZXNvdXJjZTtcbn0oQnVmZmVyUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSBmb3IgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdHMsIGFzIGZvbGxvd3M6IFMzVEMvRFhUbiAoJiB0aGVpciBzUkdCIGZvcm1hdHMpLCBBVEMsIEFTVEMsIEVUQyAxLzIsIFBWUlRDLlxuICpcbiAqIENvbXByZXNzZWQgdGV4dHVyZXMgaW1wcm92ZSBwZXJmb3JtYW5jZSB3aGVuIHJlbmRlcmluZyBpcyB0ZXh0dXJlLWJvdW5kLiBUaGUgdGV4dHVyZSBkYXRhIHN0YXlzIGNvbXByZXNzZWQgaW5cbiAqIGdyYXBoaWNzIG1lbW9yeSwgaW5jcmVhc2luZyBtZW1vcnkgbG9jYWxpdHkgYW5kIHNwZWVkaW5nIHVwIHRleHR1cmUgZmV0Y2hlcy4gVGhlc2UgZm9ybWF0cyBjYW4gYWxzbyBiZSB1c2VkIHRvIHN0b3JlXG4gKiBtb3JlIGRldGFpbCBpbiB0aGUgc2FtZSBhbW91bnQgb2YgbWVtb3J5LlxuICpcbiAqIEZvciBtb3N0IGRldmVsb3BlcnMsIGNvbnRhaW5lciBmaWxlIGZvcm1hdHMgYXJlIGEgYmV0dGVyIGFic3RyYWN0aW9uIGluc3RlYWQgb2YgZGlyZWN0bHkgaGFuZGxpbmcgcmF3IHRleHR1cmVcbiAqIGRhdGEuIFBpeGlKUyBwcm92aWRlcyBuYXRpdmUgc3VwcG9ydCBmb3IgdGhlIGZvbGxvd2luZyB0ZXh0dXJlIGZpbGUgZm9ybWF0cyAodmlhIHtAbGluayBQSVhJLkxvYWRlcn0pOlxuICpcbiAqICogKiouZGRzKiogLSB0aGUgRGlyZWN0RHJhdyBTdXJmYWNlIGZpbGUgZm9ybWF0IHN0b3JlcyBEWFRuIChEWFQtMSwzLDUpIGRhdGEuIFNlZSB7QGxpbmsgUElYSS5ERFNMb2FkZXJ9XG4gKiAqICoqLmt0eCoqIC0gdGhlIEtocm9ub3MgVGV4dHVyZSBDb250YWluZXIgZmlsZSBmb3JtYXQgc3VwcG9ydHMgc3RvcmluZyBhbGwgdGhlIHN1cHBvcnRlZCBXZWJHTCBjb21wcmVzc2lvbiBmb3JtYXRzLlxuICogIFNlZSB7QGxpbmsgUElYSS5LVFhMb2FkZXJ9LlxuICogKiAqKi5iYXNpcyoqIC0gdGhlIEJBU0lTIHN1cGVyY29tcHJlc3NlZCBmaWxlIGZvcm1hdCBzdG9yZXMgdGV4dHVyZSBkYXRhIGluIGFuIGludGVybmFsIGZvcm1hdCB0aGF0IGlzIHRyYW5zY29kZWRcbiAqICB0byB0aGUgY29tcHJlc3Npb24gZm9ybWF0IHN1cHBvcnRlZCBvbiB0aGUgZGV2aWNlIGF0IF9ydW50aW1lXy4gSXQgYWxzbyBzdXBwb3J0cyB0cmFuc2NvZGluZyBpbnRvIGEgdW5jb21wcmVzc2VkXG4gKiAgZm9ybWF0IGFzIGEgZmFsbGJhY2s7IHlvdSBtdXN0IGluc3RhbGwgdGhlIGBAcGl4aS9iYXNpcy1sb2FkZXJgLCBgQHBpeGkvYmFzaXMtdHJhbnNjb2RlcmAgcGFja2FnZXMgc2VwYXJhdGVseSB0b1xuICogIHVzZSB0aGVzZSBmaWxlcy4gU2VlIHtAbGluayBQSVhJLkJhc2lzTG9hZGVyfS5cbiAqXG4gKiBUaGUgbG9hZGVycyBmb3IgdGhlIGFmb3JlbWVudGlvbmVkIGZvcm1hdHMgdXNlIGBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlYCBpbnRlcm5hbGx5LiBJdCBpcyBzdHJvbmdseSBzdWdnZXN0ZWQgdGhhdFxuICogdGhleSBiZSB1c2VkIGluc3RlYWQuXG4gKlxuICogIyMgV29ya2luZyBkaXJlY3RseSB3aXRoIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2VcbiAqXG4gKiBTaW5jZSBgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZWAgaW5oZXJpdHMgYEJsb2JSZXNvdXJjZWAsIHlvdSBjYW4gcHJvdmlkZSBpdCBhIFVSTCBwb2ludGluZyB0byBhIGZpbGUgY29udGFpbmluZ1xuICogdGhlIHJhdyB0ZXh0dXJlIGRhdGEgKHdpdGggbm8gZmlsZSBoZWFkZXJzISk6XG4gKlxuICogYGBganNcbiAqIC8vIFRoZSByZXNvdXJjZSBiYWNraW5nIHRoZSB0ZXh0dXJlIGRhdGEgZm9yIHlvdXIgdGV4dHVyZXMuXG4gKiAvLyBOT1RFOiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhIEFycmF5QnVmZmVyVmlldyBpbnN0ZWFkIG9mIGEgVVJMLiBUaGlzIGlzIHVzZWQgd2hlbiBsb2FkaW5nIGRhdGEgZnJvbSBhIGNvbnRhaW5lciBmaWxlXG4gKiAvLyAgIGZvcm1hdCBzdWNoIGFzIEtUWCwgRERTLCBvciBCQVNJUy5cbiAqIGNvbnN0IGNvbXByZXNzZWRSZXNvdXJjZSA9IG5ldyBQSVhJLkNvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UoXCJidW5ueS5keHQ1XCIsIHtcbiAqICAgZm9ybWF0OiBQSVhJLklOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQsXG4gKiAgIHdpZHRoOiAyNTYsXG4gKiAgIGhlaWdodDogMjU2XG4gKiB9KTtcbiAqXG4gKiAvLyBZb3UgY2FuIGNyZWF0ZSBhIGJhc2UtdGV4dHVyZSB0byB0aGUgY2FjaGUsIHNvIHRoYXQgZnV0dXJlIGBUZXh0dXJlYHMgY2FuIGJlIGNyZWF0ZWQgdXNpbmcgdGhlIGBUZXh0dXJlLmZyb21gIEFQSS5cbiAqIGNvbnN0IGJhc2VUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVRleHR1cmUoY29tcHJlc3NlZFJlc291cmNlLCB7IHBtYU1vZGU6IFBJWEkuQUxQSEFfTU9ERVMuTlBNIH0pO1xuICpcbiAqIC8vIENyZWF0ZSBhIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBUZXh0dXJlQ2FjaGVcbiAqIGNvbnN0IHRleHR1cmUgPSBuZXcgUElYSS5UZXh0dXJlKGJhc2VUZXh0dXJlKTtcbiAqXG4gKiAvLyBBZGQgYmFzZVRleHR1cmUgJiB0ZXh0dXJlIHRvIHRoZSBnbG9iYWwgdGV4dHVyZSBjYWNoZVxuICogUElYSS5CYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBcImJ1bm55LmR4dDVcIik7XG4gKiBQSVhJLlRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBcImJ1bm55LmR4dDVcIik7XG4gKiBgYGBcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIGJ1ZmZlci9VUkwgaG9sZGluZyB0aGUgY29tcHJlc3NlZCB0ZXh0dXJlIGRhdGFcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7UElYSS5JTlRFUk5BTF9GT1JNQVRTfSBvcHRpb25zLmZvcm1hdCAtIHRoZSBjb21wcmVzc2lvbiBmb3JtYXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIHRoZSBpbWFnZSB3aWR0aCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gdGhlIGltYWdlIGhlaWdodCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubGV2ZWw9MV0gLSB0aGUgbWlwbWFwIGxldmVscyBzdG9yZWQgaW4gdGhlIGNvbXByZXNzZWQgdGV4dHVyZSwgaW5jbHVkaW5nIGxldmVsIDAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubGV2ZWxCdWZmZXJzXSAtIHRoZSBidWZmZXJzIGZvciBlYWNoIG1pcG1hcCBsZXZlbC4gYENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2VgIGNhbiBhbGxvd3MgeW91XG4gICAgICogICAgICB0byBwYXNzIGBudWxsYCBmb3IgYHNvdXJjZWAsIGZvciBjYXNlcyB3aGVyZSBlYWNoIGxldmVsIGlzIHN0b3JlZCBpbiBub24tY29udGlndW91cyBtZW1vcnkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbXByZXNzaW9uIGZvcm1hdFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIG1pcG1hcCBsZXZlbHMgc3RvcmVkIGluIHRoZSByZXNvdXJjZSBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxldmVscyA9IG9wdGlvbnMubGV2ZWxzIHx8IDE7XG4gICAgICAgIF90aGlzLl93aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgX3RoaXMuX2V4dGVuc2lvbiA9IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UuX2Zvcm1hdFRvRXh0ZW5zaW9uKF90aGlzLmZvcm1hdCk7XG4gICAgICAgIGlmIChvcHRpb25zLmxldmVsQnVmZmVycyB8fCBfdGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIC8vIFZpZXdhYmxlQnVmZmVyIGRvZXNuJ3Qgc3VwcG9ydCBieXRlT2Zmc2V0IDotKCBzbyBhbGxvdyBzb3VyY2UgdG8gYmUgVWludDhBcnJheVxuICAgICAgICAgICAgX3RoaXMuX2xldmVsQnVmZmVycyA9IG9wdGlvbnMubGV2ZWxCdWZmZXJzXG4gICAgICAgICAgICAgICAgfHwgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5fY3JlYXRlTGV2ZWxCdWZmZXJzKHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBzb3VyY2UgOiBfdGhpcy5idWZmZXIudWludDhWaWV3LCBfdGhpcy5mb3JtYXQsIF90aGlzLmxldmVscywgNCwgNCwgLy8gUFZSVEMgaGFzIDh4NCBibG9ja3MgaW4gMmJwcCBtb2RlXG4gICAgICAgICAgICAgICAgX3RoaXMud2lkdGgsIF90aGlzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0gX3RleHR1cmVcbiAgICAgKiBAcGFyYW0gX2dsVGV4dHVyZVxuICAgICAqL1xuICAgIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgX3RleHR1cmUsIF9nbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSByZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnNbdGhpcy5fZXh0ZW5zaW9uXTtcbiAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLl9leHRlbnNpb24gKyBcIiB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGUgY3VycmVudCBtYWNoaW5lXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbGV2ZWxCdWZmZXJzKSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgdHJ5IHRvIHVwbG9hZCBkYXRhIGJlZm9yZSBCbG9iUmVzb3VyY2UgbG9hZHMsIHVubGVzcyB0aGUgbGV2ZWxCdWZmZXJzIHdlcmUgcHJvdmlkZWQgZGlyZWN0bHkhXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmxldmVsczsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5fbGV2ZWxCdWZmZXJzW2ldLCBsZXZlbElEID0gX2EubGV2ZWxJRCwgbGV2ZWxXaWR0aCA9IF9hLmxldmVsV2lkdGgsIGxldmVsSGVpZ2h0ID0gX2EubGV2ZWxIZWlnaHQsIGxldmVsQnVmZmVyID0gX2EubGV2ZWxCdWZmZXI7XG4gICAgICAgICAgICBnbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbElELCB0aGlzLmZvcm1hdCwgbGV2ZWxXaWR0aCwgbGV2ZWxIZWlnaHQsIDAsIGxldmVsQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLnByb3RvdHlwZS5vbkJsb2JMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xldmVsQnVmZmVycyA9IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UuX2NyZWF0ZUxldmVsQnVmZmVycyh0aGlzLmJ1ZmZlci51aW50OFZpZXcsIHRoaXMuZm9ybWF0LCB0aGlzLmxldmVscywgNCwgNCwgLy8gUFZSVEMgaGFzIDh4NCBibG9ja3MgaW4gMmJwcCBtb2RlXG4gICAgICAgIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGtleSAodG8gQ29udGV4dFN5c3RlbSNleHRlbnNpb25zKSBmb3IgdGhlIFdlYkdMIGV4dGVuc2lvbiBzdXBwb3J0aW5nIHRoZSBjb21wcmVzc2lvbiBmb3JtYXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLklOVEVSTkFMX0ZPUk1BVFN9IGZvcm1hdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9mb3JtYXRUb0V4dGVuc2lvbiA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA+PSAweDgzRjAgJiYgZm9ybWF0IDw9IDB4ODNGMykge1xuICAgICAgICAgICAgcmV0dXJuICdzM3RjJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JtYXQgPj0gMHg5MjcwICYmIGZvcm1hdCA8PSAweDkyNzkpIHtcbiAgICAgICAgICAgIHJldHVybiAnZXRjJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JtYXQgPj0gMHg4QzAwICYmIGZvcm1hdCA8PSAweDhDMDMpIHtcbiAgICAgICAgICAgIHJldHVybiAncHZydGMnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvcm1hdCA+PSAweDhENjQpIHtcbiAgICAgICAgICAgIHJldHVybiAnZXRjMSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9ybWF0ID49IDB4OEM5MiAmJiBmb3JtYXQgPD0gMHg4N0VFKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2F0Yyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIChjb21wcmVzc2VkKSB0ZXh0dXJlIGZvcm1hdCBnaXZlbiEnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZS1jcmVhdGVzIGJ1ZmZlciB2aWV3cyBmb3IgZWFjaCBtaXBtYXAgbGV2ZWxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSU5URVJOQUxfRk9STUFUU30gZm9ybWF0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibG9ja1dpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJsb2NrSGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGltYWdlV2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW1hZ2VIZWlnaHRcbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9jcmVhdGVMZXZlbEJ1ZmZlcnMgPSBmdW5jdGlvbiAoYnVmZmVyLCBmb3JtYXQsIGxldmVscywgYmxvY2tXaWR0aCwgYmxvY2tIZWlnaHQsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KSB7XG4gICAgICAgIC8vIFRoZSBieXRlLXNpemUgb2YgdGhlIGZpcnN0IGxldmVsIGJ1ZmZlclxuICAgICAgICB2YXIgYnVmZmVycyA9IG5ldyBBcnJheShsZXZlbHMpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXQ7XG4gICAgICAgIHZhciBsZXZlbFdpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICAgICAgdmFyIGxldmVsSGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gICAgICAgIHZhciBhbGlnbmVkTGV2ZWxXaWR0aCA9IChsZXZlbFdpZHRoICsgYmxvY2tXaWR0aCAtIDEpICYgfihibG9ja1dpZHRoIC0gMSk7XG4gICAgICAgIHZhciBhbGlnbmVkTGV2ZWxIZWlnaHQgPSAobGV2ZWxIZWlnaHQgKyBibG9ja0hlaWdodCAtIDEpICYgfihibG9ja0hlaWdodCAtIDEpO1xuICAgICAgICB2YXIgbGV2ZWxTaXplID0gYWxpZ25lZExldmVsV2lkdGggKiBhbGlnbmVkTGV2ZWxIZWlnaHQgKiBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMW2Zvcm1hdF07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzOyBpKyspIHtcbiAgICAgICAgICAgIGJ1ZmZlcnNbaV0gPSB7XG4gICAgICAgICAgICAgICAgbGV2ZWxJRDogaSxcbiAgICAgICAgICAgICAgICBsZXZlbFdpZHRoOiBsZXZlbHMgPiAxID8gbGV2ZWxXaWR0aCA6IGFsaWduZWRMZXZlbFdpZHRoLFxuICAgICAgICAgICAgICAgIGxldmVsSGVpZ2h0OiBsZXZlbHMgPiAxID8gbGV2ZWxIZWlnaHQgOiBhbGlnbmVkTGV2ZWxIZWlnaHQsXG4gICAgICAgICAgICAgICAgbGV2ZWxCdWZmZXI6IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5idWZmZXIsIG9mZnNldCwgbGV2ZWxTaXplKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9mZnNldCArPSBsZXZlbFNpemU7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbGV2ZWxCdWZmZXIgZGltZW5zaW9ucyBmb3IgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgIGxldmVsV2lkdGggPSAobGV2ZWxXaWR0aCA+PiAxKSB8fCAxO1xuICAgICAgICAgICAgbGV2ZWxIZWlnaHQgPSAobGV2ZWxIZWlnaHQgPj4gMSkgfHwgMTtcbiAgICAgICAgICAgIGFsaWduZWRMZXZlbFdpZHRoID0gKGxldmVsV2lkdGggKyBibG9ja1dpZHRoIC0gMSkgJiB+KGJsb2NrV2lkdGggLSAxKTtcbiAgICAgICAgICAgIGFsaWduZWRMZXZlbEhlaWdodCA9IChsZXZlbEhlaWdodCArIGJsb2NrSGVpZ2h0IC0gMSkgJiB+KGJsb2NrSGVpZ2h0IC0gMSk7XG4gICAgICAgICAgICBsZXZlbFNpemUgPSBhbGlnbmVkTGV2ZWxXaWR0aCAqIGFsaWduZWRMZXZlbEhlaWdodCAqIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbZm9ybWF0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVycztcbiAgICB9O1xuICAgIHJldHVybiBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlO1xufShCbG9iUmVzb3VyY2UpKTtcblxuLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgY29tcHJlc3NlZCB0ZXh0dXJlcyBmb3IgYWxsIHBsYXRmb3Jtcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSBjb21wcmVzc2VkLXRleHR1cmVzIG1hbmlmZXN0IGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgd2lsbCB0aGVuIGxvYWQgdGhlIGNvcnJlY3QgY29tcHJlc3Npb24gZm9ybWF0IGZvciB0aGUgZGV2aWNlLiBZb3VyIG1hbmlmZXN0IHNob3VsZCBhZGhlcmVcbiAgICAgKiB0byB0aGUgZm9sbG93aW5nIHNjaGVtYTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaW1wb3J0IHsgSU5URVJOQUxfRk9STUFUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG4gICAgICpcbiAgICAgKiAvLyBUaGUgZm9sbG93aW5nIHNob3VsZCBiZSBwcmVzZW50IGluIGEgKi5jb21wcmVzc2VkLXRleHR1cmUuanNvbiBmaWxlIVxuICAgICAqIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAqICAgQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQ6IFwiYXNzZXQuczN0Yy5rdHhcIixcbiAgICAgKiAgIENPTVBSRVNTRURfUkdCQThfRVRDMl9FQUM6IFwiYXNzZXQuZXRjLmt0eFwiLFxuICAgICAqICAgUkdCQV9QVlJUQ180QlBQVjFfSU1HOiBcImFzc2V0LnB2cnRjLmt0eFwiLFxuICAgICAqICAgdGV4dHVyZUlEOiBcImFzc2V0LnBuZ1wiLFxuICAgICAqICAgZmFsbGJhY2s6IFwiYXNzZXQucG5nXCJcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZUxvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSByZXNvdXJjZS5kYXRhO1xuICAgICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgICAgaWYgKHJlc291cmNlLnR5cGUgPT09IExvYWRlclJlc291cmNlLlRZUEUuSlNPTlxuICAgICAgICAgICAgJiYgZGF0YVxuICAgICAgICAgICAgJiYgZGF0YS5jYWNoZUlEXG4gICAgICAgICAgICAmJiBkYXRhLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSBkYXRhLnRleHR1cmVzO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVUkwgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgZmFsbGJhY2tVUkwgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBTZWFyY2ggZm9yIGFuIGV4dGVuc2lvbiB0aGF0IGhvbGRzIG9uZSB0aGUgZm9ybWF0c1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0ZXh0dXJlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIHZhciB1cmxfMSA9IHRleHR1cmUuc3JjO1xuICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSB0ZXh0dXJlLmZvcm1hdDtcbiAgICAgICAgICAgICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja1VSTCA9IHVybF8xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIudGV4dHVyZUZvcm1hdHNbZm9ybWF0XSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlVVJMID0gdXJsXzE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHR1cmVVUkwgPSB0ZXh0dXJlVVJMIHx8IGZhbGxiYWNrVVJMO1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBVUkxcbiAgICAgICAgICAgIGlmICghdGV4dHVyZVVSTCkge1xuICAgICAgICAgICAgICAgIG5leHQobmV3IEVycm9yKFwiQ2Fubm90IGxvYWQgY29tcHJlc3NlZC10ZXh0dXJlcyBpbiBcIiArIHJlc291cmNlLnVybCArIFwiLCBtYWtlIHN1cmUgeW91IHByb3ZpZGUgYSBmYWxsYmFja1wiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHR1cmVVUkwgPT09IHJlc291cmNlLnVybCkge1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBuZXh0KG5ldyBFcnJvcignVVJMIG9mIGNvbXByZXNzZWQgdGV4dHVyZSBjYW5ub3QgYmUgdGhlIHNhbWUgYXMgdGhlIG1hbmlmZXN0XFwncyBVUkwnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxvYWRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VQYXRoID0gdXJsLnJlc29sdmUocmVzb3VyY2UudXJsLnJlcGxhY2UobG9hZGVyLmJhc2VVcmwsICcnKSwgdGV4dHVyZVVSTCk7XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VOYW1lID0gZGF0YS5jYWNoZUlEO1xuICAgICAgICAgICAgLy8gVGhlIGFwcHJvcHJpYXRlIGxvYWRlciBzaG91bGQgcmVnaXN0ZXIgdGhlIHRleHR1cmVcbiAgICAgICAgICAgIGxvYWRlci5hZGQocmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KHJlcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gcmVzLnRleHR1cmUsIHRleHR1cmUgPSBfYSA9PT0gdm9pZCAwID8gbnVsbCA6IF9hLCBfYiA9IHJlcy50ZXh0dXJlcywgdGV4dHVyZXMgPSBfYiA9PT0gdm9pZCAwID8ge30gOiBfYjtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGV4dHVyZS90ZXh0dXJlcyBpcyBhc3NpZ25lZCB0byBwYXJlbnQgcmVzb3VyY2VcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc291cmNlLCB7IHRleHR1cmU6IHRleHR1cmUsIHRleHR1cmVzOiB0ZXh0dXJlcyB9KTtcbiAgICAgICAgICAgICAgICAvLyBQYXNzIGFsb25nIGFueSBlcnJvclxuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIHRoZSBhdmFpbGFibGUgY29tcHJlc3NlZCB0ZXh0dXJlIGV4dGVuc2lvbnMgb24gdGhlIGRldmljZS5cbiAgICAgKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZUxvYWRlci5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEF1dG8tZGV0ZWN0IFdlYkdMIGNvbXByZXNzZWQtdGV4dHVyZSBleHRlbnNpb25zXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJyk7XG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYkdMIG5vdCBhdmFpbGFibGUgZm9yIGNvbXByZXNzZWQgdGV4dHVyZXMuIFNpbGVudGx5IGZhaWxpbmcuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSB7XG4gICAgICAgICAgICBzM3RjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyksXG4gICAgICAgICAgICBzM3RjX3NSR0I6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYicpLFxuICAgICAgICAgICAgZXRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMnKSxcbiAgICAgICAgICAgIGV0YzE6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEnKSxcbiAgICAgICAgICAgIHB2cnRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpXG4gICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyksXG4gICAgICAgICAgICBhdGM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0YycpLFxuICAgICAgICAgICAgYXN0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YycpXG4gICAgICAgIH07XG4gICAgICAgIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLnRleHR1cmVFeHRlbnNpb25zID0gZXh0ZW5zaW9ucztcbiAgICAgICAgQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIudGV4dHVyZUZvcm1hdHMgPSB7fTtcbiAgICAgICAgLy8gQXNzaWduIGFsbCBhdmFpbGFibGUgY29tcHJlc3NlZC10ZXh0dXJlIGZvcm1hdHNcbiAgICAgICAgZm9yICh2YXIgZXh0ZW5zaW9uTmFtZSBpbiBleHRlbnNpb25zKSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXTtcbiAgICAgICAgICAgIGlmICghZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLnRleHR1cmVGb3JtYXRzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZXh0ZW5zaW9uKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb21wcmVzc2VkVGV4dHVyZUxvYWRlcjtcbn0oKSk7XG5cbi8qKlxuICogQ3JlYXRlcyBiYXNlLXRleHR1cmVzIGFuZCB0ZXh0dXJlcyBmb3IgZWFjaCBjb21wcmVzc2VkLXRleHR1cmUgcmVzb3VyY2UgYW5kIGFkZHMgdGhlbSBpbnRvIHRoZSBnbG9iYWxcbiAqIHRleHR1cmUgY2FjaGUuIFRoZSBmaXJzdCB0ZXh0dXJlIGhhcyB0d28gSURzIC0gYCR7dXJsfWAsIGAke3VybH0tMWA7IHdoaWxlIHRoZSByZXN0IGhhdmUgYW4gSUQgb2YgdGhlXG4gKiBmb3JtIGAke3VybH0taWAuXG4gKlxuICogQHBhcmFtIHVybCAtIHRoZSBvcmlnaW5hbCBhZGRyZXNzIG9mIHRoZSByZXNvdXJjZXNcbiAqIEBwYXJhbSByZXNvdXJjZXMgLSB0aGUgcmVzb3VyY2VzIGJhY2tpbmcgdGV4dHVyZSBkYXRhXG4gKiBAaWdub3JlXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyQ29tcHJlc3NlZFRleHR1cmVzKHVybCwgcmVzb3VyY2VzLCBtZXRhZGF0YSkge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHRleHR1cmVzOiB7fSxcbiAgICAgICAgdGV4dHVyZTogbnVsbCxcbiAgICB9O1xuICAgIGlmICghcmVzb3VyY2VzKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHZhciB0ZXh0dXJlcyA9IHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiAobmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIGFscGhhTW9kZTogQUxQSEFfTU9ERVMuTk9fUFJFTVVMVElQTElFRF9BTFBIQVxuICAgICAgICB9LCBtZXRhZGF0YSkpKSk7XG4gICAgfSk7XG4gICAgdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbiAodGV4dHVyZSwgaSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgY2FjaGVJRCA9IHVybCArIFwiLVwiICsgKGkgKyAxKTtcbiAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FjaGVJRCk7XG4gICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlEKTtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIHVybCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgdXJsKTtcbiAgICAgICAgICAgIHJlc3VsdC50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQudGV4dHVyZXNbY2FjaGVJRF0gPSB0ZXh0dXJlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbnZhciBfYSQxLCBfYjtcbi8vIFNldCBERFMgZmlsZXMgdG8gYmUgbG9hZGVkIGFzIGFuIEFycmF5QnVmZmVyXG5Mb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdkZHMnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpO1xudmFyIEREU19NQUdJQ19TSVpFID0gNDtcbnZhciBERFNfSEVBREVSX1NJWkUgPSAxMjQ7XG52YXIgRERTX0hFQURFUl9QRl9TSVpFID0gMzI7XG52YXIgRERTX0hFQURFUl9EWDEwX1NJWkUgPSAyMDtcbi8vIEREUyBmaWxlIGZvcm1hdCBtYWdpYyB3b3JkXG52YXIgRERTX01BR0lDID0gMHgyMDUzNDQ0NDtcbi8qKlxuICogRFdPUkQgb2Zmc2V0cyBvZiB0aGUgRERTIGZpbGUgaGVhZGVyIGZpZWxkcyAocmVsYXRpdmUgdG8gZmlsZSBzdGFydCkuXG4gKlxuICogQGlnbm9yZVxuICovXG52YXIgRERTX0ZJRUxEUyA9IHtcbiAgICBTSVpFOiAxLFxuICAgIEZMQUdTOiAyLFxuICAgIEhFSUdIVDogMyxcbiAgICBXSURUSDogNCxcbiAgICBNSVBNQVBfQ09VTlQ6IDcsXG4gICAgUElYRUxfRk9STUFUOiAxOSxcbn07XG4vKipcbiAqIERXT1JEIG9mZnNldHMgb2YgdGhlIEREUyBQSVhFTF9GT1JNQVQgZmllbGRzLlxuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEREU19QRl9GSUVMRFMgPSB7XG4gICAgU0laRTogMCxcbiAgICBGTEFHUzogMSxcbiAgICBGT1VSQ0M6IDIsXG4gICAgUkdCX0JJVENPVU5UOiAzLFxuICAgIFJfQklUX01BU0s6IDQsXG4gICAgR19CSVRfTUFTSzogNSxcbiAgICBCX0JJVF9NQVNLOiA2LFxuICAgIEFfQklUX01BU0s6IDdcbn07XG4vKipcbiAqIERXT1JEIG9mZnNldHMgb2YgdGhlIEREU19IRUFERVJfRFgxMCBmaWVsZHMuXG4gKlxuICogQGlnbm9yZVxuICovXG52YXIgRERTX0RYMTBfRklFTERTID0ge1xuICAgIERYR0lfRk9STUFUOiAwLFxuICAgIFJFU09VUkNFX0RJTUVOU0lPTjogMSxcbiAgICBNSVNDX0ZMQUc6IDIsXG4gICAgQVJSQVlfU0laRTogMyxcbiAgICBNSVNDX0ZMQUdTMjogNFxufTtcbi8qKlxuICogQHNlZSBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy93aW5kb3dzL3dpbjMyL2FwaS9keGdpZm9ybWF0L25lLWR4Z2lmb3JtYXQtZHhnaV9mb3JtYXRcbiAqIEBpZ25vcmVcbiAqL1xuLy8gVGhpcyBpcyB3YXkgb3Zlci1ibG93biBmb3IgdXMhIExlbmQgdXMgYSBoYW5kLCBhbmQgcmVtb3ZlIHRoZSBvbmVzIHRoYXQgYXJlbid0IHVzZWQgKGJ1dCBzZXQgdGhlIHJlbWFpbmluZ1xuLy8gb25lcyB0byB0aGVpciBjb3JyZWN0IHZhbHVlKVxudmFyIERYR0lfRk9STUFUO1xuKGZ1bmN0aW9uIChEWEdJX0ZPUk1BVCkge1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfVU5LTk9XTlwiXSA9IDBdID0gXCJEWEdJX0ZPUk1BVF9VTktOT1dOXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfVFlQRUxFU1NcIl0gPSAxXSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfRkxPQVRcIl0gPSAyXSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX0ZMT0FUXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfVUlOVFwiXSA9IDNdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1NJTlRcIl0gPSA0XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMkIzMl9UWVBFTEVTU1wiXSA9IDVdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMkIzMl9GTE9BVFwiXSA9IDZdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMkIzMl9VSU5UXCJdID0gN10gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMl9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfU0lOVFwiXSA9IDhdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfU0lOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1RZUEVMRVNTXCJdID0gOV0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X0ZMT0FUXCJdID0gMTBdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9VTk9STVwiXSA9IDExXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfVUlOVFwiXSA9IDEyXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1VJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9TTk9STVwiXSA9IDEzXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfU0lOVFwiXSA9IDE0XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMl9UWVBFTEVTU1wiXSA9IDE1XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJfRkxPQVRcIl0gPSAxNl0gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyX1VJTlRcIl0gPSAxN10gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJfU0lOVFwiXSA9IDE4XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyX1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkc4WDI0X1RZUEVMRVNTXCJdID0gMTldID0gXCJEWEdJX0ZPUk1BVF9SMzJHOFgyNF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfRDMyX0ZMT0FUX1M4WDI0X1VJTlRcIl0gPSAyMF0gPSBcIkRYR0lfRk9STUFUX0QzMl9GTE9BVF9TOFgyNF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRfWDhYMjRfVFlQRUxFU1NcIl0gPSAyMV0gPSBcIkRYR0lfRk9STUFUX1IzMl9GTE9BVF9YOFgyNF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfWDMyX1RZUEVMRVNTX0c4WDI0X1VJTlRcIl0gPSAyMl0gPSBcIkRYR0lfRk9STUFUX1gzMl9UWVBFTEVTU19HOFgyNF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBBMl9UWVBFTEVTU1wiXSA9IDIzXSA9IFwiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1VOT1JNXCJdID0gMjRdID0gXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBBMl9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVUlOVFwiXSA9IDI1XSA9IFwiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjExRzExQjEwX0ZMT0FUXCJdID0gMjZdID0gXCJEWEdJX0ZPUk1BVF9SMTFHMTFCMTBfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1RZUEVMRVNTXCJdID0gMjddID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk1cIl0gPSAyOF0gPSBcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VTk9STV9TUkdCXCJdID0gMjldID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VTk9STV9TUkdCXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VSU5UXCJdID0gMzBdID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9TTk9STVwiXSA9IDMxXSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfU05PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1NJTlRcIl0gPSAzMl0gPSBcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNl9UWVBFTEVTU1wiXSA9IDMzXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfRkxPQVRcIl0gPSAzNF0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2X1VOT1JNXCJdID0gMzVdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNl9VSU5UXCJdID0gMzZdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2X1NOT1JNXCJdID0gMzddID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfU05PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNl9TSU5UXCJdID0gMzhdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfU0lOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyX1RZUEVMRVNTXCJdID0gMzldID0gXCJEWEdJX0ZPUk1BVF9SMzJfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0QzMl9GTE9BVFwiXSA9IDQwXSA9IFwiRFhHSV9GT1JNQVRfRDMyX0ZMT0FUXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRcIl0gPSA0MV0gPSBcIkRYR0lfRk9STUFUX1IzMl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyX1VJTlRcIl0gPSA0Ml0gPSBcIkRYR0lfRk9STUFUX1IzMl9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJfU0lOVFwiXSA9IDQzXSA9IFwiRFhHSV9GT1JNQVRfUjMyX1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IyNEc4X1RZUEVMRVNTXCJdID0gNDRdID0gXCJEWEdJX0ZPUk1BVF9SMjRHOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfRDI0X1VOT1JNX1M4X1VJTlRcIl0gPSA0NV0gPSBcIkRYR0lfRk9STUFUX0QyNF9VTk9STV9TOF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMjRfVU5PUk1fWDhfVFlQRUxFU1NcIl0gPSA0Nl0gPSBcIkRYR0lfRk9STUFUX1IyNF9VTk9STV9YOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfWDI0X1RZUEVMRVNTX0c4X1VJTlRcIl0gPSA0N10gPSBcIkRYR0lfRk9STUFUX1gyNF9UWVBFTEVTU19HOF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4X1RZUEVMRVNTXCJdID0gNDhdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4X1VOT1JNXCJdID0gNDldID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4X1VJTlRcIl0gPSA1MF0gPSBcIkRYR0lfRk9STUFUX1I4RzhfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9TTk9STVwiXSA9IDUxXSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9TTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9TSU5UXCJdID0gNTJdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNl9UWVBFTEVTU1wiXSA9IDUzXSA9IFwiRFhHSV9GT1JNQVRfUjE2X1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfRkxPQVRcIl0gPSA1NF0gPSBcIkRYR0lfRk9STUFUX1IxNl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfRDE2X1VOT1JNXCJdID0gNTVdID0gXCJEWEdJX0ZPUk1BVF9EMTZfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNl9VTk9STVwiXSA9IDU2XSA9IFwiRFhHSV9GT1JNQVRfUjE2X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfVUlOVFwiXSA9IDU3XSA9IFwiRFhHSV9GT1JNQVRfUjE2X1VJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNl9TTk9STVwiXSA9IDU4XSA9IFwiRFhHSV9GT1JNQVRfUjE2X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfU0lOVFwiXSA9IDU5XSA9IFwiRFhHSV9GT1JNQVRfUjE2X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4X1RZUEVMRVNTXCJdID0gNjBdID0gXCJEWEdJX0ZPUk1BVF9SOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhfVU5PUk1cIl0gPSA2MV0gPSBcIkRYR0lfRk9STUFUX1I4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOF9VSU5UXCJdID0gNjJdID0gXCJEWEdJX0ZPUk1BVF9SOF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOF9TTk9STVwiXSA9IDYzXSA9IFwiRFhHSV9GT1JNQVRfUjhfU05PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4X1NJTlRcIl0gPSA2NF0gPSBcIkRYR0lfRk9STUFUX1I4X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0E4X1VOT1JNXCJdID0gNjVdID0gXCJEWEdJX0ZPUk1BVF9BOF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjFfVU5PUk1cIl0gPSA2Nl0gPSBcIkRYR0lfRk9STUFUX1IxX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOUc5QjlFNV9TSEFSRURFWFBcIl0gPSA2N10gPSBcIkRYR0lfRk9STUFUX1I5RzlCOUU1X1NIQVJFREVYUFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9COEc4X1VOT1JNXCJdID0gNjhdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X0I4RzhfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0c4UjhfRzhCOF9VTk9STVwiXSA9IDY5XSA9IFwiRFhHSV9GT1JNQVRfRzhSOF9HOEI4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzFfVFlQRUxFU1NcIl0gPSA3MF0gPSBcIkRYR0lfRk9STUFUX0JDMV9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMxX1VOT1JNXCJdID0gNzFdID0gXCJEWEdJX0ZPUk1BVF9CQzFfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDMV9VTk9STV9TUkdCXCJdID0gNzJdID0gXCJEWEdJX0ZPUk1BVF9CQzFfVU5PUk1fU1JHQlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTXCJdID0gNzNdID0gXCJEWEdJX0ZPUk1BVF9CQzJfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDMl9VTk9STVwiXSA9IDc0XSA9IFwiRFhHSV9GT1JNQVRfQkMyX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzJfVU5PUk1fU1JHQlwiXSA9IDc1XSA9IFwiRFhHSV9GT1JNQVRfQkMyX1VOT1JNX1NSR0JcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDM19UWVBFTEVTU1wiXSA9IDc2XSA9IFwiRFhHSV9GT1JNQVRfQkMzX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1cIl0gPSA3N10gPSBcIkRYR0lfRk9STUFUX0JDM19VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMzX1VOT1JNX1NSR0JcIl0gPSA3OF0gPSBcIkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzRfVFlQRUxFU1NcIl0gPSA3OV0gPSBcIkRYR0lfRk9STUFUX0JDNF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM0X1VOT1JNXCJdID0gODBdID0gXCJEWEdJX0ZPUk1BVF9CQzRfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNF9TTk9STVwiXSA9IDgxXSA9IFwiRFhHSV9GT1JNQVRfQkM0X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzVfVFlQRUxFU1NcIl0gPSA4Ml0gPSBcIkRYR0lfRk9STUFUX0JDNV9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM1X1VOT1JNXCJdID0gODNdID0gXCJEWEdJX0ZPUk1BVF9CQzVfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNV9TTk9STVwiXSA9IDg0XSA9IFwiRFhHSV9GT1JNQVRfQkM1X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CNUc2UjVfVU5PUk1cIl0gPSA4NV0gPSBcIkRYR0lfRk9STUFUX0I1RzZSNV9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQjVHNVI1QTFfVU5PUk1cIl0gPSA4Nl0gPSBcIkRYR0lfRk9STUFUX0I1RzVSNUExX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9VTk9STVwiXSA9IDg3XSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4QThfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1VOT1JNXCJdID0gODhdID0gXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjEwRzEwQjEwX1hSX0JJQVNfQTJfVU5PUk1cIl0gPSA4OV0gPSBcIkRYR0lfRk9STUFUX1IxMEcxMEIxMF9YUl9CSUFTX0EyX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9UWVBFTEVTU1wiXSA9IDkwXSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4QThfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1VOT1JNX1NSR0JcIl0gPSA5MV0gPSBcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1VOT1JNX1NSR0JcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1RZUEVMRVNTXCJdID0gOTJdID0gXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVU5PUk1fU1JHQlwiXSA9IDkzXSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVU5PUk1fU1JHQlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM2SF9UWVBFTEVTU1wiXSA9IDk0XSA9IFwiRFhHSV9GT1JNQVRfQkM2SF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM2SF9VRjE2XCJdID0gOTVdID0gXCJEWEdJX0ZPUk1BVF9CQzZIX1VGMTZcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNkhfU0YxNlwiXSA9IDk2XSA9IFwiRFhHSV9GT1JNQVRfQkM2SF9TRjE2XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzdfVFlQRUxFU1NcIl0gPSA5N10gPSBcIkRYR0lfRk9STUFUX0JDN19UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM3X1VOT1JNXCJdID0gOThdID0gXCJEWEdJX0ZPUk1BVF9CQzdfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDN19VTk9STV9TUkdCXCJdID0gOTldID0gXCJEWEdJX0ZPUk1BVF9CQzdfVU5PUk1fU1JHQlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQVlVVlwiXSA9IDEwMF0gPSBcIkRYR0lfRk9STUFUX0FZVVZcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1k0MTBcIl0gPSAxMDFdID0gXCJEWEdJX0ZPUk1BVF9ZNDEwXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9ZNDE2XCJdID0gMTAyXSA9IFwiRFhHSV9GT1JNQVRfWTQxNlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfTlYxMlwiXSA9IDEwM10gPSBcIkRYR0lfRk9STUFUX05WMTJcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1AwMTBcIl0gPSAxMDRdID0gXCJEWEdJX0ZPUk1BVF9QMDEwXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9QMDE2XCJdID0gMTA1XSA9IFwiRFhHSV9GT1JNQVRfUDAxNlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfNDIwX09QQVFVRVwiXSA9IDEwNl0gPSBcIkRYR0lfRk9STUFUXzQyMF9PUEFRVUVcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1lVWTJcIl0gPSAxMDddID0gXCJEWEdJX0ZPUk1BVF9ZVVkyXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9ZMjEwXCJdID0gMTA4XSA9IFwiRFhHSV9GT1JNQVRfWTIxMFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfWTIxNlwiXSA9IDEwOV0gPSBcIkRYR0lfRk9STUFUX1kyMTZcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX05WMTFcIl0gPSAxMTBdID0gXCJEWEdJX0ZPUk1BVF9OVjExXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9BSTQ0XCJdID0gMTExXSA9IFwiRFhHSV9GT1JNQVRfQUk0NFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfSUE0NFwiXSA9IDExMl0gPSBcIkRYR0lfRk9STUFUX0lBNDRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1A4XCJdID0gMTEzXSA9IFwiRFhHSV9GT1JNQVRfUDhcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0E4UDhcIl0gPSAxMTRdID0gXCJEWEdJX0ZPUk1BVF9BOFA4XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CNEc0UjRBNF9VTk9STVwiXSA9IDExNV0gPSBcIkRYR0lfRk9STUFUX0I0RzRSNEE0X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9QMjA4XCJdID0gMTE2XSA9IFwiRFhHSV9GT1JNQVRfUDIwOFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfVjIwOFwiXSA9IDExN10gPSBcIkRYR0lfRk9STUFUX1YyMDhcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1Y0MDhcIl0gPSAxMThdID0gXCJEWEdJX0ZPUk1BVF9WNDA4XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9TQU1QTEVSX0ZFRURCQUNLX01JTl9NSVBfT1BBUVVFXCJdID0gMTE5XSA9IFwiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSU5fTUlQX09QQVFVRVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSVBfUkVHSU9OX1VTRURfT1BBUVVFXCJdID0gMTIwXSA9IFwiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSVBfUkVHSU9OX1VTRURfT1BBUVVFXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9GT1JDRV9VSU5UXCJdID0gMTIxXSA9IFwiRFhHSV9GT1JNQVRfRk9SQ0VfVUlOVFwiO1xufSkoRFhHSV9GT1JNQVQgfHwgKERYR0lfRk9STUFUID0ge30pKTtcbi8qKlxuICogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBmaWVsZCB7QGxpbmsgRERTX0RYMTBfRklFTERTLlJFU09VUkNFX0RJTUVOU0lPTn1cbiAqXG4gKiBAaWdub3JlXG4gKi9cbnZhciBEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT047XG4oZnVuY3Rpb24gKEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTikge1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUxRFwiXSA9IDJdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUxRFwiO1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUyRFwiXSA9IDNdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUyRFwiO1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRFwiXSA9IDZdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRFwiO1xufSkoRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OIHx8IChEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04gPSB7fSkpO1xudmFyIFBGX0ZMQUdTID0gMTtcbi8vIFBJWEVMX0ZPUk1BVCBmbGFnc1xudmFyIEREUEZfQUxQSEEgPSAweDI7XG52YXIgRERQRl9GT1VSQ0MgPSAweDQ7XG52YXIgRERQRl9SR0IgPSAweDQwO1xudmFyIEREUEZfWVVWID0gMHgyMDA7XG52YXIgRERQRl9MVU1JTkFOQ0UgPSAweDIwMDAwO1xuLy8gRm91ciBjaGFyYWN0ZXIgY29kZXMgZm9yIERYVG4gZm9ybWF0c1xudmFyIEZPVVJDQ19EWFQxID0gMHgzMTU0NTg0NDtcbnZhciBGT1VSQ0NfRFhUMyA9IDB4MzM1NDU4NDQ7XG52YXIgRk9VUkNDX0RYVDUgPSAweDM1NTQ1ODQ0O1xudmFyIEZPVVJDQ19EWDEwID0gMHgzMDMxNTg0NDtcbi8vIEN1YmVtYXAgdGV4dHVyZSBmbGFnIChmb3IgRERTX0RYMTBfRklFTERTLk1JU0NfRkxBRylcbnZhciBERFNfUkVTT1VSQ0VfTUlTQ19URVhUVVJFQ1VCRSA9IDB4NDtcbi8qKlxuICogTWFwcyBgRk9VUkNDXypgIGZvcm1hdHMgdG8gaW50ZXJuYWwgZm9ybWF0cyAoc2VlIHtAbGluayBQSVhJLklOVEVSTkFMX0ZPUk1BVFN9KS5cbiAqXG4gKiBAaWdub3JlXG4gKi9cbnZhciBGT1VSQ0NfVE9fRk9STUFUID0gKF9hJDEgPSB7fSxcbiAgICBfYSQxW0ZPVVJDQ19EWFQxXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQsXG4gICAgX2EkMVtGT1VSQ0NfRFhUM10gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhULFxuICAgIF9hJDFbRk9VUkNDX0RYVDVdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgICBfYSQxKTtcbi8qKlxuICogTWFwcyB7QGxpbmsgRFhHSV9GT1JNQVR9IHRvIHR5cGVzL2ludGVybmFsLWZvcm1hdHMgKHNlZSB7QGxpbmsgUElYSS5UWVBFU30sIHtAbGluayBQSVhJLklOVEVSTkFMX0ZPUk1BVFN9KVxuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIERYR0lfVE9fRk9STUFUID0gKF9iID0ge30sXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzFfVFlQRUxFU1NdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzFfVU5PUk1dID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzJfVFlQRUxFU1NdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzJfVU5PUk1dID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzNfVFlQRUxFU1NdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzNfVU5PUk1dID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiXG4gICAgX2JbRFhHSV9GT1JNQVQuRFhHSV9GT1JNQVRfQkMxX1VOT1JNX1NSR0JdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzJfVU5PUk1fU1JHQl0gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhULFxuICAgIF9iW0RYR0lfRk9STUFULkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQsXG4gICAgX2IpO1xuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvd2luZG93cy93aW4zMi9kaXJlY3QzZGRkcy9keC1ncmFwaGljcy1kZHMtcGd1aWRlXG4gKi9cbnZhciBERFNMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRERTTG9hZGVyKCkge1xuICAgIH1cbiAgICBERFNMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIGlmIChyZXNvdXJjZS5leHRlbnNpb24gPT09ICdkZHMnICYmIHJlc291cmNlLmRhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXNvdXJjZSwgcmVnaXN0ZXJDb21wcmVzc2VkVGV4dHVyZXMocmVzb3VyY2UubmFtZSB8fCByZXNvdXJjZS51cmwsIEREU0xvYWRlci5wYXJzZShyZXNvdXJjZS5kYXRhKSwgcmVzb3VyY2UubWV0YWRhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBuZXh0KGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgRERTIGZpbGUgaGVhZGVyLCBnZW5lcmF0ZXMgYmFzZS10ZXh0dXJlcywgYW5kIHB1dHMgdGhlbSBpbnRvIHRoZSB0ZXh0dXJlXG4gICAgICogY2FjaGUuXG4gICAgICovXG4gICAgRERTTG9hZGVyLnBhcnNlID0gZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgdmFyIG1hZ2ljV29yZCA9IGRhdGFbMF07XG4gICAgICAgIGlmIChtYWdpY1dvcmQgIT09IEREU19NQUdJQykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEREUyBmaWxlIG1hZ2ljIHdvcmQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGVhZGVyID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCAwLCBERFNfSEVBREVSX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgICAgIC8vIEREUyBoZWFkZXIgZmllbGRzXG4gICAgICAgIHZhciBoZWlnaHQgPSBoZWFkZXJbRERTX0ZJRUxEUy5IRUlHSFRdO1xuICAgICAgICB2YXIgd2lkdGggPSBoZWFkZXJbRERTX0ZJRUxEUy5XSURUSF07XG4gICAgICAgIHZhciBtaXBtYXBDb3VudCA9IGhlYWRlcltERFNfRklFTERTLk1JUE1BUF9DT1VOVF07XG4gICAgICAgIC8vIFBJWEVMX0ZPUk1BVCBmaWVsZHNcbiAgICAgICAgdmFyIHBpeGVsRm9ybWF0ID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCBERFNfRklFTERTLlBJWEVMX0ZPUk1BVCAqIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULCBERFNfSEVBREVSX1BGX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgICAgIHZhciBmb3JtYXRGbGFncyA9IHBpeGVsRm9ybWF0W1BGX0ZMQUdTXTtcbiAgICAgICAgLy8gRmlsZSBjb250YWlucyBjb21wcmVzc2VkIHRleHR1cmUocylcbiAgICAgICAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9GT1VSQ0MpIHtcbiAgICAgICAgICAgIHZhciBmb3VyQ0MgPSBwaXhlbEZvcm1hdFtERFNfUEZfRklFTERTLkZPVVJDQ107XG4gICAgICAgICAgICAvLyBGaWxlIGNvbnRhaW5zIG9uZSBEWFRuIGNvbXByZXNzZWQgdGV4dHVyZVxuICAgICAgICAgICAgaWYgKGZvdXJDQyAhPT0gRk9VUkNDX0RYMTApIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJuYWxGb3JtYXRfMSA9IEZPVVJDQ19UT19GT1JNQVRbZm91ckNDXTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YU9mZnNldF8xID0gRERTX01BR0lDX1NJWkUgKyBERFNfSEVBREVSX1NJWkU7XG4gICAgICAgICAgICAgICAgdmFyIHRleERhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldF8xKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSh0ZXhEYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogaW50ZXJuYWxGb3JtYXRfMSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxzOiBtaXBtYXBDb3VudCAvLyBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlIHdpbGwgc2VwYXJhdGUgdGhlIGxldmVsQnVmZmVycyBmb3IgdXMhXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZXNvdXJjZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGT1VSQ0NfRFgxMCBpbmRpY2F0ZXMgdGhlcmUgaXMgYSAyMC1ieXRlIEREU19IRUFERVJfRFgxMCBhZnRlciBERFNfSEVBREVSXG4gICAgICAgICAgICB2YXIgZHgxME9mZnNldCA9IEREU19NQUdJQ19TSVpFICsgRERTX0hFQURFUl9TSVpFO1xuICAgICAgICAgICAgdmFyIGR4MTBIZWFkZXIgPSBuZXcgVWludDMyQXJyYXkoZGF0YS5idWZmZXIsIGR4MTBPZmZzZXQsIEREU19IRUFERVJfRFgxMF9TSVpFIC8gVWludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xuICAgICAgICAgICAgdmFyIGR4Z2lGb3JtYXQgPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5EWEdJX0ZPUk1BVF07XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VEaW1lbnNpb24gPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5SRVNPVVJDRV9ESU1FTlNJT05dO1xuICAgICAgICAgICAgdmFyIG1pc2NGbGFnID0gZHgxMEhlYWRlcltERFNfRFgxMF9GSUVMRFMuTUlTQ19GTEFHXTtcbiAgICAgICAgICAgIHZhciBhcnJheVNpemUgPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5BUlJBWV9TSVpFXTtcbiAgICAgICAgICAgIC8vIE1hcCBkeGdpRm9ybWF0IHRvIFBJWEkuSU5URVJOQUxfRk9STUFUU1xuICAgICAgICAgICAgdmFyIGludGVybmFsRm9ybWF0XzIgPSBEWEdJX1RPX0ZPUk1BVFtkeGdpRm9ybWF0XTtcbiAgICAgICAgICAgIGlmIChpbnRlcm5hbEZvcm1hdF8yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJERFNMb2FkZXIgY2Fubm90IHBhcnNlIHRleHR1cmUgZGF0YSB3aXRoIERYR0kgZm9ybWF0IFwiICsgZHhnaUZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWlzY0ZsYWcgPT09IEREU19SRVNPVVJDRV9NSVNDX1RFWFRVUkVDVUJFKSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IEFueWJvZHkgZXhjaXRlZCBhYm91dCBjdWJlbWFwIGNvbXByZXNzZWQgdGV4dHVyZXM/XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdERFNMb2FkZXIgZG9lcyBub3Qgc3VwcG9ydCBjdWJlbWFwIHRleHR1cmVzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VEaW1lbnNpb24gPT09IEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTi5ERFNfRElNRU5TSU9OX1RFWFRVUkUzRCkge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBBbnlib2R5IGV4Y2l0ZWQgYWJvdXQgM0QgY29tcHJlc3NlZCB0ZXh0dXJlcz9cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU0xvYWRlciBkb2VzIG5vdCBzdXBwb3J0ZWQgM0QgdGV4dHVyZSBkYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVaW50OEFycmF5IGJ1ZmZlcnMgb2YgaW1hZ2UgZGF0YSwgaW5jbHVkaW5nIGFsbCBtaXBtYXAgbGV2ZWxzIGluIGVhY2ggaW1hZ2VcbiAgICAgICAgICAgIHZhciBpbWFnZUJ1ZmZlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciBkYXRhT2Zmc2V0ID0gRERTX01BR0lDX1NJWkVcbiAgICAgICAgICAgICAgICArIEREU19IRUFERVJfU0laRVxuICAgICAgICAgICAgICAgICsgRERTX0hFQURFUl9EWDEwX1NJWkU7XG4gICAgICAgICAgICBpZiAoYXJyYXlTaXplID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCBib3RoZXJpbmcgd2l0aCB0aGUgaW1hZ2VTaXplIGNhbGN1bGF0aW9uIVxuICAgICAgICAgICAgICAgIGltYWdlQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgaW1hZ2VTaXplIGZvciBlYWNoIHRleHR1cmUsIGFuZCB0aGVuIGxvY2F0ZSBlYWNoIGltYWdlJ3MgdGV4dHVyZSBkYXRhXG4gICAgICAgICAgICAgICAgdmFyIHBpeGVsU2l6ZSA9IElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbaW50ZXJuYWxGb3JtYXRfMl07XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsV2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWxIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXBtYXBDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGlnbmVkTGV2ZWxXaWR0aCA9IE1hdGgubWF4KDEsIChsZXZlbFdpZHRoICsgMykgJiB+Myk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGlnbmVkTGV2ZWxIZWlnaHQgPSBNYXRoLm1heCgxLCAobGV2ZWxIZWlnaHQgKyAzKSAmIH4zKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxldmVsU2l6ZSA9IGFsaWduZWRMZXZlbFdpZHRoICogYWxpZ25lZExldmVsSGVpZ2h0ICogcGl4ZWxTaXplO1xuICAgICAgICAgICAgICAgICAgICBpbWFnZVNpemUgKz0gbGV2ZWxTaXplO1xuICAgICAgICAgICAgICAgICAgICBsZXZlbFdpZHRoID0gbGV2ZWxXaWR0aCA+Pj4gMTtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxIZWlnaHQgPSBsZXZlbEhlaWdodCA+Pj4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlT2Zmc2V0ID0gZGF0YU9mZnNldDtcbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBDdWJlbWFwcyBoYXZlIDYtaW1hZ2VzIHBlciB0ZXh0dXJlIChidXQgdGhleSBhcmVuJ3Qgc3VwcG9ydGVkIHNvIF5fXilcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBpbWFnZU9mZnNldCwgaW1hZ2VTaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlT2Zmc2V0ICs9IGltYWdlU2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVaW50OEFycmF5IC0+IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UsIGFuZCB3ZSdyZSBkb25lIVxuICAgICAgICAgICAgcmV0dXJuIGltYWdlQnVmZmVycy5tYXAoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gbmV3IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UoYnVmZmVyLCB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBpbnRlcm5hbEZvcm1hdF8yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICBsZXZlbHM6IG1pcG1hcENvdW50XG4gICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9SR0IpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBXZSBtaWdodCB3YW50IHRvIGFsbG93IHVuY29tcHJlc3NlZCAqLmRkcyBmaWxlcz9cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRERTTG9hZGVyIGRvZXMgbm90IHN1cHBvcnQgdW5jb21wcmVzc2VkIHRleHR1cmUgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX1lVVikge1xuICAgICAgICAgICAgLy8gRklYTUU6IERvZXMgYW55Ym9keSBuZWVkIHRoaXMgZmVhdHVyZT9cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRERTTG9hZGVyIGRvZXMgbm90IHN1cHBvcnRlZCBZVVYgdW5jb21wcmVzc2VkIHRleHR1cmUgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX0xVTUlOQU5DRSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IE1pY3Jvc29mdCBzYXlzIG9sZGVyIEREUyBmaWxlcnMgdXNlIHRoaXMgZmVhdHVyZSEgUHJvYmFibHkgbm90IHdvcnRoIHRoZSBlZmZvcnQhXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU0xvYWRlciBkb2VzIG5vdCBzdXBwb3J0IHNpbmdsZS1jaGFubmVsIChsdW1uaW5hbmNlKSB0ZXh0dXJlIGRhdGEhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9BTFBIQSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IEknbSB0aXJlZCEgU2VlIGFib3ZlID0pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU0xvYWRlciBkb2VzIG5vdCBzdXBwb3J0IHNpbmdsZS1jaGFubmVsIChhbHBoYSkgdGV4dHVyZSBkYXRhIScpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRERTTG9hZGVyIGZhaWxlZCB0byBsb2FkIGEgdGV4dHVyZSBmaWxlIGR1ZSB0byBhbiB1bmtub3duIHJlYXNvbiEnKTtcbiAgICB9O1xuICAgIHJldHVybiBERFNMb2FkZXI7XG59KCkpO1xuXG52YXIgX2EkMiwgX2IkMSwgX2M7XG4vLyBTZXQgS1RYIGZpbGVzIHRvIGJlIGxvYWRlZCBhcyBhbiBBcnJheUJ1ZmZlclxuTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgna3R4JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKTtcbi8qKlxuICogVGhlIDEyLWJ5dGUgS1RYIGZpbGUgaWRlbnRpZmllclxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvb3BlbmdsZXMvc2RrL3Rvb2xzL0tUWC9maWxlX2Zvcm1hdF9zcGVjLyMyLjFcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEZJTEVfSURFTlRJRklFUiA9IFsweEFCLCAweDRCLCAweDU0LCAweDU4LCAweDIwLCAweDMxLCAweDMxLCAweEJCLCAweDBELCAweDBBLCAweDFBLCAweDBBXTtcbi8qKlxuICogVGhlIHZhbHVlIHN0b3JlZCBpbiB0aGUgXCJlbmRpYW5uZXNzXCIgZmllbGQuXG4gKlxuICogQHNlZSBodHRwczovL3d3dy5raHJvbm9zLm9yZy9vcGVuZ2xlcy9zZGsvdG9vbHMvS1RYL2ZpbGVfZm9ybWF0X3NwZWMvIzIuMlxuICogQGlnbm9yZVxuICovXG52YXIgRU5ESUFOTkVTUyA9IDB4MDQwMzAyMDE7XG4vKipcbiAqIEJ5dGUgb2Zmc2V0cyBvZiB0aGUgS1RYIGZpbGUgaGVhZGVyIGZpZWxkc1xuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEtUWF9GSUVMRFMgPSB7XG4gICAgRklMRV9JREVOVElGSUVSOiAwLFxuICAgIEVORElBTk5FU1M6IDEyLFxuICAgIEdMX1RZUEU6IDE2LFxuICAgIEdMX1RZUEVfU0laRTogMjAsXG4gICAgR0xfRk9STUFUOiAyNCxcbiAgICBHTF9JTlRFUk5BTF9GT1JNQVQ6IDI4LFxuICAgIEdMX0JBU0VfSU5URVJOQUxfRk9STUFUOiAzMixcbiAgICBQSVhFTF9XSURUSDogMzYsXG4gICAgUElYRUxfSEVJR0hUOiA0MCxcbiAgICBQSVhFTF9ERVBUSDogNDQsXG4gICAgTlVNQkVSX09GX0FSUkFZX0VMRU1FTlRTOiA0OCxcbiAgICBOVU1CRVJfT0ZfRkFDRVM6IDUyLFxuICAgIE5VTUJFUl9PRl9NSVBNQVBfTEVWRUxTOiA1NixcbiAgICBCWVRFU19PRl9LRVlfVkFMVUVfREFUQTogNjBcbn07XG4vKipcbiAqIEJ5dGUgc2l6ZSBvZiB0aGUgZmlsZSBoZWFkZXIgZmllbGRzIGluIHtAY29kZSBLVFhfRklFTERTfVxuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEZJTEVfSEVBREVSX1NJWkUgPSA2NDtcbi8qKlxuICogTWFwcyB7QGxpbmsgUElYSS5UWVBFU30gdG8gdGhlIGJ5dGVzIHRha2VuIHBlciBjb21wb25lbnQsIGV4Y2x1ZGluZyB0aG9zZSBvbmVzIHRoYXQgYXJlIGJpdC1maWVsZHMuXG4gKlxuICogQGlnbm9yZVxuICovXG52YXIgVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCA9IChfYSQyID0ge30sXG4gICAgX2EkMltUWVBFUy5VTlNJR05FRF9CWVRFXSA9IDEsXG4gICAgX2EkMltUWVBFUy5VTlNJR05FRF9TSE9SVF0gPSAyLFxuICAgIF9hJDJbVFlQRVMuRkxPQVRdID0gNCxcbiAgICBfYSQyW1RZUEVTLkhBTEZfRkxPQVRdID0gOCxcbiAgICBfYSQyKTtcbi8qKlxuICogTnVtYmVyIG9mIGNvbXBvbmVudHMgaW4gZWFjaCB7QGxpbmsgUElYSS5GT1JNQVRTfVxuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEZPUk1BVFNfVE9fQ09NUE9ORU5UUyA9IChfYiQxID0ge30sXG4gICAgX2IkMVtGT1JNQVRTLlJHQkFdID0gNCxcbiAgICBfYiQxW0ZPUk1BVFMuUkdCXSA9IDMsXG4gICAgX2IkMVtGT1JNQVRTLkxVTUlOQU5DRV0gPSAxLFxuICAgIF9iJDFbRk9STUFUUy5MVU1JTkFOQ0VfQUxQSEFdID0gMixcbiAgICBfYiQxW0ZPUk1BVFMuQUxQSEFdID0gMSxcbiAgICBfYiQxKTtcbi8qKlxuICogTnVtYmVyIG9mIGJ5dGVzIHBlciBwaXhlbCBpbiBiaXQtZmllbGQgdHlwZXMgaW4ge0BsaW5rIFBJWEkuVFlQRVN9XG4gKlxuICogQGlnbm9yZVxuICovXG52YXIgVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMID0gKF9jID0ge30sXG4gICAgX2NbVFlQRVMuVU5TSUdORURfU0hPUlRfNF80XzRfNF0gPSAyLFxuICAgIF9jW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNV81XzFdID0gMixcbiAgICBfY1tUWVBFUy5VTlNJR05FRF9TSE9SVF81XzZfNV0gPSAyLFxuICAgIF9jKTtcbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgS1RYIHRleHR1cmUgY29udGFpbmVyIGZpbGVzLlxuICpcbiAqIFRoaXMgS1RYIGxvYWRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuICogKiBjdWJlIHRleHR1cmVzXG4gKiAqIDNEIHRleHR1cmVzXG4gKiAqIHZlbmRvci1zcGVjaWZpYyBrZXkvdmFsdWUgZGF0YSBwYXJzaW5nXG4gKiAqIGVuZGlhbm5lc3MgY29udmVyc2lvbiBmb3IgYmlnLWVuZGlhbiBtYWNoaW5lc1xuICogKiBlbWJlZGRlZCAqLmJhc2lzIGZpbGVzXG4gKlxuICogSXQgZG9lcyBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuICogKiBtdWx0aXBsZSB0ZXh0dXJlcyBwZXIgZmlsZVxuICogKiBtaXBtYXBwaW5nXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBLVFhMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gS1RYTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSBLVFggZmlsZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgcGFyc2UgdGhlIEtUWCBmaWxlIGhlYWRlciBhbmQgYWRkIGEge0Bjb2RlIEJhc2VUZXh0dXJlfSB0byB0aGUgdGV4dHVyZVxuICAgICAqIGNhY2hlLlxuICAgICAqXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBLVFhMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIGlmIChyZXNvdXJjZS5leHRlbnNpb24gPT09ICdrdHgnICYmIHJlc291cmNlLmRhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc291cmNlLm5hbWUgfHwgcmVzb3VyY2UudXJsO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzb3VyY2UsIHJlZ2lzdGVyQ29tcHJlc3NlZFRleHR1cmVzKHVybCwgS1RYTG9hZGVyLnBhcnNlKHVybCwgcmVzb3VyY2UuZGF0YSksIHJlc291cmNlLm1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgbmV4dChlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIEtUWCBmaWxlIGhlYWRlciwgZ2VuZXJhdGVzIGJhc2UtdGV4dHVyZXMsIGFuZCBwdXRzIHRoZW0gaW50byB0aGUgdGV4dHVyZVxuICAgICAqIGNhY2hlLlxuICAgICAqL1xuICAgIEtUWExvYWRlci5wYXJzZSA9IGZ1bmN0aW9uICh1cmwsIGFycmF5QnVmZmVyKSB7XG4gICAgICAgIHZhciBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgICAgIGlmICghS1RYTG9hZGVyLnZhbGlkYXRlKHVybCwgZGF0YVZpZXcpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGl0dGxlRW5kaWFuID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuRU5ESUFOTkVTUywgdHJ1ZSkgPT09IEVORElBTk5FU1M7XG4gICAgICAgIHZhciBnbFR5cGUgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9UWVBFLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICAvLyBjb25zdCBnbFR5cGVTaXplID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuR0xfVFlQRV9TSVpFLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB2YXIgZ2xGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9GT1JNQVQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBnbEludGVybmFsRm9ybWF0ID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuR0xfSU5URVJOQUxfRk9STUFULCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB2YXIgcGl4ZWxXaWR0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLlBJWEVMX1dJRFRILCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB2YXIgcGl4ZWxIZWlnaHQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5QSVhFTF9IRUlHSFQsIGxpdHRsZUVuZGlhbikgfHwgMTsgLy8gXCJwaXhlbEhlaWdodCA9IDBcIiAtPiBcIjFcIlxuICAgICAgICB2YXIgcGl4ZWxEZXB0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLlBJWEVMX0RFUFRILCBsaXR0bGVFbmRpYW4pIHx8IDE7IC8vIF5eXG4gICAgICAgIHZhciBudW1iZXJPZkFycmF5RWxlbWVudHMgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5OVU1CRVJfT0ZfQVJSQVlfRUxFTUVOVFMsIGxpdHRsZUVuZGlhbikgfHwgMTsgLy8gXl5cbiAgICAgICAgdmFyIG51bWJlck9mRmFjZXMgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5OVU1CRVJfT0ZfRkFDRVMsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBudW1iZXJPZk1pcG1hcExldmVscyA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLk5VTUJFUl9PRl9NSVBNQVBfTEVWRUxTLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB2YXIgYnl0ZXNPZktleVZhbHVlRGF0YSA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLkJZVEVTX09GX0tFWV9WQUxVRV9EQVRBLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICAvLyBXaGV0aGVyIHRoZSBwbGF0Zm9ybSBhcmNoaXRlY3R1cmUgaXMgbGl0dGxlIGVuZGlhbi4gSWYgbGl0dGxlRW5kaWFuICE9PSBwbGF0Zm9ybUxpdHRsZUVuZGlhbiwgdGhlbiB0aGVcbiAgICAgICAgLy8gZmlsZSBjb250ZW50cyBtdXN0IGJlIGVuZGlhbi1jb252ZXJ0ZWQhXG4gICAgICAgIC8vIFRPRE86IEVuZGlhbm5lc3MgY29udmVyc2lvblxuICAgICAgICAvLyBjb25zdCBwbGF0Zm9ybUxpdHRsZUVuZGlhbiA9IG5ldyBVaW50OEFycmF5KChuZXcgVWludDMyQXJyYXkoW0VORElBTk5FU1NdKSkuYnVmZmVyKVswXSA9PT0gMHgwMTtcbiAgICAgICAgaWYgKHBpeGVsSGVpZ2h0ID09PSAwIHx8IHBpeGVsRGVwdGggIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSAyRCB0ZXh0dXJlcyBhcmUgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG51bWJlck9mRmFjZXMgIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3ViZVRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IEtUWExvYWRlciB5ZXQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG51bWJlck9mQXJyYXlFbGVtZW50cyAhPT0gMSkge1xuICAgICAgICAgICAgLy8gVE9ETzogU3VwcG9ydCBzcGxpdHRpbmcgYXJyYXktdGV4dHVyZXMgaW50byBtdWx0aXBsZSBCYXNlVGV4dHVyZXNcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgZG9lcyBub3Qgc3VwcG9ydCBhcnJheSB0ZXh0dXJlcycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IDh4NCBibG9ja3MgZm9yIDJicHAgcHZydGNcbiAgICAgICAgdmFyIGJsb2NrV2lkdGggPSA0O1xuICAgICAgICB2YXIgYmxvY2tIZWlnaHQgPSA0O1xuICAgICAgICB2YXIgYWxpZ25lZFdpZHRoID0gKHBpeGVsV2lkdGggKyAzKSAmIH4zO1xuICAgICAgICB2YXIgYWxpZ25lZEhlaWdodCA9IChwaXhlbEhlaWdodCArIDMpICYgfjM7XG4gICAgICAgIHZhciBpbWFnZUJ1ZmZlcnMgPSBuZXcgQXJyYXkobnVtYmVyT2ZBcnJheUVsZW1lbnRzKTtcbiAgICAgICAgdmFyIGltYWdlUGl4ZWxzID0gcGl4ZWxXaWR0aCAqIHBpeGVsSGVpZ2h0O1xuICAgICAgICBpZiAoZ2xUeXBlID09PSAwKSB7XG4gICAgICAgICAgICAvLyBBbGlnbiB0byAxNiBwaXhlbHMgKDR4NCBibG9ja3MpXG4gICAgICAgICAgICBpbWFnZVBpeGVscyA9IGFsaWduZWRXaWR0aCAqIGFsaWduZWRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGltYWdlUGl4ZWxCeXRlU2l6ZTtcbiAgICAgICAgaWYgKGdsVHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgLy8gVW5jb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0XG4gICAgICAgICAgICBpZiAoVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVFtnbFR5cGVdKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VQaXhlbEJ5dGVTaXplID0gVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVFtnbFR5cGVdICogRk9STUFUU19UT19DT01QT05FTlRTW2dsRm9ybWF0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGltYWdlUGl4ZWxCeXRlU2l6ZSA9IFRZUEVTX1RPX0JZVEVTX1BFUl9QSVhFTFtnbFR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW1hZ2VQaXhlbEJ5dGVTaXplID0gSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTFtnbEludGVybmFsRm9ybWF0XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1hZ2VQaXhlbEJ5dGVTaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgdGhlIHBpeGVsIGZvcm1hdCBzdG9yZWQgaW4gdGhlICoua3R4IGZpbGUhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGltYWdlQnl0ZVNpemUgPSBpbWFnZVBpeGVscyAqIGltYWdlUGl4ZWxCeXRlU2l6ZTtcbiAgICAgICAgdmFyIG1pcEJ5dGVTaXplID0gaW1hZ2VCeXRlU2l6ZTtcbiAgICAgICAgdmFyIG1pcFdpZHRoID0gcGl4ZWxXaWR0aDtcbiAgICAgICAgdmFyIG1pcEhlaWdodCA9IHBpeGVsSGVpZ2h0O1xuICAgICAgICB2YXIgYWxpZ25lZE1pcFdpZHRoID0gYWxpZ25lZFdpZHRoO1xuICAgICAgICB2YXIgYWxpZ25lZE1pcEhlaWdodCA9IGFsaWduZWRIZWlnaHQ7XG4gICAgICAgIHZhciBpbWFnZU9mZnNldCA9IEZJTEVfSEVBREVSX1NJWkUgKyBieXRlc09mS2V5VmFsdWVEYXRhO1xuICAgICAgICBmb3IgKHZhciBtaXBtYXBMZXZlbCA9IDA7IG1pcG1hcExldmVsIDwgbnVtYmVyT2ZNaXBtYXBMZXZlbHM7IG1pcG1hcExldmVsKyspIHtcbiAgICAgICAgICAgIHZhciBpbWFnZVNpemUgPSBkYXRhVmlldy5nZXRVaW50MzIoaW1hZ2VPZmZzZXQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICB2YXIgZWxlbWVudE9mZnNldCA9IGltYWdlT2Zmc2V0ICsgNDtcbiAgICAgICAgICAgIGZvciAodmFyIGFycmF5RWxlbWVudCA9IDA7IGFycmF5RWxlbWVudCA8IG51bWJlck9mQXJyYXlFbGVtZW50czsgYXJyYXlFbGVtZW50KyspIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBNYXliZSBzdXBwb3J0IDNEIHRleHR1cmVzPyA6LSlcbiAgICAgICAgICAgICAgICAvLyBmb3IgKGxldCB6U2xpY2UgPSAwOyB6U2xpY2UgPCBwaXhlbERlcHRoOyB6U2xpY2UpXG4gICAgICAgICAgICAgICAgdmFyIG1pcHMgPSBpbWFnZUJ1ZmZlcnNbYXJyYXlFbGVtZW50XTtcbiAgICAgICAgICAgICAgICBpZiAoIW1pcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbWlwcyA9IGltYWdlQnVmZmVyc1thcnJheUVsZW1lbnRdID0gbmV3IEFycmF5KG51bWJlck9mTWlwbWFwTGV2ZWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWlwc1ttaXBtYXBMZXZlbF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsSUQ6IG1pcG1hcExldmVsLFxuICAgICAgICAgICAgICAgICAgICBsZXZlbFdpZHRoOiBudW1iZXJPZk1pcG1hcExldmVscyA+IDEgPyBtaXBXaWR0aCA6IGFsaWduZWRNaXBXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxIZWlnaHQ6IG51bWJlck9mTWlwbWFwTGV2ZWxzID4gMSA/IG1pcEhlaWdodCA6IGFsaWduZWRNaXBIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGxldmVsQnVmZmVyOiBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZWxlbWVudE9mZnNldCwgbWlwQnl0ZVNpemUpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBlbGVtZW50T2Zmc2V0ICs9IG1pcEJ5dGVTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSElOVDogQWxpZ25zIHRvIDQtYnl0ZSBib3VuZGFyeSBhZnRlciBqdW1waW5nIGltYWdlU2l6ZSAoaW4gbGlldSBvZiBtaXBQYWRkaW5nKVxuICAgICAgICAgICAgaW1hZ2VPZmZzZXQgKz0gaW1hZ2VTaXplICsgNDsgLy8gKCs0IHRvIGp1bXAgdGhlIGltYWdlU2l6ZSBmaWVsZCBpdHNlbGYpXG4gICAgICAgICAgICBpbWFnZU9mZnNldCA9IGltYWdlT2Zmc2V0ICUgNCAhPT0gMCA/IGltYWdlT2Zmc2V0ICsgNCAtIChpbWFnZU9mZnNldCAlIDQpIDogaW1hZ2VPZmZzZXQ7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbWlwV2lkdGgsIG1pcEhlaWdodCBmb3IgX25leHRfIGl0ZXJhdGlvblxuICAgICAgICAgICAgbWlwV2lkdGggPSAobWlwV2lkdGggPj4gMSkgfHwgMTtcbiAgICAgICAgICAgIG1pcEhlaWdodCA9IChtaXBIZWlnaHQgPj4gMSkgfHwgMTtcbiAgICAgICAgICAgIGFsaWduZWRNaXBXaWR0aCA9IChtaXBXaWR0aCArIGJsb2NrV2lkdGggLSAxKSAmIH4oYmxvY2tXaWR0aCAtIDEpO1xuICAgICAgICAgICAgYWxpZ25lZE1pcEhlaWdodCA9IChtaXBIZWlnaHQgKyBibG9ja0hlaWdodCAtIDEpICYgfihibG9ja0hlaWdodCAtIDEpO1xuICAgICAgICAgICAgLy8gRWFjaCBtaXBtYXAgbGV2ZWwgaXMgNC10aW1lcyBzbWFsbGVyP1xuICAgICAgICAgICAgbWlwQnl0ZVNpemUgPSBhbGlnbmVkTWlwV2lkdGggKiBhbGlnbmVkTWlwSGVpZ2h0ICogaW1hZ2VQaXhlbEJ5dGVTaXplO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHVzZSB0aGUgbGV2ZWxCdWZmZXJzIGZlYXR1cmUgb2YgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSBiL2MgdGV4dHVyZSBkYXRhIGlzIGltYWdlLW1ham9yLCBub3QgbGV2ZWwtbWFqb3IuXG4gICAgICAgIGlmIChnbFR5cGUgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVE9ETzogVW5jb21wcmVzc2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltYWdlQnVmZmVycy5tYXAoZnVuY3Rpb24gKGxldmVsQnVmZmVycykgeyByZXR1cm4gbmV3IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UobnVsbCwge1xuICAgICAgICAgICAgZm9ybWF0OiBnbEludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgd2lkdGg6IHBpeGVsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHBpeGVsSGVpZ2h0LFxuICAgICAgICAgICAgbGV2ZWxzOiBudW1iZXJPZk1pcG1hcExldmVscyxcbiAgICAgICAgICAgIGxldmVsQnVmZmVyczogbGV2ZWxCdWZmZXJzLFxuICAgICAgICB9KTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgYXJyYXlCdWZmZXIgY29udGFpbnMgYSB2YWxpZCAqLmt0eCBmaWxlLlxuICAgICAqL1xuICAgIEtUWExvYWRlci52YWxpZGF0ZSA9IGZ1bmN0aW9uICh1cmwsIGRhdGFWaWV3KSB7XG4gICAgICAgIC8vIE5PVEU6IERvIG5vdCBvcHRpbWl6ZSB0aGlzIGludG8gMyAzMi1iaXQgaW50ZWdlciBjb21wYXJpc29uIGJlY2F1c2UgdGhlIGVuZGlhbm5lc3NcbiAgICAgICAgLy8gb2YgdGhlIGRhdGEgaXMgbm90IHNwZWNpZmllZC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBGSUxFX0lERU5USUZJRVIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50OChpKSAhPT0gRklMRV9JREVOVElGSUVSW2ldKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcih1cmwgKyBcIiBpcyBub3QgYSB2YWxpZCAqLmt0eCBmaWxlIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gS1RYTG9hZGVyO1xufSgpKTtcblxuZXhwb3J0IHsgQmxvYlJlc291cmNlLCBDb21wcmVzc2VkVGV4dHVyZUxvYWRlciwgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSwgRERTTG9hZGVyLCBGT1JNQVRTX1RPX0NPTVBPTkVOVFMsIElOVEVSTkFMX0ZPUk1BVFMsIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUwsIEtUWExvYWRlciwgVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCwgVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wcmVzc2VkLXRleHR1cmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wYXJ0aWNsZXMgLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvcGFydGljbGVzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgaGV4MnJnYiwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEdlb21ldHJ5LCBCdWZmZXIsIE9iamVjdFJlbmRlcmVyLCBTaGFkZXIsIFN0YXRlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy5cbiAqXG4gKiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuXG4gKiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZTpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBhcnRpY2xlQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4U2l6ZT0xNTAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgKiAgQWZmZWN0cyBzaXplIG9mIGFsbG9jYXRlZCBidWZmZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcGVydGllc10gLSBUaGUgcHJvcGVydGllcyBvZiBjaGlsZHJlbiB0aGF0IHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgZ3B1IGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudmVydGljZXM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB2ZXJ0aWNlcyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIHNwcml0ZSdzIGAgc2NhbGUvYW5jaG9yL3RyaW0vZnJhbWUvb3JpZ2AgaXMgZHluYW1pYywgcGxlYXNlIHNldCBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wb3NpdGlvbj10cnVlXSAtIFdoZW4gdHJ1ZSwgcG9zaXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5yb3RhdGlvbj1mYWxzZV0gLSBXaGVuIHRydWUsIHJvdGF0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudXZzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdXZzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudGludD1mYWxzZV0gLSBXaGVuIHRydWUsIGFscGhhIGFuZCB0aW50IGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmF0Y2hTaXplPTE2Mzg0XSAtIE51bWJlciBvZiBwYXJ0aWNsZXMgcGVyIGJhdGNoLiBJZiBsZXNzIHRoYW4gbWF4U2l6ZSwgaXQgdXNlcyBtYXhTaXplIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlXG4gICAgICogIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUNvbnRhaW5lcihtYXhTaXplLCBwcm9wZXJ0aWVzLCBiYXRjaFNpemUsIGF1dG9SZXNpemUpIHtcbiAgICAgICAgaWYgKG1heFNpemUgPT09IHZvaWQgMCkgeyBtYXhTaXplID0gMTUwMDsgfVxuICAgICAgICBpZiAoYmF0Y2hTaXplID09PSB2b2lkIDApIHsgYmF0Y2hTaXplID0gMTYzODQ7IH1cbiAgICAgICAgaWYgKGF1dG9SZXNpemUgPT09IHZvaWQgMCkgeyBhdXRvUmVzaXplID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLy8gTWFraW5nIHN1cmUgdGhlIGJhdGNoIHNpemUgaXMgdmFsaWRcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgdmFyIG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBwcm9wZXJ0aWVzIHRvIGJlIGR5bmFtaWMgKHRydWUpIC8gc3RhdGljIChmYWxzZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb3BlcnRpZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFNpemUgPSBtYXhTaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQnVmZmVyPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvciBldmVyeSBiYXRjaCBzdG9yZXMgX3VwZGF0ZUlEIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgY2hhbmdlIGluIHRoYXQgYmF0Y2hcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGVuIGNoaWxkIGluc2VydGVkLCByZW1vdmVkIG9yIGNoYW5nZXMgcG9zaXRpb24gdGhpcyBudW1iZXIgZ29lcyB1cFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGBcbiAgICAgICAgICogdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBEZWZhdWx0IHRvIHRydWUgaGVyZSBhcyBwZXJmb3JtYW5jZSBpcyB1c3VhbGx5IHRoZSBwcmlvcml0eSBmb3IgcGFydGljbGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3VuZFBpeGVscyA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIHRvIHJlbmRlciB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICBfdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSAwO1xuICAgICAgICBfdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gJ3Bvc2l0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnBvc2l0aW9uIDogdGhpcy5fcHJvcGVydGllc1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMl0gPSAncm90YXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucm90YXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1szXSA9ICd1dnMnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSAndGludCcgaW4gcHJvcGVydGllcyB8fCAnYWxwaGEnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy50aW50IHx8ICEhcHJvcGVydGllcy5hbHBoYSA6IHRoaXMuX3Byb3BlcnRpZXNbNF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRhaW5lciB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0aGlzLmNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbmNlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKDApOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZsYWcgdGhhdCBzdGF0aWMgZGF0YSBzaG91bGQgYmUgdXBkYXRlZCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbWFsbGVzdENoaWxkSW5kZXggLSBUaGUgc21hbGxlc3QgY2hpbGQgaW5kZXhcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIChzbWFsbGVzdENoaWxkSW5kZXgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gTWF0aC5mbG9vcihzbWFsbGVzdENoaWxkSW5kZXggLyB0aGlzLl9iYXRjaFNpemUpO1xuICAgICAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9O1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVycykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcnRpY2xlQ29udGFpbmVyO1xufShDb250YWluZXIpKTtcblxuLypcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cbi8qKlxuICogVGhlIHBhcnRpY2xlIGJ1ZmZlciBtYW5hZ2VzIHRoZSBzdGF0aWMgYW5kIGR5bmFtaWMgYnVmZmVycyBmb3IgYSBwYXJ0aWNsZSBjb250YWluZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFuW119IGR5bmFtaWNQcm9wZXJ0eUZsYWdzIC0gRmxhZ3MgZm9yIHdoaWNoIHByb3BlcnRpZXMgYXJlIGR5bmFtaWMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYmF0Y2guXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVCdWZmZXIocHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIHNpemUpIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGFydGljbGVzIHRoZSBidWZmZXIgY2FuIGhvbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIC8vIE1ha2UgY29weSBvZiBwcm9wZXJ0aWVzIG9iamVjdCBzbyB0aGF0IHdoZW4gd2UgZWRpdCB0aGUgb2Zmc2V0IGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICB0eXBlOiBwcm9wZXJ0eS50eXBlIHx8IFRZUEVTLkZMT0FULFxuICAgICAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihjcmVhdGVJbmRpY2VzRm9yUXVhZHModGhpcy5zaXplKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdlb21ldHJ5LmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IHN0YXRpY09mZnNldDtcbiAgICAgICAgICAgIHN0YXRpY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5zdGF0aWNEYXRhLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB0aGlzLmR5bmFtaWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIHByb3BlcnR5Lm9mZnNldCAqIDQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwgdGhpcy5zdGF0aWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgcHJvcGVydHkub2Zmc2V0ICogNCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkRHluYW1pYyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcy5keW5hbWljRGF0YSwgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWRTdGF0aWMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSwgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICAvLyBhbGwgYnVmZmVycyBhcmUgZGVzdHJveWVkIGluc2lkZSBnZW9tZXRyeVxuICAgICAgICB0aGlzLmdlb21ldHJ5LmRlc3Ryb3koKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZUJ1ZmZlcjtcbn0oKSk7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDtcXG5hdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pO1xcbiAgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yICogdUNvbG9yO1xcbn1cXG5cIjtcblxuLypcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleSBub3dcbiAqIHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlUmVuZGVyZXIuamF2YVxuICovXG4vKipcbiAqIFJlbmRlcmVyIGZvciBQYXJ0aWNsZXMgdGhhdCBpcyBkZXNpZ25lciBmb3Igc3BlZWQgb3ZlciBmZWF0dXJlIHNldC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZVJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQYXJ0aWNsZVJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBzcHJpdGUgYmF0Y2ggd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIC8vIGFuZCBtYXggbnVtYmVyIG9mIGVsZW1lbnQgaW4gdGhlIGluZGV4IGJ1ZmZlciBpcyAxNjM4NCAqIDYgPSA5ODMwNFxuICAgICAgICAvLyBDcmVhdGluZyBhIGZ1bGwgaW5kZXggYnVmZmVyLCBvdmVyaGVhZCBpcyA5ODMwNCAqIDIgPSAxOTZLb1xuICAgICAgICAvLyBsZXQgbnVtSW5kaWNlcyA9IDk4MzA0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2hhZGVyIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgX3RoaXMudGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgX3RoaXMucHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgIC8vIHZlcnRpY2VzRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhVmVydGV4UG9zaXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IF90aGlzLnVwbG9hZFZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBwb3NpdGlvbkRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVBvc2l0aW9uQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IF90aGlzLnVwbG9hZFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyByb3RhdGlvbkRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVJvdGF0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRSb3RhdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdXZzRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhVGV4dHVyZUNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRVdnMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHRpbnREYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FDb2xvcicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRUaW50LFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0gXTtcbiAgICAgICAgX3RoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwge30pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBwYXJ0aWNsZSBjb250YWluZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG1heFNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHRvdGFsQ2hpbGRyZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUgJiYgIWNvbnRhaW5lci5hdXRvUmVzaXplKSB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycztcbiAgICAgICAgaWYgKCFidWZmZXJzKSB7XG4gICAgICAgICAgICBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgLy8gaWYgdGhlIHV2cyBoYXZlIG5vdCB1cGRhdGVkIHRoZW4gbm8gcG9pbnQgcmVuZGVyaW5nIGp1c3QgeWV0IVxuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGUoY29udGFpbmVyLmJsZW5kTW9kZSwgYmFzZVRleHR1cmUuYWxwaGFNb2RlKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIG0gPSBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uY29weVRvKHRoaXMudGVtcE1hdHJpeCk7XG4gICAgICAgIG0ucHJlcGVuZChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4KTtcbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5UmdiYShjb250YWluZXIudGludFJnYiwgY29udGFpbmVyLndvcmxkQWxwaGEsIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUuYWxwaGFNb2RlKTtcbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG4gICAgICAgIHZhciB1cGRhdGVTdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgLy8gbm93IGxldHMgdXBsb2FkIGFuZCByZW5kZXIgdGhlIGJ1ZmZlcnMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbENoaWxkcmVuOyBpICs9IGJhdGNoU2l6ZSwgaiArPSAxKSB7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gKHRvdGFsQ2hpbGRyZW4gLSBpKTtcbiAgICAgICAgICAgIGlmIChhbW91bnQgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBiYXRjaFNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaiA+PSBidWZmZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMucHVzaCh0aGlzLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tqXTtcbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuICAgICAgICAgICAgdmFyIGJpZCA9IGNvbnRhaW5lci5fYnVmZmVyVXBkYXRlSURzW2pdIHx8IDA7XG4gICAgICAgICAgICB1cGRhdGVTdGF0aWMgPSB1cGRhdGVTdGF0aWMgfHwgKGJ1ZmZlci5fdXBkYXRlSUQgPCBiaWQpO1xuICAgICAgICAgICAgLy8gd2Ugb25seSB1cGxvYWQgdGhlIHN0YXRpYyBjb250ZW50IHdoZW4gd2UgaGF2ZSB0byFcbiAgICAgICAgICAgIGlmICh1cGRhdGVTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIuX3VwZGF0ZUlEID0gY29udGFpbmVyLl91cGRhdGVJRDtcbiAgICAgICAgICAgICAgICBidWZmZXIudXBsb2FkU3RhdGljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGJ1ZmZlci5nZW9tZXRyeSk7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBhbW91bnQgKiA2LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIHBhcnRpY2xlIGJ1ZmZlciBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29udGFpbmVyIHdlIHdhbnQgdG8gcmVuZGVyIGFuZCB1cGRhdGVzIGludGVybmFsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcltdfSBUaGUgYnVmZmVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVCdWZmZXJzID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBtb3JlIHBhcnRpY2xlIGJ1ZmZlciwgYmVjYXVzZSBjb250YWluZXIgaGFzIGF1dG9SZXNpemUgZmVhdHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyfSBnZW5lcmF0ZWQgYnVmZmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdmVydGljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciB2ZXJ0aWNlcyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVmVydGljZXMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuICAgICAgICAgICAgICAgIGgxID0gdHJpbS55IC0gKHNwcml0ZS5hbmNob3IueSAqIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgaDAgPSBvcmlnLmhlaWdodCAqICgxIC0gc3ByaXRlLmFuY2hvci55KTtcbiAgICAgICAgICAgICAgICBoMSA9IG9yaWcuaGVpZ2h0ICogLXNwcml0ZS5hbmNob3IueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBoMSAqIHN5O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gaDAgKiBzeTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBoMCAqIHN5O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcG9zaXRpb25zIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRQb3NpdGlvbiA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVBvc2l0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnBvc2l0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUm90YXRpb24gPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBVdnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRVdnMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG4gICAgICAgICAgICBpZiAodGV4dHVyZVV2cykge1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gdGV4dHVyZVV2cy55MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHRleHR1cmVVdnMueTE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSB0ZXh0dXJlVXZzLnkyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gdGV4dHVyZVV2cy55MztcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8geW91IGtub3cgdGhpcyBjYW4gYmUgZWFzaWVyIVxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdGludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRUaW50ID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUuYWxwaGFNb2RlID4gMDtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHNwcml0ZS5hbHBoYTtcbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIHZhciBhcmdiID0gYWxwaGEgPCAxLjAgJiYgcHJlbXVsdGlwbGllZFxuICAgICAgICAgICAgICAgID8gcHJlbXVsdGlwbHlUaW50KHNwcml0ZS5fdGludFJHQiwgYWxwaGEpIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBhcmdiO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5zaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcnRpY2xlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyLCBQYXJ0aWNsZVJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aWNsZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2dyYXBoaWNzIC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL2dyYXBoaWNzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUsIEJhdGNoRHJhd0NhbGwsIEJhdGNoVGV4dHVyZUFycmF5LCBCYXRjaEdlb21ldHJ5LCBVbmlmb3JtR3JvdXAsIFNoYWRlciwgU3RhdGUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNIQVBFUywgUG9pbnQsIFBJXzIsIE1hdHJpeCwgUG9seWdvbiwgUmVjdGFuZ2xlLCBSb3VuZGVkUmVjdGFuZ2xlLCBDaXJjbGUsIEVsbGlwc2UgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGVhcmN1dCwgcHJlbXVsdGlwbHlUaW50LCBoZXgycmdiIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUywgRFJBV19NT0RFUywgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQm91bmRzLCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBTdXBwb3J0ZWQgbGluZSBqb2ludHMgaW4gYFBJWEkuTGluZVN0eWxlYCBmb3IgZ3JhcGhpY3MuXG4gKlxuICogQHNlZSBQSVhJLkdyYXBoaWNzI2xpbmVTdHlsZVxuICogQHNlZSBodHRwczovL2dyYXBoaWNkZXNpZ24uc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzU5MDE4L3doYXQtaXMtYS1iZXZlbC1qb2luLW9mLXR3by1saW5lcy1leGFjdGx5LWlsbHVzdHJhdG9yXG4gKlxuICogQG5hbWUgTElORV9KT0lOXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNSVRFUiAtICdtaXRlcic6IG1ha2UgYSBzaGFycCBjb3JuZXIgd2hlcmUgb3V0ZXIgcGFydCBvZiBsaW5lcyBtZWV0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gQkVWRUwgLSAnYmV2ZWwnOiBhZGQgYSBzcXVhcmUgYnV0dCBhdCBlYWNoIGVuZCBvZiBsaW5lIHNlZ21lbnQgYW5kIGZpbGwgdGhlIHRyaWFuZ2xlIGF0IHR1cm5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBST1VORCAtICdyb3VuZCc6IGFkZCBhbiBhcmMgYXQgdGhlIGpvaW50XG4gKi9cbnZhciBMSU5FX0pPSU47XG4oZnVuY3Rpb24gKExJTkVfSk9JTikge1xuICAgIExJTkVfSk9JTltcIk1JVEVSXCJdID0gXCJtaXRlclwiO1xuICAgIExJTkVfSk9JTltcIkJFVkVMXCJdID0gXCJiZXZlbFwiO1xuICAgIExJTkVfSk9JTltcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xufSkoTElORV9KT0lOIHx8IChMSU5FX0pPSU4gPSB7fSkpO1xuLyoqXG4gKiBTdXBwb3J0IGxpbmUgY2FwcyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqXG4gKiBAc2VlIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gKlxuICogQG5hbWUgTElORV9DQVBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IEJVVFQgLSAnYnV0dCc6IGRvbid0IGFkZCBhbnkgY2FwIGF0IGxpbmUgZW5kcyAobGVhdmVzIG9ydGhvZ29uYWwgZWRnZXMpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gUk9VTkQgLSAncm91bmQnOiBhZGQgc2VtaWNpcmNsZSBhdCBlbmRzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gU1FVQVJFIC0gJ3NxdWFyZSc6IGFkZCBzcXVhcmUgYXQgZW5kIChsaWtlIGBCVVRUYCBleGNlcHQgbW9yZSBsZW5ndGggYXQgZW5kKVxuICovXG52YXIgTElORV9DQVA7XG4oZnVuY3Rpb24gKExJTkVfQ0FQKSB7XG4gICAgTElORV9DQVBbXCJCVVRUXCJdID0gXCJidXR0XCI7XG4gICAgTElORV9DQVBbXCJST1VORFwiXSA9IFwicm91bmRcIjtcbiAgICBMSU5FX0NBUFtcIlNRVUFSRVwiXSA9IFwic3F1YXJlXCI7XG59KShMSU5FX0NBUCB8fCAoTElORV9DQVAgPSB7fSkpO1xuLyoqXG4gKiBHcmFwaGljcyBjdXJ2ZXMgcmVzb2x1dGlvbiBzZXR0aW5ncy4gSWYgYGFkYXB0aXZlYCBmbGFnIGlzIHNldCB0byBgdHJ1ZWAsXG4gKiB0aGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBjdXJ2ZSdzIGxlbmd0aCB0byBlbnN1cmUgYmV0dGVyIHZpc3VhbCBxdWFsaXR5LlxuICogQWRhcHRpdmUgZHJhdyB3b3JrcyB3aXRoIGBiZXppZXJDdXJ2ZVRvYCBhbmQgYHF1YWRyYXRpY0N1cnZlVG9gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEdSQVBISUNTX0NVUlZFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWRhcHRpdmU9dHJ1ZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbnZhciBHUkFQSElDU19DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OCxcbiAgICBlcHNpbG9uOiAwLjAwMDEsXG4gICAgX3NlZ21lbnRzQ291bnQ6IGZ1bmN0aW9uIChsZW5ndGgsIGRlZmF1bHRTZWdtZW50cykge1xuICAgICAgICBpZiAoZGVmYXVsdFNlZ21lbnRzID09PSB2b2lkIDApIHsgZGVmYXVsdFNlZ21lbnRzID0gMjA7IH1cbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlIHx8ICFsZW5ndGggfHwgaXNOYU4obGVuZ3RoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubWF4TGVuZ3RoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA8IHRoaXMubWluU2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWluU2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEZpbGwgc3R5bGUgb2JqZWN0IGZvciBHcmFwaGljcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGaWxsU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsbFN0eWxlKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDEuMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgZm9yIHRoZSBmaWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgRmlsbFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBGaWxsU3R5bGUoKTtcbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldFxuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGxTdHlsZTtcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUG9seSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vLyBmb3IgdHlwZSBvbmx5XG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkQ2lyY2xlID0ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlbGxpcHNlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHdpZHRoID0gZWxsaXBzZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBlbGxpcHNlRGF0YS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQod2lkdGggKyBoZWlnaHQpKTtcbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcbiAgICAgICAgdmFyIHNlZyA9IChNYXRoLlBJICogMikgLyB0b3RhbFNlZ3M7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzIC0gMC41OyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLCB5ICsgKE1hdGguY29zKC1zZWcgKiBpKSAqIGhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZlcnRQb3M7XG4gICAgICAgIHZhciBjaXJjbGUgPSAoZ3JhcGhpY3NEYXRhLnNoYXBlKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IGdyYXBoaWNzRGF0YS5tYXRyaXg7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlLng7XG4gICAgICAgIHZhciB5ID0gY2lyY2xlLnk7XG4gICAgICAgIC8vIFB1c2ggY2VudGVyIChzcGVjaWFsIHBvaW50KVxuICAgICAgICB2ZXJ0cy5wdXNoKGdyYXBoaWNzRGF0YS5tYXRyaXggPyAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4IDogeCwgZ3JhcGhpY3NEYXRhLm1hdHJpeCA/IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHkgOiB5KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbaSArIDFdKTtcbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRSZWN0YW5nbGUgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgLy8gLS0tIC8vXG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICAvL1xuICAgICAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciB4ID0gcmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5LCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCk7XG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIHBvaW50c1s2XSwgcG9pbnRzWzddLCBwb2ludHNbNF0sIHBvaW50c1s1XSk7XG4gICAgICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUm91bmRlZFJlY3RhbmdsZSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICB2YXIgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSBycmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgLy8gRG9uJ3QgYWxsb3cgbmVnYXRpdmUgcmFkaXVzIG9yIGdyZWF0ZXIgdGhhbiBoYWxmIHRoZSBzbWFsbGVzdCB3aWR0aFxuICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocnJlY3REYXRhLnJhZGl1cywgTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyKSk7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBObyByYWRpdXMsIGRvIGEgc2ltcGxlIHJlY3RhbmdsZVxuICAgICAgICBpZiAoIXJhZGl1cykge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cywgeCwgeSwgeCArIHJhZGl1cywgeSwgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cywgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LCBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAgICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgbnVsbCwgMik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHBvaW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbKytpXSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWZmZXJzIHZlcnRpY2VzIHRvIGRyYXcgYSBzcXVhcmUgY2FwLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFgtY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFktY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gbnggLSBYLWNvb3JkIG9mIGxpbmUgbm9ybWFsIHBvaW50aW5nIGluc2lkZVxuICogQHBhcmFtIHtudW1iZXJ9IG55IC0gWS1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdmVydHMgLSB2ZXJ0ZXggYnVmZmVyXG4gKiBAcmV0dXJucyB7fVxuICovXG5mdW5jdGlvbiBzcXVhcmUoeCwgeSwgbngsIG55LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGNsb2Nrd2lzZSwgLyogcm90YXRpb24gZm9yIHNxdWFyZSAodHJ1ZSBhdCBsZWZ0IGVuZCwgZmFsc2UgYXQgcmlnaHQgZW5kKSAqLyB2ZXJ0cykge1xuICAgIHZhciBpeCA9IHggLSAobnggKiBpbm5lcldlaWdodCk7XG4gICAgdmFyIGl5ID0geSAtIChueSAqIGlubmVyV2VpZ2h0KTtcbiAgICB2YXIgb3ggPSB4ICsgKG54ICogb3V0ZXJXZWlnaHQpO1xuICAgIHZhciBveSA9IHkgKyAobnkgKiBvdXRlcldlaWdodCk7XG4gICAgLyogUm90YXRlIG54LG55IGZvciBleHRlbnNpb24gdmVjdG9yICovXG4gICAgdmFyIGV4eDtcbiAgICB2YXIgZXl5O1xuICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgZXh4ID0gbnk7XG4gICAgICAgIGV5eSA9IC1ueDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4eCA9IC1ueTtcbiAgICAgICAgZXl5ID0gbng7XG4gICAgfVxuICAgIC8qIFtpfDBdeCx5IGV4dGVuZGVkIGF0IGNhcCAqL1xuICAgIHZhciBlaXggPSBpeCArIGV4eDtcbiAgICB2YXIgZWl5ID0gaXkgKyBleXk7XG4gICAgdmFyIGVveCA9IG94ICsgZXh4O1xuICAgIHZhciBlb3kgPSBveSArIGV5eTtcbiAgICAvKiBTcXVhcmUgaXRzZWxmIG11c3QgYmUgaW5zZXJ0ZWQgY2xvY2t3aXNlKi9cbiAgICB2ZXJ0cy5wdXNoKGVpeCwgZWl5KTtcbiAgICB2ZXJ0cy5wdXNoKGVveCwgZW95KTtcbiAgICByZXR1cm4gMjtcbn1cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGFuIGFyYyBhdCB0aGUgbGluZSBqb2ludCBvciBjYXAuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFgtY29vcmQgb2YgY2VudGVyXG4gKiBAcGFyYW0ge251bWJlcn0gY3kgLSBZLWNvb3JkIG9mIGNlbnRlclxuICogQHBhcmFtIHtudW1iZXJ9IHN4IC0gWC1jb29yZCBvZiBhcmMgc3RhcnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSAtIFktY29vcmQgb2YgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZXggLSBYLWNvb3JkIG9mIGFyYyBlbmRcbiAqIEBwYXJhbSB7bnVtYmVyfSBleSAtIFktY29vcmQgb2YgYXJjIGVuZFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB2ZXJ0cyAtIGJ1ZmZlciBvZiB2ZXJ0aWNlc1xuICogQHBhcmFtIHtib29sZWFufSBjbG9ja3dpc2UgLSBvcmllbnRhdGlvbiBvZiB2ZXJ0aWNlc1xuICogQHJldHVybnMge251bWJlcn0gLSBuby4gb2YgdmVydGljZXMgcHVzaGVkXG4gKi9cbmZ1bmN0aW9uIHJvdW5kKGN4LCBjeSwgc3gsIHN5LCBleCwgZXksIHZlcnRzLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgY3gycDB4ID0gc3ggLSBjeDtcbiAgICB2YXIgY3kycDB5ID0gc3kgLSBjeTtcbiAgICB2YXIgYW5nbGUwID0gTWF0aC5hdGFuMihjeDJwMHgsIGN5MnAweSk7XG4gICAgdmFyIGFuZ2xlMSA9IE1hdGguYXRhbjIoZXggLSBjeCwgZXkgLSBjeSk7XG4gICAgaWYgKGNsb2Nrd2lzZSAmJiBhbmdsZTAgPCBhbmdsZTEpIHtcbiAgICAgICAgYW5nbGUwICs9IE1hdGguUEkgKiAyO1xuICAgIH1cbiAgICBlbHNlIGlmICghY2xvY2t3aXNlICYmIGFuZ2xlMCA+IGFuZ2xlMSkge1xuICAgICAgICBhbmdsZTEgKz0gTWF0aC5QSSAqIDI7XG4gICAgfVxuICAgIHZhciBzdGFydEFuZ2xlID0gYW5nbGUwO1xuICAgIHZhciBhbmdsZURpZmYgPSBhbmdsZTEgLSBhbmdsZTA7XG4gICAgdmFyIGFic0FuZ2xlRGlmZiA9IE1hdGguYWJzKGFuZ2xlRGlmZik7XG4gICAgLyogaWYgKGFic0FuZ2xlRGlmZiA+PSBQSV9MQk9VTkQgJiYgYWJzQW5nbGVEaWZmIDw9IFBJX1VCT1VORClcbiAgICB7XG4gICAgICAgIGNvbnN0IHIxeCA9IGN4IC0gbnh0UHg7XG4gICAgICAgIGNvbnN0IHIxeSA9IGN5IC0gbnh0UHk7XG5cbiAgICAgICAgaWYgKHIxeCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHIxeSA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW5nbGVEaWZmID0gLWFuZ2xlRGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyMXggPj0gLUdSQVBISUNTX0NVUlZFUy5lcHNpbG9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbmdsZURpZmYgPSAtYW5nbGVEaWZmO1xuICAgICAgICB9XG4gICAgfSovXG4gICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCgoY3gycDB4ICogY3gycDB4KSArIChjeTJwMHkgKiBjeTJwMHkpKTtcbiAgICB2YXIgc2VnQ291bnQgPSAoKDE1ICogYWJzQW5nbGVEaWZmICogTWF0aC5zcXJ0KHJhZGl1cykgLyBNYXRoLlBJKSA+PiAwKSArIDE7XG4gICAgdmFyIGFuZ2xlSW5jID0gYW5nbGVEaWZmIC8gc2VnQ291bnQ7XG4gICAgc3RhcnRBbmdsZSArPSBhbmdsZUluYztcbiAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3ggKyAoKE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cykpLCBjeSArICgoTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBhbmdsZSA9IHN0YXJ0QW5nbGU7IGkgPCBzZWdDb3VudDsgaSsrLCBhbmdsZSArPSBhbmdsZUluYykge1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCArICgoTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzKSksIGN5ICsgKChNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMpKSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgfVxuICAgIHJldHVybiBzZWdDb3VudCAqIDI7XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9seWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB2YXIgZXBzID0gZ3JhcGhpY3NHZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxpbmUgd2lkdGggaXMgYW4gb2RkIG51bWJlciBhZGQgMC41IHRvIGFsaWduIHRvIGEgd2hvbGUgcGl4ZWxcbiAgICAvLyBjb21tZW50aW5nIHRoaXMgb3V0IGZpeGVzICM3MTEgYW5kICMxNjIwXG4gICAgLy8gaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGglMilcbiAgICAvLyB7XG4gICAgLy8gICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIHBvaW50c1tpXSArPSAwLjU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG4gICAgdmFyIHN0eWxlID0gZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZTtcbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIHZhciBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgdmFyIGNsb3NlZFBhdGggPSBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgPCBlcHNcbiAgICAgICAgJiYgTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpIDwgZXBzO1xuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcbiAgICAgICAgaWYgKGNsb3NlZFBhdGgpIHtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IChmaXJzdFBvaW50LnggKyBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSAobGFzdFBvaW50LnkgKyBmaXJzdFBvaW50LnkpICogMC41O1xuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgLy8gTWF4LiBpbm5lciBhbmQgb3V0ZXIgd2lkdGhcbiAgICB2YXIgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG4gICAgdmFyIHdpZHRoU3F1YXJlZCA9IHdpZHRoICogd2lkdGg7XG4gICAgdmFyIG1pdGVyTGltaXRTcXVhcmVkID0gc3R5bGUubWl0ZXJMaW1pdCAqIHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLyogTGluZSBzZWdtZW50cyBvZiBpbnRlcmVzdCB3aGVyZSAoeDEseTEpIGZvcm1zIHRoZSBjb3JuZXIuICovXG4gICAgdmFyIHgwID0gcG9pbnRzWzBdO1xuICAgIHZhciB5MCA9IHBvaW50c1sxXTtcbiAgICB2YXIgeDEgPSBwb2ludHNbMl07XG4gICAgdmFyIHkxID0gcG9pbnRzWzNdO1xuICAgIHZhciB4MiA9IDA7XG4gICAgdmFyIHkyID0gMDtcbiAgICAvKiBwZXJwWz9dKHh8eSkgPSB0aGUgbGluZSBub3JtYWwgd2l0aCBtYWduaXR1ZGUgbGluZVdpZHRoLiAqL1xuICAgIHZhciBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgdmFyIHBlcnB5ID0geDAgLSB4MTtcbiAgICB2YXIgcGVycDF4ID0gMDtcbiAgICB2YXIgcGVycDF5ID0gMDtcbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcbiAgICB2YXIgcmF0aW8gPSBzdHlsZS5hbGlnbm1lbnQ7IC8vIDAuNTtcbiAgICB2YXIgaW5uZXJXZWlnaHQgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgdmFyIG91dGVyV2VpZ2h0ID0gcmF0aW8gKiAyO1xuICAgIGlmICghY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDAgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB5MCAtIChwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDAgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MCwgeTAsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCB0cnVlLCB2ZXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUHVzaCBmaXJzdCBwb2ludCAoYmVsb3cgJiBhYm92ZSB2ZXJ0aWNlcylcbiAgICB2ZXJ0cy5wdXNoKHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgdmVydHMucHVzaCh4MCArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTAgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHgwID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgeTAgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuICAgICAgICB4MSA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHkxID0gcG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgeDIgPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICB5MiA9IHBvaW50c1soKGkgKyAxKSAqIDIpICsgMV07XG4gICAgICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICAgICAgcGVycHkgPSB4MCAtIHgxO1xuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcbiAgICAgICAgcGVycDF4ID0gLSh5MSAtIHkyKTtcbiAgICAgICAgcGVycDF5ID0geDEgLSB4MjtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDF4ICogcGVycDF4KSArIChwZXJwMXkgKiBwZXJwMXkpKTtcbiAgICAgICAgcGVycDF4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAxeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMXggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeSAqPSB3aWR0aDtcbiAgICAgICAgLyogZFt4fHldKDB8MSkgPSB0aGUgY29tcG9uZW50IGRpc3BsYWNlbWVudCBiZXR3ZWVuIHBvaW50cyBwKDAsMXwxLDIpICovXG4gICAgICAgIHZhciBkeDAgPSB4MSAtIHgwO1xuICAgICAgICB2YXIgZHkwID0geTAgLSB5MTtcbiAgICAgICAgdmFyIGR4MSA9IHgxIC0geDI7XG4gICAgICAgIHZhciBkeTEgPSB5MiAtIHkxO1xuICAgICAgICAvKiArdmUgaWYgaW50ZXJuYWwgYW5nbGUgY291bnRlcmNsb2Nrd2lzZSwgLXZlIGlmIGludGVybmFsIGFuZ2xlIGNsb2Nrd2lzZS4gKi9cbiAgICAgICAgdmFyIGNyb3NzID0gKGR5MCAqIGR4MSkgLSAoZHkxICogZHgwKTtcbiAgICAgICAgdmFyIGNsb2Nrd2lzZSA9IChjcm9zcyA8IDApO1xuICAgICAgICAvKiBHb2luZyBuZWFybHkgc3RyYWlnaHQ/ICovXG4gICAgICAgIGlmIChNYXRoLmFicyhjcm9zcykgPCAwLjEpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qIHBbeHx5XSBpcyB0aGUgbWl0ZXIgcG9pbnQuIHBkaXN0IGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIG1pdGVyIHBvaW50IGFuZCBwMS4gKi9cbiAgICAgICAgdmFyIGMxID0gKCgtcGVycHggKyB4MCkgKiAoLXBlcnB5ICsgeTEpKSAtICgoLXBlcnB4ICsgeDEpICogKC1wZXJweSArIHkwKSk7XG4gICAgICAgIHZhciBjMiA9ICgoLXBlcnAxeCArIHgyKSAqICgtcGVycDF5ICsgeTEpKSAtICgoLXBlcnAxeCArIHgxKSAqICgtcGVycDF5ICsgeTIpKTtcbiAgICAgICAgdmFyIHB4ID0gKChkeDAgKiBjMikgLSAoZHgxICogYzEpKSAvIGNyb3NzO1xuICAgICAgICB2YXIgcHkgPSAoKGR5MSAqIGMxKSAtIChkeTAgKiBjMikpIC8gY3Jvc3M7XG4gICAgICAgIHZhciBwZGlzdCA9ICgocHggLSB4MSkgKiAocHggLSB4MSkpICsgKChweSAtIHkxKSAqIChweSAtIHkxKSk7XG4gICAgICAgIC8qIElubmVyIG1pdGVyIHBvaW50ICovXG4gICAgICAgIHZhciBpbXggPSB4MSArICgocHggLSB4MSkgKiBpbm5lcldlaWdodCk7XG4gICAgICAgIHZhciBpbXkgPSB5MSArICgocHkgLSB5MSkgKiBpbm5lcldlaWdodCk7XG4gICAgICAgIC8qIE91dGVyIG1pdGVyIHBvaW50ICovXG4gICAgICAgIHZhciBvbXggPSB4MSAtICgocHggLSB4MSkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgIHZhciBvbXkgPSB5MSAtICgocHkgLSB5MSkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgIC8qIElzIHRoZSBpbnNpZGUgbWl0ZXIgcG9pbnQgdG9vIGZhciBhd2F5LCBjcmVhdGluZyBhIHNwaWtlPyAqL1xuICAgICAgICB2YXIgc21hbGxlckluc2lkZVNlZ21lbnRTcSA9IE1hdGgubWluKChkeDAgKiBkeDApICsgKGR5MCAqIGR5MCksIChkeDEgKiBkeDEpICsgKGR5MSAqIGR5MSkpO1xuICAgICAgICB2YXIgaW5zaWRlV2VpZ2h0ID0gY2xvY2t3aXNlID8gaW5uZXJXZWlnaHQgOiBvdXRlcldlaWdodDtcbiAgICAgICAgdmFyIHNtYWxsZXJJbnNpZGVEaWFnb25hbFNxID0gc21hbGxlckluc2lkZVNlZ21lbnRTcSArIChpbnNpZGVXZWlnaHQgKiBpbnNpZGVXZWlnaHQgKiB3aWR0aFNxdWFyZWQpO1xuICAgICAgICB2YXIgaW5zaWRlTWl0ZXJPayA9IHBkaXN0IDw9IHNtYWxsZXJJbnNpZGVEaWFnb25hbFNxO1xuICAgICAgICBpZiAoaW5zaWRlTWl0ZXJPaykge1xuICAgICAgICAgICAgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5CRVZFTCB8fCBwZGlzdCAvIHdpZHRoU3F1YXJlZCA+IG1pdGVyTGltaXRTcXVhcmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkgLyogcm90YXRpbmcgYXQgaW5uZXIgYW5nbGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSAvKiByb3RhdGluZyBhdCBvdXRlciBhbmdsZSAqLyB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIGlubmVyIHZlcnRleFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uUk9VTkQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSAvKiBhcmMgaXMgb3V0c2lkZSAqLyB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCksIHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyA0O1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgLyogYXJjIGlzIGluc2lkZSAqLyB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpLCB2ZXJ0cywgZmFsc2UpICsgNDtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgLy8gaW5zaWRlIG1pdGVyIGlzIE5PVCBva1xuICAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3MgaW5uZXIgdmVydGV4XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uQkVWRUwgfHwgcGRpc3QgLyB3aWR0aFNxdWFyZWQgPiBtaXRlckxpbWl0U3F1YXJlZCkgO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLlJPVU5EKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkgLyogYXJjIGlzIG91dHNpZGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIHRydWUpICsgMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSAvKiBhcmMgaXMgaW5zaWRlICovIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCksIHZlcnRzLCBmYWxzZSkgKyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpOyAvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBpbm5lciB2ZXJ0ZXhcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHgwID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHkwID0gcG9pbnRzWygobGVuZ3RoIC0gMikgKiAyKSArIDFdO1xuICAgIHgxID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHkxID0gcG9pbnRzWygobGVuZ3RoIC0gMSkgKiAyKSArIDFdO1xuICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICBwZXJweSA9IHgwIC0geDE7XG4gICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcbiAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgIGlmICghY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB5MSAtIChwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgZmFsc2UpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlNRVUFSRSkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSBzcXVhcmUoeDEsIHkxLCBwZXJweCwgcGVycHksIGlubmVyV2VpZ2h0LCBvdXRlcldlaWdodCwgZmFsc2UsIHZlcnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICB2YXIgZXBzMiA9IEdSQVBISUNTX0NVUlZFUy5lcHNpbG9uICogR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb247XG4gICAgLy8gaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQpO1xuICAgIGZvciAodmFyIGkgPSBpbmRleFN0YXJ0OyBpIDwgaW5kZXhDb3VudCArIGluZGV4U3RhcnQgLSAyOyArK2kpIHtcbiAgICAgICAgeDAgPSB2ZXJ0c1soaSAqIDIpXTtcbiAgICAgICAgeTAgPSB2ZXJ0c1soaSAqIDIpICsgMV07XG4gICAgICAgIHgxID0gdmVydHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICB5MSA9IHZlcnRzWygoaSArIDEpICogMikgKyAxXTtcbiAgICAgICAgeDIgPSB2ZXJ0c1soaSArIDIpICogMl07XG4gICAgICAgIHkyID0gdmVydHNbKChpICsgMikgKiAyKSArIDFdO1xuICAgICAgICAvKiBTa2lwIHplcm8gYXJlYSB0cmlhbmdsZXMgKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKCh4MCAqICh5MSAtIHkyKSkgKyAoeDEgKiAoeTIgLSB5MCkpICsgKHgyICogKHkwIC0geTEpKSkgPCBlcHMyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmRpY2VzLnB1c2goaSwgaSArIDEsIGkgKyAyKTtcbiAgICB9XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICB7IHJldHVybjsgfVxuICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgc3RhcnRJbmRleCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kgKiAyXSwgcG9pbnRzWyhpICogMikgKyAxXSk7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIGN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICB9XG4gICAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIHN0YXJ0SW5kZXgpO1xuICAgIH1cbn1cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIGlmIChncmFwaGljc0RhdGEubGluZVN0eWxlLm5hdGl2ZSkge1xuICAgICAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGFyYyBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEFyY1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyY1V0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjVG8oKSBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHMgb24gdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIFwiYm9ycm93ZWRcIiBmcm9tIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZnhjYW52YXMvIC0gdGhhbmtzIGdvb2dsZSFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYXJjXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBJZiB0aGUgYXJjIGxlbmd0aCBpcyB2YWxpZCwgcmV0dXJuIGNlbnRlciBvZiBjaXJjbGUsIHJhZGl1cyBhbmQgb3RoZXIgaW5mbyBvdGhlcndpc2UgYG51bGxgLlxuICAgICAqL1xuICAgIEFyY1V0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBhMSA9IGZyb21ZIC0geTE7XG4gICAgICAgIHZhciBiMSA9IGZyb21YIC0geDE7XG4gICAgICAgIHZhciBhMiA9IHkyIC0geTE7XG4gICAgICAgIHZhciBiMiA9IHgyIC0geDE7XG4gICAgICAgIHZhciBtbSA9IE1hdGguYWJzKChhMSAqIGIyKSAtIChiMSAqIGEyKSk7XG4gICAgICAgIGlmIChtbSA8IDEuMGUtOCB8fCByYWRpdXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGQgPSAoYTEgKiBhMSkgKyAoYjEgKiBiMSk7XG4gICAgICAgIHZhciBjYyA9IChhMiAqIGEyKSArIChiMiAqIGIyKTtcbiAgICAgICAgdmFyIHR0ID0gKGExICogYTIpICsgKGIxICogYjIpO1xuICAgICAgICB2YXIgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgICAgIHZhciBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICAgICAgdmFyIGoxID0gazEgKiB0dCAvIGRkO1xuICAgICAgICB2YXIgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgICAgIHZhciBjeCA9IChrMSAqIGIyKSArIChrMiAqIGIxKTtcbiAgICAgICAgdmFyIGN5ID0gKGsxICogYTIpICsgKGsyICogYTEpO1xuICAgICAgICB2YXIgcHggPSBiMSAqIChrMiArIGoxKTtcbiAgICAgICAgdmFyIHB5ID0gYTEgKiAoazIgKyBqMSk7XG4gICAgICAgIHZhciBxeCA9IGIyICogKGsxICsgajIpO1xuICAgICAgICB2YXIgcXkgPSBhMiAqIChrMSArIGoyKTtcbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKHB5IC0gY3ksIHB4IC0gY3gpO1xuICAgICAgICB2YXIgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKHF5IC0gY3ksIHF4IC0gY3gpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3g6IChjeCArIHgxKSxcbiAgICAgICAgICAgIGN5OiAoY3kgKyB5MSksXG4gICAgICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGUsXG4gICAgICAgICAgICBhbnRpY2xvY2t3aXNlOiAoYjEgKiBhMiA+IGIyICogYTEpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCAtIFN0YXJ0IHggbG9jYXRpb24gb2YgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSAtIFN0YXJ0IHkgbG9jYXRpb24gb2YgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYW50aWNsb2Nrd2lzZSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBDb2xsZWN0aW9uIG9mIHBvaW50cyB0byBhZGQgdG9cbiAgICAgKi9cbiAgICBBcmNVdGlscy5hcmMgPSBmdW5jdGlvbiAoX3N0YXJ0WCwgX3N0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBfYW50aWNsb2Nrd2lzZSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoTWF0aC5hYnMoc3dlZXApICogcmFkaXVzLCBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gUElfMikgKiA0MCk7XG4gICAgICAgIHZhciB0aGV0YSA9IChzd2VlcCkgLyAobiAqIDIpO1xuICAgICAgICB2YXIgdGhldGEyID0gdGhldGEgKiAyO1xuICAgICAgICB2YXIgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgICB2YXIgc1RoZXRhID0gTWF0aC5zaW4odGhldGEpO1xuICAgICAgICB2YXIgc2VnTWludXMgPSBuIC0gMTtcbiAgICAgICAgdmFyIHJlbWFpbmRlciA9IChzZWdNaW51cyAlIDEpIC8gc2VnTWludXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHNlZ01pbnVzOyArK2kpIHtcbiAgICAgICAgICAgIHZhciByZWFsID0gaSArIChyZW1haW5kZXIgKiBpKTtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9ICgodGhldGEpICsgc3RhcnRBbmdsZSArICh0aGV0YTIgKiByZWFsKSk7XG4gICAgICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHZhciBzID0gLU1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKCgoKGNUaGV0YSAqIGMpICsgKHNUaGV0YSAqIHMpKSAqIHJhZGl1cykgKyBjeCwgKCgoY1RoZXRhICogLXMpICsgKHNUaGV0YSAqIGMpKSAqIHJhZGl1cykgKyBjeSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBcmNVdGlscztcbn0oKSk7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBiZXppZXIgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCZXppZXJVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCZXppZXJVdGlscygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBiZXppZXIgY3VydmUuXG4gICAgICogQW5hbHl0aWNhbCBzb2x1dGlvbiBpcyBpbXBvc3NpYmxlLCBzaW5jZSBpdCBpbnZvbHZlcyBhbiBpbnRlZ3JhbCB0aGF0IGRvZXMgbm90IGludGVncmF0ZSBpbiBnZW5lcmFsLlxuICAgICAqIFRoZXJlZm9yZSBudW1lcmljYWwgc29sdXRpb24gaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gU3RhcnRpbmcgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIFN0YXJ0aW5nIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aCBvZiBiZXppZXIgY3VydmVcbiAgICAgKi9cbiAgICBCZXppZXJVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgICAgICB2YXIgbiA9IDEwO1xuICAgICAgICB2YXIgcmVzdWx0ID0gMC4wO1xuICAgICAgICB2YXIgdCA9IDAuMDtcbiAgICAgICAgdmFyIHQyID0gMC4wO1xuICAgICAgICB2YXIgdDMgPSAwLjA7XG4gICAgICAgIHZhciBudCA9IDAuMDtcbiAgICAgICAgdmFyIG50MiA9IDAuMDtcbiAgICAgICAgdmFyIG50MyA9IDAuMDtcbiAgICAgICAgdmFyIHggPSAwLjA7XG4gICAgICAgIHZhciB5ID0gMC4wO1xuICAgICAgICB2YXIgZHggPSAwLjA7XG4gICAgICAgIHZhciBkeSA9IDAuMDtcbiAgICAgICAgdmFyIHByZXZYID0gZnJvbVg7XG4gICAgICAgIHZhciBwcmV2WSA9IGZyb21ZO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHQgPSBpIC8gbjtcbiAgICAgICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgICAgICB0MyA9IHQyICogdDtcbiAgICAgICAgICAgIG50ID0gKDEuMCAtIHQpO1xuICAgICAgICAgICAgbnQyID0gbnQgKiBudDtcbiAgICAgICAgICAgIG50MyA9IG50MiAqIG50O1xuICAgICAgICAgICAgeCA9IChudDMgKiBmcm9tWCkgKyAoMy4wICogbnQyICogdCAqIGNwWCkgKyAoMy4wICogbnQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKTtcbiAgICAgICAgICAgIHkgPSAobnQzICogZnJvbVkpICsgKDMuMCAqIG50MiAqIHQgKiBjcFkpICsgKDMgKiBudCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpO1xuICAgICAgICAgICAgZHggPSBwcmV2WCAtIHg7XG4gICAgICAgICAgICBkeSA9IHByZXZZIC0geTtcbiAgICAgICAgICAgIHByZXZYID0geDtcbiAgICAgICAgICAgIHByZXZZID0geTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqXG4gICAgICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gICAgICpcbiAgICAgKiBAaWdub3JlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gICAgICovXG4gICAgQmV6aWVyVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHBvaW50cykge1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KEJlemllclV0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSk7XG4gICAgICAgIHZhciBkdCA9IDA7XG4gICAgICAgIHZhciBkdDIgPSAwO1xuICAgICAgICB2YXIgZHQzID0gMDtcbiAgICAgICAgdmFyIHQyID0gMDtcbiAgICAgICAgdmFyIHQzID0gMDtcbiAgICAgICAgcG9pbnRzLnB1c2goZnJvbVgsIGZyb21ZKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAgICAgZHQgPSAoMSAtIGopO1xuICAgICAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgICAgIGR0MyA9IGR0MiAqIGR0O1xuICAgICAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgICAgIHQzID0gdDIgKiBqO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksIChkdDMgKiBmcm9tWSkgKyAoMyAqIGR0MiAqIGogKiBjcFkpICsgKDMgKiBkdCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJlemllclV0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIHF1YWRyYXRpYyBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFF1YWRyYXRpY1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFF1YWRyYXRpY1V0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly93d3cubWFsY3phay5saW51eHBsLmNvbS9ibG9nL3F1YWRyYXRpYy1iZXppZXItY3VydmUtbGVuZ3RoL31cbiAgICAgKiBmb3IgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9mIG1hdGggYmVoaW5kIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKi9cbiAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICB2YXIgYXggPSBmcm9tWCAtICgyLjAgKiBjcFgpICsgdG9YO1xuICAgICAgICB2YXIgYXkgPSBmcm9tWSAtICgyLjAgKiBjcFkpICsgdG9ZO1xuICAgICAgICB2YXIgYnggPSAoMi4wICogY3BYKSAtICgyLjAgKiBmcm9tWCk7XG4gICAgICAgIHZhciBieSA9ICgyLjAgKiBjcFkpIC0gKDIuMCAqIGZyb21ZKTtcbiAgICAgICAgdmFyIGEgPSA0LjAgKiAoKGF4ICogYXgpICsgKGF5ICogYXkpKTtcbiAgICAgICAgdmFyIGIgPSA0LjAgKiAoKGF4ICogYngpICsgKGF5ICogYnkpKTtcbiAgICAgICAgdmFyIGMgPSAoYnggKiBieCkgKyAoYnkgKiBieSk7XG4gICAgICAgIHZhciBzID0gMi4wICogTWF0aC5zcXJ0KGEgKyBiICsgYyk7XG4gICAgICAgIHZhciBhMiA9IE1hdGguc3FydChhKTtcbiAgICAgICAgdmFyIGEzMiA9IDIuMCAqIGEgKiBhMjtcbiAgICAgICAgdmFyIGMyID0gMi4wICogTWF0aC5zcXJ0KGMpO1xuICAgICAgICB2YXIgYmEgPSBiIC8gYTI7XG4gICAgICAgIHJldHVybiAoKGEzMiAqIHMpXG4gICAgICAgICAgICArIChhMiAqIGIgKiAocyAtIGMyKSlcbiAgICAgICAgICAgICsgKCgoNC4wICogYyAqIGEpIC0gKGIgKiBiKSlcbiAgICAgICAgICAgICAgICAqIE1hdGgubG9nKCgoMi4wICogYTIpICsgYmEgKyBzKSAvIChiYSArIGMyKSkpKSAvICg0LjAgKiBhMzIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byBhZGQgc2VnbWVudHMgdG8uXG4gICAgICovXG4gICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cykge1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChRdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkpO1xuICAgICAgICB2YXIgeGEgPSAwO1xuICAgICAgICB2YXIgeWEgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBqID0gaSAvIG47XG4gICAgICAgICAgICB4YSA9IGZyb21YICsgKChjcFggLSBmcm9tWCkgKiBqKTtcbiAgICAgICAgICAgIHlhID0gZnJvbVkgKyAoKGNwWSAtIGZyb21ZKSAqIGopO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoKChjcFggKyAoKHRvWCAtIGNwWCkgKiBqKSkgLSB4YSkgKiBqKSwgeWEgKyAoKChjcFkgKyAoKHRvWSAtIGNwWSkgKiBqKSkgLSB5YSkgKiBqKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBRdWFkcmF0aWNVdGlscztcbn0oKSk7XG5cbi8qKlxuICogQSBzdHJ1Y3R1cmUgdG8gaG9sZCBpbnRlcmltIGJhdGNoIG9iamVjdHMgZm9yIEdyYXBoaWNzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKi9cbnZhciBCYXRjaFBhcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hQYXJ0KCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJlZ2luIGJhdGNoIHBhcnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdHRyaWJTdGFydFxuICAgICAqL1xuICAgIEJhdGNoUGFydC5wcm90b3R5cGUuYmVnaW4gPSBmdW5jdGlvbiAoc3R5bGUsIHN0YXJ0SW5kZXgsIGF0dHJpYlN0YXJ0KSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5hdHRyaWJTdGFydCA9IGF0dHJpYlN0YXJ0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5kIGJhdGNoIHBhcnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRJbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBdHRyaWJcbiAgICAgKi9cbiAgICBCYXRjaFBhcnQucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChlbmRJbmRleCwgZW5kQXR0cmliKSB7XG4gICAgICAgIHRoaXMuYXR0cmliU2l6ZSA9IGVuZEF0dHJpYiAtIHRoaXMuYXR0cmliU3RhcnQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGVuZEluZGV4IC0gdGhpcy5zdGFydDtcbiAgICB9O1xuICAgIEJhdGNoUGFydC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliU2l6ZSA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hQYXJ0O1xufSgpKTtcblxuLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIEdyYXBoaWNzLlxuICpcbiAqIEBuYW1lc3BhY2UgZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIF9hO1xuLyoqXG4gKiBNYXAgb2YgZmlsbCBjb21tYW5kcyBmb3IgZWFjaCBzaGFwZSB0eXBlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge09iamVjdH0gRklMTF9DT01NQU5EU1xuICovXG52YXIgRklMTF9DT01NQU5EUyA9IChfYSA9IHt9LFxuICAgIF9hW1NIQVBFUy5QT0xZXSA9IGJ1aWxkUG9seSxcbiAgICBfYVtTSEFQRVMuQ0lSQ10gPSBidWlsZENpcmNsZSxcbiAgICBfYVtTSEFQRVMuRUxJUF0gPSBidWlsZENpcmNsZSxcbiAgICBfYVtTSEFQRVMuUkVDVF0gPSBidWlsZFJlY3RhbmdsZSxcbiAgICBfYVtTSEFQRVMuUlJFQ10gPSBidWlsZFJvdW5kZWRSZWN0YW5nbGUsXG4gICAgX2EpO1xuLyoqXG4gKiBCYXRjaCBwb29sLCBzdG9yZXMgdW51c2VkIGJhdGNoZXMgZm9yIHByZXZlbnRpbmcgYWxsb2NhdGlvbnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlciB7QXJyYXk8UElYSS5ncmFwaGljc1V0aWxzLkJhdGNoUGFydD59IEJBVENIX1BPT0xcbiAqL1xudmFyIEJBVENIX1BPT0wgPSBbXTtcbi8qKlxuICogRHJhdyBjYWxsIHBvb2wsIHN0b3JlcyB1bnVzZWQgZHJhdyBjYWxscyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJhdGNoRHJhd0NhbGw+fSBEUkFXX0NBTExfUE9PTFxuICovXG52YXIgRFJBV19DQUxMX1BPT0wgPSBbXTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbnRhaW4gZGF0YSB1c2VmdWwgZm9yIEdyYXBoaWNzIG9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBbZmlsbFN0eWxlXSAtIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gW2xpbmVTdHlsZV0gLSB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB2b2lkIDApIHsgZmlsbFN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobGluZVN0eWxlID09PSB2b2lkIDApIHsgbGluZVN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgbGluZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgcG9pbnRzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBob2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaG9sZXMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEodGhpcy5zaGFwZSwgdGhpcy5maWxsU3R5bGUsIHRoaXMubGluZVN0eWxlLCB0aGlzLm1hdHJpeCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3MgZGF0YS5cbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR3JhcGhpY3NEYXRhO1xufSgpKTtcblxudmFyIHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdG1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogR3JhcGhpY3NHZW9tZXRyeSBpcyBkZXNpZ25lZCB0byBub3QgYmUgY29udGludWFsbHkgdXBkYXRpbmcgdGhlIGdlb21ldHJ5IHNpbmNlIGl0J3MgZXhwZW5zaXZlXG4gKiB0byByZS10ZXNzZWxhdGUgdXNpbmcgKiplYXJjdXQqKi4gQ29uc2lkZXIgdXNpbmcge0BsaW5rIFBJWEkuTWVzaH0gZm9yIHRoaXMgdXNlLWNhc2UsIGl0J3MgbXVjaCBmYXN0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhdGNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0dlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljc0dlb21ldHJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3LCAyIG51bWJlcnMgcGVyIHBvaW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGNvbG9yc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVVZzIGNvbGxlY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgSURzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZHJhd24gc2hhcGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlcyBuZWVkIHRvIHJlZ2VuZXJhdGVkIGlmIHRoZSBnZW9tZXRyeSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgdGhlIGNhY2hlIGlzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyZWQgdGhlIGdyYXBoaWNzRGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyRGlydHkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBjdXJyZW50IGRyYXcgY2FsbHMgZHJpdmVkIGZyb20gdGhlIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmF3Q2FsbHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybWVkaWF0ZSBhYnN0cmFjdCBmb3JtYXQgc2VudCB0byBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIENhbiBiZSBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzIG9yIHRvIGJhdGNoYWJsZSBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmdyYXBoaWNzVXRpbHMuQmF0Y2hQYXJ0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IG9mIHRoZSBsYXN0IGJhdGNoZWQgc2hhcGUgaW4gdGhlIHN0YWNrIG9mIGNhbGxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYXBlSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIGRpcnR5IGZsYWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgdG8gYWRkIHRvIHRoZSBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzUGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLmJhdGNoYWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgX3RoaXMudXZzRmxvYXQzMiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pbWFsIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIHRoYXQgYXJlIGNvbnNpZGVyZWQgZGlmZmVyZW50LlxuICAgICAgICAgKiBBZmZlY3RzIGxpbmUgdGVzc2VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsb3NlUG9pbnRFcHMgPSAxZS00O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZSwgXCJib3VuZHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBnZW9tZXRyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2FsbCBpZiB5b3UgY2hhbmdlZCBncmFwaGljc0RhdGEgbWFudWFsbHkuXG4gICAgICogRW1wdGllcyBhbGwgYmF0Y2ggYnVmZmVycy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LnJlc2V0KCk7XG4gICAgICAgICAgICBCQVRDSF9QT09MLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFRoaXMgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGV9IGZpbGxTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gbGluZVN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgbGluZXMuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbiAoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdm9pZCAwKSB7IGZpbGxTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKGxpbmVTdHlsZSA9PT0gdm9pZCAwKSB7IGxpbmVTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG1hdHJpeCA9PT0gdm9pZCAwKSB7IG1hdHJpeCA9IG51bGw7IH1cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KTtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3SG9sZSA9IGZ1bmN0aW9uIChzaGFwZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIG51bGwsIG51bGwsIG1hdHJpeCk7XG4gICAgICAgIHZhciBsYXN0U2hhcGUgPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuICAgICAgICBsYXN0U2hhcGUuaG9sZXMucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljc0dlb21ldHJ5IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgYSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSBQb2ludCB0byBjaGVjayBpZiBpdCdzIGNvbnRhaW5lZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsU3R5bGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXRyaXguYXBwbHlJbnZlcnNlKHBvaW50LCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb2ludC5jb3B5RnJvbShwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoaXRIb2xlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbaV8xXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRIb2xlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGl0SG9sZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FsbG93MzJJbmRpY2VzXSAtIEFsbG93IHVzaW5nIDMyLWJpdCBpbmRpY2VzIGZvciBwcmV2ZW50aW5nIGFydGlmYWN0cyB3aGVuIG1vcmUgdGhhdCA2NTUzNSB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZUJhdGNoZXMgPSBmdW5jdGlvbiAoYWxsb3czMkluZGljZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVCYXRjaGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWNoZURpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG4gICAgICAgIHZhciBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICB2YXIgY3VycmVudFN0eWxlID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbdGhpcy5iYXRjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY3VycmVudFN0eWxlID0gYmF0Y2hQYXJ0LnN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnNoYXBlSW5kZXg7IGkgPCBncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcGVJbmRleCsrO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgZmlsbFN0eWxlID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICB2YXIgbGluZVN0eWxlID0gZGF0YS5saW5lU3R5bGU7XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcbiAgICAgICAgICAgIC8vIGJ1aWxkIG91dCB0aGUgc2hhcGVzIHBvaW50cy4uXG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGRhdGEpO1xuICAgICAgICAgICAgaWYgKGRhdGEubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoZGF0YS5wb2ludHMsIGRhdGEubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gKGogPT09IDApID8gZmlsbFN0eWxlIDogbGluZVN0eWxlO1xuICAgICAgICAgICAgICAgIGlmICghc3R5bGUudmlzaWJsZSlcbiAgICAgICAgICAgICAgICAgICAgeyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4XzEgPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJJbmRleCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NGaWxsKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTGluZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSAodGhpcy5wb2ludHMubGVuZ3RoIC8gMikgLSBhdHRyaWJJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgeyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIGJhdGNoIGlmIHN0eWxlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnQgJiYgIXRoaXMuX2NvbXBhcmVTdHlsZXMoY3VycmVudFN0eWxlLCBzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleF8xLCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNwYXduIG5ldyBiYXRjaCBpZiBpdHMgZmlyc3QgYmF0Y2ggb3IgcHJldmlvdXMgd2FzIGNsb3NlZFxuICAgICAgICAgICAgICAgIGlmICghYmF0Y2hQYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IEJBVENIX1BPT0wucG9wKCkgfHwgbmV3IEJhdGNoUGFydCgpO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuYmVnaW4oc3R5bGUsIGluZGV4XzEsIGF0dHJpYkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaGVzLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVXZzKHRoaXMucG9pbnRzLCB1dnMsIHN0eWxlLnRleHR1cmUsIGF0dHJpYkluZGV4LCBzaXplLCBzdHlsZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICBpZiAoYmF0Y2hQYXJ0KSB7XG4gICAgICAgICAgICBiYXRjaFBhcnQuZW5kKGluZGV4LCBhdHRyaWIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGVyZSBhcmUgbm8gdmlzaWJsZSBzdHlsZXMgaW4gR3JhcGhpY3NEYXRhXG4gICAgICAgICAgICAvLyBpdHMgcG9zc2libGUgdGhhdCBzb21lb25lIHdhbnRzIEdyYXBoaWNzIGp1c3QgZm9yIHRoZSBib3VuZHNcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmV2ZW50IGFsbG9jYXRpb24gd2hlbiBsZW5ndGggaXMgc2FtZSBhcyBidWZmZXJcbiAgICAgICAgaWYgKHRoaXMuaW5kaWNlc1VpbnQxNiAmJiB0aGlzLmluZGljZXMubGVuZ3RoID09PSB0aGlzLmluZGljZXNVaW50MTYubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmluZGljZXNVaW50MTYuc2V0KHRoaXMuaW5kaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmVlZDMyID0gYXR0cmliID4gMHhmZmZmICYmIGFsbG93MzJJbmRpY2VzO1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2ID0gbmVlZDMyID8gbmV3IFVpbnQzMkFycmF5KHRoaXMuaW5kaWNlcykgOiBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBhIGNvbnN0Li5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0aGlzLmlzQmF0Y2hhYmxlKCk7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5wYWNrQmF0Y2hlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZmZpbml0eSBjaGVja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZUFcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlQlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLl9jb21wYXJlU3R5bGVzID0gZnVuY3Rpb24gKHN0eWxlQSwgc3R5bGVCKSB7XG4gICAgICAgIGlmICghc3R5bGVBIHx8ICFzdHlsZUIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVBLnRleHR1cmUuYmFzZVRleHR1cmUgIT09IHN0eWxlQi50ZXh0dXJlLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlQS5jb2xvciArIHN0eWxlQS5hbHBoYSAhPT0gc3R5bGVCLmNvbG9yICsgc3R5bGVCLmFscGhhKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhc3R5bGVBLm5hdGl2ZSAhPT0gISFzdHlsZUIubmF0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGdlb21ldHJ5IGZvciBiYXRjaGluZyBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnZhbGlkYXRlQmF0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ID09PSB0aGlzLmNhY2hlRGlydHkgfHwgIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGwgPSBkYXRhLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gZGF0YS5saW5lU3R5bGU7XG4gICAgICAgICAgICBpZiAoZmlsbCAmJiAhZmlsbC50ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICBpZiAobGluZSAmJiAhbGluZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPZmZzZXQgdGhlIGluZGljZXMgc28gdGhhdCBpdCB3b3JrcyB3aXRoIHRoZSBiYXRjaGVyLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnBhY2tCYXRjaGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnV2cyk7XG4gICAgICAgIHZhciBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiYXRjaC5zaXplOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBiYXRjaC5zdGFydCArIGo7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2W2luZGV4XSA9IHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gLSBiYXRjaC5hdHRyaWJTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiB0aGlzIGdyYXBoaWNzIGdlb21ldHJ5IGNhbiBiZSBiYXRjaGVkLlxuICAgICAqIEN1cnJlbnRseSBpdCBuZWVkcyB0byBiZSBzbWFsbCBlbm91Z2ggYW5kIG5vdCBjb250YWluIGFueSBuYXRpdmUgbGluZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuaXNCYXRjaGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHByZXZlbnQgaGVhdnkgbWVzaCBiYXRjaGluZ1xuICAgICAgICBpZiAodGhpcy5wb2ludHMubGVuZ3RoID4gMHhmZmZmICogMikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChiYXRjaGVzW2ldLnN0eWxlLm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMucG9pbnRzLmxlbmd0aCA8IEdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgKiAyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGludGVybWVkaWF0ZSBiYXRjaGVzIGRhdGEgdG8gZHJhd0NhbGxzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkRHJhd0NhbGxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdDYWxsc1tpXS50ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICB2YXIgdGV4dHVyZUlkcyA9IHRoaXMudGV4dHVyZUlkcztcbiAgICAgICAgdmFyIGN1cnJlbnRHcm91cCA9IERSQVdfQ0FMTF9QT09MLnBvcCgpO1xuICAgICAgICBpZiAoIWN1cnJlbnRHcm91cCkge1xuICAgICAgICAgICAgY3VycmVudEdyb3VwID0gbmV3IEJhdGNoRHJhd0NhbGwoKTtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheSA9IG5ldyBCYXRjaFRleHR1cmVBcnJheSgpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdmFyIHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHZhciB0ZXh0dXJlSWQgPSAwO1xuICAgICAgICB2YXIgbmF0aXZlID0gZmFsc2U7XG4gICAgICAgIHZhciBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB0aGlzLmRyYXdDYWxscy5wdXNoKGN1cnJlbnRHcm91cCk7XG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIHNvbWUgZnVsbCBvbiBNQVhfVEVYVFVSRSBDT0RFLi5cbiAgICAgICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSA4O1xuICAgICAgICAgICAgLy8gRm9yY2VkIGNhc3QgZm9yIGNoZWNraW5nIGBuYXRpdmVgIHdpdGhvdXQgZXJyb3JzXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBkYXRhLnN0eWxlO1xuICAgICAgICAgICAgdmFyIG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChuYXRpdmUgIT09ICEhc3R5bGUubmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlID0gISFzdHlsZS5uYXRpdmU7XG4gICAgICAgICAgICAgICAgZHJhd01vZGUgPSBuYXRpdmUgPyBEUkFXX01PREVTLkxJTkVTIDogRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGJhdGNoIHRvIGJyZWFrIVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSBNQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRHcm91cC5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IERSQVdfQ0FMTF9QT09MLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheSA9IG5ldyBCYXRjaFRleHR1cmVBcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdDYWxscy5wdXNoKGN1cnJlbnRHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IGRyYXdNb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gYWRkIHRoaXMgdG8gdGhlIHJlbmRlciBwYXJ0Li5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFjayEgQmVjYXVzZSB0ZXh0dXJlIGhhcyBwcm90ZWN0ZWQgYHRvdWNoZWRgXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSAxOyAvLyB0b3VjaDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uID0gdGV4dHVyZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuZWxlbWVudHNbY3VycmVudEdyb3VwLnRleEFycmF5LmNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplICs9IGRhdGEuc2l6ZTtcbiAgICAgICAgICAgIGluZGV4ICs9IGRhdGEuc2l6ZTtcbiAgICAgICAgICAgIHRleHR1cmVJZCA9IG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uO1xuICAgICAgICAgICAgdGhpcy5hZGRDb2xvcnMoY29sb3JzLCBzdHlsZS5jb2xvciwgc3R5bGUuYWxwaGEsIGRhdGEuYXR0cmliU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFkZFRleHR1cmVJZHModGV4dHVyZUlkcywgdGV4dHVyZUlkLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICB9XG4gICAgICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IFRJQ0s7XG4gICAgICAgIC8vIHVwbG9hZC4uXG4gICAgICAgIC8vIG1lcmdlIGZvciBub3chXG4gICAgICAgIHRoaXMucGFja0F0dHJpYnV0ZXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhY2tzIGF0dHJpYnV0ZXMgdG8gc2luZ2xlIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQXR0cmlidXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICB2YXIgdGV4dHVyZUlkcyA9IHRoaXMudGV4dHVyZUlkcztcbiAgICAgICAgLy8gdmVydHMgYXJlIDIgcG9zaXRpb25zLi4gc28gd2UgKiBieSAzIGFzIHRoZXJlIGFyZSA2IHByb3BlcnRpZXMuLiB0aGVuIDQgY29zIGl0cyBieXRlc1xuICAgICAgICB2YXIgZ2xQb2ludHMgPSBuZXcgQXJyYXlCdWZmZXIodmVydHMubGVuZ3RoICogMyAqIDQpO1xuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIHZhciB1MzIgPSBuZXcgVWludDMyQXJyYXkoZ2xQb2ludHMpO1xuICAgICAgICB2YXIgcCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbaSAqIDJdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdTMyW3ArK10gPSBjb2xvcnNbaV07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHRleHR1cmVJZHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyLnVwZGF0ZShnbFBvaW50cyk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyLnVwZGF0ZSh0aGlzLmluZGljZXNVaW50MTYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBmaWxsIHBhcnQgb2YgR3JhcGhpY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NGaWxsID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuaG9sZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NIb2xlcyhkYXRhLmhvbGVzKTtcbiAgICAgICAgICAgIGJ1aWxkUG9seS50cmlhbmd1bGF0ZShkYXRhLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gRklMTF9DT01NQU5EU1tkYXRhLnR5cGVdO1xuICAgICAgICAgICAgY29tbWFuZC50cmlhbmd1bGF0ZShkYXRhLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBsaW5lIHBhcnQgb2YgR3JhcGhpY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NMaW5lID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgYnVpbGRMaW5lKGRhdGEsIHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJ1aWxkTGluZShkYXRhLmhvbGVzW2ldLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaG9sZXMgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGFbXX0gaG9sZXMgLSBIb2xlcyB0byByZW5kZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucHJvY2Vzc0hvbGVzID0gZnVuY3Rpb24gKGhvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBob2xlID0gaG9sZXNbaV07XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbaG9sZS50eXBlXTtcbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoaG9sZSk7XG4gICAgICAgICAgICBpZiAoaG9sZS5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhob2xlLnBvaW50cywgaG9sZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBFeHBlbnNpdmUgdG8gdXNlIHBlcmZvcm1hbmNlLXdpc2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICB2YXIgc2VxdWVuY2VCb3VuZHMgPSB0bXBCb3VuZHM7XG4gICAgICAgIHZhciBjdXJNYXRyaXggPSBNYXRyaXguSURFTlRJVFk7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgICAgICBzZXF1ZW5jZUJvdW5kcy5jbGVhcigpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gZGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIG5leHRNYXRyaXggPSBkYXRhLm1hdHJpeCB8fCBNYXRyaXguSURFTlRJVFk7XG4gICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gMC4wO1xuICAgICAgICAgICAgaWYgKGxpbmVTdHlsZSAmJiBsaW5lU3R5bGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBhbGlnbm1lbnQgPSBsaW5lU3R5bGUuYWxpZ25tZW50O1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVTdHlsZS53aWR0aDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID0gbGluZVdpZHRoICogKDAuNSArIE1hdGguYWJzKDAuNSAtIGFsaWdubWVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID0gbGluZVdpZHRoICogTWF0aC5tYXgoMCwgYWxpZ25tZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VyTWF0cml4ICE9PSBuZXh0TWF0cml4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXF1ZW5jZUJvdW5kcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyTWF0cml4ID0gbmV4dE1hdHJpeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlID09PSBTSEFQRVMuUkVDVCB8fCB0eXBlID09PSBTSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgIHZhciByZWN0ID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQocmVjdC54LCByZWN0LnksIHJlY3QueCArIHJlY3Qud2lkdGgsIHJlY3QueSArIHJlY3QuaGVpZ2h0LCBsaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuQ0lSQykge1xuICAgICAgICAgICAgICAgIHZhciBjaXJjbGUgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZUJvdW5kcy5hZGRGcmFtZVBhZChjaXJjbGUueCwgY2lyY2xlLnksIGNpcmNsZS54LCBjaXJjbGUueSwgY2lyY2xlLnJhZGl1cyArIGxpbmVXaWR0aCwgY2lyY2xlLnJhZGl1cyArIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGxpcHNlID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQoZWxsaXBzZS54LCBlbGxpcHNlLnksIGVsbGlwc2UueCwgZWxsaXBzZS55LCBlbGxpcHNlLndpZHRoICsgbGluZVdpZHRoLCBlbGxpcHNlLmhlaWdodCArIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIC8vIGFkZGluZyBkaXJlY3RseSB0byB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgYm91bmRzLmFkZFZlcnRpY2VzTWF0cml4KGN1ck1hdHJpeCwgcG9seS5wb2ludHMsIDAsIHBvbHkucG9pbnRzLmxlbmd0aCwgbGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBib3VuZHMuYWRkQm91bmRzTWF0cml4KHNlcXVlbmNlQm91bmRzLCBjdXJNYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIGJvdW5kcy5wYWQodGhpcy5ib3VuZHNQYWRkaW5nLCB0aGlzLmJvdW5kc1BhZGRpbmcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIHBvaW50cyB1c2luZyBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUG9pbnRzIHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHMgPSBmdW5jdGlvbiAocG9pbnRzLCBtYXRyaXgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHBvaW50c1soaSAqIDIpXTtcbiAgICAgICAgICAgIHZhciB5ID0gcG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpXSA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKSArIDFdID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGNvbG9ycy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcnMgLSBMaXN0IG9mIGNvbG9ycyB0byBhZGQgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSBDb2xvciB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBBbHBoYSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBjb2xvcnMgdG8gYWRkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkQ29sb3JzID0gZnVuY3Rpb24gKGNvbG9ycywgY29sb3IsIGFscGhhLCBzaXplKSB7XG4gICAgICAgIC8vIFRPRE8gdXNlIHRoZSBwcmVtdWx0aXBseSBiaXRzIEl2YW4gYWRkZWRcbiAgICAgICAgdmFyIHJnYiA9IChjb2xvciA+PiAxNikgKyAoY29sb3IgJiAweGZmMDApICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgdmFyIHJnYmEgPSBwcmVtdWx0aXBseVRpbnQocmdiLCBhbHBoYSk7XG4gICAgICAgIHdoaWxlIChzaXplLS0gPiAwKSB7XG4gICAgICAgICAgICBjb2xvcnMucHVzaChyZ2JhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIHRleHR1cmUgaWQgdGhhdCB0aGUgc2hhZGVyL2ZyYWdtZW50IHdhbnRzIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB0ZXh0dXJlSWRzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRUZXh0dXJlSWRzID0gZnVuY3Rpb24gKHRleHR1cmVJZHMsIGlkLCBzaXplKSB7XG4gICAgICAgIHdoaWxlIChzaXplLS0gPiAwKSB7XG4gICAgICAgICAgICB0ZXh0dXJlSWRzLnB1c2goaWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIFVWcyBmb3IgYSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB2ZXJ0cyAtIFZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIC0gVVZzXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBSZWZlcmVuY2UgdG8gVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIEluZGV4IGJ1ZmZlciBzdGFydCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplL2xlbmd0aCBmb3IgaW5kZXggYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gT3B0aW9uYWwgdHJhbnNmb3JtIGZvciBhbGwgcG9pbnRzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZFV2cyA9IGZ1bmN0aW9uICh2ZXJ0cywgdXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciB1dnNTdGFydCA9IHV2cy5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNpemUpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMl07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRzWygoc3RhcnQgKyBpbmRleCkgKiAyKSArIDFdO1xuICAgICAgICAgICAgaWYgKG1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHZhciBueCA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICAgICAgeSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgICAgICAgICAgeCA9IG54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBmcmFtZS53aWR0aCwgeSAvIGZyYW1lLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKGZyYW1lLndpZHRoIDwgYmFzZVRleHR1cmUud2lkdGhcbiAgICAgICAgICAgIHx8IGZyYW1lLmhlaWdodCA8IGJhc2VUZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RVdnModXZzLCB0ZXh0dXJlLCB1dnNTdGFydCwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1vZGlmeSB1dnMgYXJyYXkgYWNjb3JkaW5nIHRvIHBvc2l0aW9uIG9mIHRleHR1cmUgcmVnaW9uXG4gICAgICogRG9lcyBub3Qgd29yayB3aXRoIHJvdGF0ZWQgb3IgdHJpbW1lZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIC0gYXJyYXlcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHJlZ2lvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIHN0YXJ0aW5nIGluZGV4IGZvciB1dnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIGhvdyBtYW55IHBvaW50cyB0byBhZGp1c3RcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGp1c3RVdnMgPSBmdW5jdGlvbiAodXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZXBzID0gMWUtNjtcbiAgICAgICAgdmFyIGZpbmlzaCA9IHN0YXJ0ICsgKHNpemUgKiAyKTtcbiAgICAgICAgdmFyIGZyYW1lID0gdGV4dHVyZS5mcmFtZTtcbiAgICAgICAgdmFyIHNjYWxlWCA9IGZyYW1lLndpZHRoIC8gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIHZhciBzY2FsZVkgPSBmcmFtZS5oZWlnaHQgLyBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIHZhciBvZmZzZXRYID0gZnJhbWUueCAvIGZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgb2Zmc2V0WSA9IGZyYW1lLnkgLyBmcmFtZS5oZWlnaHQ7XG4gICAgICAgIHZhciBtaW5YID0gTWF0aC5mbG9vcih1dnNbc3RhcnRdICsgZXBzKTtcbiAgICAgICAgdmFyIG1pblkgPSBNYXRoLmZsb29yKHV2c1tzdGFydCArIDFdICsgZXBzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0ICsgMjsgaSA8IGZpbmlzaDsgaSArPSAyKSB7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgTWF0aC5mbG9vcih1dnNbaV0gKyBlcHMpKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBNYXRoLmZsb29yKHV2c1tpICsgMV0gKyBlcHMpKTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXRYIC09IG1pblg7XG4gICAgICAgIG9mZnNldFkgLT0gbWluWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHV2c1tpXSA9ICh1dnNbaV0gKyBvZmZzZXRYKSAqIHNjYWxlWDtcbiAgICAgICAgICAgIHV2c1tpICsgMV0gPSAodXZzW2kgKyAxXSArIG9mZnNldFkpICogc2NhbGVZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcG9pbnRzIHRvIGNvbnNpZGVyIGFuIG9iamVjdCBcImJhdGNoYWJsZVwiLFxuICAgICAqIGFibGUgdG8gYmUgYmF0Y2hlZCBieSB0aGUgcmVuZGVyZXIncyBiYXRjaCBzeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljc0dlb21ldHJ5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAgICAgKiBAZGVmYXVsdCAxMDBcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFID0gMTAwO1xuICAgIHJldHVybiBHcmFwaGljc0dlb21ldHJ5O1xufShCYXRjaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgbGluZSBzdHlsZSBmb3IgR3JhcGhpY3MuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbGxTdHlsZVxuICovXG52YXIgTGluZVN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaW5lU3R5bGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGluZVN0eWxlKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAodGhpY2tuZXNzKSBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiBhbnkgbGluZXMgZHJhd24gKDAuNSA9IG1pZGRsZSwgMSA9IG91dGVyLCAwID0gaW5uZXIpLiBXZWJHTCBvbmx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGluZSBjYXAgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTElORV9DQVB9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuTElORV9DQVAuQlVUVFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FwID0gTElORV9DQVAuQlVUVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbmUgam9pbiBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MSU5FX0pPSU59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuTElORV9KT0lOLk1JVEVSXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5qb2luID0gTElORV9KT0lOLk1JVEVSO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWl0ZXIgbGltaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pdGVyTGltaXQgPSAxMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5MaW5lU3R5bGV9XG4gICAgICovXG4gICAgTGluZVN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBMaW5lU3R5bGUoKTtcbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIG9iai53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIG9iai5hbGlnbm1lbnQgPSB0aGlzLmFsaWdubWVudDtcbiAgICAgICAgb2JqLm5hdGl2ZSA9IHRoaXMubmF0aXZlO1xuICAgICAgICBvYmouY2FwID0gdGhpcy5jYXA7XG4gICAgICAgIG9iai5qb2luID0gdGhpcy5qb2luO1xuICAgICAgICBvYmoubWl0ZXJMaW1pdCA9IHRoaXMubWl0ZXJMaW1pdDtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBsaW5lIHN0eWxlIHRvIGRlZmF1bHQuXG4gICAgICovXG4gICAgTGluZVN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBPdmVycmlkZSBkZWZhdWx0IGxpbmUgc3R5bGUgY29sb3JcbiAgICAgICAgdGhpcy5jb2xvciA9IDB4MDtcbiAgICAgICAgdGhpcy5hbGlnbm1lbnQgPSAwLjU7XG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICB0aGlzLm5hdGl2ZSA9IGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIExpbmVTdHlsZTtcbn0oRmlsbFN0eWxlKSk7XG5cbnZhciB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbi8vIGEgZGVmYXVsdCBzaGFkZXJzIG1hcCB1c2VkIGJ5IGdyYXBoaWNzLi5cbnZhciBERUZBVUxUX1NIQURFUlMgPSB7fTtcbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGlzIHByaW1hcmlseSB1c2VkIHRvIHJlbmRlciBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS4gIEhvd2V2ZXIsIHlvdSBjYW4gYWxzbyB1c2UgYSBHcmFwaGljc1xuICogb2JqZWN0IHRvIGJ1aWxkIGEgbGlzdCBvZiBwcmltaXRpdmVzIHRvIHVzZSBhcyBhIG1hc2ssIG9yIGFzIGEgY29tcGxleCBoaXRBcmVhLlxuICpcbiAqIFBsZWFzZSBub3RlIHRoYXQgZHVlIHRvIGxlZ2FjeSBuYW1pbmcgY29udmVudGlvbnMsIHRoZSBiZWhhdmlvciBvZiBzb21lIGZ1bmN0aW9ucyBpbiB0aGlzIGNsYXNzXG4gKiBjYW4gYmUgY29uZnVzaW5nLiAgRWFjaCBjYWxsIHRvIGBkcmF3UmVjdCgpYCwgYGRyYXdQb2x5Z29uKClgLCBldGMuIGFjdHVhbGx5IHN0b3JlcyB0aGF0IHByaW1pdGl2ZVxuICogaW4gdGhlIEdlb21ldHJ5IGNsYXNzJ3MgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QgZm9yIGxhdGVyIHVzZSBpbiByZW5kZXJpbmcgb3IgaGl0IHRlc3RpbmcgLSB0aGVcbiAqIGZ1bmN0aW9ucyBkbyBub3QgZGlyZWN0bHkgZHJhdyBhbnl0aGluZyB0byB0aGUgc2NyZWVuLiAgU2ltaWxhcmx5LCB0aGUgYGNsZWFyKClgIGZ1bmN0aW9uIGRvZXNuJ3RcbiAqIGNoYW5nZSB0aGUgc2NyZWVuLCBpdCBzaW1wbHkgcmVzZXRzIHRoZSBsaXN0IG9mIHByaW1pdGl2ZXMsIHdoaWNoIGNhbiBiZSB1c2VmdWwgaWYgeW91IHdhbnQgdG9cbiAqIHJlYnVpbGQgdGhlIGNvbnRlbnRzIG9mIGFuIGV4aXN0aW5nIEdyYXBoaWNzIG9iamVjdC5cbiAqXG4gKiBPbmNlIGEgR3JhcGhpY3NHZW9tZXRyeSBsaXN0IGlzIGJ1aWx0LCB5b3UgY2FuIHJlLXVzZSBpdCBpbiBvdGhlciBHZW9tZXRyeSBvYmplY3RzIGFzXG4gKiBhbiBvcHRpbWl6YXRpb24sIGJ5IHBhc3NpbmcgaXQgaW50byBhIG5ldyBHZW9tZXRyeSBvYmplY3QncyBjb25zdHJ1Y3Rvci4gIEJlY2F1c2Ugb2YgdGhpc1xuICogYWJpbGl0eSwgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgZGVzdHJveSgpYCBvbiBHZW9tZXRyeSBvYmplY3RzIG9uY2UgeW91IGFyZSBkb25lIHdpdGggdGhlbSwgdG9cbiAqIHByb3Blcmx5IGRlcmVmZXJlbmNlIGVhY2ggR3JhcGhpY3NHZW9tZXRyeSBhbmQgcHJldmVudCBtZW1vcnkgbGVha3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljcywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gW2dlb21ldHJ5PW51bGxdIC0gR2VvbWV0cnkgdG8gdXNlLCBpZiBvbWl0dGVkXG4gICAgICogICAgICAgIHdpbGwgY3JlYXRlIGEgbmV3IEdyYXBoaWNzR2VvbWV0cnkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3MoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKGdlb21ldHJ5ID09PSB2b2lkIDApIHsgZ2VvbWV0cnkgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIEdyYXBoaWNzIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGZpbGwgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9maWxsU3R5bGUgPSBuZXcgRmlsbFN0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxpbmUgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9saW5lU3R5bGUgPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHNoYXBlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaG9sZSBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9seWdvbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNhY2hlQXNCaXRtYXAgaXMgc2V0IHRvIHRydWUgdGhlIGdyYXBoaWNzIG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGlmIGl0IHdhcyBhIHNwcml0ZS5cbiAgICAgICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBncmFwaGljcyBlbGVtZW50IGRvZXMgbm90IGNoYW5nZSBvZnRlbiwgYXMgaXQgd2lsbCBzcGVlZCB1cCB0aGUgcmVuZGVyaW5nXG4gICAgICAgICAqIG9mIHRoZSBvYmplY3QgaW4gZXhjaGFuZ2UgZm9yIHRha2luZyB1cCB0ZXh0dXJlIG1lbW9yeS4gSXQgaXMgYWxzbyB1c2VmdWwgaWYgeW91IG5lZWQgdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB0byBiZSBhbnRpLWFsaWFzZWQsIGJlY2F1c2UgaXQgd2lsbCBiZSByZW5kZXJlZCB1c2luZyBjYW52YXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGlmXG4gICAgICAgICAqIHlvdSBhcmUgY29uc3RhbnRseSByZWRyYXdpbmcgdGhlIGdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIGNhY2hlQXNCaXRtYXBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3MjXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb2xsZWN0aW9ucyBvZiBiYXRjaGVzISBUaGVzZSBjYW4gYmUgZHJhd24gYnkgdGhlIHJlbmRlcmVyIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBkaXJ0eSBmb3IgbGltaXRpbmcgY2FsY3VsYXRpbmcgdGludHMgZm9yIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgZGlydHkgZm9yIGxpbWl0aW5nIGNhbGN1bGF0aW5nIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29weSBvZiB0aGUgb2JqZWN0IHZlcnRleCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJnZW9tZXRyeVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvciBHcmFwaGljcyBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgb25seSB0aGUgZ2VvbWV0cnkgb2YgdGhlIG9iamVjdCBpcyBjbG9uZWQsIG5vdCBpdHMgdHJhbnNmb3JtIChwb3NpdGlvbixzY2FsZSxldGMpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBBIGNsb25lIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICByZXR1cm4gbmV3IEdyYXBoaWNzKHRoaXMuX2dlb21ldHJ5KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuICBOb3RlIHRoYXQsIHNpbmNlIGVhY2hcbiAgICAgICAgICogcHJpbWl0aXZlIGluIHRoZSBHcmFwaGljc0dlb21ldHJ5IGxpc3QgaXMgcmVuZGVyZWQgc2VxdWVudGlhbGx5LCBtb2Rlc1xuICAgICAgICAgKiBzdWNoIGFzIGBQSVhJLkJMRU5EX01PREVTLkFERGAgYW5kIGBQSVhJLkJMRU5EX01PREVTLk1VTFRJUExZYCB3aWxsXG4gICAgICAgICAqIGJlIGFwcGxpZWQgcGVyLXByaW1pdGl2ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIGVhY2ggZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAgICAgKiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImZpbGxcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgZmlsbCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJsaW5lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGxpbmUgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGUgPSBmdW5jdGlvbiAob3B0aW9ucywgY29sb3IsIGFscGhhLCBhbGlnbm1lbnQsIG5hdGl2ZSkge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgICAgIGlmIChjb2xvciA9PT0gdm9pZCAwKSB7IGNvbG9yID0gMHgwOyB9XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMTsgfVxuICAgICAgICBpZiAoYWxpZ25tZW50ID09PSB2b2lkIDApIHsgYWxpZ25tZW50ID0gMC41OyB9XG4gICAgICAgIGlmIChuYXRpdmUgPT09IHZvaWQgMCkgeyBuYXRpdmUgPSBmYWxzZTsgfVxuICAgICAgICAvLyBTdXBwb3J0IG5vbi1vYmplY3QgcGFyYW1zOiAod2lkdGgsIGNvbG9yLCBhbHBoYSwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiBvcHRpb25zLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSwgYWxpZ25tZW50OiBhbGlnbm1lbnQsIG5hdGl2ZTogbmF0aXZlIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGluZVRleHR1cmVTdHlsZShvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpa2UgbGluZSBzdHlsZSBidXQgc3VwcG9ydCB0ZXh0dXJlIGZvciBsaW5lIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gQ29sbGVjdGlvbiBvZiBvcHRpb25zIGZvciBzZXR0aW5nIGxpbmUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFtvcHRpb25zLnRleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGUuXG4gICAgICogIERlZmF1bHQgMHhGRkZGRkYgaWYgdGV4dHVyZSBwcmVzZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSAtIFRleHR1cmUgbWF0cml4IHRvIHRyYW5zZm9ybSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dGVyKS5cbiAgICAgKiAgICAgICAgV2ViR0wgb25seS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm5hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0NBUH1bb3B0aW9ucy5jYXA9UElYSS5MSU5FX0NBUC5CVVRUXSAtIGxpbmUgY2FwIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfSk9JTn1bb3B0aW9ucy5qb2luPVBJWEkuTElORV9KT0lOLk1JVEVSXSAtIGxpbmUgam9pbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfVtvcHRpb25zLm1pdGVyTGltaXQ9MTBdIC0gbWl0ZXIgbGltaXQgcmF0aW9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUZXh0dXJlU3R5bGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICAgICAgICBjb2xvcjogKG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlKSA/IDB4RkZGRkZGIDogMHgwLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IDAuNSxcbiAgICAgICAgICAgIG5hdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBjYXA6IExJTkVfQ0FQLkJVVFQsXG4gICAgICAgICAgICBqb2luOiBMSU5FX0pPSU4uTUlURVIsXG4gICAgICAgICAgICBtaXRlckxpbWl0OiAxMCxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aXNpYmxlID0gb3B0aW9ucy53aWR0aCA+IDAgJiYgb3B0aW9ucy5hbHBoYSA+IDA7XG4gICAgICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2xpbmVTdHlsZSwgeyB2aXNpYmxlOiB2aXNpYmxlIH0sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBwb2x5Z29uIG9iamVjdCBpbnRlcm5hbGx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zdGFydFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBwb2x5Z29uIG9iamVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmZpbmlzaFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byB4LCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMF0gPSB4O1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1sxXSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBsaW5lIHVzaW5nIHRoZSBjdXJyZW50IGxpbmUgc3R5bGUgZnJvbSB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvICh4LCB5KTtcbiAgICAgKiBUaGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIGlzIHRoZW4gc2V0IHRvICh4LCB5KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMuLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjdXJ2ZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5faW5pdEN1cnZlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgPSBbeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgICAgICBCZXppZXJVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyY1RvID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKHgxLCB5MSk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgdmFyIHJlc3VsdCA9IEFyY1V0aWxzLmN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGN4ID0gcmVzdWx0LmN4LCBjeSA9IHJlc3VsdC5jeSwgcmFkaXVzXzEgPSByZXN1bHQucmFkaXVzLCBzdGFydEFuZ2xlID0gcmVzdWx0LnN0YXJ0QW5nbGUsIGVuZEFuZ2xlID0gcmVzdWx0LmVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlID0gcmVzdWx0LmFudGljbG9ja3dpc2U7XG4gICAgICAgICAgICB0aGlzLmFyYyhjeCwgY3ksIHJhZGl1c18xLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiAoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKSB7XG4gICAgICAgIGlmIChhbnRpY2xvY2t3aXNlID09PSB2b2lkIDApIHsgYW50aWNsb2Nrd2lzZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICBpZiAoc3dlZXAgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydFggPSBjeCArIChNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBzdGFydFkgPSBjeSArIChNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBlcHMgPSB0aGlzLl9nZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG4gICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IG1ha2UgYSBiZXR0ZXIgZml4LlxuICAgICAgICAgICAgLy8gV2UgY2hlY2sgaG93IGZhciBvdXIgc3RhcnQgaXMgZnJvbSB0aGUgbGFzdCBleGlzdGluZyBwb2ludFxuICAgICAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAtIHN0YXJ0WCk7XG4gICAgICAgICAgICB2YXIgeURpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIC0gc3RhcnRZKTtcbiAgICAgICAgICAgIGlmICh4RGlmZiA8IGVwcyAmJiB5RGlmZiA8IGVwcykgO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgQXJjVXRpbHMuYXJjKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIChjb2xvciwgYWxwaGEpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAwOyB9XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKHsgdGV4dHVyZTogVGV4dHVyZS5XSElURSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgdGV4dHVyZSBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT2JqZWN0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW29wdGlvbnMudGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4ZmZmZmZmXSAtIEJhY2tncm91bmQgdG8gZmlsbCBiZWhpbmQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIEFscGhhIG9mIGZpbGxcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpblRleHR1cmVGaWxsID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQXBwbHkgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgbWF0cml4OiBudWxsLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpc2libGUgPSBvcHRpb25zLmFscGhhID4gMDtcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fZmlsbFN0eWxlLCB7IHZpc2libGU6IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZmlsbCB0byB0aGUgbGluZXMgYW5kIHNoYXBlcyB0aGF0IHdlcmUgYWRkZWQgc2luY2UgdGhlIGxhc3QgY2FsbCB0byB0aGUgYmVnaW5GaWxsKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRGaWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JlY3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGEgcmVjdGFuZ2xlIHNoYXBlIHdpdGggcm91bmRlZC9iZXZlbGVkIGNvcm5lcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBSYWRpdXMgb2YgdGhlIHJlY3RhbmdsZSBjb3JuZXJzXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Um91bmRlZFJlY3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKHgsIHksIHJhZGl1cykge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IENpcmNsZSh4LCB5LCByYWRpdXMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHBvbHlnb24gdXNpbmcgdGhlIGdpdmVuIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfFBJWEkuUG9pbnRbXXxQSVhJLlBvbHlnb259IHBhdGggLSBUaGUgcGF0aCBkYXRhIHVzZWQgdG8gY29uc3RydWN0IHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgcGF0aCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcGF0aFtfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvaW50cztcbiAgICAgICAgdmFyIGNsb3NlU3Ryb2tlID0gdHJ1ZTsgLy8gISF0aGlzLl9maWxsU3R5bGU7XG4gICAgICAgIHZhciBwb2x5ID0gcGF0aFswXTtcbiAgICAgICAgLy8gY2hlY2sgaWYgZGF0YSBoYXMgcG9pbnRzLi5cbiAgICAgICAgaWYgKHBvbHkucG9pbnRzKSB7XG4gICAgICAgICAgICBjbG9zZVN0cm9rZSA9IHBvbHkuY2xvc2VTdHJva2U7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2x5LnBvaW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhdGhbMF0pKSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwYXRoWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzID0gcGF0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgUG9seWdvbihwb2ludHMpO1xuICAgICAgICBzaGFwZS5jbG9zZVN0cm9rZSA9IGNsb3NlU3Ryb2tlO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhdyBhbnkgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFNoYXBlIHRvIGRyYXdcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIChzaGFwZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2hvbGVNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5kcmF3U2hhcGUoc2hhcGUsIHRoaXMuX2ZpbGxTdHlsZS5jbG9uZSgpLCB0aGlzLl9saW5lU3R5bGUuY2xvbmUoKSwgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdIb2xlKHNoYXBlLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5pc0Zhc3RSZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAmJiBkYXRhWzBdLnNoYXBlLnR5cGUgPT09IFNIQVBFUy5SRUNUXG4gICAgICAgICAgICAmJiAhZGF0YVswXS5ob2xlcy5sZW5ndGhcbiAgICAgICAgICAgICYmICEoZGF0YVswXS5saW5lU3R5bGUudmlzaWJsZSAmJiBkYXRhWzBdLmxpbmVTdHlsZS53aWR0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgdmFyIGhhc3VpbnQzMiA9IHJlbmRlcmVyLmNvbnRleHQuc3VwcG9ydHMudWludDMySW5kaWNlcztcbiAgICAgICAgLy8gYmF0Y2ggcGFydC4uXG4gICAgICAgIC8vIGJhdGNoIGl0IVxuICAgICAgICBnZW9tZXRyeS51cGRhdGVCYXRjaGVzKGhhc3VpbnQzMik7XG4gICAgICAgIGlmIChnZW9tZXRyeS5iYXRjaGFibGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhdGNoRGlydHkgIT09IGdlb21ldHJ5LmJhdGNoRGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3B1bGF0ZUJhdGNoZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckJhdGNoZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gYmF0Y2hpbmcuLi5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEaXJlY3QocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3B1bGF0aW5nIGJhdGNoZXMgZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcG9wdWxhdGVCYXRjaGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgdmFyIGJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgICB2YXIgbGVuID0gZ2VvbWV0cnkuYmF0Y2hlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IGdlb21ldHJ5LmJhdGNoRGlydHk7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSBsZW47XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkucG9pbnRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGdJID0gZ2VvbWV0cnkuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGdJLnN0eWxlLmNvbG9yO1xuICAgICAgICAgICAgdmFyIHZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGV4RGF0YS5idWZmZXIsIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsIGdJLmF0dHJpYlNpemUgKiAyKTtcbiAgICAgICAgICAgIHZhciB1dnMgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnV2c0Zsb2F0MzIuYnVmZmVyLCBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLCBnSS5hdHRyaWJTaXplICogMik7XG4gICAgICAgICAgICB2YXIgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShnZW9tZXRyeS5pbmRpY2VzVWludDE2LmJ1ZmZlciwgZ0kuc3RhcnQgKiAyLCBnSS5zaXplKTtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9IHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhOiB2ZXJ0ZXhEYXRhLFxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZTogYmxlbmRNb2RlLFxuICAgICAgICAgICAgICAgIGluZGljZXM6IGluZGljZXMsXG4gICAgICAgICAgICAgICAgdXZzOiB1dnMsXG4gICAgICAgICAgICAgICAgX2JhdGNoUkdCOiBoZXgycmdiKGNvbG9yKSxcbiAgICAgICAgICAgICAgICBfdGludFJHQjogY29sb3IsXG4gICAgICAgICAgICAgICAgX3RleHR1cmU6IGdJLnN0eWxlLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICAgICAgICAgIHdvcmxkQWxwaGE6IDFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmJhdGNoZXNbaV0gPSBiYXRjaDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgYmF0Y2hlcyB1c2luZyB0aGUgQmF0aGVkUmVuZGVyZXIgcGx1Z2luXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyQmF0Y2hlZCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAoIXRoaXMuYmF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVGludHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICBiYXRjaC53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogYmF0Y2guYWxwaGE7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKGJhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgZ3JhcGhpY3MgZGlyZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRGlyZWN0ID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciB0aW50ID0gdGhpcy50aW50O1xuICAgICAgICB2YXIgd29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gc2hhZGVyLnVuaWZvcm1zO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gZ2VvbWV0cnkuZHJhd0NhbGxzO1xuICAgICAgICAvLyBsZXRzIHNldCB0aGUgdHJhbnNmb21yXG4gICAgICAgIHVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIC8vIGFuZCB0aGVuIGxldHMgc2V0IHRoZSB0aW50Li5cbiAgICAgICAgdW5pZm9ybXMudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsxXSA9ICgoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzJdID0gKCh0aW50ICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFszXSA9IHdvcmxkQWxwaGE7XG4gICAgICAgIC8vIHRoZSBmaXJzdCBkcmF3IGNhbGwsIHdlIGNhbiBzZXQgdGhlIHVuaWZvcm1zIG9mIHRoZSBzaGFkZXIgZGlyZWN0bHkgaGVyZS5cbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHdlIGNhbiB0YWNrIGFkdmFudGFnZSBvZiB0aGUgc3luYyBmdW5jdGlvbiBvZiBwaXhpIVxuICAgICAgICAvLyBiaW5kIGFuZCBzeW5jIHVuaWZvcm1zLi5cbiAgICAgICAgLy8gdGhlcmUgaXMgYSB3YXkgdG8gb3B0aW1pc2UgdGhpcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIHNoYWRlcik7XG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgLy8gdGhlbiByZW5kZXIgdGhlIHJlc3Qgb2YgdGhlbS4uLlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGRyYXdDYWxscy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYXdDYWxsRGlyZWN0KHJlbmRlcmVyLCBnZW9tZXRyeS5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHNwZWNpZmljIERyYXdDYWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoRHJhd0NhbGx9IGRyYXdDYWxsXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJEcmF3Q2FsbERpcmVjdCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgZHJhd0NhbGwpIHtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gZHJhd0NhbGwudGV4QXJyYXksIHR5cGUgPSBkcmF3Q2FsbC50eXBlLCBzaXplID0gZHJhd0NhbGwuc2l6ZSwgc3RhcnQgPSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgdmFyIGdyb3VwVGV4dHVyZUNvdW50ID0gdGV4QXJyYXkuY291bnQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKykge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCBqKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHR5cGUsIHNpemUsIHN0YXJ0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHNoYWRlciBmb3IgZGlyZWN0IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3Jlc29sdmVEaXJlY3RTaGFkZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICB2YXIgcGx1Z2luTmFtZSA9IHRoaXMucGx1Z2luTmFtZTtcbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHNoYWRlciBoZXJlLCB3ZSBjYW4gdXNlIHRoZSBkZWZhdWx0IHNoYWRlci5cbiAgICAgICAgICAgIC8vIGFuZCB0aGF0IG9ubHkgZ2V0cyBjcmVhdGVkIGlmIHdlIGFjdHVhbGx5IG5lZWQgaXQuLlxuICAgICAgICAgICAgLy8gYnV0IG1heSBiZSBtb3JlIHRoYW4gb25lIHBsdWdpbnMgZm9yIGdyYXBoaWNzXG4gICAgICAgICAgICBpZiAoIURFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXSkge1xuICAgICAgICAgICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSByZW5kZXJlci5wbHVnaW5zLmJhdGNoLk1BWF9URVhUVVJFUztcbiAgICAgICAgICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkoTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1BWF9URVhUVVJFUzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHByb2dyYW0gPSByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLl9zaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgICAgICAgICBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0gPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoYWRlciA9IERFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGdyYXBoaWMgc2hhcGUgYXMgYSByZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgLy8gc2tpcHBpbmcgd2hlbiBncmFwaGljcyBpcyBlbXB0eSwgbGlrZSBhIGNvbnRhaW5lclxuICAgICAgICBpZiAoIWdlb21ldHJ5LmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBnZW9tZXRyeS5ib3VuZHMsIG1pblggPSBfYS5taW5YLCBtaW5ZID0gX2EubWluWSwgbWF4WCA9IF9hLm1heFgsIG1heFkgPSBfYS5tYXhZO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeS5jb250YWluc1BvaW50KEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlIHRoZSB0aW50IGJ5IGFwcGx5aW5nIHRpbnQgdG8gYmF0Y2hlcyB1c2luZyBHcmFwaGljcyB0aW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVGludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIHZhciB0aW50UkdCID0gaGV4MnJnYih0aGlzLnRpbnQsIHRlbXApO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGJhdGNoVGludCA9IGJhdGNoLl9iYXRjaFJHQjtcbiAgICAgICAgICAgICAgICB2YXIgciA9ICh0aW50UkdCWzBdICogYmF0Y2hUaW50WzBdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIEl2YW4sIGNhbiB0aGlzIGJlIGRvbmUgaW4gb25lIGdvP1xuICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IChyIDw8IDE2KSArIChnIDw8IDgpICsgKGIgfCAwKTtcbiAgICAgICAgICAgICAgICBiYXRjaC5fdGludFJHQiA9IChjb2xvciA+PiAxNilcbiAgICAgICAgICAgICAgICAgICAgKyAoY29sb3IgJiAweGZmMDApXG4gICAgICAgICAgICAgICAgICAgICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUncyBhIHRyYW5zZm9ybSB1cGRhdGUgb3IgYSBjaGFuZ2UgdG8gdGhlIHNoYXBlIG9mIHRoZVxuICAgICAqIGdlb21ldHJ5LCByZWNhbGN1bGF0ZSB0aGUgdmVydGljZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHd0SUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB3dElEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB3dElEO1xuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZ2VvbWV0cnkucG9pbnRzOyAvLyBiYXRjaC52ZXJ0ZXhEYXRhT3JpZ2luYWw7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoZCAqIHkpICsgKGIgKiB4KSArIHR5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9zZVBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHRoaXMuY3VycmVudFBhdGg7XG4gICAgICAgIGlmIChjdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGQgZXh0cmEgcG9pbnQgaW4gdGhlIGVuZCBiZWNhdXNlIGJ1aWxkTGluZSB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhIG1hdHJpeCB0byB0aGUgcG9zaXRpb25hbCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gTWF0cml4IHRvIHVzZSBmb3IgdHJhbnNmb3JtIGN1cnJlbnQgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnNldE1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2luIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogSU1QT1JUQU5UOiBob2xlcyBtdXN0IGJlIGZ1bGx5IGluc2lkZSBhIHNoYXBlIHRvIHdvcmtcbiAgICAgKiBBbHNvIHdlaXJkbmVzcyBlbnN1ZXMgaWYgaG9sZXMgb3ZlcmxhcCFcbiAgICAgKiBFbGxpcHNlcywgQ2lyY2xlcywgUmVjdGFuZ2xlcyBhbmQgUm91bmRlZCBSZWN0YW5nbGVzIGNhbm5vdCBiZSBob2xlcyBvciBob3N0IGZvciBob2xlcyBpbiBDYW52YXNSZW5kZXJlcixcbiAgICAgKiBwbGVhc2UgdXNlIGBtb3ZlVG9gIGBsaW5lVG9gLCBgcXVhZHJhdGljQ3VydmVUb2AgaWYgeW91IHJlbHkgb24gcGl4aS1sZWdhY3kgYnVuZGxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkhvbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5kIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEhvbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5iYXRjaGVzID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZW1wb3JhcnkgcG9pbnQgdG8gdXNlIGZvciBjb250YWluc1BvaW50XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIEdyYXBoaWNzLl9URU1QX1BPSU5UID0gbmV3IFBvaW50KCk7XG4gICAgcmV0dXJuIEdyYXBoaWNzO1xufShDb250YWluZXIpKTtcblxudmFyIGdyYXBoaWNzVXRpbHMgPSB7XG4gICAgYnVpbGRQb2x5OiBidWlsZFBvbHksXG4gICAgYnVpbGRDaXJjbGU6IGJ1aWxkQ2lyY2xlLFxuICAgIGJ1aWxkUmVjdGFuZ2xlOiBidWlsZFJlY3RhbmdsZSxcbiAgICBidWlsZFJvdW5kZWRSZWN0YW5nbGU6IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbiAgICBidWlsZExpbmU6IGJ1aWxkTGluZSxcbiAgICBBcmNVdGlsczogQXJjVXRpbHMsXG4gICAgQmV6aWVyVXRpbHM6IEJlemllclV0aWxzLFxuICAgIFF1YWRyYXRpY1V0aWxzOiBRdWFkcmF0aWNVdGlscyxcbiAgICBCYXRjaFBhcnQ6IEJhdGNoUGFydCxcbiAgICBGSUxMX0NPTU1BTkRTOiBGSUxMX0NPTU1BTkRTLFxuICAgIEJBVENIX1BPT0w6IEJBVENIX1BPT0wsXG4gICAgRFJBV19DQUxMX1BPT0w6IERSQVdfQ0FMTF9QT09MXG59O1xuXG5leHBvcnQgeyBGaWxsU3R5bGUsIEdSQVBISUNTX0NVUlZFUywgR3JhcGhpY3MsIEdyYXBoaWNzRGF0YSwgR3JhcGhpY3NHZW9tZXRyeSwgTElORV9DQVAsIExJTkVfSk9JTiwgTGluZVN0eWxlLCBncmFwaGljc1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaGljcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dCAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS90ZXh0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBoZXgyc3RyaW5nLCBoZXgycmdiLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBkZWZpbmUgdGhlIHR5cGUgb2YgZ3JhZGllbnQgb24gdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRFWFRfR1JBRElFTlRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9WRVJUSUNBTCBWZXJ0aWNhbCBncmFkaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9IT1JJWk9OVEFMIExpbmVhciBncmFkaWVudFxuICovXG52YXIgVEVYVF9HUkFESUVOVDtcbihmdW5jdGlvbiAoVEVYVF9HUkFESUVOVCkge1xuICAgIFRFWFRfR1JBRElFTlRbVEVYVF9HUkFESUVOVFtcIkxJTkVBUl9WRVJUSUNBTFwiXSA9IDBdID0gXCJMSU5FQVJfVkVSVElDQUxcIjtcbiAgICBURVhUX0dSQURJRU5UW1RFWFRfR1JBRElFTlRbXCJMSU5FQVJfSE9SSVpPTlRBTFwiXSA9IDFdID0gXCJMSU5FQVJfSE9SSVpPTlRBTFwiO1xufSkoVEVYVF9HUkFESUVOVCB8fCAoVEVYVF9HUkFESUVOVCA9IHt9KSk7XG5cbi8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG52YXIgZGVmYXVsdFN0eWxlID0ge1xuICAgIGFsaWduOiAnbGVmdCcsXG4gICAgYnJlYWtXb3JkczogZmFsc2UsXG4gICAgZHJvcFNoYWRvdzogZmFsc2UsXG4gICAgZHJvcFNoYWRvd0FscGhhOiAxLFxuICAgIGRyb3BTaGFkb3dBbmdsZTogTWF0aC5QSSAvIDYsXG4gICAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gICAgZHJvcFNoYWRvd0NvbG9yOiAnYmxhY2snLFxuICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNSxcbiAgICBmaWxsOiAnYmxhY2snLFxuICAgIGZpbGxHcmFkaWVudFR5cGU6IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMLFxuICAgIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgIGZvbnRTaXplOiAyNixcbiAgICBmb250U3R5bGU6ICdub3JtYWwnLFxuICAgIGZvbnRWYXJpYW50OiAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgbGluZUpvaW46ICdtaXRlcicsXG4gICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgcGFkZGluZzogMCxcbiAgICBzdHJva2U6ICdibGFjaycsXG4gICAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICAgIHRleHRCYXNlbGluZTogJ2FscGhhYmV0aWMnLFxuICAgIHRyaW06IGZhbHNlLFxuICAgIHdoaXRlU3BhY2U6ICdwcmUnLFxuICAgIHdvcmRXcmFwOiBmYWxzZSxcbiAgICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gICAgbGVhZGluZzogMCxcbn07XG52YXIgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFtcbiAgICAnc2VyaWYnLFxuICAgICdzYW5zLXNlcmlmJyxcbiAgICAnbW9ub3NwYWNlJyxcbiAgICAnY3Vyc2l2ZScsXG4gICAgJ2ZhbnRhc3knLFxuICAgICdzeXN0ZW0tdWknIF07XG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiB0byBkZWNvcmF0ZSBhIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBjYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgVGV4dCBvYmplY3RzOyB0aGVuIGNoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEEgdG9vbCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIHRleHQgc3R5bGUgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsICc4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUud2hpdGVTcGFjZT0ncHJlJ10gLSBEZXRlcm1pbmVzIHdoZXRoZXIgbmV3bGluZXMgJiBzcGFjZXMgYXJlIGNvbGxhcHNlZCBvciBwcmVzZXJ2ZWQgXCJub3JtYWxcIlxuICAgICAqICAgICAgKGNvbGxhcHNlLCBjb2xsYXBzZSksIFwicHJlXCIgKHByZXNlcnZlLCBwcmVzZXJ2ZSkgfCBcInByZS1saW5lXCIgKHByZXNlcnZlLCBjb2xsYXBzZSkuIEl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSkge1xuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImFsaWduXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbGlnbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJicmVha1dvcmRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChicmVha1dvcmRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93ICE9PSBkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93QWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QWxwaGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dBbmdsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dCbHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0NvbG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dDb2xvcikge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93RGlzdGFuY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIC8vIFRPRE86IE5vdCBzdXJlIGlmIGdldENvbG9yIHdvcmtzIHByb3Blcmx5IHdpdGggQ2FudmFzR3JhZGllbnQgYW5kL29yIENhbnZhc1BhdHRlcm4sIGNhbid0IHBhc3MgaW5cbiAgICAgICAgICAgIC8vICAgICAgIHdpdGhvdXQgY2FzdGluZyBoZXJlLlxuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZmlsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbCAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsR3JhZGllbnRUeXBlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZmlsbEdyYWRpZW50U3RvcHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gICAgICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsbEdyYWRpZW50U3RvcHMpIHtcbiAgICAgICAgICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250RmFtaWx5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGZhbWlseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250RmFtaWx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mb250RmFtaWx5ICE9PSBmb250RmFtaWx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzaXplXG4gICAgICAgICAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250U2l6ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250U3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc3R5bGVcbiAgICAgICAgICogKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFN0eWxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250VmFyaWFudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB2YXJpYW50XG4gICAgICAgICAqICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250VmFyaWFudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gZm9udFZhcmlhbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250V2VpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHdlaWdodFxuICAgICAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGluZUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsZWFkaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxlYWRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsaW5lSm9pblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGluZUpvaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibWl0ZXJMaW1pdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZVxuICAgICAgICAgKiBUaGlzIGNhbiByZWR1Y2Ugb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwicGFkZGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAgICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHBhZGRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJzdHJva2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAgICAgKiBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKHN0cm9rZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwic3Ryb2tlVGhpY2tuZXNzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICAgICAqIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwidGV4dEJhc2VsaW5lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwidHJpbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRyaW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmltICE9PSB0cmltKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpbSA9IHRyaW07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3aGl0ZVNwYWNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBuZXdsaW5lcyBhbmQgc3BhY2VzIHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdwcmUnIChwcmVzZXJ2ZSwgcHJlc2VydmUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgdmFsdWUgICAgICAgfCBOZXcgbGluZXMgICAgIHwgICBTcGFjZXNcbiAgICAgICAgICogIC0tLSAgICAgICAgIHwgLS0tICAgICAgICAgICB8ICAgLS0tXG4gICAgICAgICAqICdub3JtYWwnICAgICB8IENvbGxhcHNlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqICdwcmUnICAgICAgICB8IFByZXNlcnZlICAgICAgfCAgIFByZXNlcnZlXG4gICAgICAgICAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93aGl0ZVNwYWNlICE9PSB3aGl0ZVNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3b3JkV3JhcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod29yZFdyYXApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid29yZFdyYXBXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBmb250IHN0eWxlIHN0cmluZyB0byB1c2UgZm9yIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHlsZSBzdHJpbmcsIGZvciBwYXNzaW5nIHRvIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYFxuICAgICAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUudG9Gb250U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBidWlsZCBjYW52YXMgYXBpIGZvbnQgc2V0dGluZyBmcm9tIGluZGl2aWR1YWwgY29tcG9uZW50cy4gQ29udmVydCBhIG51bWVyaWMgdGhpcy5mb250U2l6ZSB0byBweFxuICAgICAgICB2YXIgZm9udFNpemVTdHJpbmcgPSAodHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInKSA/IHRoaXMuZm9udFNpemUgKyBcInB4XCIgOiB0aGlzLmZvbnRTaXplO1xuICAgICAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAgICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgICAgICB2YXIgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSkge1xuICAgICAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbnQgYWxyZWFkeSBjb250YWlucyBzdHJpbmdzXG4gICAgICAgICAgICBpZiAoISgvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8pLnRlc3QoZm9udEZhbWlseSkgJiYgZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmRleE9mKGZvbnRGYW1pbHkpIDwgMCkge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcIlxcXCJcIiArIGZvbnRGYW1pbHkgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udFN0eWxlICsgXCIgXCIgKyB0aGlzLmZvbnRWYXJpYW50ICsgXCIgXCIgKyB0aGlzLmZvbnRXZWlnaHQgKyBcIiBcIiArIGZvbnRTaXplU3RyaW5nICsgXCIgXCIgKyBmb250RmFtaWxpZXMuam9pbignLCcpO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRTdHlsZTtcbn0oKSk7XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGhleDJzdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb2xvci5pbmRleE9mKCcweCcpID09PSAwKSB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoJzB4JywgJyMnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG59XG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTEgLSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgLSBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5Mikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQgYnkgdmFsdWUsIGFuZCBub3QgYnkgcmVmZXJlbmNlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgLSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcGVydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogLSBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIG5hbWVzIHdlIHdhbnQgdG8gbG9vcCBvdmVyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogYGBganNcbiAqIGxldCBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSlcbiAqIGxldCB0ZXh0TWV0cmljcyA9IFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoJ1lvdXIgdGV4dCcsIHN0eWxlKVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUZvbnRNZXRyaWNzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlcyB0aGUgc3VwcGxpZWQgc3RyaW5nIG9mIHRleHQgYW5kIHJldHVybnMgYSBSZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgdGV4dCBzdHlsZSB0byB1c2UgZm9yIG1lYXN1cmluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3dvcmRXcmFwXSAtIG9wdGlvbmFsIG92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0TWV0cmljc30gbWVhc3VyZWQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdGV4dC5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uICh0ZXh0LCBzdHlsZSwgd29yZFdyYXAsIGNhbnZhcykge1xuICAgICAgICBpZiAoY2FudmFzID09PSB2b2lkIDApIHsgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhczsgfVxuICAgICAgICB3b3JkV3JhcCA9ICh3b3JkV3JhcCA9PT0gdW5kZWZpbmVkIHx8IHdvcmRXcmFwID09PSBudWxsKSA/IHN0eWxlLndvcmRXcmFwIDogd29yZFdyYXA7XG4gICAgICAgIHZhciBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICAvLyBmYWxsYmFjayBpbiBjYXNlIFVBIGRpc2FsbG93IGNhbnZhcyBkYXRhIGV4dHJhY3Rpb25cbiAgICAgICAgLy8gKHRvRGF0YVVSSSwgZ2V0SW1hZ2VEYXRhIGZ1bmN0aW9ucylcbiAgICAgICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKSB7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdmFyIG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICBsaW5lV2lkdGhzW2ldID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IG1heExpbmVXaWR0aCArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgICAgICsgKChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZykpO1xuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uICh0ZXh0LCBzdHlsZSwgY2FudmFzKSB7XG4gICAgICAgIGlmIChjYW52YXMgPT09IHZvaWQgMCkgeyBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzOyB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciB3aWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gJyc7XG4gICAgICAgIHZhciBsaW5lcyA9ICcnO1xuICAgICAgICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmcsIHdoaXRlU3BhY2UgPSBzdHlsZS53aGl0ZVNwYWNlO1xuICAgICAgICAvLyBIb3cgdG8gaGFuZGxlIHdoaXRlc3BhY2VzXG4gICAgICAgIHZhciBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgICAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG4gICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHNwYWNlcyBtYXkgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgLy8gVGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAgICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgbGV0dGVyU3BhY2VcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgICAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgICAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgICAgICB2YXIgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc05ld2xpbmUodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCB0aGUgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGJvdGggdGhpcyBhbmQgdGhlIGxhc3QgdG9rZW5zIGZvciBzcGFjZXNcbiAgICAgICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UobGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAobGluZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3Jkcyh0b2tlbiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcmFjdGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IGNoYXJhY3RlcnNbaiArIGtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IHNwbGl0IGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmUgY2hhcnMgJiBtb3ZlIGZvcndhcmQgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSBjaGFyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdvcmQgY291bGQgZml0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhZGQgc3BhY2VzIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZpZW5pZW5jZSBmdW5jdGlvbiBmb3IgbG9nZ2luZyBlYWNoIGxpbmUgYWRkZWQgZHVyaW5nIHRoZSB3b3JkV3JhcFxuICAgICAqIG1ldGhvZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgbGluZSAgICAgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lICAgICAtIEFkZCBuZXcgbGluZSBjaGFyYWN0ZXIgdG8gZW5kXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgQSBmb3JtYXR0ZWQgbGluZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiAobGluZSwgbmV3TGluZSkge1xuICAgICAgICBpZiAobmV3TGluZSA9PT0gdm9pZCAwKSB7IG5ld0xpbmUgPSB0cnVlOyB9XG4gICAgICAgIGxpbmUgPSBUZXh0TWV0cmljcy50cmltUmlnaHQobGluZSk7XG4gICAgICAgIGxpbmUgPSAobmV3TGluZSkgPyBsaW5lICsgXCJcXG5cIiA6IGxpbmU7XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICAgICAgICAga2V5ICAgICAgICAgICAgLSBUaGUga2V5XG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZyAgLSBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICAtIFRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSAge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gIGNvbnRleHQgICAgICAgIC0gVGhlIGNhbnZhcyBjb250ZXh0XG4gICAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgVGhlIGZyb20gY2FjaGUuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aWR0aCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBzcGFjaW5nID0gKChrZXkubGVuZ3RoKSAqIGxldHRlclNwYWNpbmcpO1xuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aWR0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgYnJlYWtpbmcgc3BhY2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlIC0gVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyB8fCB3aGl0ZVNwYWNlID09PSAncHJlLWxpbmUnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAtIFRoZSB3aGl0ZSBzcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB0cmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0IC0gVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRyaW1SaWdodCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmlzTmV3bGluZSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBjaGFyIHNob3VsZCBiZSBhIGJyZWFraW5nIHdoaXRlc3BhY2VcbiAgICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgICAgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgW25leHRDaGFyXSAtIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UgPSBmdW5jdGlvbiAoY2hhciwgX25leHRDaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAtIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nW119ICBBIHRva2VuaXplZCBhcnJheVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRva2VuaXplID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICB2YXIgdG9rZW4gPSAnJztcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IHRleHRbaSArIDFdO1xuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyLCBuZXh0Q2hhcikgfHwgVGV4dE1ldHJpY3MuaXNOZXdsaW5lKGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGNoYXIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gICAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgICAtIFRoZSB0b2tlblxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3JkcyA9IGZ1bmN0aW9uIChfdG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgICAgICAgIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICAgIC0gVGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgLSBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gIGluZGV4ICAgICAgIC0gVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyA9IGZ1bmN0aW9uIChfY2hhciwgX25leHRDaGFyLCBfdG9rZW4sIF9pbmRleCwgX2JyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgdG9rZW4gKHVzdWFsbHkgYSB3b3JkKSBoYXMgdG8gYmUgc3BsaXQgaW50byBzZXBhcmF0ZSBwaWVjZXNcbiAgICAgKiBpbiBvcmRlciB0byBkZXRlcm1pbmUgdGhlIHBvaW50IHRvIGJyZWFrIGEgd29yZC5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDb3JyZWN0bHkgc3BsaXRzIGVtb2ppcywgZWcgXCLwn6Sq8J+kqlwiIHdpbGwgcmVzdWx0IGluIHR3byBlbGVtZW50IGFycmF5LCBlYWNoIHdpdGggb25lIGVtb2ppLlxuICAgICAqIFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQgPSAodG9rZW4pID0+IFsuLi50b2tlbl07XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAtIFRoZSB0b2tlbiB0byBzcGxpdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBUaGUgY2hhcmFjdGVycyBvZiB0aGUgdG9rZW5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5zcGxpdCgnJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklGb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gKGZvbnQpIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIGFzY2VudDogMCxcbiAgICAgICAgICAgIGRlc2NlbnQ6IDAsXG4gICAgICAgICAgICBmb250U2l6ZTogMCxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHZhciBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwoVGV4dE1ldHJpY3MuSEVJR0hUX01VTFRJUExJRVIgKiBiYXNlbGluZSk7XG4gICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQobWV0cmljc1N0cmluZywgMCwgYmFzZWxpbmUpO1xuICAgICAgICB2YXIgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgdmFyIHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBsaW5lID0gd2lkdGggKiA0O1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgc3RvcCA9IGZhbHNlO1xuICAgICAgICAvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcbiAgICAgICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICAgICAgc3RvcCA9IGZhbHNlO1xuICAgICAgICAvLyBkZXNjZW50LiBzY2FuIGZyb20gYm90dG9tIHRvIHRvcCB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSBoZWlnaHQ7IGkgPiBiYXNlbGluZTsgLS1pKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzLmRlc2NlbnQgPSBpIC0gYmFzZWxpbmU7XG4gICAgICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZvbnRdIC0gZm9udCBuYW1lLiBJZiBmb250IG5hbWUgbm90IHNldCB0aGVuIGNsZWFyIGNhY2hlIGZvciBhbGwgZm9udHMuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2xlYXJNZXRyaWNzID0gZnVuY3Rpb24gKGZvbnQpIHtcbiAgICAgICAgaWYgKGZvbnQgPT09IHZvaWQgMCkgeyBmb250ID0gJyc7IH1cbiAgICAgICAgaWYgKGZvbnQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRleHRNZXRyaWNzO1xufSgpKTtcbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBUaGUgYXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIFRoZSBkZXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemUgZnJvbSBhc2NlbnQgdG8gZGVzY2VudFxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBjYW52YXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIE9mZnNjcmVlbkNhbnZhczJEIG1lYXN1cmVUZXh0IGNhbiBiZSB1cCB0byA0MCUgZmFzdGVyLlxuICAgICAgICB2YXIgYyA9IG5ldyBPZmZzY3JlZW5DYW52YXMoMCwgMCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gYy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Lm1lYXN1cmVUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxuICAgIGNhdGNoIChleCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxufSkoKTtcbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcbi8qKlxuICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuLyoqXG4gKiBDYWNoZSBvZiB7QHNlZSBQSVhJLlRleHRNZXRyaWNzLkZvbnRNZXRyaWNzfSBvYmplY3RzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogVGhlc2UgY2hhcmFjdGVycyBhcmUgYWxsIHRhbGwgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCByZXF1aXJlZCBmb3IgdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgTUVUUklDU19TVFJJTkdcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCB8w4lxw4VcbiAqL1xuVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgPSAnfMOJccOFJztcbi8qKlxuICogQmFzZWxpbmUgc3ltYm9sIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9TWU1CT0xcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCBNXG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9ICdNJztcbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfTVVMVElQTElFUlxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDEuNFxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSID0gMS40O1xuLyoqXG4gKiBIZWlnaHQgbXVsdGlwbGllciBmb3Igc2V0dGluZyBoZWlnaHQgb2YgY2FudmFzIHRvIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEhFSUdIVF9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMi4wMFxuICovXG5UZXh0TWV0cmljcy5IRUlHSFRfTVVMVElQTElFUiA9IDIuMDtcbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9uZXdsaW5lcyA9IFtcbiAgICAweDAwMEEsXG4gICAgMHgwMDBEIF07XG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gW1xuICAgIDB4MDAwOSxcbiAgICAweDAwMjAsXG4gICAgMHgyMDAwLFxuICAgIDB4MjAwMSxcbiAgICAweDIwMDIsXG4gICAgMHgyMDAzLFxuICAgIDB4MjAwNCxcbiAgICAweDIwMDUsXG4gICAgMHgyMDA2LFxuICAgIDB4MjAwOCxcbiAgICAweDIwMDksXG4gICAgMHgyMDBBLFxuICAgIDB4MjA1RixcbiAgICAweDMwMDAgXTtcbi8qKlxuICogQSBudW1iZXIsIG9yIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1iZXIuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIEZvbnQgYXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIEZvbnQgZGVzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplXG4gKi9cblxudmFyIGRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbn07XG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuXG4gKlxuICogVGhlIHRleHQgaXMgY3JlYXRlZCB1c2luZyB0aGUgW0NhbnZhcyBBUEldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIEJpdG1hcFRleHQgaXMgdGhhdCB5b3UgaGF2ZSBncmVhdCBjb250cm9sIG92ZXIgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0LFxuICogd2hpY2ggeW91IGNhbiBjaGFuZ2UgYXQgcnVudGltZS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBkaXNhZHZhbnRhZ2VzIGlzIHRoYXQgZWFjaCBwaWVjZSBvZiB0ZXh0IGhhcyBpdCdzIG93biB0ZXh0dXJlLCB3aGljaCBjYW4gdXNlIG1vcmUgbWVtb3J5LlxuICogV2hlbiB0ZXh0IGNoYW5nZXMsIHRoaXMgdGV4dHVyZSBoYXMgdG8gYmUgcmUtZ2VuZXJhdGVkIGFuZCByZS11cGxvYWRlZCB0byB0aGUgR1BVLCB0YWtpbmcgdXAgdGltZS5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicgaW4geW91ciB0ZXh0IHN0cmluZywgb3IsIG9uIHRoZSBgc3R5bGVgIG9iamVjdCxcbiAqIGNoYW5nZSBpdHMgYHdvcmRXcmFwYCBwcm9wZXJ0eSB0byB0cnVlIGFuZCBhbmQgZ2l2ZSB0aGUgYHdvcmRXcmFwV2lkdGhgIHByb3BlcnR5IGEgdmFsdWUuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0LFxuICogd2hpY2ggY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBUaGUgY2FudmFzIGVsZW1lbnQgZm9yIGRyYXdpbmcgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHQodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3duQ2FudmFzID0gZmFsc2U7XG4gICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIG93bkNhbnZhcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzLndpZHRoID0gMztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDM7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKGNhbnZhcyk7XG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRleHR1cmUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIGlmIHRoaXMgVGV4dCBvYmplY3QgY3JlYXRlZCBpdCdzIG93biBjYW52YXNcbiAgICAgICAgICogZWxlbWVudCAoYHRydWVgKSBvciB1c2VzIHRoZSBjb25zdHJ1Y3RvciBhcmd1bWVudCAoYGZhbHNlYCkuXG4gICAgICAgICAqIFVzZWQgdG8gd29ya2Fyb3VuZCBhIEdDIGlzc3VlcyB3aXRoIFNhZmFyaSA8IDEzIHdoZW5cbiAgICAgICAgICogZGVzdHJveWluZyBUZXh0LiBTZWUgYGRlc3Ryb3lgIGZvciBtb3JlIGluZm8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3duQ2FudmFzID0gb3duQ2FudmFzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0b1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICBfdGhpcy5fYXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSBsaXN0ZW5lciB0byB0cmFjayBzdHlsZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnQgPSAnJztcbiAgICAgICAgX3RoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIF90aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIF90aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCB0byBpdHMgY2FudmFzLCBhbmQgdXBkYXRlcyBpdHMgdGV4dHVyZS5cbiAgICAgKiBCeSBkZWZhdWx0IHRoaXMgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIGVuc3VyZSB0aGUgdGV4dHVyZSBpcyBjb3JyZWN0IGJlZm9yZSByZW5kZXJpbmcsXG4gICAgICogYnV0IGl0IGNhbiBiZSB1c2VkIGNhbGxlZCBleHRlcm5hbGx5LCBmb3IgZXhhbXBsZSBmcm9tIHRoaXMgY2xhc3MgdG8gJ3ByZS1nZW5lcmF0ZScgdGhlIHRleHR1cmUgZnJvbSBhIHBpZWNlIG9mIHRleHQsXG4gICAgICogYW5kIHRoZW4gc2hhcmVkIGFjcm9zcyBtdWx0aXBsZSBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXNwZWN0RGlydHkgLSBXaGV0aGVyIHRvIGFib3J0IHVwZGF0aW5nIHRoZSB0ZXh0IGlmIHRoZSBUZXh0IGlzbid0IGRpcnR5IGFuZCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiAocmVzcGVjdERpcnR5KSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRpcnR5ICYmIHJlc3BlY3REaXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQgfHwgJyAnLCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCB3aWR0aCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuX3Jlc29sdXRpb24sIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25YO1xuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWTtcbiAgICAgICAgLy8gcmVxdWlyZSAyIHBhc3NlcyBpZiBhIHNoYWRvdzsgdGhlIGZpcnN0IHRvIGRyYXcgdGhlIGRyb3Agc2hhZG93LCB0aGUgc2Vjb25kIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgICAgdmFyIHBhc3Nlc0NvdW50ID0gc3R5bGUuZHJvcFNoYWRvdyA/IDIgOiAxO1xuICAgICAgICAvLyBGb3IgdjQsIHdlIGRyZXcgdGV4dCBhdCB0aGUgY29sb3VycyBvZiB0aGUgZHJvcCBzaGFkb3cgdW5kZXJuZWF0aCB0aGUgbm9ybWFsIHRleHQuIFRoaXMgZ2F2ZSB0aGUgY29ycmVjdCB6SW5kZXgsXG4gICAgICAgIC8vIGJ1dCBmZWF0dXJlcyBzdWNoIGFzIGFscGhhIGFuZCBzaGFkb3dibHVyIGRpZCBub3QgbG9vayByaWdodCBhdCBhbGwsIHNpbmNlIHdlIHdlcmUgdXNpbmcgYWN0dWFsIHRleHQgYXMgYSBzaGFkb3cuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4wLjAsIHdlIG1vdmVkIG92ZXIgdG8ganVzdCB1c2UgdGhlIGNhbnZhcyBBUEkgZm9yIGRyb3Agc2hhZG93cywgd2hpY2ggbWFkZSB0aGVtIGxvb2sgbXVjaCBuaWNlciBhbmQgbW9yZVxuICAgICAgICAvLyB2aXN1YWxseSBwbGVhc2UsIGJ1dCBub3cgYmVjYXVzZSB0aGUgc3Ryb2tlIGlzIGRyYXduIGFuZCB0aGVuIHRoZSBmaWxsLCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG9uIGJvdGggdGhlIGZpbGxcbiAgICAgICAgLy8gYW5kIHRoZSBzdHJva2U7IGFuZCBmaWxsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb3ZlciB0aGUgdG9wIG9mIHRoZSBzdHJva2UuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4xLjEsIHRoZSBuZXcgcm91dGUgaXMgdG8gcmV2ZXJ0IHRvIHY0IHN0eWxlIG9mIGRyYXdpbmcgdGV4dCBmaXJzdCB0byBnZXQgdGhlIGRyb3Agc2hhZG93cyB1bmRlcm5lYXRoIG5vcm1hbFxuICAgICAgICAvLyB0ZXh0LCBidXQgaW5zdGVhZCBkcmF3aW5nIHRleHQgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb24sIHdlJ2xsIGRyYXcgaXQgb2ZmIHNjcmVlbiAoLXBhZGRpbmdZKSwgYW5kIHRoZW4gYWRqdXN0IHRoZVxuICAgICAgICAvLyBkcm9wIHNoYWRvdyBzbyBvbmx5IHRoYXQgYXBwZWFycyBvbiBzY3JlZW4gKCtwYWRkaW5nWSkuIE5vdyB3ZSdsbCBoYXZlIHRoZSBjb3JyZWN0IGRyYXcgb3JkZXIgb2YgdGhlIHNoYWRvd1xuICAgICAgICAvLyBiZW5lYXRoIHRoZSB0ZXh0LCB3aGlsc3QgYWxzbyBoYXZpbmcgdGhlIHByb3BlciB0ZXh0IHNoYWRvdyBzdHlsaW5nLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhc3Nlc0NvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpc1NoYWRvd1Bhc3MgPSBzdHlsZS5kcm9wU2hhZG93ICYmIGkgPT09IDA7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IHdhbnQgdGhlIGRyb3Agc2hhZG93LCBzbyBwdXQgdGV4dCB3YXkgb2ZmLXNjcmVlblxuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IE1hdGguY2VpbChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgOiAwO1xuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGlmIChpc1NoYWRvd1Bhc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBTYWZhcmksIHRleHQgd2l0aCBncmFkaWVudCBhbmQgZHJvcCBzaGFkb3dzIHRvZ2V0aGVyIGRvIG5vdCBwb3NpdGlvbiBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc2NhbGUgb2YgdGhlIGNhbnZhcyBpcyBub3QgMTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5NzY4OVxuICAgICAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSdsbCBzZXQgdGhlIHN0eWxlcyB0byBiZSBhIHBsYWluIGJsYWNrIHdoaWxzdCBnZW5lcmF0aW5nIHRoaXMgZHJvcCBzaGFkb3dcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgdmFyIGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgICAgICB2YXIgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIHJnYlswXSAqIDI1NSArIFwiLFwiICsgcmdiWzFdICogMjU1ICsgXCIsXCIgKyByZ2JbMl0gKiAyNTUgKyBcIixcIiArIHN0eWxlLmRyb3BTaGFkb3dBbHBoYSArIFwiKVwiO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gKE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UpICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMsIG1lYXN1cmVkKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGluZVBvc2l0aW9uWVNoaWZ0ID0gKGxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5mb250U2l6ZSkgLyAyO1xuICAgICAgICAgICAgaWYgKCFUZXh0Lm5leHRMaW5lSGVpZ2h0QmVoYXZpb3IgfHwgbGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplIDwgMCkge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvbllTaGlmdCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgbGluZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSAoKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpICsgKGlfMSAqIGxpbmVIZWlnaHQpKSArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudFxuICAgICAgICAgICAgICAgICAgICArIGxpbmVQb3NpdGlvbllTaGlmdDtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2lfMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2lfMV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tpXzFdLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2lfMV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRyYXdMZXR0ZXJTcGFjaW5nID0gZnVuY3Rpb24gKHRleHQsIHgsIHksIGlzU3Ryb2tlKSB7XG4gICAgICAgIGlmIChpc1N0cm9rZSA9PT0gdm9pZCAwKSB7IGlzU3Ryb2tlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIC8vIGxldHRlclNwYWNpbmcgb2YgMCBtZWFucyBub3JtYWxcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHg7XG4gICAgICAgIC8vIFVzaW5nIEFycmF5LmZyb20gY29ycmVjdGx5IHNwbGl0cyBjaGFyYWN0ZXJzIHdoaWxzdCBrZWVwaW5nIGVtb2ppIHRvZ2V0aGVyLlxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgYXMgaXQgcmVxdWlyZXMgRVM2LCBzbyByZWd1bGFyIHRleHQgc3BsaXR0aW5nIG9jY3Vycy5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGRvZXNuJ3QgYWNjb3VudCBmb3IgZW1vamkgdGhhdCBhcmUgbXVsdGlwbGUgZW1vamkgcHV0IHRvZ2V0aGVyIHRvIG1ha2Ugc29tZXRoaW5nIGVsc2UuXG4gICAgICAgIC8vIEhhbmRsaW5nIGFsbCBvZiB0aGlzIHdvdWxkIHJlcXVpcmUgYSBiaWcgbGlicmFyeSBpdHNlbGYuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS9AZ2lsdGF5YXIvaXRlcmF0aW5nLW92ZXItZW1vamktY2hhcmFjdGVycy10aGUtZXM2LXdheS1mMDZlNDU4OTUxNlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vb3JsaW5nL2dyYXBoZW1lLXNwbGl0dGVyXG4gICAgICAgIHZhciBzdHJpbmdBcnJheSA9IEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdCgnJyk7XG4gICAgICAgIHZhciBwcmV2aW91c1dpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICB2YXIgY3VycmVudFdpZHRoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaGFyID0gc3RyaW5nQXJyYXlbaV07XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0LnN1YnN0cmluZyhpICsgMSkpLndpZHRoO1xuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHByZXZpb3VzV2lkdGggLSBjdXJyZW50V2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0dXJlIHNpemUgYmFzZWQgb24gY2FudmFzIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSkge1xuICAgICAgICAgICAgdmFyIHRyaW1tZWQgPSB0cmltQ2FudmFzKGNhbnZhcyk7XG4gICAgICAgICAgICBpZiAodHJpbW1lZC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdHJpbW1lZC53aWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0cmltbWVkLmRhdGEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCA9IE1hdGguY2VpbChjYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudHJpbS54ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUudHJpbS55ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdGV4dHVyZS5vcmlnLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlYWxTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9SZXNvbHV0aW9uICYmIHRoaXMuX3Jlc29sdXRpb24gIT09IHJlbmRlcmVyLnJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBUZXh0IGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSB0aGlzIG9uIFRISVMgZnJhbWUuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUsIGxpbmVzLCBtZXRyaWNzKSB7XG4gICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxsU3R5bGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsbFN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsU3R5bGVbMF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICB2YXIgZ3JhZGllbnQ7XG4gICAgICAgIC8vIGEgZHJvcHNoYWRvdyB3aWxsIGVubGFyZ2UgdGhlIGNhbnZhcyBhbmQgcmVzdWx0IGluIHRoZSBncmFkaWVudCBiZWluZ1xuICAgICAgICAvLyBnZW5lcmF0ZWQgd2l0aCB0aGUgaW5jb3JyZWN0IGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGRyb3BTaGFkb3dDb3JyZWN0aW9uID0gKHN0eWxlLmRyb3BTaGFkb3cpID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgICAgICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmcgfHwgMDtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgICAgICB2YXIgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgICAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuICAgICAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gICAgICAgIGZpbGwucHVzaChmaWxsU3R5bGVbZmlsbFN0eWxlLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgICAgICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIHBhZGRpbmcsIHdpZHRoIC8gMiwgaGVpZ2h0ICsgcGFkZGluZyk7XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgLy8gdGV4dEhlaWdodCwgYnV0IGFzIGEgMC0xIHNpemUgaW4gZ2xvYmFsIGdyYWRpZW50IHN0b3Agc3BhY2VcbiAgICAgICAgICAgIHZhciBncmFkU3RvcExpbmVIZWlnaHQgPSB0ZXh0SGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5lU3RvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsb2JhbFN0b3AgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSdzIHBvdGVudGlhbCBmb3IgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGlzc3VlcyBhdCB0aGUgc2VhbXMgYmV0d2VlbiBncmFkaWVudCByZXBlYXRzLlxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxTdG9wID0gTnVtYmVyKGdsb2JhbFN0b3AudG9GaXhlZCg1KSk7XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChnbG9iYWxTdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChwYWRkaW5nLCBoZWlnaHQgLyAyLCB3aWR0aCArIHBhZGRpbmcsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0b3AgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBvcHRpb25zID0geyBjaGlsZHJlbjogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgLy8gc2V0IGNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0IHRvIDAgdG8gd29ya2Fyb3VuZCBtZW1vcnkgbGVhayBpbiBTYWZhcmkgPCAxM1xuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MjUzMjYxNC90b3RhbC1jYW52YXMtbWVtb3J5LXVzZS1leGNlZWRzLXRoZS1tYXhpbXVtLWxpbWl0LXNhZmFyaS0xMlxuICAgICAgICBpZiAodGhpcy5fb3duQ2FudmFzKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy53aWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS55KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcInN0eWxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlXG4gICAgICAgICAqIG9iamVjdCBhbmQgbWFyayB0aGUgdGV4dCBhcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIElUZXh0U3R5bGVcbiAgICAgICAgICAgIC8vICAgICAgIHNpbmNlIHRoZSBzZXR0ZXIgY3JlYXRlcyB0aGUgVGV4dFN0eWxlLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcbiAgICAgICAgICAgIGlmIChzdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBUZXh0U3R5bGUoc3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcInRleHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBjb3B5IGZvciB0aGUgdGV4dCBvYmplY3QuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogdGV4dCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwicmVzb2x1dGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc29sdXRpb24gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBOZXcgYmVoYXZpb3IgZm9yIGBsaW5lSGVpZ2h0YCB0aGF0J3MgbWVhbnQgdG8gbWltaWMgSFRNTCB0ZXh0LiBBIHZhbHVlIG9mIGB0cnVlYCB3aWxsXG4gICAgICogbWFrZSBzdXJlIHRoZSBmaXJzdCBiYXNlbGluZSBpcyBvZmZzZXQgYnkgdGhlIGBsaW5lSGVpZ2h0YCB2YWx1ZSBpZiBpdCBpcyBncmVhdGVyIHRoYW4gYGZvbnRTaXplYC5cbiAgICAgKiBBIHZhbHVlIG9mIGBmYWxzZWAgd2lsbCB1c2UgdGhlIGxlZ2FjeSBiZWhhdmlvciBhbmQgbm90IGNoYW5nZSB0aGUgYmFzZWxpbmUgb2YgdGhlIGZpcnN0IGxpbmUuXG4gICAgICogSW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZSwgd2UnbGwgZW5hYmxlIHRoaXMgYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5UZXh0XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn0gbmV4dExpbmVIZWlnaHRCZWhhdmlvclxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgVGV4dC5uZXh0TGluZUhlaWdodEJlaGF2aW9yID0gZmFsc2U7XG4gICAgcmV0dXJuIFRleHQ7XG59KFNwcml0ZSkpO1xuXG5leHBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0LCBUZXh0TWV0cmljcywgVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUgLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4vKipcbiAqIFRoZSBTcHJpdGUgb2JqZWN0IGlzIHRoZSBiYXNlIGZvciBhbGwgdGV4dHVyZWQgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCB0byB0aGUgc2NyZWVuXG4qXG4gKiBBIHNwcml0ZSBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGFuIGltYWdlIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCB3YXkgdG8gY3JlYXRlIHNwcml0ZXMgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH0sXG4gKiBhcyBzd2FwcGluZyBiYXNlIHRleHR1cmVzIHdoZW4gcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gaXMgaW5lZmZpY2llbnQuXG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTcHJpdGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlXSAtIFRoZSB0ZXh0dXJlIGZvciB0aGlzIHNwcml0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGUodGV4dHVyZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBwb2ludCBkZWZpbmVzIHRoZSBub3JtYWxpemVkIGNvb3JkaW5hdGVzXG4gICAgICAgICAqIGluIHRoZSB0ZXh0dXJlIHRoYXQgbWFwIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGlzXG4gICAgICAgICAqIHNwcml0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQnkgZGVmYXVsdCwgdGhpcyBpcyBgKDAsMClgIChvciBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBpZiB5b3UgaGF2ZSBtb2RpZmllZCB0aGF0KSwgd2hpY2ggbWVhbnMgdGhlIHBvc2l0aW9uXG4gICAgICAgICAqIGAoeCx5KWAgb2YgdGhpcyBgU3ByaXRlYCB3aWxsIGJlIHRoZSB0b3AtbGVmdCBjb3JuZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IFVwZGF0aW5nIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgIGFmdGVyXG4gICAgICAgICAqIGNvbnN0cnVjdGluZyBhIGBTcHJpdGVgIGRvZXMgX25vdF8gdXBkYXRlIGl0cyBhbmNob3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIHtAbGluayBodHRwczovL2RvY3MuY29jb3MyZC14Lm9yZy9jb2NvczJkLXgvZW4vc3ByaXRlcy9tYW5pcHVsYXRpb24uaHRtbH1cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmBcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChfdGhpcy5fb25BbmNob3JVcGRhdGUsIF90aGlzLCAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci54IDogMCksICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnkgOiAwKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBSR0IgdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2Nzc3MjE1XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIHRpbnQgdmFsdWUgc28gd2UgY2FuIHRlbGwgd2hlbiB0aGUgdGludCBpcyBjaGFuZ2VkLlxuICAgICAgICAgKiBWYWx1ZSBpcyB1c2VkIGZvciAyZCBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB1dnMgZGF0YSBvZiB0aGUgc3ByaXRlLCBhc3NpZ25lZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgICAgICAqIGFzIHRoZSB2ZXJ0ZXhEYXRhIGluIGNhbGN1bGF0ZVZlcnRpY2VzKClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbnVsbDtcbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IElGIGl0IGlzIGEgdHJpbW1lZCBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4VHJpbW1lZERhdGEgPSBudWxsO1xuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIC8vIEJhdGNoYWJsZSBzdHVmZi4uXG4gICAgICAgIC8vIFRPRE8gY291bGQgbWFrZSB0aGlzIGEgbWl4aW4/XG4gICAgICAgIF90aGlzLmluZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVzZWQgdG8gZmFzdCBjaGVjayBpZiBhIHNwcml0ZSBpcy4uIGEgc3ByaXRlIVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNTcHJpdGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8vIHNvIGlmIF93aWR0aCBpcyAwIHRoZW4gd2lkdGggd2FzIG5vdCBzZXQuLlxuICAgICAgICBpZiAodGhpcy5fd2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHNpZ24odGhpcy5zY2FsZS54KSAqIHRoaXMuX3dpZHRoIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHNpZ24odGhpcy5zY2FsZS55KSAqIHRoaXMuX2hlaWdodCAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBhbmNob3IgcG9zaXRpb24gdXBkYXRlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25BbmNob3JVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVJRCA9PT0gdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgdGV4dHVyZSBVViBoZXJlLCBiZWNhdXNlIGJhc2UgdGV4dHVyZSBjYW4gYmUgY2hhbmdlZCB3aXRob3V0IGNhbGxpbmcgYF9vblRleHR1cmVVcGRhdGVgXG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICAvLyBzZXQgdGhlIHZlcnRleCBkYXRhXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlIGV4dHJhXG4gICAgICAgICAgICAvLyBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLlxuICAgICAgICAgICAgdzEgPSB0cmltLnggLSAoYW5jaG9yLl94ICogb3JpZy53aWR0aCk7XG4gICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgICAgICAgIGgxID0gdHJpbS55IC0gKGFuY2hvci5feSAqIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcbiAgICAgICAgICAgIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQoKHZlcnRleERhdGFbaV0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGV4VHJpbW1lZERhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICAvLyBsZXRzIGRvIHNvbWUgc3BlY2lhbCB0cmltIGNvZGUhXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleFRyaW1tZWREYXRhO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcbiAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgdGhlIG5ldyB1bnRyaW1tZWQgYm91bmRzLi5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdHJpbSA9IHRoaXMuX3RleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0aGlzLl90ZXh0dXJlLm9yaWc7XG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCAodHJpbS53aWR0aCA9PT0gb3JpZy53aWR0aCAmJiB0cmltLmhlaWdodCA9PT0gb3JpZy5oZWlnaHQpKSB7XG4gICAgICAgICAgICAvLyBubyB0cmltISBsZXRzIHVzZSB0aGUgdXN1YWwgY2FsY3VsYXRpb25zLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSBhIHNwZWNpYWwgdHJpbW1lZCBib3VuZHMuLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuICAgICAgICB2YXIgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlO1xuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgID8gc291cmNlXG4gICAgICAgICAgICA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgc3ByaXRlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0YWtlbiBmcm9tIHRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfFRleHR1cmV9XG4gICAgICAgICAqIGFuZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSBzcHJpdGUncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHNwcml0ZSdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgc3ByaXRlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHlvdSBwYXNzIG9ubHkgc2luZ2xlIHBhcmFtZXRlciwgaXQgd2lsbCBzZXQgYm90aCB4IGFuZCB5IHRvIHRoZSBzYW1lIHZhbHVlIGFzIHNob3duIGluIHRoZSBleGFtcGxlIGJlbG93LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTcHJpdGU7XG59KENvbnRhaW5lcikpO1xuXG5leHBvcnQgeyBTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvcHJlcGFyZSAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9wcmVwYXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFRleHQsIFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcblxuLyoqXG4gKiBEZWZhdWx0IG51bWJlciBvZiB1cGxvYWRzIHBlciBmcmFtZSB1c2luZyBwcmVwYXJlIHBsdWdpbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQG5hbWUgVVBMT0FEU19QRVJfRlJBTUVcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA0XG4gKi9cbnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQ291bnRMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ291bnRMaW1pdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ291bnRMaW1pdGVyKG1heEl0ZW1zUGVyRnJhbWUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICAgKi9cbiAgICBDb3VudExpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgICB9O1xuICAgIHJldHVybiBDb3VudExpbWl0ZXI7XG59KCkpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyhpdGVtLCBxdWV1ZSkge1xuICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICAvLyBPYmplY3RzIHdpdGggbXVsdGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGl0ZW0uX3RleHR1cmVzW2ldLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBUZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbS5iYXNlVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBkcmF3IFBJWEkuVGV4dCB0byBpdHMgdGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ8UElYSS5CYXNlUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoX2hlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcnxQSVhJLkJhc2VQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoX2hlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgIHZhciBmb250ID0gaXRlbS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgIC8vIHB1c2ggdGhlIHRleHQgc3R5bGUgdG8gcHJlcGFyZSBpdCAtIHRoaXMgY2FuIGJlIHJlYWxseSBleHBlbnNpdmVcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbS5zdHlsZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0uc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgdGV4dCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gcmVuZGVyIGl0ICh0byBjYW52YXMvdGV4dHVyZSkgaWYgbmVlZGVkXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIFRleHQncyB0ZXh0dXJlIGZvciB1cGxvYWQgdG8gR1BVXG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQmFzZVByZXBhcmUgaGFuZGxlcyBiYXNpYyBxdWV1aW5nIGZ1bmN0aW9uYWxpdHkgYW5kIGlzIGV4dGVuZGVkIGJ5XG4gKiB7QGxpbmsgUElYSS5QcmVwYXJlfSBhbmQge0BsaW5rIFBJWEkuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVByZXBhcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQ291bnRMaW1pdGVyfFBJWEkuVGltZUxpbWl0ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBuZXcgQ291bnRMaW1pdGVyKHNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFByZXBhcmUgaXMgd2hhdCB0aGV5IHBhc3NcbiAgICAgICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZHMgYXQgb25jZS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgcHJvY2Vzc2luZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB0byBjYWxsIGFmdGVyIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogJ2JvdW5kJyBjYWxsIGZvciBwcmVwYXJlSXRlbXMoKS5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWxheWVkVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHVubGlrZWx5LCBidXQgaW4gY2FzZSB3ZSB3ZXJlIGRlc3Ryb3llZCBiZXR3ZWVuIHRpY2soKSBhbmQgZGVsYXllZFRpY2soKVxuICAgICAgICAgICAgaWYgKCFfdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnByZXBhcmVJdGVtcygpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRCYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG4gICAgICAgIC8vIHVwbG9hZCBob29rc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR9IGl0ZW0gLVxuICAgICAqICAgICAgICBFaXRoZXIgdGhlIGNvbnRhaW5lciBvciBkaXNwbGF5IG9iamVjdCB0byBzZWFyY2ggZm9yIGl0ZW1zIHRvIHVwbG9hZCwgdGhlIGl0ZW1zIHRvIHVwbG9hZCB0aGVtc2VsdmVzLFxuICAgICAqICAgICAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtkb25lXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHdoZW4gYWxsIHF1ZXVlZCB1cGxvYWRzIGhhdmUgY29tcGxldGVkXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChpdGVtLCBkb25lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZG9uZSA9IGl0ZW07XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhIGRpc3BsYXkgb2JqZWN0LCBzZWFyY2ggZm9yIGl0ZW1zXG4gICAgICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMucHVzaChkb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGljayB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcmVwYXJlIGl0ZW1zLiBUaGlzIGlzIGhhbmRsZWQgb3V0c2lkZSBvZiB0aGUgdGljayBiZWNhdXNlIGl0IHdpbGwgdGFrZSBhIHdoaWxlXG4gICAgICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnByZXBhcmVJdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5saW1pdGVyLmJlZ2luRnJhbWUoKTtcbiAgICAgICAgLy8gVXBsb2FkIHRoZSBncmFwaGljc1xuICAgICAgICB3aGlsZSAodGhpcy5xdWV1ZS5sZW5ndGggJiYgdGhpcy5saW1pdGVyLmFsbG93ZWRUb1VwbG9hZCgpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgICAgICB2YXIgdXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy51cGxvYWRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGxvYWRIb29rc1tpXSh0aGlzLnVwbG9hZEhvb2tIZWxwZXIsIGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdXBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UncmUgZmluaXNoZWRcbiAgICAgICAgaWYgKCF0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvbXBsZXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlc1tpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBmaW5pc2hlZCwgb24gdGhlIG5leHQgckFGIGRvIHRoaXMgYWdhaW5cbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIChhZGRIb29rKSB7XG4gICAgICAgIGlmIChhZGRIb29rKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gKHVwbG9hZEhvb2spIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hbnVhbGx5IGFkZCBhbiBpdGVtIHRvIHRoZSB1cGxvYWRpbmcgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gICAgICogICAgICAgIGFkZCB0byB0aGUgcXVldWVcbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyBBZGQgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBlbGVtZW50cyBvbiBzcGVjaWFsXG4gICAgICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5hZGRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRkSG9va3NbaV0oaXRlbSwgdGhpcy5xdWV1ZSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgY2hpbGRyZW4gcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDb250YWluZXIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoaXRlbS5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VQcmVwYXJlO1xufSgpKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmICghKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgZ2VvbWV0cnkgPSBpdGVtLmdlb21ldHJ5O1xuICAgIC8vIHVwZGF0ZSBkaXJ0eSBncmFwaGljcyB0byBnZXQgYmF0Y2hlc1xuICAgIGl0ZW0uZmluaXNoUG9seSgpO1xuICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcbiAgICB2YXIgYmF0Y2hlcyA9IGdlb21ldHJ5LmJhdGNoZXM7XG4gICAgLy8gdXBsb2FkIGFsbCB0ZXh0dXJlcyBmb3VuZCBpbiBzdHlsZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBiYXRjaGVzW2ldLnN0eWxlLnRleHR1cmU7XG4gICAgICAgIGlmICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGlmIGl0cyBub3QgYmF0Y2hhYmxlIC0gdXBkYXRlIHZhbyBmb3IgcGFydGljdWxhciBzaGFkZXJcbiAgICBpZiAoIWdlb21ldHJ5LmJhdGNoYWJsZSkge1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBpdGVtLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKSB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFRoZSBwcmVwYXJlIHBsdWdpbiBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBwcmUtcmVuZGVyaW5nIERpc3BsYXlPYmplY3RzLiBUaGVzZSBwbHVnaW5zIGFyZSB1c2VmdWwgZm9yXG4gKiBhc3luY2hyb25vdXNseSBwcmVwYXJpbmcgYW5kIHVwbG9hZGluZyB0byB0aGUgR1BVIGFzc2V0cywgdGV4dHVyZXMsIGdyYXBoaWNzIHdhaXRpbmcgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGlzIHBsdWdpbiBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgcmlnaHQgYXdheVxuICogYXBwLnN0b3AoKTtcbiAqXG4gKiAvLyBjcmVhdGUgYSBkaXNwbGF5IG9iamVjdFxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgdG8gdGhlIHN0YWdlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHVudGlsIHRoZSBncmFwaGljIGlzIHVwbG9hZGVkIHRvIHRoZSBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKGFwcC5zdGFnZSwgKCkgPT4ge1xuICogICAgIGFwcC5zdGFydCgpO1xuICogfSk7XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJlcGFyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJlcGFyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51cGxvYWRIb29rSGVscGVyID0gX3RoaXMucmVuZGVyZXI7XG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdXBsb2FkXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEdyYXBoaWNzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFByZXBhcmU7XG59KEJhc2VQcmVwYXJlKSk7XG5cbi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGltZUxpbWl0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heE1pbGxpc2Vjb25kcyAtIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaW1lTGltaXRlcihtYXhNaWxsaXNlY29uZHMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAgICovXG4gICAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICAgKi9cbiAgICBUaW1lTGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbWVMaW1pdGVyO1xufSgpKTtcblxuZXhwb3J0IHsgQmFzZVByZXBhcmUsIENvdW50TGltaXRlciwgUHJlcGFyZSwgVGltZUxpbWl0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXBhcmUuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgZ2V0UmVzb2x1dGlvbk9mVXJsLCB1cmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIFRvIGFjY2VzcyBhIHNwcml0ZSBzaGVldCBmcm9tIHlvdXIgY29kZSBwYXNzIGl0cyBKU09OIGRhdGEgZmlsZSB0byBQaXhpJ3MgbG9hZGVyOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIFdpdGggdGhlIGBzaGVldC50ZXh0dXJlc2AgeW91IGNhbiBjcmVhdGUgU3ByaXRlIG9iamVjdHMsYHNoZWV0LmFuaW1hdGlvbnNgIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiBBbmltYXRlZFNwcml0ZS5cbiAqXG4gKiBTcHJpdGUgc2hlZXRzIGNhbiBiZSBwYWNrZWQgdXNpbmcgdG9vbHMgbGlrZSB7QGxpbmsgaHR0cHM6Ly9jb2RlYW5kd2ViLmNvbS90ZXh0dXJlcGFja2VyfFRleHR1cmVQYWNrZXJ9LFxuICoge0BsaW5rIGh0dHBzOi8vcmVuZGVyaGpzLm5ldC9zaG9lYm94L3xTaG9lYm94fSBvciB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2tyenlzenRvZi1vL3Nwcml0ZXNoZWV0LmpzfFNwcml0ZXNoZWV0LmpzfS5cbiAqIERlZmF1bHQgYW5jaG9yIHBvaW50cyAoc2VlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0pIGFuZCBncm91cGluZyBvZiBhbmltYXRpb24gc3ByaXRlcyBhcmUgY3VycmVudGx5IG9ubHlcbiAqIHN1cHBvcnRlZCBieSBUZXh0dXJlUGFja2VyLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgQmFzZVRleHR1cmUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gU3ByaXRlc2hlZXQgaW1hZ2UgZGF0YS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAqICAgICAgICB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuIElmIG5vdCBwcm92aWRlZCwgdGhlIGltYWdlVXJsIHdpbGxcbiAgICAgKiAgICAgICAgYmUgdXNlZCBvbiB0aGUgQmFzZVRleHR1cmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlc2hlZXQodGV4dHVyZSwgZGF0YSwgcmVzb2x1dGlvbkZpbGVuYW1lKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uRmlsZW5hbWUgPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gb3JpZ2luYWwgc291cmNlIGltYWdlIGZyb20gdGhlIExvYWRlci4gVGhpcyByZWZlcmVuY2UgaXMgcmV0YWluZWQgc28gd2VcbiAgICAgICAgICogY2FuIGRlc3Ryb3kgdGhlIFRleHR1cmUgbGF0ZXIgb24uIEl0IGlzIG5ldmVyIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmUgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZS5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlID8gdGV4dHVyZSA6IHRoaXMuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIGFsbCB0ZXh0dXJlcyBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUElYSS5TcHJpdGV8U3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIHRleHR1cmVzIGZvciBlYWNoIGFuaW1hdGlvbi5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImFuaW1fbmFtZVwiXSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUgfHwgKHJlc291cmNlID8gcmVzb3VyY2UudXJsIDogbnVsbCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHNwcml0ZXNoZWV0IGZyYW1lcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZyYW1lIG5hbWVzLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gcGFyc2UgaXMgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gICAgICogdG8gdGhlIG1ldGEuc2NhbGUgZmllbGQgb2YgdGhlIEpTT04gZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc29sdXRpb25GaWxlbmFtZSAtIFRoZSBmaWxlbmFtZSB0byB1c2UgZm9yIHJlc29sdmluZ1xuICAgICAqICAgICAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiB0byB1c2UgZm9yIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uRmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb25GaWxlbmFtZSA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGw7IH1cbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5kYXRhLm1ldGEuc2NhbGU7XG4gICAgICAgIC8vIFVzZSBhIGRlZmF1bHRWYWx1ZSBvZiBgbnVsbGAgdG8gY2hlY2sgaWYgYSB1cmwtYmFzZWQgcmVzb2x1dGlvbiBpcyBzZXRcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcbiAgICAgICAgLy8gTm8gcmVzb2x1dGlvbiBmb3VuZCB2aWEgVVJMXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNjYWxlIHZhbHVlIG9yIGRlZmF1bHQgdG8gMVxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIG5vbi0xIHJlc29sdXRpb25zLCB1cGRhdGUgYmFzZVRleHR1cmVcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlciBzcHJpdGVzaGVldCBmcm9tIGxvYWRlZCBkYXRhLiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHlcbiAgICAgKiB0byBwcmV2ZW50IGNyZWF0aW5nIHRvbyBtYW55IFRleHR1cmUgd2l0aGluIGEgc2luZ2xlIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHdoZW4gY29tcGxldGUgcmV0dXJuc1xuICAgICAqICAgICAgICBhIG1hcCBvZiB0aGUgVGV4dHVyZXMgZm9yIHRoaXMgc3ByaXRlc2hlZXQuXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVLZXlzLmxlbmd0aCA8PSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgYmF0Y2ggb2YgZnJhbWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsRnJhbWVJbmRleCAtIFRoZSBpbmRleCBvZiBmcmFtZSB0byBzdGFydC5cbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NGcmFtZXMgPSBmdW5jdGlvbiAoaW5pdGlhbEZyYW1lSW5kZXgpIHtcbiAgICAgICAgdmFyIGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICAgICAgdmFyIG1heEZyYW1lcyA9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkU7XG4gICAgICAgIHdoaWxlIChmcmFtZUluZGV4IC0gaW5pdGlhbEZyYW1lSW5kZXggPCBtYXhGcmFtZXMgJiYgZnJhbWVJbmRleCA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9mcmFtZXNbaV07XG4gICAgICAgICAgICB2YXIgcmVjdCA9IGRhdGEuZnJhbWU7XG4gICAgICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemVcbiAgICAgICAgICAgICAgICAgICAgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuICAgICAgICAgICAgICAgIHZhciBvcmlnID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBNYXRoLmZsb29yKHNvdXJjZVNpemUudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3Ioc291cmNlU2l6ZS5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXSA9IG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCBkYXRhLnJvdGF0ZWQgPyAyIDogMCwgZGF0YS5hbmNob3IpO1xuICAgICAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tJyBhbmQgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0aGlzLnRleHR1cmVzW2ldLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2UgYW5pbWF0aW9ucyBjb25maWdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcbiAgICAgICAgZm9yICh2YXIgYW5pbU5hbWUgaW4gYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zW2FuaW1OYW1lXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdLnB1c2godGhpcy50ZXh0dXJlc1tmcmFtZU5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcy50ZXh0dXJlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgbmV4dCBiYXRjaCBvZiB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IF90aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IFNwcml0ZXNoZWV0IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSAtIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkZXN0cm95QmFzZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSA9PT0gdm9pZCAwKSB7IGRlc3Ryb3lCYXNlID0gZmFsc2U7IH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVzID0gbnVsbDtcbiAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLl90ZXh0dXJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIFRleHR1cmVzIHRvIGJ1aWxkIHBlciBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMDAwXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA9IDEwMDA7XG4gICAgcmV0dXJuIFNwcml0ZXNoZWV0O1xufSgpKTtcbi8qKlxuICogUmVmZXJlbmNlIHRvIFNwcml0ZXNoZWV0IG9iamVjdCBjcmVhdGVkLlxuICogQG1lbWJlciB7UElYSS5TcHJpdGVzaGVldH0gc3ByaXRlc2hlZXRcbiAqIEBtZW1iZXJvZiBQSVhJLklMb2FkZXJSZXNvdXJjZVxuICogQGluc3RhbmNlXG4gKi9cbi8qKlxuICogRGljdGlvbmFyeSBvZiB0ZXh0dXJlcyBmcm9tIFNwcml0ZXNoZWV0LlxuICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUElYSS5UZXh0dXJlPn0gdGV4dHVyZXNcbiAqIEBtZW1iZXJvZiBQSVhJLklMb2FkZXJSZXNvdXJjZVxuICogQGluc3RhbmNlXG4gKi9cblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmcgdGV4dHVyZSBhdGxhc2VzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICogVGV4dHVyZVBhY2tlciBvciBzaW1pbGFyIEpTT04tYmFzZWQgc3ByaXRlc2hlZXQuXG4gKlxuICogVGhpcyBtaWRkbGV3YXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIFRleHR1cmUgcmVzb3VyY2VzLlxuICpcbiAqIElmIHlvdSdyZSB1c2luZyBXZWJwYWNrIG9yIG90aGVyIGJ1bmRsZXJzIGFuZCBwbGFuIG9uIGJ1bmRsaW5nIHRoZSBhdGxhcycgSlNPTixcbiAqIHVzZSB0aGUge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9IGNsYXNzIHRvIGRpcmVjdGx5IHBhcnNlIHRoZSBKU09OLlxuICpcbiAqIFRoZSBMb2FkZXIncyBpbWFnZSBSZXNvdXJjZSBuYW1lIGlzIGF1dG9tYXRpY2FsbHkgYXBwZW5kZWQgd2l0aCBgXCJfaW1hZ2VcImAuXG4gKiBJZiBhIFJlc291cmNlIHdpdGggdGhpcyBuYW1lIGlzIGFscmVhZHkgbG9hZGVkLCB0aGUgTG9hZGVyIHdpbGwgc2tpcCBwYXJzaW5nIHRoZVxuICogU3ByaXRlc2hlZXQuIFRoZSBjb2RlIGJlbG93IHdpbGwgZ2VuZXJhdGUgYW4gaW50ZXJuYWwgTG9hZGVyIFJlc291cmNlIGNhbGxlZCBgXCJteWF0bGFzX2ltYWdlXCJgLlxuICpcbiAqIEBleGFtcGxlXG4gKiBsb2FkZXIuYWRkKCdteWF0bGFzJywgJ3BhdGgvdG8vbXlhdGxhcy5qc29uJyk7XG4gKiBsb2FkZXIubG9hZCgoKSA9PiB7XG4gKiAgIGxvYWRlci5yZXNvdXJjZXMubXlhdGxhczsgLy8gYXRsYXMgSlNPTiByZXNvdXJjZVxuICogICBsb2FkZXIucmVzb3VyY2VzLm15YXRsYXNfaW1hZ2U7IC8vIGF0bGFzIEltYWdlIHJlc291cmNlXG4gKiB9KTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFNwcml0ZXNoZWV0TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNwcml0ZXNoZWV0TG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldExvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgLy8gYmVjYXVzZSB0aGlzIGlzIG1pZGRsZXdhcmUsIGl0IGV4ZWN1dGUgaW4gbG9hZGVyIGNvbnRleHQuIGB0aGlzYCA9IGxvYWRlclxuICAgICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gcmVzb3VyY2UubmFtZSArIFwiX2ltYWdlXCI7XG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhXG4gICAgICAgICAgICB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLkpTT05cbiAgICAgICAgICAgIHx8ICFyZXNvdXJjZS5kYXRhLmZyYW1lc1xuICAgICAgICAgICAgfHwgbG9hZGVyLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV0pIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBhbmQgYWRkIHRoZSBtdWx0aSBhdGxhc1xuICAgICAgICAvLyBIZWF2aWx5IGluZmx1ZW5jZWQgYW5kIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2NrZXQtdWEvcGl4aS10cHMtbG9hZGVyL2Jsb2IvbWFzdGVyL3NyYy9SZXNvdXJjZUxvYWRlci5qc1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICAgIHZhciBtdWx0aVBhY2tzID0gKF9iID0gKF9hID0gcmVzb3VyY2UuZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1ldGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZWxhdGVkX211bHRpX3BhY2tzO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtdWx0aVBhY2tzKSkge1xuICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1OYW1lID0gaXRlbS5yZXBsYWNlKCcuanNvbicsICcnKTtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVVybCA9IHVybC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGxvYWRlci5iYXNlVXJsLCAnJyksIGl0ZW0pO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBmaWxlIHdhc24ndCBhbHJlYWR5IGFkZGVkIGFzIG11bHRpcGFja3MgYXJlIHJlZHVuZGFudFxuICAgICAgICAgICAgICAgIGlmIChsb2FkZXIucmVzb3VyY2VzW2l0ZW1OYW1lXVxuICAgICAgICAgICAgICAgICAgICB8fCBPYmplY3QudmFsdWVzKGxvYWRlci5yZXNvdXJjZXMpLnNvbWUoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHVybC5mb3JtYXQodXJsLnBhcnNlKHIudXJsKSkgPT09IGl0ZW1Vcmw7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRUeXBlOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuWEhSLFxuICAgICAgICAgICAgICAgICAgICB4aHJUeXBlOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKGl0ZW1OYW1lLCBpdGVtVXJsLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG11bHRpUGFja3NfMSA9IG11bHRpUGFja3M7IF9pIDwgbXVsdGlQYWNrc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gbXVsdGlQYWNrc18xW19pXTtcbiAgICAgICAgICAgICAgICBfbG9vcF8xKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIG1ldGFkYXRhOiByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLFxuICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzb3VyY2VQYXRoID0gU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCBsb2FkZXIuYmFzZVVybCk7XG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlIGZvciB0aGlzIHNoZWV0XG4gICAgICAgIGxvYWRlci5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQocmVzLnRleHR1cmUsIHJlc291cmNlLmRhdGEsIHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2UgLSBSZXNvdXJjZSB0byBjaGVjayBwYXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSBCYXNlIHJvb3QgdXJsXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoID0gZnVuY3Rpb24gKHJlc291cmNlLCBiYXNlVXJsKSB7XG4gICAgICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbiAgICB9O1xuICAgIHJldHVybiBTcHJpdGVzaGVldExvYWRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IFNwcml0ZXNoZWV0LCBTcHJpdGVzaGVldExvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlc2hlZXQuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLXRpbGluZyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIFRleHR1cmVNYXRyaXgsIFNoYWRlciwgUXVhZFV2LCBTdGF0ZSwgT2JqZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBSZWN0YW5nbGUsIFRyYW5zZm9ybSwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIGNvcnJlY3RCbGVuZE1vZGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG4vKipcbiAqIEEgdGlsaW5nIHNwcml0ZSBpcyBhIGZhc3Qgd2F5IG9mIHJlbmRlcmluZyBhIHRpbGluZyBpbWFnZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlsaW5nU3ByaXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxpbmdTcHJpdGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlKHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAxMDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDEwMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGlsZSB0cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBfdGhpcy50ZXh0dXJlLnV2TWF0cml4IHx8IG5ldyBUZXh0dXJlTWF0cml4KHRleHR1cmUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgbWV0aG9kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICd0aWxpbmdTcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFncyB3aGV0aGVyIHRoZSB0aWxpbmcgcGF0dGVybiBzaG91bGQgb3JpZ2luYXRlIGZyb20gdGhlIG9yaWdpbiBpbnN0ZWFkIG9mIHRoZSB0b3AtbGVmdCBjb3JuZXIgaW5cbiAgICAgICAgICogbG9jYWwgc3BhY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgd2lsbCBtYWtlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGFzc2lnbmVkIHRvIGVhY2ggdmVydGV4IGRlcGVuZGVudCBvbiB0aGUgdmFsdWUgb2YgdGhlIGFuY2hvci4gV2l0aG91dFxuICAgICAgICAgKiB0aGlzLCB0aGUgdG9wLWxlZnQgY29ybmVyIGFsd2F5cyBnZXRzIHRoZSAoMCwgMCkgdGV4dHVyZSBjb29yZGluYXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwiY2xhbXBNYXJnaW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwidGlsZVNjYWxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsaW5nIG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcInRpbGVQb3NpdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4KSB7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIHR3ZWFrIG91ciB0ZXh0dXJlIHRlbXBvcmFyaWx5Li5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBzcHJpdGUgY29udGFpbnMgdGhlIHBvaW50LlxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IuX3k7XG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIHJlcXVpcmVkIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gcmVxdWlyZWQgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgID8gc291cmNlXG4gICAgICAgICAgICA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlO1xufShTcHJpdGUpKTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcXG51bmlmb3JtIHZlYzIgdUNsYW1wT2Zmc2V0O1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjMiBjb29yZCA9IHZUZXh0dXJlQ29vcmQgKyBjZWlsKHVDbGFtcE9mZnNldCAtIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgdmVjNCB0ZXhTYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4U2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50U2ltcGxlID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxpbmdTcHJpdGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7IGdsb2JhbHM6IF90aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zIH07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcbiAgICAgICAgX3RoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudFNpbXBsZSwgdW5pZm9ybXMpO1xuICAgICAgICBfdGhpcy5xdWFkID0gbmV3IFF1YWRVdigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UaWxpbmdTcHJpdGV9IHRzIC0gdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcbiAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9ICh0cy5fd2lkdGgpICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuICAgICAgICB2YXIgYW5jaG9yWCA9IHRzLnV2UmVzcGVjdEFuY2hvciA/IHRzLmFuY2hvci54IDogMDtcbiAgICAgICAgdmFyIGFuY2hvclkgPSB0cy51dlJlc3BlY3RBbmNob3IgPyB0cy5hbmNob3IueSA6IDA7XG4gICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtYW5jaG9yWDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC1hbmNob3JZO1xuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gYW5jaG9yWDtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIGFuY2hvclk7XG4gICAgICAgIHF1YWQuaW52YWxpZGF0ZSgpO1xuICAgICAgICB2YXIgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgdXYgPSB0cy51dk1hdHJpeDtcbiAgICAgICAgdmFyIGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd29cbiAgICAgICAgICAgICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcbiAgICAgICAgLy8gYXV0bywgZm9yY2UgcmVwZWF0IHdyYXBNb2RlIGZvciBiaWcgdGlsaW5nIHRleHR1cmVzXG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgaWYgKCFiYXNlVGV4Ll9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLCBsdC5iICogdyAvIEgsIGx0LmMgKiBoIC8gVywgbHQuZCAqIGggLyBILCBsdC50eCAvIFcsIGx0LnR5IC8gSCk7XG4gICAgICAgIC8vIHRoYXQgcGFydCBpcyB0aGUgc2FtZSBhcyBhYm92ZTpcbiAgICAgICAgLy8gdGVtcE1hdC5pZGVudGl0eSgpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKHRleC53aWR0aCwgdGV4LmhlaWdodCk7XG4gICAgICAgIC8vIHRlbXBNYXQucHJlcGVuZChsdCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUoMS4wIC8gdHMuX3dpZHRoLCAxLjAgLyB0cy5faGVpZ2h0KTtcbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmEodHMudGludCwgdHMud29ybGRBbHBoYSwgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5hbHBoYU1vZGUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0cy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gdGV4O1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpO1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGUodHMuYmxlbmRNb2RlLCBiYXNlVGV4LmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZSwgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmcuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2ggLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvbWVzaCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFN0YXRlLCBQcm9ncmFtLCBUZXh0dXJlTWF0cml4LCBTaGFkZXIsIEJ1ZmZlciwgR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBQb2x5Z29uLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IERSQVdfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIGNhY2hlIGZvciBVViBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hCYXRjaFV2cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSB1dkJ1ZmZlciAtIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgdXYnc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlTWF0cml4fSB1dk1hdHJpeCAtIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hCYXRjaFV2cyh1dkJ1ZmZlciwgdXZNYXRyaXgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgVVYnc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSB1dkJ1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gdXZNYXRyaXg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVViBCdWZmZXIgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gLTE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGVdIC0gZm9yY2UgdGhlIHVwZGF0ZVxuICAgICAqL1xuICAgIE1lc2hCYXRjaFV2cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgICAgICYmIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID09PSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRFxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID09PSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXZNYXRyaXgubXVsdGlwbHlVdnMoZGF0YSwgdGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIHJldHVybiBNZXNoQmF0Y2hVdnM7XG59KCkpO1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdGVtcFBvbHlnb24gPSBuZXcgUG9seWdvbigpO1xuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKlxuICogVGhpcyBjbGFzcyBlbXBvd2VycyB5b3UgdG8gaGF2ZSBtYXhpbXVtIGZsZXhpYmlsaXR5IHRvIHJlbmRlciBhbnkga2luZCBvZiBXZWJHTCB2aXN1YWxzIHlvdSBjYW4gdGhpbmsgb2YuXG4gKiBUaGlzIGNsYXNzIGFzc3VtZXMgYSBjZXJ0YWluIGxldmVsIG9mIFdlYkdMIGtub3dsZWRnZS5cbiAqIElmIHlvdSBrbm93IGEgYml0IHRoaXMgc2hvdWxkIGFic3RyYWN0IGVub3VnaCBhd2F5IHRvIG1ha2UgeW91IGxpZmUgZWFzaWVyIVxuICpcbiAqIFByZXR0eSBtdWNoIEFMTCBXZWJHTCBjYW4gYmUgYnJva2VuIGRvd24gaW50byB0aGUgZm9sbG93aW5nOlxuICogLSBHZW9tZXRyeSAtIFRoZSBzdHJ1Y3R1cmUgYW5kIGRhdGEgZm9yIHRoZSBtZXNoLiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuLlxuICogLSBTaGFkZXIgLSBUaGlzIGlzIHRoZSBzaGFkZXIgdGhhdCBQaXhpSlMgd2lsbCByZW5kZXIgdGhlIGdlb21ldHJ5IHdpdGggKGF0dHJpYnV0ZXMgaW4gdGhlIHNoYWRlciBtdXN0IG1hdGNoIHRoZSBnZW9tZXRyeSlcbiAqIC0gU3RhdGUgLSBUaGlzIGlzIHRoZSBzdGF0ZSBvZiBXZWJHTCByZXF1aXJlZCB0byByZW5kZXIgdGhlIG1lc2guXG4gKlxuICogVGhyb3VnaCBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSBlbGVtZW50cyB5b3UgY2FuIHJlbmRlciBhbnl0aGluZyB5b3Ugd2FudCwgMkQgb3IgM0QhXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIHRoZSBnZW9tZXRyeSB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAqIEBwYXJhbSB7UElYSS5NZXNoTWF0ZXJpYWx9IHNoYWRlciAtIHRoZSBzaGFkZXIgdGhlIG1lc2ggd2lsbCB1c2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IFtzdGF0ZV0gLSB0aGUgc3RhdGUgdGhhdCB0aGUgV2ViR0wgY29udGV4dCBpcyByZXF1aXJlZCB0byBiZSBpbiB0byByZW5kZXIgdGhlIG1lc2hcbiAgICAgKiAgICAgICAgaWYgbm8gc3RhdGUgaXMgcHJvdmlkZWQsIHVzZXMge0BsaW5rIFBJWEkuU3RhdGUuZm9yMmR9IHRvIGNyZWF0ZSBhIDJEIHN0YXRlIGZvciBQaXhpSlMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZT1QSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgUElYSS5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2goZ2VvbWV0cnksIHNoYWRlciwgc3RhdGUsIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmIChkcmF3TW9kZSA9PT0gdm9pZCAwKSB7IGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgZ2VvbWV0cnkucmVmQ291bnQrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgTWVzaCByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBzdGF0ZSB8fCBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLkRSQVdfTU9ERVN9IGNvbnN0YW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuRFJBV19NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGljYWxseSB0aGUgaW5kZXggb2YgdGhlIEluZGV4QnVmZmVyIHdoZXJlIHRvIHN0YXJ0IGRyYXdpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG11Y2ggb2YgdGhlIGdlb21ldHJ5IHRvIGRyYXcsIGJ5IGRlZmF1bHQgYDBgIHJlbmRlcnMgZXZlcnl0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHRoZSBjYWNoaW5nIGxheWVyIHVzZWQgYnkgdGhlIGJhdGNoZXJcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBnZW9tZXRyeSBpcyBjaGFuZ2VkIHVzZWQgdG8gZGVjaWRlIHRvIHJlLXRyYW5zZm9ybVxuICAgICAgICAgKiB0aGUgdmVydGV4RGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGlydHkgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlZCBVVidzIGFyZSBjYWNoZWQgZm9yIGF0bGFzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWVzaEJhdGNoVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hVdnMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ1dkJ1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUbyBjaGFuZ2UgbWVzaCB1didzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidmVydGljZXNCdWZmZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVG8gY2hhbmdlIG1lc2ggdmVydGljZXMsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICAgICAqIEluY3JlbWVudGluZyBfdXBkYXRlSUQgaXMgb3B0aW9uYWwgYmVjYXVzZSBtb3N0IG9mIE1lc2ggb2JqZWN0cyBkbyBpdCBhbnl3YXkuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQWxpYXMgZm9yIHtAbGluayBQSVhJLk1lc2gjc2hhZGVyfS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIE1lc2guIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJyb3VuZFBpeGVsc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBseSB0aW50IGFwcGxpZWQgdG8gdGhlIE1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgICAgICogYDB4RkZGRkZGYCB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIE51bGwgZm9yIG5vbi1NZXNoTWF0ZXJpYWwgc2hhZGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAndGludCcgaW4gdGhpcy5zaGFkZXIgPyB0aGlzLnNoYWRlci50aW50IDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnRpbnQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIE1lc2ggdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogTnVsbCBmb3Igbm9uLU1lc2hNYXRlcmlhbCBzaGFkZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICd0ZXh0dXJlJyBpbiB0aGlzLnNoYWRlciA/IHRoaXMuc2hhZGVyLnRleHR1cmUgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgcmVuZGVyZXIgZHJhdy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCB1c2UgYSBkaWZmZXJlbnQgd2F5IHRvIGdyYWIgdmVydHM/XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIC8vIFRPRE8gYmVuY2htYXJrIGNoZWNrIGZvciBhdHRyaWJ1dGUgc2l6ZS4uXG4gICAgICAgIGlmIChzaGFkZXIuYmF0Y2hhYmxlXG4gICAgICAgICAgICAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFU1xuICAgICAgICAgICAgJiYgdmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRvQmF0Y2gocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGVmYXVsdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIG5vbi1iYXRjaGluZyB3YXkgb2YgcmVuZGVyaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlckRlZmF1bHQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICBzaGFkZXIuYWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGlmIChzaGFkZXIudXBkYXRlKSB7XG4gICAgICAgICAgICBzaGFkZXIudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgaWYgKHNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhLnRyYW5zbGF0aW9uTWF0cml4KSB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICAvLyBzZXQgc3RhdGUuLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcbiAgICAgICAgLy8gdGhlbiByZW5kZXIgaXRcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLmRyYXdNb2RlLCB0aGlzLnNpemUsIHRoaXMuc3RhcnQsIHRoaXMuZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJpbmcgYnkgdXNpbmcgdGhlIEJhdGNoIHN5c3RlbS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXJUb0JhdGNoID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgaWYgKHNoYWRlci51dk1hdHJpeCkge1xuICAgICAgICAgICAgc2hhZGVyLnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSBzaGFkZXIuX3RpbnRSR0I7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBzaGFkZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLm1hdGVyaWFsLnBsdWdpbk5hbWU7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdmVydGV4RGF0YSBmaWVsZCBiYXNlZCBvbiB0cmFuc2Zvcm0gYW5kIHZlcnRpY2VzXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciB2ZXJ0aWNlc0J1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHZlcnRpY2VzQnVmZmVyLmRhdGE7XG4gICAgICAgIHZhciB2ZXJ0ZXhEaXJ0eUlkID0gdmVydGljZXNCdWZmZXIuX3VwZGF0ZUlEO1xuICAgICAgICBpZiAodmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCAhPT0gdmVydGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1soaSAqIDIpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydGljZXNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCgodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSB2ZXJ0ZXhEaXJ0eUlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB1diBmaWVsZCBiYXNlZCBvbiBmcm9tIGdlb21ldHJ5IHV2J3Mgb3IgYmF0Y2hVdnNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tVXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIGlmICghc2hhZGVyLnV2TWF0cml4LmlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmF0Y2hVdnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVXZzID0gbmV3IE1lc2hCYXRjaFV2cyhnZW9tVXZzLCBzaGFkZXIudXZNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXRjaFV2cy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5iYXRjaFV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51dnMgPSBnZW9tVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgbWVzaCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIHRoZXJlIG11c3QgYmUgYSBhVmVydGV4UG9zaXRpb24gYXR0cmlidXRlIHByZXNlbnQgaW4gdGhlIGdlb21ldHJ5IGZvciBib3VuZHMgdG8gYmUgY2FsY3VsYXRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGV4RGF0YSh0aGlzLnZlcnRleERhdGEsIDAsIHRoaXMudmVydGV4RGF0YS5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRJbmRleCgpLmRhdGE7XG4gICAgICAgIHZhciBsZW4gPSBpbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSA0ID8gMyA6IDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICB2YXIgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcbiAgICAgICAgICAgIHBvaW50c1swXSA9IHZlcnRpY2VzW2luZDBdO1xuICAgICAgICAgICAgcG9pbnRzWzFdID0gdmVydGljZXNbaW5kMCArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzJdID0gdmVydGljZXNbaW5kMV07XG4gICAgICAgICAgICBwb2ludHNbM10gPSB2ZXJ0aWNlc1tpbmQxICsgMV07XG4gICAgICAgICAgICBwb2ludHNbNF0gPSB2ZXJ0aWNlc1tpbmQyXTtcbiAgICAgICAgICAgIHBvaW50c1s1XSA9IHZlcnRpY2VzW2luZDIgKyAxXTtcbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIE1lc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZXJ0aWNlcyB0byBjb25zaWRlciBiYXRjaGFibGUuIEdlbmVyYWxseSwgdGhlIGNvbXBsZXhpdHlcbiAgICAgKiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTWVzaFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICovXG4gICAgTWVzaC5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gTWVzaDtcbn0oQ29udGFpbmVyKSk7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUZXh0dXJlTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VGV4dHVyZU1hdHJpeCAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG4vKipcbiAqIFNsaWdodGx5IG9waW5pb25hdGVkIGRlZmF1bHQgc2hhZGVyIGZvciBQaXhpSlMgMkQgb2JqZWN0cy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBNZXNoTWF0ZXJpYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdVNhbXBsZXIgLSBUZXh0dXJlIHRoYXQgbWF0ZXJpYWwgdXNlcyB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIERlZmF1bHQgYWxwaGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbnQ9MHhGRkZGRkZdIC0gRGVmYXVsdCB0aW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wbHVnaW5OYW1lPSdiYXRjaCddIC0gUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW29wdGlvbnMucHJvZ3JhbT0weEZGRkZGRl0gLSBDdXN0b20gcHJvZ3JhbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hNYXRlcmlhbCh1U2FtcGxlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcjogdVNhbXBsZXIsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4OiBNYXRyaXguSURFTlRJVFksXG4gICAgICAgICAgICB1Q29sb3I6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBwbHVnaW5OYW1lOiAnYmF0Y2gnLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5wcm9ncmFtIHx8IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KSwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmx5IGRvIHVwZGF0ZSBpZiB0aW50IG9yIGFscGhhIGNoYW5nZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyBNZXNoLCB1c2VkIHRvIHRyYWNrIFRleHR1cmUgY2hhbmdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh1U2FtcGxlcik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc2hhZGVyIGNhbiBiZSBiYXRjaCB3aXRoIHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hhYmxlID0gb3B0aW9ucy5wcm9ncmFtID09PSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcbiAgICAgICAgX3RoaXMudGludCA9IG9wdGlvbnMudGludDtcbiAgICAgICAgX3RoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybXMudVNhbXBsZXIgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZ2V0cyBhdXRvbWF0aWNhbGx5IHNldCBieSB0aGUgb2JqZWN0IHVzaW5nIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX2FscGhhID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTXVsdGlwbHkgdGludCBmb3IgdGhlIG1hdGVyaWFsLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl90aW50KVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b21cbiAgICAgKiBNZXNoTWF0ZXJpYWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHByZW11bHRpcGx5VGludFRvUmdiYSh0aGlzLl90aW50LCB0aGlzLl9hbHBoYSwgdGhpcy51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXZNYXRyaXgudXBkYXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVRleHR1cmVNYXRyaXggPSB0aGlzLnV2TWF0cml4Lm1hcENvb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xufShTaGFkZXIpKTtcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgTWVzaEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZXNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IFt2ZXJ0aWNlc10gLSBQb3NpdGlvbmFsIGRhdGEgb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IFt1dnNdIC0gVGV4dHVyZSBVVnMuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheXxudW1iZXJbXX0gW2luZGV4XSAtIEluZGV4QnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICB2YXIgdXZzQnVmZmVyID0gbmV3IEJ1ZmZlcih1dnMsIHRydWUpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGluZGV4LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB2ZXJ0aWNlc0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHV2c0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KGluZGV4QnVmZmVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IGZsYWcgdG8gbGltaXQgdXBkYXRlIGNhbGxzIG9uIE1lc2guIEZvciBleGFtcGxlLFxuICAgICAgICAgKiBsaW1pdGluZyB1cGRhdGVzIG9uIGEgc2luZ2xlIE1lc2ggaW5zdGFuY2Ugd2l0aCBhIHNoYXJlZCBHZW9tZXRyeVxuICAgICAgICAgKiB3aXRoaW4gdGhlIHJlbmRlciBsb29wLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEdlb21ldHJ5LnByb3RvdHlwZSwgXCJ2ZXJ0ZXhEaXJ0eUlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSB2ZXJ0ZXggcG9zaXRpb24gaXMgdXBkYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1swXS5fdXBkYXRlSUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTWVzaEdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuXG5leHBvcnQgeyBNZXNoLCBNZXNoQmF0Y2hVdnMsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlY3RhbmdsZSwgUG9pbnQsIE9ic2VydmFibGVQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCwgTWVzaCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgaGV4MnJnYiwgc3RyaW5nMmhleCwgZ2V0UmVzb2x1dGlvbk9mVXJsLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIE5vcm1hbGl6ZWQgcGFyc2VkIGRhdGEgZnJvbSAuZm50IGZpbGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnREYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnREYXRhKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFJbmZvW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmZvID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNvbW1vbltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YVBhZ2VbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZ2UgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhQ2hhcltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFLZXJuaW5nW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgfVxuICAgIHJldHVybiBCaXRtYXBGb250RGF0YTtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhQ29tbW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZUhlaWdodFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFQYWdlXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaWxlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNoYXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiBAcHJvcGVydHkge251bWJlcn0geVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0XG4gKiBAcHJvcGVydHkge251bWJlcn0geG9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4YWR2YW5jZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFLZXJuaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gZmlyc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZWNvbmRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbW91bnRcbiAqL1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHRGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHR4dCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0ZXh0IGZvbnQgZGF0YSB0byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR4dCAtIFJhdyBzdHJpbmcgZGF0YSB0byBiZSBjb252ZXJ0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBQYXJzZWQgZm9udCBkYXRhXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBpdGVtXG4gICAgICAgIHZhciBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHtcbiAgICAgICAgICAgIGluZm86IFtdLFxuICAgICAgICAgICAgY29tbW9uOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IFtdLFxuICAgICAgICAgICAgY2hhcjogW10sXG4gICAgICAgICAgICBjaGFyczogW10sXG4gICAgICAgICAgICBrZXJuaW5nOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmdzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBpdGVtcykge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIG5hbWVcbiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbXNbaV0ubWF0Y2goL15bYS16XSsvZ20pWzBdO1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIGF0dHJpYnV0ZSBsaXN0IGFzIHN0cmluZyBleC46IFwid2lkdGg9MTBcIlxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUxpc3QgPSBpdGVtc1tpXS5tYXRjaCgvW2EtekEtWl0rPShbXlxcc1wiJ10rfFwiKFteXCJdKilcIikvZ20pO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhdHRyaWJ1dGUgbGlzdCBpbnRvIGFuIG9iamVjdFxuICAgICAgICAgICAgdmFyIGl0ZW1EYXRhID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgaW4gYXR0cmlidXRlTGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGtleS12YWx1ZSBwYWlyc1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdCA9IGF0dHJpYnV0ZUxpc3RbaV8xXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBzcGxpdFswXTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXZlbnR1YWwgcXVvdGVzIGZyb20gdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgc3RyVmFsdWUgPSBzcGxpdFsxXS5yZXBsYWNlKC9cIi9nbSwgJycpO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBjb252ZXJ0IHZhbHVlIGludG8gZmxvYXRcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQoc3RyVmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgdmFsdWUgY2FzZSBmbG9hdCB2YWx1ZSBpcyBOYU5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpc05hTihmbG9hdFZhbHVlKSA/IHN0clZhbHVlIDogZmxvYXRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpdGVtRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQdXNoIGN1cnJlbnQgaXRlbSB0byB0aGUgcmVzdWx0aW5nIGRhdGFcbiAgICAgICAgICAgIHJhd0RhdGFbbmFtZV0ucHVzaChpdGVtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgcmF3RGF0YS5pbmZvLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGZvbnQuaW5mby5wdXNoKHtcbiAgICAgICAgICAgIGZhY2U6IGluZm8uZmFjZSxcbiAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm8uc2l6ZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY29tbW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbW1vbikgeyByZXR1cm4gZm9udC5jb21tb24ucHVzaCh7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb24ubGluZUhlaWdodCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEucGFnZS5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBmb250LnBhZ2UucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQocGFnZS5pZCwgMTApLFxuICAgICAgICAgICAgZmlsZTogcGFnZS5maWxlLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY2hhci5mb3JFYWNoKGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBmb250LmNoYXIucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQoY2hhci5pZCwgMTApLFxuICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhci5wYWdlLCAxMCksXG4gICAgICAgICAgICB4OiBwYXJzZUludChjaGFyLngsIDEwKSxcbiAgICAgICAgICAgIHk6IHBhcnNlSW50KGNoYXIueSwgMTApLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGNoYXIud2lkdGgsIDEwKSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoY2hhci5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGNoYXIueG9mZnNldCwgMTApLFxuICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQoY2hhci55b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQoY2hhci54YWR2YW5jZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEua2VybmluZy5mb3JFYWNoKGZ1bmN0aW9uIChrZXJuaW5nKSB7IHJldHVybiBmb250Lmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZy5maXJzdCwgMTApLFxuICAgICAgICAgICAgc2Vjb25kOiBwYXJzZUludChrZXJuaW5nLnNlY29uZCwgMTApLFxuICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nLmFtb3VudCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHhtbCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBYTUxGb3JtYXQudGVzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgWE1MRG9jdW1lbnRcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGhcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHhtbFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgdmFyIGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJyk7XG4gICAgICAgIHZhciBwYWdlID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciBjaGFyID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG4gICAgICAgIHZhciBrZXJuaW5nID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5pbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgIGZhY2U6IGluZm9baV0uZ2V0QXR0cmlidXRlKCdmYWNlJyksXG4gICAgICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mb1tpXS5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbltpXS5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2VbaV0uZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICBmaWxlOiBwYWdlW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gY2hhcltpXTtcbiAgICAgICAgICAgIGRhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgeDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneScpLCAxMCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApLFxuICAgICAgICAgICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIFhNTEZvcm1hdDtcbn0oKSk7XG5cbi8qKlxuICogQml0bWFwRm9udCBmb3JtYXQgdGhhdCdzIFhNTC1iYXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBYTUxTdHJpbmdGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWE1MU3RyaW5nRm9ybWF0KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXNvdXJjZSByZWZlcnMgdG8gdGV4dCB4bWwgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MU3RyaW5nRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignPGZvbnQ+JykgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHhtbCA9IG5ldyBzZWxmLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhkYXRhLCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgIHJldHVybiBYTUxGb3JtYXQudGVzdCh4bWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIHRleHQgWE1MIGludG8gQml0bWFwRm9udERhdGEgdGhhdCB3ZSBjYW4gdXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHhtbFR4dFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWxUeHQpIHtcbiAgICAgICAgdmFyIHhtbCA9IG5ldyBzZWxmLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh4bWxUeHQsICd0ZXh0L3htbCcpO1xuICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnBhcnNlKHhtbCk7XG4gICAgfTtcbiAgICByZXR1cm4gWE1MU3RyaW5nRm9ybWF0O1xufSgpKTtcblxuLy8gUmVnaXN0ZXJlZCBmb3JtYXRzLCBtYXliZSBtYWtlIHRoaXMgZXh0ZW5zaWJsZSBpbiB0aGUgZnV0dXJlP1xudmFyIGZvcm1hdHMgPSBbXG4gICAgVGV4dEZvcm1hdCxcbiAgICBYTUxGb3JtYXQsXG4gICAgWE1MU3RyaW5nRm9ybWF0IF07XG4vKipcbiAqIEF1dG8tZGV0ZWN0IEJpdG1hcEZvbnQgcGFyc2luZyBmb3JtYXQgYmFzZWQgb24gZGF0YS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FueX0gZGF0YSAtIERhdGEgdG8gZGV0ZWN0IGZvcm1hdFxuICogQHJldHVybiB7YW55fSBGb3JtYXQgb3IgbnVsbFxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0Rm9ybWF0KGRhdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1hdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdHNbaV0udGVzdChkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZ2VuZXJhdGVGaWxsU3R5bGUgJiBUZXh0I2dlbmVyYXRlRmlsbFN0eWxlXG4vKipcbiAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgbGluZXMsIG1ldHJpY3MpIHtcbiAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5maWxsO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxsU3R5bGUpKSB7XG4gICAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICB9XG4gICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgdmFyIGdyYWRpZW50O1xuICAgIC8vIGEgZHJvcHNoYWRvdyB3aWxsIGVubGFyZ2UgdGhlIGNhbnZhcyBhbmQgcmVzdWx0IGluIHRoZSBncmFkaWVudCBiZWluZ1xuICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgIHZhciBkcm9wU2hhZG93Q29ycmVjdGlvbiA9IChzdHlsZS5kcm9wU2hhZG93KSA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDA7XG4gICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgIHZhciBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICB2YXIgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgIGZpbGwudW5zaGlmdChmaWxsU3R5bGVbMF0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG4gICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGdlbmVyYXRlcyB0aGUgc3RvcHMgaW4gb3JkZXIsIHNvIHRyYWNrIHRoZSBsYXN0IGdlbmVyYXRlZCBvbmUgdG8gcHJldmVudFxuICAgICAgICAvLyBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gZnJvbSBtYWtpbmcgdXMgZ28gdGhlIHRlZW5pZXN0IGJpdCBiYWNrd2FyZHMsIHJlc3VsdGluZyBpblxuICAgICAgICAvLyB0aGUgZmlyc3QgYW5kIGxhc3QgY29sb3JzIGdldHRpbmcgc3dhcHBlZC5cbiAgICAgICAgdmFyIGxhc3RJdGVyYXRpb25TdG9wID0gMDtcbiAgICAgICAgLy8gQWN0dWFsIGhlaWdodCBvZiB0aGUgdGV4dCBpdHNlbGYsIG5vdCBjb3VudGluZyBzcGFjaW5nIGZvciBsaW5lSGVpZ2h0L2xlYWRpbmcvZHJvcFNoYWRvdyBldGNcbiAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICB2YXIgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gdGV4dEhlaWdodCAvIGhlaWdodDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVTdG9wID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBnbG9iYWxTdG9wID0gKHRoaXNMaW5lVG9wIC8gaGVpZ2h0KSArIChsaW5lU3RvcCAqIGdyYWRTdG9wTGluZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgICAgICAgICAgY2xhbXBlZFN0b3AgPSBNYXRoLm1pbihjbGFtcGVkU3RvcCwgMSk7IC8vIENhcCBhdCAxIGFzIHdlbGwgZm9yIHNhZmV0eSdzIHNha2UgdG8gYXZvaWQgYSBwb3NzaWJsZSB0aHJvdy5cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uID0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdyYWRpZW50O1xufVxuXG4vLyBUT0RPOiBQcmV2ZW50IGNvZGUgZHVwbGljYXRpb24gYi93IGRyYXdHbHlwaCAmIFRleHQjdXBkYXRlVGV4dFxuLyoqXG4gKiBEcmF3cyB0aGUgZ2x5cGggYG1ldHJpY3MudGV4dGAgb24gdGhlIGdpdmVuIGNhbnZhcy5cbiAqXG4gKiBJZ25vcmVkIGJlY2F1c2Ugbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dFxuICogQHBhcmFtIHtUZXh0TWV0cmljc30gbWV0cmljc1xuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvblxuICogQHBhcmFtIHtUZXh0U3R5bGV9IHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGRyYXdHbHlwaChjYW52YXMsIGNvbnRleHQsIG1ldHJpY3MsIHgsIHksIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgdmFyIGNoYXIgPSBtZXRyaWNzLnRleHQ7XG4gICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWV0cmljcy5mb250UHJvcGVydGllcztcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIHZhciB0eCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgdmFyIHR5ID0gLShzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKTtcbiAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgY29udGV4dC5mb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgW2NoYXJdLCBtZXRyaWNzKTtcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgIHZhciBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyByZ2JbMF0gKiAyNTUgKyBcIixcIiArIHJnYlsxXSAqIDI1NSArIFwiLFwiICsgcmdiWzJdICogMjU1ICsgXCIsXCIgKyBzdHlsZS5kcm9wU2hhZG93QWxwaGEgKyBcIilcIjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsgLy8gZGVmYXVsdHMgbmVlZGVkIGZvciBvbGRlciBicm93c2VycyAoZS5nLiBPcGVyYSAyOSlcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDApJztcbn1cblxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgc2V0IGRhdGEgYW5kIHJldHVybnMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgYWxsIHRoZSBjaGFyYWN0ZXJzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXSB9IGNoYXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGNoYXJzIHN0cmluZyBpbnRvIGluZGl2aWR1YWwgY2hhcmFjdGVyc1xuICAgIGlmICh0eXBlb2YgY2hhcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMrcmFuZ2VzXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gY2hhcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gY2hhcnNbaV07XG4gICAgICAgIC8vIEhhbmRsZSByYW5nZSBkZWxpbWl0ZWQgYnkgc3RhcnQvZW5kIGNoYXJzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlIGxlbmd0aCwgZXhwZWN0aW5nIDIgZ290IFwiICsgaXRlbS5sZW5ndGggKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2RlID0gaXRlbVswXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgdmFyIGVuZENvZGUgPSBpdGVtWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZW5kQ29kZSA8IHN0YXJ0Q29kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHN0YXJ0Q29kZSwgal8xID0gZW5kQ29kZTsgaV8xIDw9IGpfMTsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhIGNoYXJhY3RlciBzZXQgc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBpdGVtLnNwbGl0KCcnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF06IEVtcHR5IHNldCB3aGVuIHJlc29sdmluZyBjaGFyYWN0ZXJzLicpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJpdG1hcEZvbnQgcmVwcmVzZW50cyBhIHR5cGVmYWNlIGF2YWlsYWJsZSBmb3IgdXNlIHdpdGggdGhlIEJpdG1hcFRleHQgY2xhc3MuIFVzZSB0aGUgYGluc3RhbGxgXG4gKiBtZXRob2QgZm9yIGFkZGluZyBhIGZvbnQgdG8gYmUgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT59IHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvd25zVGV4dHVyZXMgLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIGRlc3Ryb3kgcGFnZSB0ZXh0dXJlc1xuICAgICAqICAgICAgICB3aGVuIHRoZSBmb250IGlzIHVuaW5zdGFsbGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnQoZGF0YSwgdGV4dHVyZXMsIG93bnNUZXh0dXJlcykge1xuICAgICAgICB2YXIgaW5mbyA9IGRhdGEuaW5mb1swXTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IGRhdGEuY29tbW9uWzBdO1xuICAgICAgICB2YXIgcGFnZSA9IGRhdGEucGFnZVswXTtcbiAgICAgICAgdmFyIHJlcyA9IGdldFJlc29sdXRpb25PZlVybChwYWdlLmZpbGUpO1xuICAgICAgICB2YXIgcGFnZVRleHR1cmVzID0ge307XG4gICAgICAgIHRoaXMuX293bnNUZXh0dXJlcyA9IG93bnNUZXh0dXJlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmb250IGZhY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnQgPSBpbmZvLmZhY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IGluZm8uc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lLWhlaWdodCBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGNvbW1vbi5saW5lSGVpZ2h0IC8gcmVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBjaGFyYWN0ZXJzIGJ5IGNoYXJhY3RlciBjb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGFycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBiYXNlIHBhZ2UgdGV4dHVyZXMgKGkuZS4sIHNoZWV0cyBvZiBnbHlwaHMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBwYWdlVGV4dHVyZXM7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGRhdGEucGFnZVtpXSwgaWQgPSBfYS5pZCwgZmlsZSA9IF9hLmZpbGU7XG4gICAgICAgICAgICBwYWdlVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkYXRhLmNoYXJbaV0sIGlkID0gX2IuaWQsIHBhZ2VfMSA9IF9iLnBhZ2U7XG4gICAgICAgICAgICB2YXIgX2MgPSBkYXRhLmNoYXJbaV0sIHggPSBfYy54LCB5ID0gX2MueSwgd2lkdGggPSBfYy53aWR0aCwgaGVpZ2h0ID0gX2MuaGVpZ2h0LCB4b2Zmc2V0ID0gX2MueG9mZnNldCwgeW9mZnNldCA9IF9jLnlvZmZzZXQsIHhhZHZhbmNlID0gX2MueGFkdmFuY2U7XG4gICAgICAgICAgICB4IC89IHJlcztcbiAgICAgICAgICAgIHkgLz0gcmVzO1xuICAgICAgICAgICAgd2lkdGggLz0gcmVzO1xuICAgICAgICAgICAgaGVpZ2h0IC89IHJlcztcbiAgICAgICAgICAgIHhvZmZzZXQgLz0gcmVzO1xuICAgICAgICAgICAgeW9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB4YWR2YW5jZSAvPSByZXM7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBSZWN0YW5nbGUoeCArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS54IC8gcmVzKSwgeSArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS55IC8gcmVzKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiB4b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHlPZmZzZXQ6IHlvZmZzZXQsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHhhZHZhbmNlLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmJhc2VUZXh0dXJlLCByZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlXzEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5rZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2QgPSBkYXRhLmtlcm5pbmdbaV0sIGZpcnN0ID0gX2QuZmlyc3QsIHNlY29uZCA9IF9kLnNlY29uZCwgYW1vdW50ID0gX2QuYW1vdW50O1xuICAgICAgICAgICAgZmlyc3QgLz0gcmVzO1xuICAgICAgICAgICAgc2Vjb25kIC89IHJlcztcbiAgICAgICAgICAgIGFtb3VudCAvPSByZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSByZWZlcmVuY2VzIHRvIGNyZWF0ZWQgZ2x5cGggdGV4dHVyZXMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5jaGFycykge1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLnBhZ2VUZXh0dXJlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX293bnNUZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZVRleHR1cmVzW2lkXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgcmVhZG9ubHkgbnVsbC5cbiAgICAgICAgdGhpcy5jaGFycyA9IG51bGw7XG4gICAgICAgIHRoaXMucGFnZVRleHR1cmVzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGJpdG1hcCBmb250LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR8c3RyaW5nfFBJWEkuQml0bWFwRm9udERhdGF9IGRhdGEgLSBUaGVcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycyBtYXAgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBhcyB4bWwgb3IgcmF3IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBQSVhJLlRleHR1cmU+fFBJWEkuVGV4dHVyZXxQSVhJLlRleHR1cmVbXX1cbiAgICAgKiAgICAgICAgdGV4dHVyZXMgLSBMaXN0IG9mIHRleHR1cmVzIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHBhcmFtIG1hbmFnZWRUZXh0dXJlIC0gU2V0IHRvIGB0cnVlYCB0byBkZXN0cm95IHBhZ2UgdGV4dHVyZXNcbiAgICAgKiAgICAgICAgd2hlbiB0aGUgZm9udCBpcyB1bmluc3RhbGxlZC4gQnkgZGVmYXVsdCBmb250cyBjcmVhdGVkIHdpdGhcbiAgICAgKiAgICAgICAgYEJpdG1hcEZvbnQuZnJvbWAgb3IgZnJvbSB0aGUgYEJpdG1hcEZvbnRMb2FkZXJgIGFyZSBgdHJ1ZWAuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0XG4gICAgICogICAgICAgICBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5pbnN0YWxsID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzLCBvd25zVGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGZvbnREYXRhO1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJpdG1hcEZvbnREYXRhKSB7XG4gICAgICAgICAgICBmb250RGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgZGF0YSBmb3JtYXQgZm9yIGZvbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RGF0YSA9IGZvcm1hdC5wYXJzZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcywgb3duc1RleHR1cmVzKTtcbiAgICAgICAgQml0bWFwRm9udC5hdmFpbGFibGVbZm9udC5mb250XSA9IGZvbnQ7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGJpdG1hcCBmb250IGJ5IG5hbWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBmb250IHRvIHVuaW5zdGFsbC5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LnVuaW5zdGFsbCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBmb250ID0gQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV07XG4gICAgICAgIGlmICghZm9udCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZm9udCBmb3VuZCBuYW1lZCAnXCIgKyBuYW1lICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvbnQuZGVzdHJveSgpO1xuICAgICAgICBkZWxldGUgQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBiaXRtYXAtZm9udCBmb3IgdGhlIGdpdmVuIHN0eWxlIGFuZCBjaGFyYWN0ZXIgc2V0LiBUaGlzIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgKiBrZXJuaW5ncyB5ZXQuIFdpdGggYHN0eWxlYCBwcm9wZXJ0aWVzLCBvbmx5IHRoZSBmb2xsb3dpbmcgbm9uLWxheW91dCBwcm9wZXJ0aWVzIGFyZSB1c2VkOlxuICAgICAqXG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd3xkcm9wU2hhZG93fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dEaXN0YW5jZXxkcm9wU2hhZG93RGlzdGFuY2V9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0NvbG9yfGRyb3BTaGFkb3dDb2xvcn1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93Qmx1cnxkcm9wU2hhZG93Qmx1cn1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93QW5nbGV8ZHJvcFNoYWRvd0FuZ2xlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGx8ZmlsbH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsR3JhZGllbnRTdG9wc3xmaWxsR3JhZGllbnRTdG9wc31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsR3JhZGllbnRUeXBlfGZpbGxHcmFkaWVudFR5cGV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udEZhbWlseXxmb250RmFtaWx5fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRTaXplfGZvbnRTaXplfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRWYXJpYW50fGZvbnRWYXJpYW50fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRXZWlnaHR8Zm9udFdlaWdodH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNsaW5lSm9pbnxsaW5lSm9pbn1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNtaXRlckxpbWl0fG1pdGVyTGltaXR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjc3Ryb2tlfHN0cm9rZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNzdHJva2VUaGlja25lc3N8c3Ryb2tlVGhpY2tuZXNzfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3RleHRCYXNlbGluZXx0ZXh0QmFzZWxpbmV9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZm9udCB0byB1c2Ugd2l0aCBCaXRtYXBUZXh0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfSBbc3R5bGVdIC0gU3R5bGUgb3B0aW9ucyB0byByZW5kZXIgd2l0aCBCaXRtYXBGb250LlxuICAgICAqIEBwYXJhbSB7UElYSS5JQml0bWFwRm9udE9wdGlvbnN9IFtvcHRpb25zXSAtIFNldHVwIG9wdGlvbnMgZm9yIGZvbnQgb3IgbmFtZSBvZiB0aGUgZm9udC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxzdHJpbmdbXVtdfSBbb3B0aW9ucy5jaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXSAtIGNoYXJhY3RlcnMgaW5jbHVkZWRcbiAgICAgKiAgICAgIGluIHRoZSBmb250IHNldC4gWW91IGNhbiBhbHNvIHVzZSByYW5nZXMuIEZvciBleGFtcGxlLCBgW1snYScsICd6J10sIFsnQScsICdaJ10sIFwiIUAjJCVeJiooKX57fVtdIFwiXWAuXG4gICAgICogICAgICBEb24ndCBmb3JnZXQgdG8gaW5jbHVkZSBzcGFjZXMgJyAnIGluIHlvdXIgY2hhcmFjdGVyIHNldCFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFJlbmRlciByZXNvbHV0aW9uIGZvciBnbHlwaHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRleHR1cmVXaWR0aD01MTJdIC0gT3B0aW9uYWwgd2lkdGggb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRleHR1cmVIZWlnaHQ9NTEyXSAtIE9wdGlvbmFsIGhlaWdodCBvZiBhdGxhcywgc21hbGxlciB2YWx1ZXMgdG8gcmVkdWNlIG1lbW9yeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucGFkZGluZz00XSAtIFBhZGRpbmcgYmV0d2VlbiBnbHlwaHMgb24gdGV4dHVyZSBhdGxhcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnR9IEZvbnQgZ2VuZXJhdGVkIGJ5IHN0eWxlIG9wdGlvbnMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBleGFtcGxlXG4gICAgICogUElYSS5CaXRtYXBGb250LmZyb20oXCJUaXRsZUZvbnRcIiwge1xuICAgICAqICAgICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gICAgICogICAgIGZvbnRTaXplOiAxMixcbiAgICAgKiAgICAgc3Ryb2tlVGhpY2tuZXNzOiAyLFxuICAgICAqICAgICBmaWxsOiBcInB1cnBsZVwiXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zdCB0aXRsZSA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJUaGlzIGlzIHRoZSB0aXRsZVwiLCB7IGZvbnROYW1lOiBcIlRpdGxlRm9udFwiIH0pO1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZnJvbSA9IGZ1bmN0aW9uIChuYW1lLCB0ZXh0U3R5bGUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XSBQcm9wZXJ0eSBgbmFtZWAgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7fSwgQml0bWFwRm9udC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIGNoYXJzID0gX2EuY2hhcnMsIHBhZGRpbmcgPSBfYS5wYWRkaW5nLCByZXNvbHV0aW9uID0gX2EucmVzb2x1dGlvbiwgdGV4dHVyZVdpZHRoID0gX2EudGV4dHVyZVdpZHRoLCB0ZXh0dXJlSGVpZ2h0ID0gX2EudGV4dHVyZUhlaWdodDtcbiAgICAgICAgdmFyIGNoYXJzTGlzdCA9IHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGV4dFN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlID8gdGV4dFN0eWxlIDogbmV3IFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgICAgICB2YXIgZm9udERhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgZm9udERhdGEuaW5mb1swXSA9IHtcbiAgICAgICAgICAgIGZhY2U6IHN0eWxlLmZvbnRGYW1pbHksXG4gICAgICAgICAgICBzaXplOiBzdHlsZS5mb250U2l6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9udERhdGEuY29tbW9uWzBdID0ge1xuICAgICAgICAgICAgbGluZUhlaWdodDogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBwb3NpdGlvblggPSAwO1xuICAgICAgICB2YXIgcG9zaXRpb25ZID0gMDtcbiAgICAgICAgdmFyIGNhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQ7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0ZXh0dXJlSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShjYW52YXMsIHsgcmVzb2x1dGlvbjogcmVzb2x1dGlvbiB9KTtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKSk7XG4gICAgICAgICAgICAgICAgZm9udERhdGEucGFnZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWVhc3VyZSBnbHlwaCBkaW1lbnNpb25zXG4gICAgICAgICAgICB2YXIgbWV0cmljcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KGNoYXJzTGlzdFtpXSwgc3R5bGUsIGZhbHNlLCBjYW52YXMpO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gbWV0cmljcy53aWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwobWV0cmljcy5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB1Z2x5IC0gYnV0IGl0YWxpY3MgYXJlIGdpdmVuIG1vcmUgc3BhY2Ugc28gdGhleSBkb24ndCBvdmVybGFwXG4gICAgICAgICAgICB2YXIgdGV4dHVyZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoKHN0eWxlLmZvbnRTdHlsZSA9PT0gJ2l0YWxpYycgPyAyIDogMSkgKiB3aWR0aCk7XG4gICAgICAgICAgICAvLyBDYW4ndCBmaXQgY2hhciBhbnltb3JlOiBuZXh0IGNhbnZhcyBwbGVhc2UhXG4gICAgICAgICAgICBpZiAocG9zaXRpb25ZID49IHRleHR1cmVIZWlnaHQgLSAoaGVpZ2h0ICogcmVzb2x1dGlvbikpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25ZID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdXNlciBkZWJ1Z2dpbmcgYW4gaW5maW5pdGUgbG9vcCAob3IgZG8gd2U/IDopXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XSB0ZXh0dXJlSGVpZ2h0IFwiICsgdGV4dHVyZUhlaWdodCArIFwicHggaXMgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFwidG9vIHNtYWxsIGZvciBcIiArIHN0eWxlLmZvbnRTaXplICsgXCJweCBmb250c1wiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGF0bGFzIG9uY2UgY3VycmVudCBoYXMgZmlsbGVkIHVwXG4gICAgICAgICAgICAgICAgY2FudmFzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gMDtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IE1hdGgubWF4KGhlaWdodCArIG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZGVzY2VudCwgbWF4Q2hhckhlaWdodCk7XG4gICAgICAgICAgICAvLyBXcmFwIGxpbmUgb25jZSBmdWxsIHJvdyBoYXMgYmVlbiByZW5kZXJlZFxuICAgICAgICAgICAgaWYgKCh0ZXh0dXJlR2x5cGhXaWR0aCAqIHJlc29sdXRpb24pICsgcG9zaXRpb25YID49IGxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgKz0gbWF4Q2hhckhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gTWF0aC5jZWlsKHBvc2l0aW9uWSk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRyYXdHbHlwaChjYW52YXMsIGNvbnRleHQsIG1ldHJpY3MsIHBvc2l0aW9uWCwgcG9zaXRpb25ZLCByZXNvbHV0aW9uLCBzdHlsZSk7XG4gICAgICAgICAgICAvLyBVbmlxdWUgKG51bWVyaWMpIElEIG1hcHBpbmcgdG8gdGhpcyBnbHlwaFxuICAgICAgICAgICAgdmFyIGlkID0gbWV0cmljcy50ZXh0LmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSB0ZXh0dXJlIGhvbGRpbmcganVzdCB0aGUgZ2x5cGhcbiAgICAgICAgICAgIGZvbnREYXRhLmNoYXIucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgeDogcG9zaXRpb25YIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICB5OiBwb3NpdGlvblkgLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0ZXh0dXJlR2x5cGhXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICB4b2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHlvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IE1hdGguY2VpbCh3aWR0aFxuICAgICAgICAgICAgICAgICAgICAtIChzdHlsZS5kcm9wU2hhZG93ID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMClcbiAgICAgICAgICAgICAgICAgICAgLSAoc3R5bGUuc3Ryb2tlID8gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIDogMCkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3NpdGlvblggKz0gKHRleHR1cmVHbHlwaFdpZHRoICsgKDIgKiBwYWRkaW5nKSkgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG9zaXRpb25YID0gTWF0aC5jZWlsKHBvc2l0aW9uWCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnJ1dGUtZm9yY2Uga2VybmluZyBpbmZvLCB0aGlzIGNhbiBiZSBleHBlbnNpdmUgYi9jIGl0J3MgYW4gTyhuwrIpLFxuICAgICAgICAvLyBidXQgd2UncmUgdXNpbmcgbWVhc3VyZVRleHQgd2hpY2ggaXMgbmF0aXZlIGFuZCBmYXN0LlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hhcnNMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3QgPSBjaGFyc0xpc3RbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlY29uZCA9IGNoYXJzTGlzdFtqXTtcbiAgICAgICAgICAgICAgICB2YXIgYzEgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGZpcnN0KS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgYzIgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHNlY29uZCkud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsID0gY29udGV4dC5tZWFzdXJlVGV4dChmaXJzdCArIHNlY29uZCkud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGFtb3VudCA9IHRvdGFsIC0gKGMxICsgYzIpO1xuICAgICAgICAgICAgICAgIGlmIChhbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9udERhdGEua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0OiBmaXJzdC5jaGFyQ29kZUF0KDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiBzZWNvbmQuY2hhckNvZGVBdCgwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udChmb250RGF0YSwgdGV4dHVyZXMsIHRydWUpO1xuICAgICAgICAvLyBNYWtlIGl0IGVhc2llciB0byByZXBsYWNlIGEgZm9udFxuICAgICAgICBpZiAoQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQml0bWFwRm9udC51bmluc3RhbGwobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV0gPSBmb250O1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpbmNsdWRlcyBhbGwgdGhlIGxldHRlcnMgaW4gdGhlIGFscGhhYmV0IChib3RoIGxvd2VyLSBhbmQgdXBwZXItIGNhc2UpLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogQml0bWFwRm9udC5mcm9tKFwiRXhhbXBsZUZvbnRcIiwgc3R5bGUsIHsgY2hhcnM6IEJpdG1hcEZvbnQuQUxQSEEgfSlcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFMUEhBID0gW1snYScsICd6J10sIFsnQScsICdaJ10sICcgJ107XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCBkZWNpbWFsIGRpZ2l0cyAoZnJvbSAwIHRvIDkpLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogQml0bWFwRm9udC5mcm9tKFwiRXhhbXBsZUZvbnRcIiwgc3R5bGUsIHsgY2hhcnM6IEJpdG1hcEZvbnQuTlVNRVJJQyB9KVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuTlVNRVJJQyA9IFtbJzAnLCAnOSddXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaXMgdGhlIHVuaW9uIG9mIGBCaXRtYXBGb250LkFMUEhBYCBhbmQgYEJpdG1hcEZvbnQuTlVNRVJJQ2AuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICovXG4gICAgQml0bWFwRm9udC5BTFBIQU5VTUVSSUMgPSBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgWycwJywgJzknXSwgJyAnXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgY29uc2lzdHMgb2YgYWxsIHRoZSBBU0NJSSB0YWJsZS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cuYXNjaWl0YWJsZS5jb20vXG4gICAgICovXG4gICAgQml0bWFwRm9udC5BU0NJSSA9IFtbJyAnLCAnfiddXTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGRlZmF1bHQgb3B0aW9ucyB3aGVuIHVzaW5nIGBCaXRtYXBGb250LmZyb21gLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnRPcHRpb25zfVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGV4dHVyZVdpZHRoPTUxMlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0ZXh0dXJlSGVpZ2h0PTUxMlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwYWRkaW5nPTRcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXXxzdHJpbmdbXVtdfSBjaGFycyA9IFBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICB0ZXh0dXJlV2lkdGg6IDUxMixcbiAgICAgICAgdGV4dHVyZUhlaWdodDogNTEyLFxuICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICBjaGFyczogQml0bWFwRm9udC5BTFBIQU5VTUVSSUMsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGF2YWlsYWJsZS9pbnN0YWxsZWQgZm9udHMuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuQml0bWFwRm9udD59XG4gICAgICovXG4gICAgQml0bWFwRm9udC5hdmFpbGFibGUgPSB7fTtcbiAgICByZXR1cm4gQml0bWFwRm9udDtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW50ZXJmYWNlIElCaXRtYXBGb250T3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmcgfCBzdHJpbmdbXSB8IHN0cmluZ1tdW119IFtjaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXSAtIHRoZSBjaGFyYWN0ZXIgc2V0IHRvIGdlbmVyYXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSB0aGUgcmVzb2x1dGlvbiBmb3IgcmVuZGVyaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BhZGRpbmc9NF0gLSB0aGUgcGFkZGluZyBiZXR3ZWVuIGdseXBocyBpbiB0aGUgYXRsYXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZVdpZHRoPTUxMl0gLSB0aGUgd2lkdGggb2YgdGhlIHRleHR1cmUgYXRsYXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZUhlaWdodD01MTJdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICovXG5cbnZhciBwYWdlTWVzaERhdGFQb29sID0gW107XG52YXIgY2hhclJlbmRlckRhdGFQb29sID0gW107XG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogU3VwcG9ydGluZyBjaGFyYWN0ZXIgc2V0cyBvdGhlciB0aGFuIGxhdGluLCBzdWNoIGFzIENKSyBsYW5ndWFnZXMsIG1heSBiZSBpbXByYWN0aWNhbCBkdWUgdG8gdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJywgJ1xccicgb3IgJ1xcclxcbicgaW4geW91ciBzdHJpbmcuXG4gKlxuICogUGl4aUpTIGNhbiBhdXRvLWdlbmVyYXRlIGZvbnRzIG9uLXRoZS1mbHkgdXNpbmcgQml0bWFwRm9udCBvciB1c2UgZm50IGZpbGVzIHByb3ZpZGVkIGJ5OlxuICogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC8gZm9yIFdpbmRvd3Mgb3JcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBNYWMuXG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWQuXG4gKlxuICogYGBganNcbiAqIC8vIGluIHRoaXMgY2FzZSB0aGUgZm9udCBpcyBpbiBhIGZpbGUgY2FsbGVkICdkZXN5cmVsLmZudCdcbiAqIGxldCBiaXRtYXBUZXh0ID0gbmV3IFBJWEkuQml0bWFwVGV4dChcInRleHQgdXNpbmcgYSBmYW5jeSBmb250IVwiLCB7XG4gKiAgIGZvbnROYW1lOiBcIkRlc3lyZWxcIixcbiAqICAgZm9udFNpemU6IDM1LFxuICogICBhbGlnbjogXCJyaWdodFwiXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCaXRtYXBUZXh0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gQSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZS5mb250TmFtZSAtIFRoZSBpbnN0YWxsZWQgQml0bWFwRm9udCBuYW1lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZm9udFNpemVdIC0gVGhlIHNpemUgb2YgdGhlIGZvbnQgaW4gcGl4ZWxzLCBlLmcuIDI0LiBJZiB1bmRlZmluZWQsXG4gICAgICouICAgICB0aGlzIHdpbGwgZGVmYXVsdCB0byB0aGUgQml0bWFwRm9udCBzaXplLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicsICdyaWdodCcgb3IgJ2p1c3RpZnknKSxcbiAgICAgKiAgICAgIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubWF4V2lkdGg9MF0gLSBUaGUgbWF4IHdpZHRoIG9mIHRoZSB0ZXh0IGJlZm9yZSBsaW5lIHdyYXBwaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcFRleHQodGV4dCwgc3R5bGUpIHtcbiAgICAgICAgaWYgKHN0eWxlID09PSB2b2lkIDApIHsgc3R5bGUgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdGludCA9IDB4RkZGRkZGO1xuICAgICAgICAvLyBBcHBseSB0aGUgZGVmYXVsdHNcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7fSwgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzLCBzdHlsZSksIGFsaWduID0gX2EuYWxpZ24sIHRpbnQgPSBfYS50aW50LCBtYXhXaWR0aCA9IF9hLm1heFdpZHRoLCBsZXR0ZXJTcGFjaW5nID0gX2EubGV0dGVyU3BhY2luZywgZm9udE5hbWUgPSBfYS5mb250TmFtZSwgZm9udFNpemUgPSBfYS5mb250U2l6ZTtcbiAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVtmb250TmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgQml0bWFwRm9udCBcXFwiXCIgKyBmb250TmFtZSArIFwiXFxcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwYWdlIG1lc2ggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHRXaWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dEhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IHRpbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnROYW1lID0gZm9udE5hbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQgc2l6ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnRTaXplID0gZm9udFNpemUgfHwgQml0bWFwRm9udC5hdmFpbGFibGVbZm9udE5hbWVdLnNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLiAoSW50ZXJuYWxseSB1c2VkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBhbmNob3IuIHJlYWQtb25seVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KGZ1bmN0aW9uICgpIHsgX3RoaXMuZGlydHkgPSB0cnVlOyB9LCBfdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gYHRydWVgIGlmIHRoZSBCaXRtYXBUZXh0IG5lZWRzIHRvIGJlIHJlZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgY2hhciB0ZXh0dXJlIGlzIGRlc3Ryb3llZCB3aGVuIEJpdG1hcFRleHQgaXMgZGVzdHJveWVkXG4gICAgICAgICAqIEBtZW1iZXIge1JlY29yZDxudW1iZXIsIFRleHR1cmU+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmVDYWNoZSA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWRcbiAgICAgKiBpZiB0aGUgQml0bWFwRm9udCBpcyByZWdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250U2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgdmFyIHBvcyA9IG5ldyBQb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVTcGFjZXMgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLl90ZXh0LnJlcGxhY2UoLyg/OlxcclxcbnxcXHIpL2csICdcXG4nKSB8fCAnICc7XG4gICAgICAgIHZhciB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIHZhciBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9IDA7XG4gICAgICAgIHZhciBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgdmFyIGxhc3RCcmVha1dpZHRoID0gMDtcbiAgICAgICAgdmFyIHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgICAgICB2YXIgbWF4TGluZUhlaWdodCA9IDA7XG4gICAgICAgIHZhciBzcGFjZUNvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChjaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIHNwYWNlQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFyID09PSAnXFxyJyB8fCBjaGFyID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lU3BhY2VzLnB1c2goLTEpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3BhY2VDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcbiAgICAgICAgICAgIGlmICghY2hhckRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmV2Q2hhckNvZGUgJiYgY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdKSB7XG4gICAgICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYXJSZW5kZXJEYXRhID0gY2hhclJlbmRlckRhdGFQb29sLnBvcCgpIHx8IHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLkVNUFRZLFxuICAgICAgICAgICAgICAgIGxpbmU6IDAsXG4gICAgICAgICAgICAgICAgY2hhckNvZGU6IDAsXG4gICAgICAgICAgICAgICAgcHJldlNwYWNlczogMCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFBvaW50KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEudGV4dHVyZSA9IGNoYXJEYXRhLnRleHR1cmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5saW5lID0gbGluZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLmNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi54ID0gcG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0ICsgKHRoaXMuX2xldHRlclNwYWNpbmcgLyAyKTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnkgPSBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQ7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wcmV2U3BhY2VzID0gc3BhY2VDb3VudDtcbiAgICAgICAgICAgIGNoYXJzLnB1c2goY2hhclJlbmRlckRhdGEpO1xuICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEueEFkdmFuY2UgKyB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IHBvcy54O1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIChjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgaWYgKGxhc3RCcmVha1BvcyAhPT0gLTEgJiYgbWF4V2lkdGggPiAwICYmIHBvcy54ID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmVTcGFjZXMucHVzaChjaGFycy5sZW5ndGggPiAwID8gY2hhcnNbY2hhcnMubGVuZ3RoIC0gMV0ucHJldlNwYWNlcyA6IDApO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmUrKztcbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3BhY2VDb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RDaGFyID0gdGV4dC5jaGFyQXQodGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgaWYgKGxhc3RDaGFyICE9PSAnXFxyJyAmJiBsYXN0Q2hhciAhPT0gJ1xcbicpIHtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGxhc3RDaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBsYXN0QnJlYWtXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBsaW5lU3BhY2VzLnB1c2goLTEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lQWxpZ25PZmZzZXRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxpbmU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFsaWduT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnanVzdGlmeScpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IGxpbmVTcGFjZXNbaV0gPCAwID8gMCA6IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIGxpbmVTcGFjZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHBhZ2VzTWVzaERhdGEgPSB7fTtcbiAgICAgICAgdmFyIG5ld1BhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICAgICAgdmFyIGFjdGl2ZVBhZ2VzTWVzaERhdGEgPSB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZ2VNZXNoRGF0YVBvb2wucHVzaChhY3RpdmVQYWdlc01lc2hEYXRhW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gY2hhcnNbaV0udGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZVVpZCA9IHRleHR1cmUuYmFzZVRleHR1cmUudWlkO1xuICAgICAgICAgICAgaWYgKCFwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSkge1xuICAgICAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlTWVzaERhdGFQb29sLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICghcGFnZU1lc2hEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLkVNUFRZKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2c0NvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoOiBtZXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dnM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXNldCBkYXRhLi5cbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnNDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnRvdGFsID0gMDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIG5lZWQgdG8gZ2V0IHBhZ2UgdGV4dHVyZSBoZXJlIHNvbWVob3cuLlxuICAgICAgICAgICAgICAgIHZhciBfdGV4dHVyZUNhY2hlID0gdGhpcy5fdGV4dHVyZUNhY2hlO1xuICAgICAgICAgICAgICAgIF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdID0gX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF0gfHwgbmV3IFRleHR1cmUodGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGV4dHVyZSA9IF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRpbnQgPSB0aGlzLl90aW50O1xuICAgICAgICAgICAgICAgIG5ld1BhZ2VzTWVzaERhdGEucHVzaChwYWdlTWVzaERhdGEpO1xuICAgICAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdID0gcGFnZU1lc2hEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0udG90YWwrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGZpbmQgYW55IHByZXZpb3VzbHkgYWN0aXZlIHBhZ2VNZXNoRGF0YXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHJlcXVpcmVkIGZvclxuICAgICAgICAvLyB0aGUgdXBkYXRlZCB0ZXh0IChpZiBhbnkpLCByZW1vdmVkIGFuZCByZXR1cm4gdGhlbSB0byB0aGUgcG9vbC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YS5pbmRleE9mKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IGxldHMgYWRkIGFueSBuZXcgbWVzaGVzLCB0aGF0IGhhdmUgbm90IHlldCBiZWVuIGFkZGVkIHRvIHRoaXMgQml0bWFwVGV4dFxuICAgICAgICAvLyB3ZSBvbmx5IGFkZCBpZiBpdHMgbm90IGFscmVhZHkgYSBjaGlsZCBvZiB0aGlzIEJpdG1hcE9iamVjdFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1BhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFjdGl2ZSBwYWdlIG1lc2ggZGF0YXMgYXJlIHNldCB0byBiZSB0aGUgbmV3IHBhZ2VzIGFkZGVkLlxuICAgICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gbmV3UGFnZXNNZXNoRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgIC8vIGxldHMgb25seSBhbGxvY2F0ZSBuZXcgYnVmZmVycyBpZiB3ZSBjYW4gZml0IHRoZSBuZXcgdGV4dCBpbiB0aGUgY3VycmVudCBvbmVzLi5cbiAgICAgICAgICAgIC8vIHVubGVzcyB0aGF0IGlzLCB3ZSB3aWxsIGJlIGJhdGNoaW5nLiBDdXJyZW50bHkgYmF0Y2hpbmcgZG9zZSBub3QgcmVzcGVjdCB0aGUgc2l6ZSBwcm9wZXJ0eSBvZiBtZXNoXG4gICAgICAgICAgICBpZiAoISgoKF9hID0gcGFnZU1lc2hEYXRhLmluZGljZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gNiAqIHRvdGFsKSB8fCBwYWdlTWVzaERhdGEudmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxfMSA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgICAgICB2YXIgdmVydGljZXMgPSBwYWdlTWVzaERhdGEudmVydGljZXM7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGdhcmJhZ2UgYXQgdGhlIGVuZCBvZiB0aGUgdmVydGljZXMgYnVmZmVyLiBUaGlzIHdpbGwgcHJldmVudCB0aGUgYm91bmRzIG1pc2NhbGN1bGF0aW9uLlxuICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHRvdGFsXzEgKiA0ICogMjsgaV8xIDwgdmVydGljZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1tpXzFdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhcyBhIGJ1ZmZlciBtYXliZSBiaWdnZXIgdGhhbiB0aGUgY3VycmVudCB3b3JkLCB3ZSBzZXQgdGhlIHNpemUgb2YgdGhlIG1lc2hNYXRlcmlhbFxuICAgICAgICAgICAgLy8gdG8gbWF0Y2ggdGhlIG51bWJlciBvZiBsZXR0ZXJzIG5lZWRlZFxuICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2guc2l6ZSA9IDYgKiB0b3RhbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcnNbaV07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gY2hhci5wb3NpdGlvbi54ICsgKGxpbmVBbGlnbk9mZnNldHNbY2hhci5saW5lXSAqICh0aGlzLl9hbGlnbiA9PT0gJ2p1c3RpZnknID8gY2hhci5wcmV2U3BhY2VzIDogMSkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5yb3VuZChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHhQb3MgPSBvZmZzZXQgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB5UG9zID0gY2hhci5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXIudGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaCA9IHBhZ2VzTWVzaERhdGFbdGV4dHVyZS5iYXNlVGV4dHVyZS51aWRdO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IHRleHR1cmUuX3V2cztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhZ2VNZXNoLmluZGV4Kys7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMF0gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMV0gPSAxICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMl0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgM10gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNF0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNV0gPSAzICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDBdID0geFBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMV0gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAyXSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAzXSA9IHlQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDRdID0geFBvcyArICh0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDVdID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA2XSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDddID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMl0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgM10gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNF0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNV0gPSB0ZXh0dXJlVXZzLnkyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNl0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgN10gPSB0ZXh0dXJlVXZzLnkzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgICAgICAgLy8gYXBwbHkgYW5jaG9yXG4gICAgICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0WCA9IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFkgPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzIgPSAwOyBpXzIgPCBwYWdlTWVzaERhdGEudG90YWw7IGlfMisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnV2cztcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEuaW5kaWNlcztcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YVBvb2wucHVzaChjaGFyc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweGZmZmZmZlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW50ID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoLnRpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udE5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIEJpdG1hcEZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVt2YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udE5hbWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udE5hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCB0byBkaXNwbGF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB0aGUgdmFsdWUgdG8gMC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heExpbmVIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImxldHRlclNwYWNpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkaXRpb25hbCBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwicm91bmRQaXhlbHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0SGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90ZXh0dXJlQ2FjaGUgPSB0aGlzLl90ZXh0dXJlQ2FjaGU7XG4gICAgICAgIGZvciAodmFyIGlkIGluIF90ZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gX3RleHR1cmVDYWNoZVtpZF07XG4gICAgICAgICAgICB0ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGV4dHVyZUNhY2hlW2lkXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlQ2FjaGUgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIEJpdG1hcFRleHQuc3R5bGVEZWZhdWx0cyA9IHtcbiAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgIG1heFdpZHRoOiAwLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIH07XG4gICAgcmV0dXJuIEJpdG1hcFRleHQ7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmdcbiAqIGJpdG1hcC1iYXNlZCBmb250cyBzdWl0YWJsZSBmb3IgdXNpbmcgd2l0aCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fS5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgQml0bWFwRm9udExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaXRtYXBGb250TG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgcGx1Z2luIGlzIGluc3RhbGxlZC5cbiAgICAgKlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLmFkZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgLy8gUmVzb3VyY2Ugd2FzIG5vdCByZWNvZ25pc2VkIGFzIGFueSBvZiB0aGUgZXhwZWN0ZWQgZm9udCBkYXRhIGZvcm1hdFxuICAgICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVXJsID0gQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgdmFyIGRhdGEgPSBmb3JtYXQucGFyc2UocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IHt9O1xuICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkLCB3aGVuIHRoZSBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlc1twYWdlLm1ldGFkYXRhLnBhZ2VGaWxlXSA9IHBhZ2UudGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBkYXRhLnBhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IEJpdG1hcEZvbnQuaW5zdGFsbChkYXRhLCB0ZXh0dXJlcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucGFnZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VGaWxlID0gZGF0YS5wYWdlW2ldLmZpbGU7XG4gICAgICAgICAgICB2YXIgdXJsID0gYmFzZVVybCArIHBhZ2VGaWxlO1xuICAgICAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAgICAgLy8gdXNpbmcgdGhlIHNhbWUgbG9hZGVyLCByZXNvdXJjZSB3aWxsIGJlIGF2YWlsYWJsZVxuICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgICAgICAgICAgIHZhciBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5tZXRhZGF0YS5wYWdlRmlsZSA9IHBhZ2VGaWxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKGJpdG1hcFJlc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmFkZChjb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgbm90IGxvYWRlZCwgd2UnbGwgYXR0ZW1wdCB0byBhZGRcbiAgICAgICAgICAgIC8vIGl0IHRvIHRoZSBsb2FkIGFuZCBhZGQgdGhlIHRleHR1cmUgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RhbmRhcmQgbG9hZGluZyBvcHRpb25zIGZvciBpbWFnZXNcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogT2JqZWN0LmFzc2lnbih7IHBhZ2VGaWxlOiBwYWdlRmlsZSB9LCByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgZm9sZGVyIHBhdGggZnJvbSBhIHJlc291cmNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyfSBsb2FkZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZ2V0QmFzZVVybCA9IGZ1bmN0aW9uIChsb2FkZXIsIHJlc291cmNlKSB7XG4gICAgICAgIHZhciByZXNVcmwgPSAhcmVzb3VyY2UuaXNEYXRhVXJsID8gQml0bWFwRm9udExvYWRlci5kaXJuYW1lKHJlc291cmNlLnVybCkgOiAnJztcbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgaWYgKHJlc1VybCA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgcmVzVXJsID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwgJiYgcmVzVXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYmFzZXVybCBoYXMgYSB0cmFpbGluZyBzbGFzaCB0aGVuIGFkZCBvbmUgdG8gcmVzVXJsIHNvIHRoZSByZXBsYWNlIHdvcmtzIGJlbG93XG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlci5iYXNlVXJsLmNoYXJBdChsb2FkZXIuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBiYXNlVXJsIGZyb20gcmVzVXJsXG4gICAgICAgIHJlc1VybCA9IHJlc1VybC5yZXBsYWNlKGxvYWRlci5iYXNlVXJsLCAnJyk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIHJlc1VybCBub3csIGl0IG5lZWRzIGEgdHJhaWxpbmcgc2xhc2guIEVuc3VyZSB0aGF0IGl0IGRvZXMgaWYgdGhlIHN0cmluZyBpc24ndCBlbXB0eS5cbiAgICAgICAgaWYgKHJlc1VybCAmJiByZXNVcmwuY2hhckF0KHJlc1VybC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICByZXNVcmwgKz0gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNVcmw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCBmb3IgTm9kZUpTJ3MgcGF0aC5kaXJuYW1lXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gUGF0aCB0byBnZXQgZGlyZWN0b3J5IGZvclxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIGRpciA9IHVybFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJy8nKSAvLyBjb252ZXJ0IHdpbmRvd3Mgbm90YXRpb24gdG8gVU5JWCBub3RhdGlvbiwgVVJMLXNhZmUgYmVjYXVzZSBpdCdzIGEgZm9yYmlkZGVuIGNoYXJhY3RlclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLyQvLCAnJykgLy8gcmVwbGFjZSB0cmFpbGluZyBzbGFzaFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuICAgICAgICAvLyBGaWxlIHJlcXVlc3QgaXMgcmVsYXRpdmUsIHVzZSBjdXJyZW50IGRpcmVjdG9yeVxuICAgICAgICBpZiAoZGlyID09PSB1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnRlZCB3aXRoIGEgc2xhc2hcbiAgICAgICAgZWxzZSBpZiAoZGlyID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlyO1xuICAgIH07XG4gICAgcmV0dXJuIEJpdG1hcEZvbnRMb2FkZXI7XG59KCkpO1xuXG5leHBvcnQgeyBCaXRtYXBGb250LCBCaXRtYXBGb250RGF0YSwgQml0bWFwRm9udExvYWRlciwgQml0bWFwVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC1iaXRtYXAuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0VmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcblwiO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBBbHBoYUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWxwaGFGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIEFtb3VudCBvZiBhbHBoYSBmcm9tIDAgdG8gMSwgd2hlcmUgMCBpcyB0cmFuc3BhcmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFscGhhRmlsdGVyKGFscGhhKSB7XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMS4wOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRWZXJ0ZXgsIGZyYWdtZW50LCB7IHVBbHBoYTogMSB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbHBoYUZpbHRlci5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQWxwaGFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1hbHBoYS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWJsdXIgLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWJsdXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHZlcnRUZW1wbGF0ZSA9IFwiXFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XFxuXFxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcblxcbiAgICB1bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxuICAgIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbiAgICB7XFxuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgfVxcblxcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbih2b2lkKVxcbiAgICB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbiAgICAgICAgJWJsdXIlXFxuICAgIH1cIjtcbmZ1bmN0aW9uIGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgeCkge1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgaWYgKHgpIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkudG9TdHJpbmcoKSk7XG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCBpIC0gKGhhbGZMZW5ndGggLSAxKSArIFwiLjBcIik7XG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cblxudmFyIEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdLFxufTtcbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKScsXG4gICAgJ3snLFxuICAgICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJyAgICAlYmx1ciUnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKSB7XG4gICAgdmFyIGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaS50b1N0cmluZygpKTtcbiAgICAgICAgdmFsdWUgPSBpO1xuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXS50b1N0cmluZygpKTtcbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFRD02NDAzXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUxQSEE9NjQwNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRT02NDA5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFX0FMUEhBPTY0MTBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9DT01QT05FTlQ9NjQwMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX1NURU5DSUw9MzQwNDFcbiAqL1xudmFyIEZPUk1BVFM7XG4oZnVuY3Rpb24gKEZPUk1BVFMpIHtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JBXCJdID0gNjQwOF0gPSBcIlJHQkFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JcIl0gPSA2NDA3XSA9IFwiUkdCXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiQUxQSEFcIl0gPSA2NDA2XSA9IFwiQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VcIl0gPSA2NDA5XSA9IFwiTFVNSU5BTkNFXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFX0FMUEhBXCJdID0gNjQxMF0gPSBcIkxVTUlOQU5DRV9BTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX0NPTVBPTkVOVFwiXSA9IDY0MDJdID0gXCJERVBUSF9DT01QT05FTlRcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9TVEVOQ0lMXCJdID0gMzQwNDFdID0gXCJERVBUSF9TVEVOQ0lMXCI7XG59KShGT1JNQVRTIHx8IChGT1JNQVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0YXJnZXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRD0zNTUzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUD0zNDA2N1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkRfQVJSQVk9MzU4NjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g9MzQwNjlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g9MzQwNzBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k9MzQwNzFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1k9MzQwNzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o9MzQwNzNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o9MzQwNzRcbiAqL1xudmFyIFRBUkdFVFM7XG4oZnVuY3Rpb24gKFRBUkdFVFMpIHtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEXCJdID0gMzU1M10gPSBcIlRFWFRVUkVfMkRcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQXCJdID0gMzQwNjddID0gXCJURVhUVVJFX0NVQkVfTUFQXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRF9BUlJBWVwiXSA9IDM1ODY2XSA9IFwiVEVYVFVSRV8yRF9BUlJBWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiXSA9IDM0MDY5XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCJdID0gMzQwNzBdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIl0gPSAzNDA3MV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiXSA9IDM0MDcyXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCJdID0gMzQwNzNdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIl0gPSAzNDA3NF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiO1xufSkoVEFSR0VUUyB8fCAoVEFSR0VUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX0JZVEU9NTEyMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUPTUxMjNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzZfNT0zMzYzNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9NTEyNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBTEZfRkxPQVQ9MzYxOTNcbiAqL1xudmFyIFRZUEVTO1xuKGZ1bmN0aW9uIChUWVBFUykge1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfQllURVwiXSA9IDUxMjFdID0gXCJVTlNJR05FRF9CWVRFXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVFwiXSA9IDUxMjNdID0gXCJVTlNJR05FRF9TSE9SVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV82XzVcIl0gPSAzMzYzNV0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCJdID0gMzI4MTldID0gXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCJdID0gMzI4MjBdID0gXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJGTE9BVFwiXSA9IDUxMjZdID0gXCJGTE9BVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiSEFMRl9GTE9BVFwiXSA9IDM2MTkzXSA9IFwiSEFMRl9GTE9BVFwiO1xufSkoVFlQRVMgfHwgKFRZUEVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBzYW1wbGVyIHR5cGVzLiBDb3JyZXNwb25kIHRvIGBzYW1wbGVyYCwgYGlzYW1wbGVyYCwgYHVzYW1wbGVyYCBHTFNMIHR5cGVzIHJlc3BlY3RpdmVseS5cbiAqIFdlYkdMMSB3b3JrcyBvbmx5IHdpdGggRkxPQVQuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNBTVBMRVJfVFlQRVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IElOVD0xXG4gKiBAcHJvcGVydHkge251bWJlcn0gVUlOVD0yXG4gKi9cbnZhciBTQU1QTEVSX1RZUEVTO1xuKGZ1bmN0aW9uIChTQU1QTEVSX1RZUEVTKSB7XG4gICAgU0FNUExFUl9UWVBFU1tTQU1QTEVSX1RZUEVTW1wiRkxPQVRcIl0gPSAwXSA9IFwiRkxPQVRcIjtcbiAgICBTQU1QTEVSX1RZUEVTW1NBTVBMRVJfVFlQRVNbXCJJTlRcIl0gPSAxXSA9IFwiSU5UXCI7XG4gICAgU0FNUExFUl9UWVBFU1tTQU1QTEVSX1RZUEVTW1wiVUlOVFwiXSA9IDJdID0gXCJVSU5UXCI7XG59KShTQU1QTEVSX1RZUEVTIHx8IChTQU1QTEVSX1RZUEVTID0ge30pKTtcbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUztcbihmdW5jdGlvbiAoU0NBTEVfTU9ERVMpIHtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIk5FQVJFU1RcIl0gPSAwXSA9IFwiTkVBUkVTVFwiO1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTElORUFSXCJdID0gMV0gPSBcIkxJTkVBUlwiO1xufSkoU0NBTEVfTU9ERVMgfHwgKFNDQUxFX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyBXZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVM7XG4oZnVuY3Rpb24gKFdSQVBfTU9ERVMpIHtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJDTEFNUFwiXSA9IDMzMDcxXSA9IFwiQ0xBTVBcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJSRVBFQVRcIl0gPSAxMDQ5N10gPSBcIlJFUEVBVFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIk1JUlJPUkVEX1JFUEVBVFwiXSA9IDMzNjQ4XSA9IFwiTUlSUk9SRURfUkVQRUFUXCI7XG59KShXUkFQX01PREVTIHx8IChXUkFQX01PREVTID0ge30pKTtcbi8qKlxuICogTWlwbWFwIGZpbHRlcmluZyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTfSBhZmZlY3RzIGRlZmF1bHQgdGV4dHVyZSBmaWx0ZXJpbmcuXG4gKiBNaXBtYXBzIGFyZSBnZW5lcmF0ZWQgZm9yIGEgYmFzZVRleHR1cmUgaWYgaXRzIGBtaXBtYXBgIGZpZWxkIGlzIGBPTmAsXG4gKiBvciBpdHMgYFBPVzJgIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvd2VycyBvZiAyLlxuICogRHVlIHRvIHBsYXRmb3JtIHJlc3RyaWN0aW9uLCBgT05gIG9wdGlvbiB3aWxsIHdvcmsgbGlrZSBgUE9XMmAgZm9yIHdlYmdsLTEuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgTUlQTUFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPRkYgLSBObyBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9XMiAtIEdlbmVyYXRlIG1pcG1hcHMgaWYgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3cyXG4gKiBAcHJvcGVydHkge251bWJlcn0gT04gLSBBbHdheXMgZ2VuZXJhdGUgbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OX01BTlVBTCAtIFVzZSBtaXBtYXBzLCBidXQgZG8gbm90IGF1dG8tZ2VuZXJhdGUgdGhlbTsgdGhpcyBpcyB1c2VkIHdpdGggYSByZXNvdXJjZVxuICogICB0aGF0IHN1cHBvcnRzIGJ1ZmZlcmluZyBlYWNoIGxldmVsLW9mLWRldGFpbC5cbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OX01BTlVBTFwiXSA9IDNdID0gXCJPTl9NQU5VQUxcIjtcbn0pKE1JUE1BUF9NT0RFUyB8fCAoTUlQTUFQX01PREVTID0ge30pKTtcbi8qKlxuICogSG93IHRvIHRyZWF0IHRleHR1cmVzIHdpdGggcHJlbXVsdGlwbGllZCBhbHBoYVxuICpcbiAqIEBuYW1lIEFMUEhBX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT19QUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBsZWF2ZSBpdCBsaWtlIHRoYXQuXG4gKiAgT3B0aW9uIGZvciBjb21wcmVzc2VkIGFuZCBkYXRhIHRleHR1cmVzIHRoYXQgYXJlIGNyZWF0ZWQgZnJvbSB0eXBlZCBhcnJheXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTFlfT05fVVBMT0FEIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBwcmVtdWx0aXBseSBvbiB1cGxvYWQuXG4gKiAgRGVmYXVsdCBvcHRpb24sIHVzZWQgZm9yIGFsbCBsb2FkZWQgaW1hZ2VzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgYWxyZWFkeSBwcmVtdWx0aXBsaWVkXG4gKiAgRXhhbXBsZTogc3BpbmUgYXRsYXNlcyB3aXRoIGBfcG1hYCBzdWZmaXguXG4gKiBAcHJvcGVydHkge251bWJlcn0gTlBNIC0gQWxpYXMgZm9yIE5PX1BSRU1VTFRJUExJRURfQUxQSEEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5QQUNLIC0gRGVmYXVsdCBvcHRpb24sIGFsaWFzIGZvciBQUkVNVUxUSVBMWV9PTl9VUExPQUQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE1BIC0gQWxpYXMgZm9yIFBSRU1VTFRJUExJRURfQUxQSEEuXG4gKi9cbnZhciBBTFBIQV9NT0RFUztcbihmdW5jdGlvbiAoQUxQSEFfTU9ERVMpIHtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5QTVwiXSA9IDBdID0gXCJOUE1cIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlVOUEFDS1wiXSA9IDFdID0gXCJVTlBBQ0tcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBNQVwiXSA9IDJdID0gXCJQTUFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIl0gPSAwXSA9IFwiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfT05fVVBMT0FEXCJdID0gMV0gPSBcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfQUxQSEFcIl0gPSAyXSA9IFwiUFJFTVVMVElQTFlfQUxQSEFcIjtcbn0pKEFMUEhBX01PREVTIHx8IChBTFBIQV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIENvbmZpZ3VyZSB3aGV0aGVyIGZpbHRlciB0ZXh0dXJlcyBhcmUgY2xlYXJlZCBhZnRlciBiaW5kaW5nLlxuICpcbiAqIEZpbHRlciB0ZXh0dXJlcyBuZWVkIG5vdCBiZSBjbGVhcmVkIGlmIHRoZSBmaWx0ZXIgZG9lcyBub3QgdXNlIHBpeGVsIGJsZW5kaW5nLiB7QGxpbmsgQ0xFQVJfTU9ERVMuQkxJVH0gd2lsbCBkZXRlY3RcbiAqIHRoaXMgYW5kIHNraXAgY2xlYXJpbmcgYXMgYW4gb3B0aW1pemF0aW9uLlxuICpcbiAqIEBuYW1lIENMRUFSX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTEVORCAtIERvIG5vdCBjbGVhciB0aGUgZmlsdGVyIHRleHR1cmUuIFRoZSBmaWx0ZXIncyBvdXRwdXQgd2lsbCBibGVuZCBvbiB0b3Agb2YgdGhlIG91dHB1dCB0ZXh0dXJlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gQWx3YXlzIGNsZWFyIHRoZSBmaWx0ZXIgdGV4dHVyZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb25seSBpZiB7QGxpbmsgRmlsdGVyU3lzdGVtLmZvcmNlQ2xlYXJ9IGlzIHNldCBvciBpZiB0aGUgZmlsdGVyIHVzZXMgcGl4ZWwgYmxlbmRpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUztcbihmdW5jdGlvbiAoR0NfTU9ERVMpIHtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIkFVVE9cIl0gPSAwXSA9IFwiQVVUT1wiO1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiTUFOVUFMXCJdID0gMV0gPSBcIk1BTlVBTFwiO1xufSkoR0NfTU9ERVMgfHwgKEdDX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xudmFyIE1BU0tfVFlQRVM7XG4oZnVuY3Rpb24gKE1BU0tfVFlQRVMpIHtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtdWx0aS1zYW1wbGluZyBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHNlZSBQSVhJLkZyYW1lYnVmZmVyI211bHRpc2FtcGxlXG4gKlxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlclBhc3MgYXBwbGllcyBhIGhvcml6b250YWwgb3IgdmVydGljYWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlclBhc3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJsdXJGaWx0ZXJQYXNzLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaG9yaXpvbnRhbCAtIERvIHBhc3MgYWxvbmcgdGhlIHgtYXhpcyAoYHRydWVgKSBvciB5LWF4aXMgKGBmYWxzZWApLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlclBhc3MoaG9yaXpvbnRhbCwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgaWYgKHN0cmVuZ3RoID09PSB2b2lkIDApIHsgc3RyZW5ndGggPSA4OyB9XG4gICAgICAgIGlmIChxdWFsaXR5ID09PSB2b2lkIDApIHsgcXVhbGl0eSA9IDQ7IH1cbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047IH1cbiAgICAgICAgaWYgKGtlcm5lbFNpemUgPT09IHZvaWQgMCkgeyBrZXJuZWxTaXplID0gNTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdmVydFNyYyA9IGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgaG9yaXpvbnRhbCk7XG4gICAgICAgIHZhciBmcmFnU3JjID0gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLCBcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgIGZyYWdTcmMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhvcml6b250YWwgPSBob3Jpem9udGFsO1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgX3RoaXMuX3F1YWxpdHkgPSAwO1xuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIEhvdyB0byBjbGVhclxuICAgICAqL1xuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgaWYgKG91dHB1dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC53aWR0aCkgKiAob3V0cHV0LndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LmhlaWdodCkgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGgpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG4gICAgICAgIGlmICh0aGlzLnBhc3NlcyA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlcjtcbiAgICAgICAgICAgIHZhciBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgZmxvcCwgQ0xFQVJfTU9ERVMuQ0xFQVIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYmluZEFuZENsZWFyKGZsaXAsIENMRUFSX01PREVTLkJMSVQpO1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSBmbG9wO1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KDUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsb3AsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLCBcImJsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDEgKyAoTWF0aC5hYnModmFsdWUpICogMik7XG4gICAgICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLCBcInF1YWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAgKiBxdWFsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgNFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQmx1ckZpbHRlclBhc3M7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgY2FuIGJlIHNldCBmb3IgdGhlIHgtYXhpcyBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmx1ckZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0cmVuZ3RoPThdIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHk9NF0gLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPVBJWEkuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT05dIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgaWYgKHN0cmVuZ3RoID09PSB2b2lkIDApIHsgc3RyZW5ndGggPSA4OyB9XG4gICAgICAgIGlmIChxdWFsaXR5ID09PSB2b2lkIDApIHsgcXVhbGl0eSA9IDQ7IH1cbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047IH1cbiAgICAgICAgaWYgKGtlcm5lbFNpemUgPT09IHZvaWQgMCkgeyBrZXJuZWxTaXplID0gNTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLmJsdXJZRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoO1xuICAgICAgICBfdGhpcy5yZXBlYXRFZGdlUGl4ZWxzID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gSG93IHRvIGNsZWFyXG4gICAgICovXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIHZhciB4U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICAgICAgdmFyIHlTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICBpZiAoeFN0cmVuZ3RoICYmIHlTdHJlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgcmVuZGVyVGFyZ2V0LCBDTEVBUl9NT0RFUy5DTEVBUik7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeVN0cmVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLnVwZGF0ZVBhZGRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJxdWFsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFsaXR5IGJsdXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5ID0gdGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwiYmx1clhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJYIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibHVyWVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwicmVwZWF0RWRnZVBpeGVsc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZWRnZSBvZiB0aGUgdGFyZ2V0IHdpbGwgYmUgY2xhbXBlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEJsdXJGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWJsdXIuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXggLSB2Ni4wLjRcbiAqIENvbXBpbGVkIFR1ZSwgMTEgTWF5IDIwMjEgMTg6MDA6MjMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IG1bMjBdO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBjID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG4gICAgaWYgKHVBbHBoYSA9PSAwLjApIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IGM7XFxuICAgICAgICByZXR1cm47XFxuICAgIH1cXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGMuYSA+IDAuMCkge1xcbiAgICAgIGMucmdiIC89IGMuYTtcXG4gICAgfVxcblxcbiAgICB2ZWM0IHJlc3VsdDtcXG5cXG4gICAgcmVzdWx0LnIgPSAobVswXSAqIGMucik7XFxuICAgICAgICByZXN1bHQuciArPSAobVsxXSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuciArPSAobVsyXSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuciArPSAobVszXSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuciArPSBtWzRdO1xcblxcbiAgICByZXN1bHQuZyA9IChtWzVdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzZdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzddICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzhdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IG1bOV07XFxuXFxuICAgIHJlc3VsdC5iID0gKG1bMTBdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTFdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTJdICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTNdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gbVsxNF07XFxuXFxuICAgIHJlc3VsdC5hID0gKG1bMTVdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTZdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTddICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMThdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gbVsxOV07XFxuXFxuICAgIHZlYzMgcmdiID0gbWl4KGMucmdiLCByZXN1bHQucmdiLCB1QWxwaGEpO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgcmdiICo9IHJlc3VsdC5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgcmVzdWx0LmEpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb2xvck1hdHJpeEZpbHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb2xvck1hdHJpeEZpbHRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgbTogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMSwgMF0pLFxuICAgICAgICAgICAgdUFscGhhOiAxLFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY3VycmVudCBtYXRyaXggYW5kIHNldCB0aGUgbmV3IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbG9hZE1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIG11bHRpcGx5KSB7XG4gICAgICAgIGlmIChtdWx0aXBseSA9PT0gdm9pZCAwKSB7IG11bHRpcGx5ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIG5ld01hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgaWYgKG11bHRpcGx5KSB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgbWF0cml4XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IG5ld01hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIG1hdDUnc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBvdXQgLSA1eDQgbWF0cml4IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYSAtIDV4NCBtYXRyaXggdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBiIC0gNXg0IG1hdHJpeCB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IDV4NCBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX211bHRpcGx5ID0gZnVuY3Rpb24gKG91dCwgYSwgYikge1xuICAgICAgICAvLyBSZWQgQ2hhbm5lbFxuICAgICAgICBvdXRbMF0gPSAoYVswXSAqIGJbMF0pICsgKGFbMV0gKiBiWzVdKSArIChhWzJdICogYlsxMF0pICsgKGFbM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxXSA9IChhWzBdICogYlsxXSkgKyAoYVsxXSAqIGJbNl0pICsgKGFbMl0gKiBiWzExXSkgKyAoYVszXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzJdID0gKGFbMF0gKiBiWzJdKSArIChhWzFdICogYls3XSkgKyAoYVsyXSAqIGJbMTJdKSArIChhWzNdICogYlsxN10pO1xuICAgICAgICBvdXRbM10gPSAoYVswXSAqIGJbM10pICsgKGFbMV0gKiBiWzhdKSArIChhWzJdICogYlsxM10pICsgKGFbM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFs0XSA9IChhWzBdICogYls0XSkgKyAoYVsxXSAqIGJbOV0pICsgKGFbMl0gKiBiWzE0XSkgKyAoYVszXSAqIGJbMTldKSArIGFbNF07XG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuICAgICAgICAvLyBCbHVlIENoYW5uZWxcbiAgICAgICAgb3V0WzEwXSA9IChhWzEwXSAqIGJbMF0pICsgKGFbMTFdICogYls1XSkgKyAoYVsxMl0gKiBiWzEwXSkgKyAoYVsxM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxMV0gPSAoYVsxMF0gKiBiWzFdKSArIChhWzExXSAqIGJbNl0pICsgKGFbMTJdICogYlsxMV0pICsgKGFbMTNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTJdID0gKGFbMTBdICogYlsyXSkgKyAoYVsxMV0gKiBiWzddKSArIChhWzEyXSAqIGJbMTJdKSArIChhWzEzXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzEzXSA9IChhWzEwXSAqIGJbM10pICsgKGFbMTFdICogYls4XSkgKyAoYVsxMl0gKiBiWzEzXSkgKyAoYVsxM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxNF0gPSAoYVsxMF0gKiBiWzRdKSArIChhWzExXSAqIGJbOV0pICsgKGFbMTJdICogYlsxNF0pICsgKGFbMTNdICogYlsxOV0pICsgYVsxNF07XG4gICAgICAgIC8vIEFscGhhIENoYW5uZWxcbiAgICAgICAgb3V0WzE1XSA9IChhWzE1XSAqIGJbMF0pICsgKGFbMTZdICogYls1XSkgKyAoYVsxN10gKiBiWzEwXSkgKyAoYVsxOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxNl0gPSAoYVsxNV0gKiBiWzFdKSArIChhWzE2XSAqIGJbNl0pICsgKGFbMTddICogYlsxMV0pICsgKGFbMThdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTddID0gKGFbMTVdICogYlsyXSkgKyAoYVsxNl0gKiBiWzddKSArIChhWzE3XSAqIGJbMTJdKSArIChhWzE4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzE4XSA9IChhWzE1XSAqIGJbM10pICsgKGFbMTZdICogYls4XSkgKyAoYVsxN10gKiBiWzEzXSkgKyAoYVsxOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxOV0gPSAoYVsxNV0gKiBiWzRdKSArIChhWzE2XSAqIGJbOV0pICsgKGFbMTddICogYlsxNF0pICsgKGFbMThdICogYlsxOV0pICsgYVsxOV07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gNXg0IG1hdHJpeCB3aXRoIGFsbCB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icmlnaHRuZXNzID0gZnVuY3Rpb24gKGIsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGUgPSBmdW5jdGlvbiAoc2NhbGUsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJsYWNrIGFuZCB3aGl0ZSBtYXRyaWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiAocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcbiAgICAgICAgLyogYSBnb29kIGFwcHJveGltYXRpb24gZm9yIGh1ZSByb3RhdGlvblxuICAgICAgICAgVGhpcyBtYXRyaXggaXMgZmFyIGJldHRlciB0aGFuIHRoZSB2ZXJzaW9ucyB3aXRoIG1hZ2ljIGx1bWluYW5jZSBjb25zdGFudHNcbiAgICAgICAgIGZvcm1lcmx5IHVzZWQgaGVyZSwgYnV0IGFsc28gdXNlZCBpbiB0aGUgc3RhcmxpbmcgZnJhbWV3b3JrIChmbGFzaCkgYW5kIGtub3duIGZyb20gdGhpc1xuICAgICAgICAgb2xkIHBhcnQgb2YgdGhlIGludGVybmV0OiBxdWFzaW1vbmRvLmNvbS9hcmNoaXZlcy8wMDA1NjUucGhwXG5cbiAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG5cbiAgICAgICAgIFRoaXMgaXMgdGhlIHNvdXJjZSBmb3IgdGhlIGNvZGU6XG4gICAgICAgICBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTA3ODg1L3NoaWZ0LWh1ZS1vZi1hbi1yZ2ItY29sb3IvODUxMDc1MSM4NTEwNzUxXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdyA9IDEgLyAzO1xuICAgICAgICB2YXIgc3FyVyA9IHNxcnQodyk7IC8vIHdlaWdodCBpc1xuICAgICAgICB2YXIgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgdmFyIGEwMSA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMDIgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTEwID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG4gICAgICAgIHZhciBhMTIgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIwID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMSA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250cmFzdCBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gZGFyayBhbmQgYnJpZ2h0XG4gICAgICogSW5jcmVhc2UgY29udHJhc3QgOiBzaGFkb3dzIGRhcmtlciBhbmQgaGlnaGxpZ2h0cyBicmlnaHRlclxuICAgICAqIERlY3JlYXNlIGNvbnRyYXN0IDogYnJpbmcgdGhlIHNoYWRvd3MgdXAgYW5kIHRoZSBoaWdobGlnaHRzIGRvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB2YWx1ZSBvZiB0aGUgY29udHJhc3QgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29udHJhc3QgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgICAgICB2YXIgbyA9IC0wLjUgKiAodiAtIDEpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgdiwgMCwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIHYsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCB2LCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFttdWx0aXBseV0gLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIGlmIChhbW91bnQgPT09IHZvaWQgMCkgeyBhbW91bnQgPSAwOyB9XG4gICAgICAgIHZhciB4ID0gKGFtb3VudCAqIDIgLyAzKSArIDE7XG4gICAgICAgIHZhciB5ID0gKCh4IC0gMSkgKiAtMC41KTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHgsIHksIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB4LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeSwgeCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgaW1hZ2UgKHJlbW92ZSBjb2xvcilcbiAgICAgKlxuICAgICAqIENhbGwgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZGVzYXR1cmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmVnYXRpdmUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC0xLCAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgLTEsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAtMSwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlcGlhIGltYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2VwaWEgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMzkzLCAwLjc2ODk5OTksIDAuMTg4OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjM0OSwgMC42ODU5OTk5LCAwLjE2Nzk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbG9yIG1vdGlvbiBwaWN0dXJlIHByb2Nlc3MgaW52ZW50ZWQgaW4gMTkxNiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50ZWNobmljb2xvciA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LFxuICAgICAgICAgICAgLTAuMzA4NzgzMzM4NTkyODA5NywgMS43NjU4OTA4NTU1NDU4NDI4LCAtMC4xMDYwMTc0MzA3NDcyMjI0NSwgMCwgLTcwLjM1MjA1MTYxNDYxMzk4LFxuICAgICAgICAgICAgLTAuMjMxMTAzMzc3NTQ4NjE2LCAtMC43NTAxODk5MTk3NDQwMjEyLCAxLjg0NzU5NzgxNjEwODE4OSwgMCwgMzAuOTUwOTQwODY5NDkxMTM4LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucG9sYXJvaWQgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuNDM4LCAtMC4wNjIsIC0wLjA2MiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbHRlciB3aG8gdHJhbnNmb3JtcyA6IFJlZCAtPiBCbHVlIGFuZCBCbHVlIC0+IFJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRvQkdSID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xvciByZXZlcnNhbCBmaWxtIGludHJvZHVjZWQgYnkgRWFzdG1hbiBLb2RhayBpbiAxOTM1LiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5rb2RhY2hyb21lID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJyb3duIGRlbGljaW91cyBicm93bmkgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyb3duaSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC41OTk3MDIzNDk4MTU5NzE1LCAwLjM0NTUzMjQzMDQ4MzkxMjYzLCAtMC4yNzA4Mjk4Njc0NTM4MDQyLCAwLCA0Ny40MzE5Mjg1NTYwMDg3MyxcbiAgICAgICAgICAgIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsXG4gICAgICAgICAgICAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmludGFnZSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudmludGFnZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC42Mjc5MzQ1NjM1NjA1OTk0LCAwLjMyMDIxODM0MjA4MTkzNjcsIC0wLjAzOTY1NDA4MjExMzEyNDUzLCAwLCA5LjY1MTI4NTgzNTI5NDEyMyxcbiAgICAgICAgICAgIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsXG4gICAgICAgICAgICAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXZSBkb24ndCBrbm93IGV4YWN0bHkgd2hhdCBpdCBkb2VzLCBraW5kIG9mIGdyYWRpZW50IG1hcCwgYnV0IGZ1bm55IHRvIHBsYXkgd2l0aCFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXNhdHVyYXRpb24gLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9uZWQgLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGlnaHRDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRhcmtDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbG9yVG9uZSA9IGZ1bmN0aW9uIChkZXNhdHVyYXRpb24sIHRvbmVkLCBsaWdodENvbG9yLCBkYXJrQ29sb3IsIG11bHRpcGx5KSB7XG4gICAgICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgICAgIHRvbmVkID0gdG9uZWQgfHwgMC4xNTtcbiAgICAgICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMHhGRkU1ODA7XG4gICAgICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAweDMzODAwMDtcbiAgICAgICAgdmFyIGxSID0gKChsaWdodENvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEcgPSAoKGxpZ2h0Q29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRSID0gKChkYXJrQ29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkRyA9ICgoZGFya0NvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkQiA9IChkYXJrQ29sb3IgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC41OSwgMC4xMSwgMCwgMCxcbiAgICAgICAgICAgIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCxcbiAgICAgICAgICAgIGRSLCBkRywgZEIsIHRvbmVkLCAwLFxuICAgICAgICAgICAgbFIgLSBkUiwgbEcgLSBkRywgbEIgLSBkQiwgMCwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTmlnaHQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uaWdodCA9IGZ1bmN0aW9uIChpbnRlbnNpdHksIG11bHRpcGx5KSB7XG4gICAgICAgIGludGVuc2l0eSA9IGludGVuc2l0eSB8fCAwLjE7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBpbnRlbnNpdHkgKiAoLTIuMCksIC1pbnRlbnNpdHksIDAsIDAsIDAsXG4gICAgICAgICAgICAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsXG4gICAgICAgICAgICAwLCBpbnRlbnNpdHksIGludGVuc2l0eSAqIDIuMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZWRhdG9yIGVmZmVjdFxuICAgICAqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgYSBuZXcgaW5kZXBlbnQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnByZWRhdG9yID0gZnVuY3Rpb24gKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC8vIHJvdyAxXG4gICAgICAgICAgICAxMS4yMjQxMzA2MzA0OTMxNjQgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC43OTQ0ODY5OTk1MTE3MTkgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi44NzQ2MTE4NTQ1NTMyMjI3ICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIDAuNDAzNDI0MzgyMjA5Nzc3ODMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgMlxuICAgICAgICAgICAgLTMuNjMzMDY5NzUzNjQ2ODUwNiAqIGFtb3VudCxcbiAgICAgICAgICAgIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LFxuICAgICAgICAgICAgLTIuOTUxODEwODM2NzkxOTkyICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAzXG4gICAgICAgICAgICAtMy4yMTg0MTk3OTAyNjc5NDQzICogYW1vdW50LFxuICAgICAgICAgICAgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCxcbiAgICAgICAgICAgIDcuNDc2NDQ4MDU5MDgyMDMxICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyA0XG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMU0QgZWZmZWN0XG4gICAgICpcbiAgICAgKiBNdWx0aXBseSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5sc2QgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDIsIC0wLjQsIDAuNSwgMCwgMCxcbiAgICAgICAgICAgIC0wLjUsIDIsIC0wLjQsIDAsIDAsXG4gICAgICAgICAgICAtMC40LCAtMC41LCAzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBcIm1hdHJpeFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF0cml4IG9mIHRoZSBjb2xvciBtYXRyaXggZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAZGVmYXVsdCBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZSwgXCJhbHBoYVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSB2YWx1ZSB0byB1c2Ugd2hlbiBtaXhpbmcgdGhlIG9yaWdpbmFsIGFuZCByZXN1bHRhbnQgY29sb3JzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAwLCB0aGUgb3JpZ2luYWwgY29sb3IgaXMgdXNlZCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAgICAgICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMSwgdGhlIHJlc3VsdCBjb2xvciBpcyB1c2VkLlxuICAgICAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oRmlsdGVyKSk7XG4vLyBBbWVyaWNhbml6ZWQgYWxpYXNcbkNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmF5c2NhbGUgPSBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlO1xuXG5leHBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWNvbG9yLW1hdHJpeC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXgsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcbnVuaWZvcm0gbWF0MiByb3RhdGlvbjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXBTYW1wbGVyO1xcblxcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IGlucHV0Q2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgdmVjNCBtYXAgPSAgdGV4dHVyZTJEKG1hcFNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XFxuXFxuICBtYXAgLT0gMC41O1xcbiAgbWFwLnh5ID0gc2NhbGUgKiBpbnB1dFNpemUuencgKiAocm90YXRpb24gKiBtYXAueHkpO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIG1hcC54LCB2VGV4dHVyZUNvb3JkLnkgKyBtYXAueSksIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKTtcXG59XFxuXCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcblxcdGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXHR2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxuXFx0dkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCB2VGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBmaWx0ZXIgdG8gYXBwbHkgYWxsIG1hbm9yIG9mIGNyYXp5IHdhcnBpbmcgZWZmZWN0cy5cbiAqIEN1cnJlbnRseSB0aGUgYHJgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeGBcbiAqIGFuZCB0aGUgYGdgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeWAuXG4gKlxuICogVGhlIHdheSBpdCB3b3JrcyBpcyBpdCB1c2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGRpc3BsYWNlbWVudCBtYXAgdG8gbG9vayB1cCB0aGVcbiAqIGNvcnJlY3QgcGl4ZWxzIHRvIG91dHB1dC4gVGhpcyBtZWFucyBpdCdzIG5vdCB0ZWNobmljYWxseSBtb3ZpbmcgdGhlIG9yaWdpbmFsLlxuICogSW5zdGVhZCwgaXQncyBzdGFydGluZyBhdCB0aGUgb3V0cHV0IGFuZCBhc2tpbmcgXCJ3aGljaCBwaXhlbCBmcm9tIHRoZSBvcmlnaW5hbCBnb2VzIGhlcmVcIi5cbiAqIEZvciBleGFtcGxlLCBpZiBhIGRpc3BsYWNlbWVudCBtYXAgcGl4ZWwgaGFzIGByZWQgPSAxYCBhbmQgdGhlIGZpbHRlciBzY2FsZSBpcyBgMjBgLFxuICogdGhpcyBmaWx0ZXIgd2lsbCBvdXRwdXQgdGhlIHBpeGVsIGFwcHJveGltYXRlbHkgMjAgcGl4ZWxzIHRvIHRoZSByaWdodCBvZiB0aGUgb3JpZ2luYWwuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXNwbGFjZW1lbnRGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gKG1ha2Ugc3VyZSBpdHMgYWRkZWQgdG8gdGhlIHNjZW5lISlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlXSAtIFRoZSBzY2FsZSBvZiB0aGUgZGlzcGxhY2VtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlzcGxhY2VtZW50RmlsdGVyKHNwcml0ZSwgc2NhbGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgbWFwU2FtcGxlcjogc3ByaXRlLl90ZXh0dXJlLFxuICAgICAgICAgICAgZmlsdGVyTWF0cml4OiBtYXNrTWF0cml4LFxuICAgICAgICAgICAgc2NhbGU6IHsgeDogMSwgeTogMSB9LFxuICAgICAgICAgICAgcm90YXRpb246IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDFdKSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIGlmIChzY2FsZSA9PT0gbnVsbCB8fCBzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZSA9IDIwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2FsZVgsIHNjYWxlWSBmb3IgZGlzcGxhY2VtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBuZXcgUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBjbGVhck1vZGUuXG4gICAgICovXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgLy8gZmlsbCBtYXNrTWF0cml4IHdpdGggX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzX1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS54ID0gdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG4gICAgICAgIC8vIEV4dHJhY3Qgcm90YXRpb24gZnJvbSB3b3JsZCB0cmFuc2Zvcm1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy5tYXNrU3ByaXRlLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgbGVuWCA9IE1hdGguc3FydCgod3QuYSAqIHd0LmEpICsgKHd0LmIgKiB3dC5iKSk7XG4gICAgICAgIHZhciBsZW5ZID0gTWF0aC5zcXJ0KCh3dC5jICogd3QuYykgKyAod3QuZCAqIHd0LmQpKTtcbiAgICAgICAgaWYgKGxlblggIT09IDAgJiYgbGVuWSAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblswXSA9IHd0LmEgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsxXSA9IHd0LmIgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsyXSA9IHd0LmMgLyBsZW5ZO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblszXSA9IHd0LmQgLyBsZW5ZO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRyYXcgdGhlIGZpbHRlci4uLlxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZSwgXCJtYXBcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEaXNwbGFjZW1lbnRGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1kaXNwbGFjZW1lbnQuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1meGFhIC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1meGFhIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdmVydGV4ID0gXCJcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZvaWQgdGV4Y29vcmRzKHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk5XLCBvdXQgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiU1csIG91dCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTkUgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JNID0gdmVjMihmcmFnQ29vcmQgKiBpbnZlcnNlVlApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXG4gICB2RnJhZ0Nvb3JkID0gYVZlcnRleFBvc2l0aW9uICogb3V0cHV0RnJhbWUuenc7XFxuXFxuICAgdGV4Y29vcmRzKHZGcmFnQ29vcmQsIGlucHV0U2l6ZS56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRTaXplO1xcblxcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQnc1xcbiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cXG5cXG4gLS1cXG5cXG4gRnJvbTpcXG4gaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcXG5cXG4gQ29weXJpZ2h0IChjKSAyMDExIGJ5IEFybWluIFJvbmFjaGVyLlxcblxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG5cXG4gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XFxuIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcXG4gbWV0OlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XFxuIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuXFxuICogVGhlIG5hbWVzIG9mIHRoZSBjb250cmlidXRvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3JcXG4gcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljXFxuIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cXG5cXG4gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xcbiBcXFwiQVMgSVNcXFwiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcXG4gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcXG4gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXFxuIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXFxuIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxcbiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXFxuIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxcbiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxcbiAqL1xcblxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTUlOXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NSU4gICAoMS4wLyAxMjguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01VTFxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfU1BBTl9NQVhcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcbiNlbmRpZlxcblxcbi8vb3B0aW1pemVkIHZlcnNpb24gZm9yIG1vYmlsZSwgd2hlcmUgZGVwZW5kZW50XFxuLy90ZXh0dXJlIHJlYWRzIGNhbiBiZSBhIGJvdHRsZW5lY2tcXG52ZWM0IGZ4YWEoc2FtcGxlcjJEIHRleCwgdmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTlcsIHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgdmVjMiB2X3JnYlNXLCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5XKS54eXo7XFxuICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5FKS54eXo7XFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNXKS54eXo7XFxuICAgIHZlYzMgcmdiU0UgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNFKS54eXo7XFxuICAgIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk0pO1xcbiAgICB2ZWMzIHJnYk0gID0gdGV4Q29sb3IueHl6O1xcbiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpO1xcbiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpO1xcblxcbiAgICBtZWRpdW1wIHZlYzIgZGlyO1xcbiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XFxuICAgIGRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcXG5cXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG5cXG4gICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7XFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgbWF4KHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgICAgICBkaXIgKiByY3BEaXJNaW4pKSAqIGludmVyc2VWUDtcXG5cXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDEuMCAvIDMuMCAtIDAuNSkpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMi4wIC8gMy4wIC0gMC41KSkueHl6KTtcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIC0wLjUpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIDAuNSkueHl6KTtcXG5cXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWM0IGNvbG9yO1xcblxcbiAgICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgdkZyYWdDb29yZCwgaW5wdXRTaXplLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBCYXNpYyBGWEFBIChGYXN0IEFwcHJveGltYXRlIEFudGktQWxpYXNpbmcpIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tXG4gKiB3aXRoIHRoZSBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0IGlzIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKlxuICovXG52YXIgRlhBQUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRlhBQUZpbHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKCkge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEZYQUFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBGWEFBRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItZnhhYS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLW5vaXNlIC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1ub2lzZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG51bmlmb3JtIGZsb2F0IHVTZWVkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbmZsb2F0IHJhbmQodmVjMiBjbylcXG57XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KGNvLnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpO1xcbn1cXG5cXG52b2lkIG1haW4oKVxcbntcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGZsb2F0IHJhbmRvbVZhbHVlID0gcmFuZChnbF9GcmFnQ29vcmQueHkgKiB1U2VlZCk7XFxuICAgIGZsb2F0IGRpZmYgPSAocmFuZG9tVmFsdWUgLSAwLjUpICogdU5vaXNlO1xcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoY29sb3IuYSA+IDAuMCkge1xcbiAgICAgICAgY29sb3IucmdiIC89IGNvbG9yLmE7XFxuICAgIH1cXG5cXG4gICAgY29sb3IuciArPSBkaWZmO1xcbiAgICBjb2xvci5nICs9IGRpZmY7XFxuICAgIGNvbG9yLmIgKz0gZGlmZjtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIGNvbG9yLnJnYiAqPSBjb2xvci5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb2lzZUZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25vaXNlPTAuNV0gLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzZWVkXSAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2lzZUZpbHRlcihub2lzZSwgc2VlZCkge1xuICAgICAgICBpZiAobm9pc2UgPT09IHZvaWQgMCkgeyBub2lzZSA9IDAuNTsgfVxuICAgICAgICBpZiAoc2VlZCA9PT0gdm9pZCAwKSB7IHNlZWQgPSBNYXRoLnJhbmRvbSgpOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICB1Tm9pc2U6IDAsXG4gICAgICAgICAgICB1U2VlZDogMCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJub2lzZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJzZWVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2VlZCB2YWx1ZSB0byBhcHBseSB0byB0aGUgcmFuZG9tIG5vaXNlIGdlbmVyYXRpb24uIGBNYXRoLnJhbmRvbSgpYCBpcyBhIGdvb2QgdmFsdWUgdG8gdXNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTZWVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ub2lzZS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBudWxsO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uID0gbnVsbDtcbi8vIGZpZ3VyZWQgdGhlcmUncyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBDYWNoZURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FjaGVEYXRhKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJlbmRlciA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb250YWluc1BvaW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQ2FjaGVEYXRhO1xufSgpKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gdG8gdXNlIGZvciBjYWNoZUFzQml0bWFwLiBCeSBkZWZhdWx0IHRoaXMgd2lsbCB1c2UgdGhlIHJlbmRlcmVyJ3MgcmVzb2x1dGlvblxuICAgICAqIGJ1dCBjYW4gYmUgb3ZlcnJpZGVuIGZvciBwZXJmb3JtYW5jZS4gTG93ZXIgdmFsdWVzIHdpbGwgcmVkdWNlIG1lbW9yeSB1c2FnZSBhdCB0aGUgZXhwZW5zZVxuICAgICAqIG9mIHJlbmRlciBxdWFsaXR5LiBBIGZhbHNleSB2YWx1ZSBvZiBgbnVsbGAgb3IgYDBgIHdpbGwgZGVmYXVsdCB0byB0aGUgcmVuZGVyZXIncyByZXNvbHV0aW9uLlxuICAgICAqIElmIGBjYWNoZUFzQml0bWFwYCBpcyBzZXQgdG8gYHRydWVgLCB0aGlzIHdpbGwgcmUtcmVuZGVyIHdpdGggdGhlIG5ldyByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfSBjYWNoZUFzQml0bWFwUmVzb2x1dGlvblxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGNhY2hlQXNCaXRtYXBSZXNvbHV0aW9uOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdGhpcy5fY2FjaGVBc0JpdG1hcFJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFzQml0bWFwUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAodGhpcy5jYWNoZUFzQml0bWFwKSB7XG4gICAgICAgICAgICAgICAgLy8gVG9nZ2xlIHRvIHJlLXJlbmRlciBhdCB0aGUgbmV3IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBNYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuICAgICAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlciA9IHRoaXMucmVuZGVyO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMgPSB0aGlzLnJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSBkYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG59KTtcbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBXZWJHTFxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIF9yZW5kZXJDYWNoZWRcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXIocmVuZGVyZXIpO1xufTtcbi8qKlxuICogUHJlcGFyZXMgdGhlIFdlYkdMIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKS5jbG9uZSgpO1xuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuZmlsdGVycykge1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgICAvLyBmb3Igbm93IHdlIGNhY2hlIHRoZSBjdXJyZW50IHJlbmRlclRhcmdldCB0aGF0IHRoZSBXZWJHTCByZW5kZXJlciBpcyBjdXJyZW50bHkgdXNpbmcuXG4gICAgLy8gdGhpcyBjb3VsZCBiZSBtb3JlIGVsZWdhbnQuLlxuICAgIHZhciBjYWNoZWRSZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgIHZhciBjYWNoZWRTb3VyY2VGcmFtZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWUuY2xvbmUoKTtcbiAgICB2YXIgY2FjaGVkRGVzdGluYXRpb25GcmFtZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuZGVzdGluYXRpb25GcmFtZS5jbG9uZSgpO1xuICAgIHZhciBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm07XG4gICAgLy8gV2UgYWxzbyBzdG9yZSB0aGUgZmlsdGVyIHN0YWNrIC0gSSB3aWxsIGRlZmluaXRlbHkgbG9vayB0byBjaGFuZ2UgaG93IHRoaXMgd29ya3MgYSBsaXR0bGUgbGF0ZXIgZG93biB0aGUgbGluZS5cbiAgICAvLyBjb25zdCBzdGFjayA9IHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2s7XG4gICAgLy8gdGhpcyByZW5kZXJUZXh0dXJlIHdpbGwgYmUgdXNlZCB0byBzdG9yZSB0aGUgY2FjaGVkIERpc3BsYXlPYmplY3RcbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHtcbiAgICAgICAgd2lkdGg6IGJvdW5kcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0LFxuICAgICAgICByZXNvbHV0aW9uOiB0aGlzLmNhY2hlQXNCaXRtYXBSZXNvbHV0aW9uIHx8IHJlbmRlcmVyLnJlc29sdXRpb24sXG4gICAgfSk7XG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gXCJjYWNoZUFzQml0bWFwX1wiICsgdWlkKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKF90ZW1wTWF0cml4KS5pbnZlcnQoKS50cmFuc2xhdGUoLWJvdW5kcy54LCAtYm91bmRzLnkpO1xuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCB7IHJlbmRlclRleHR1cmU6IHJlbmRlclRleHR1cmUsIGNsZWFyOiB0cnVlLCB0cmFuc2Zvcm06IG0sIHNraXBVcGRhdGVUcmFuc2Zvcm06IGZhbHNlIH0pO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoY2FjaGVkUmVuZGVyVGV4dHVyZSwgY2FjaGVkU291cmNlRnJhbWUsIGNhY2hlZERlc3RpbmF0aW9uRnJhbWUpO1xuICAgIC8vIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2sgPSBzdGFjaztcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgQ2FudmFzXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG4gICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgdGhpcy5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMuZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLmRpc2FibGVUZW1wUGFyZW50KG51bGwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBfcmVuZGVyQ2FjaGVkQ2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xufTtcbi8vIFRPRE8gdGhpcyBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIFdlYkdMIHZlcnNpb24uLiB3aWxsIG5lZWQgdG8gZG8gYSBsaXR0bGUgdHdlYWtpbmcgZmlyc3QgdGhvdWdoLi5cbi8qKlxuICogUHJlcGFyZXMgdGhlIENhbnZhcyByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZ2V0IGJvdW5kcyBhY3R1YWxseSB0cmFuc2Zvcm1zIHRoZSBvYmplY3QgZm9yIHVzIGFscmVhZHkhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSk7XG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgIHZhciBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIuX3Byb2pUcmFuc2Zvcm07XG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiBib3VuZHMud2lkdGgsIGhlaWdodDogYm91bmRzLmhlaWdodCB9KTtcbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyB1aWQoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcbiAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8obSk7XG4gICAgbS5pbnZlcnQoKTtcbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG4gICAgLy8gbS5hcHBlbmQodGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uKVxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCB7IHJlbmRlclRleHR1cmU6IHJlbmRlclRleHR1cmUsIGNsZWFyOiB0cnVlLCB0cmFuc2Zvcm06IG0sIHNraXBVcGRhdGVUcmFuc2Zvcm06IGZhbHNlIH0pO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG4gICAgcmVuZGVyZXIuX3Byb2pUcmFuc2Zvcm0gPSBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBXZWJHTFxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2RcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKSB7XG4gICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgPSB0aGlzLl9ib3VuZHNJRDtcbn07XG4vKipcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZFxuICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgbG9jYWwgYm91bmRzLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuZ2V0TG9jYWxCb3VuZHMobnVsbCk7XG59O1xuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZFxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKSB7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbn07XG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuZGVzdHJveShvcHRpb25zKTtcbn07XG5cbmV4cG9ydCB7IENhY2hlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tY2FjaGUtYXMtYml0bWFwLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBSZWN1cnNpdmUgc2VhcmNoZXMgYXJlIGRvbmUgaW4gYSBwcmVvcmRlciB0cmF2ZXJzYWwuXG4gKlxuICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBJbnN0YW5jZSBuYW1lLlxuICogQHBhcmFtIHtib29sZWFufVtkZWVwPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2VhcmNoIHJlY3Vyc2l2ZWx5XG4gKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAqL1xuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUsIGRlZXApIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkZWVwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLmdldENoaWxkQnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5jaGlsZHJlbltpXS5nZXRDaGlsZEJ5TmFtZShuYW1lLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1jaGlsZC1ieS1uYW1lLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdC4gRG9lcyBub3QgZGVwZW5kIG9uIG9iamVjdCBzY2FsZSwgcm90YXRpb24gYW5kIHBpdm90LlxuICpcbiAqIEBtZXRob2QgZ2V0R2xvYmFsUG9zaXRpb25cbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludD1uZXcgUElYSS5Qb2ludCgpXSAtIFRoZSBwb2ludCB0byB3cml0ZSB0aGUgZ2xvYmFsIHZhbHVlIHRvLlxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIHVwZGF0ZWQgcG9pbnQuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEdsb2JhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0R2xvYmFsUG9zaXRpb24ocG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICBpZiAocG9pbnQgPT09IHZvaWQgMCkgeyBwb2ludCA9IG5ldyBQb2ludCgpOyB9XG4gICAgaWYgKHNraXBVcGRhdGUgPT09IHZvaWQgMCkgeyBza2lwVXBkYXRlID0gZmFsc2U7IH1cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudG9HbG9iYWwodGhpcy5wb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcG9pbnQueCA9IHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgcG9pbnQueSA9IHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1nbG9iYWwtcG9zaXRpb24uanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2gtZXh0cmFzIC0gdjYuMC40XG4gKiBDb21waWxlZCBUdWUsIDExIE1heSAyMDIxIDE4OjAwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL21lc2gtZXh0cmFzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5LCBNZXNoLCBNZXNoTWF0ZXJpYWwgfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIFBsYW5lR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBsYW5lR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUGxhbmVHZW9tZXRyeSh3aWR0aCwgaGVpZ2h0LCBzZWdXaWR0aCwgc2VnSGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMTAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAxMDA7IH1cbiAgICAgICAgaWYgKHNlZ1dpZHRoID09PSB2b2lkIDApIHsgc2VnV2lkdGggPSAxMDsgfVxuICAgICAgICBpZiAoc2VnSGVpZ2h0ID09PSB2b2lkIDApIHsgc2VnSGVpZ2h0ID0gMTA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2VnV2lkdGggPSBzZWdXaWR0aDtcbiAgICAgICAgX3RoaXMuc2VnSGVpZ2h0ID0gc2VnSGVpZ2h0O1xuICAgICAgICBfdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbGFuZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5zZWdXaWR0aCAqIHRoaXMuc2VnSGVpZ2h0O1xuICAgICAgICB2YXIgdmVydHMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuICAgICAgICB2YXIgc2VnbWVudHNYID0gdGhpcy5zZWdXaWR0aCAtIDE7XG4gICAgICAgIHZhciBzZWdtZW50c1kgPSB0aGlzLnNlZ0hlaWdodCAtIDE7XG4gICAgICAgIHZhciBzaXplWCA9ICh0aGlzLndpZHRoKSAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gKHRoaXMuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IChpICUgdGhpcy5zZWdXaWR0aCk7XG4gICAgICAgICAgICB2YXIgeSA9ICgoaSAvIHRoaXMuc2VnV2lkdGgpIHwgMCk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHggKiBzaXplWCwgeSAqIHNpemVZKTtcbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFN1YjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IGkgJSBzZWdtZW50c1g7XG4gICAgICAgICAgICB2YXIgeXBvcyA9IChpIC8gc2VnbWVudHNYKSB8IDA7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWU0ID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3MgKyAxO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMywgdmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheShpbmRpY2VzKTtcbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFBsYW5lR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJvcGVHZW9tZXRyeSBhbGxvd3MgeW91IHRvIGRyYXcgYSBnZW9tZXRyeSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHMuXG4gKlxuICogYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGNvbnN0IHJvcGUgPSBuZXcgUElYSS5Sb3BlR2VvbWV0cnkoMTAwLCBwb2ludHMpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBSb3BlR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvcGVHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTIwMF0gLSBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IFtwb2ludHNdIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RleHR1cmVTY2FsZT0wXSAtIEJ5IGRlZmF1bHQgdGhlIHJvcGUgdGV4dHVyZSB3aWxsIGJlIHN0cmV0Y2hlZCB0byBtYXRjaFxuICAgICAqICAgICByb3BlIGxlbmd0aC4gSWYgdGV4dHVyZVNjYWxlIGlzIHBvc2l0aXZlIHRoaXMgdmFsdWUgd2lsbCBiZSB0cmVhdGVkIGFzIGEgc2NhbGluZ1xuICAgICAqICAgICBmYWN0b3IgYW5kIHRoZSB0ZXh0dXJlIHdpbGwgcHJlc2VydmUgaXRzIGFzcGVjdCByYXRpbyBpbnN0ZWFkLiBUbyBjcmVhdGUgYSB0aWxpbmcgcm9wZVxuICAgICAqICAgICBzZXQgYmFzZVRleHR1cmUud3JhcE1vZGUgdG8ge0BsaW5rIFBJWEkuV1JBUF9NT0RFUy5SRVBFQVR9IGFuZCB1c2UgYSBwb3dlciBvZiB0d28gdGV4dHVyZSxcbiAgICAgKiAgICAgdGhlbiBzZXQgdGV4dHVyZVNjYWxlPTEgdG8ga2VlcCB0aGUgb3JpZ2luYWwgdGV4dHVyZSBwaXhlbCBzaXplLlxuICAgICAqICAgICBJbiBvcmRlciB0byByZWR1Y2UgYWxwaGEgY2hhbm5lbCBhcnRpZmFjdHMgcHJvdmlkZSBhIGxhcmdlciB0ZXh0dXJlIGFuZCBkb3duc2FtcGxlIC1cbiAgICAgKiAgICAgaS5lLiBzZXQgdGV4dHVyZVNjYWxlPTAuNSB0byBzY2FsZSBpdCBkb3duIHR3aWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvcGVHZW9tZXRyeSh3aWR0aCwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAyMDA7IH1cbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwKSB7IHRleHR1cmVTY2FsZSA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLCBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogUm9wZSB0ZXh0dXJlIHNjYWxlLCBpZiB6ZXJvIHRoZW4gdGhlIHJvcGUgdGV4dHVyZSBpcyBzdHJldGNoZWQuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlU2NhbGUgPSB0ZXh0dXJlU2NhbGU7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJvcGVHZW9tZXRyeS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgUm9wZSBpbmRpY2VzIGFuZCB1dnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgaWYgKCFwb2ludHMpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICB2YXIgdXZCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4KCk7XG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZCB3ZSB3aWxsIG5lZWQgdG8gcmVjcmVhdGUgdGhlIGFycmF5YnVmZmVyc1xuICAgICAgICBpZiAodmVydGV4QnVmZmVyLmRhdGEubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHV2QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG4gICAgICAgIHZhciBhbW91bnQgPSAwO1xuICAgICAgICB2YXIgcHJldiA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIHRleHR1cmVXaWR0aCA9IHRoaXMuX3dpZHRoICogdGhpcy50ZXh0dXJlU2NhbGU7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7IC8vIC0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aW1lIHRvIGRvIHNvbWUgc21hcnQgZHJhd2luZyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBwaXhlbCBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHBvaW50XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gcHJldi54IC0gcG9pbnRzW2ldLng7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gcHJldi55IC0gcG9pbnRzW2ldLnk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgICAgICAgICAgcHJldiA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBhbW91bnQgKz0gZGlzdGFuY2UgLyB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzdHJldGNoIHRleHR1cmVcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBpIC8gKHRvdGFsIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMl0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAzXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4Q291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAzO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB1dkJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2hlcyB2ZXJ0aWNlcyBvZiBSb3BlIG1lc2hcbiAgICAgKi9cbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBuZXh0UG9pbnQ7XG4gICAgICAgIHZhciBwZXJwWCA9IDA7XG4gICAgICAgIHZhciBwZXJwWSA9IDA7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgaWYgKGkgPCBwb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcbiAgICAgICAgICAgIHZhciBwZXJwTGVuZ3RoID0gTWF0aC5zcXJ0KChwZXJwWCAqIHBlcnBYKSArIChwZXJwWSAqIHBlcnBZKSk7XG4gICAgICAgICAgICB2YXIgbnVtID0gdGhpcy50ZXh0dXJlU2NhbGUgPiAwID8gdGhpcy50ZXh0dXJlU2NhbGUgKiB0aGlzLl93aWR0aCAvIDIgOiB0aGlzLl93aWR0aCAvIDI7XG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBYICo9IG51bTtcbiAgICAgICAgICAgIHBlcnBZICo9IG51bTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4XSA9IHBvaW50LnggKyBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMV0gPSBwb2ludC55ICsgcGVycFk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDJdID0gcG9pbnQueCAtIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAzXSA9IHBvaW50LnkgLSBwZXJwWTtcbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB9O1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCk7IC8vIHdlIG5lZWQgdG8gdXBkYXRlIFVWc1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUm9wZUdlb21ldHJ5O1xufShNZXNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBUaGUgcm9wZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCByb3BlID0gbmV3IFBJWEkuU2ltcGxlUm9wZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBTaW1wbGVSb3BlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVSb3BlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGV4dHVyZVNjYWxlPTBdIC0gT3B0aW9uYWwuIFBvc2l0aXZlIHZhbHVlcyBzY2FsZSByb3BlIHRleHR1cmVcbiAgICAgKiBrZWVwaW5nIGl0cyBhc3BlY3QgcmF0aW8uIFlvdSBjYW4gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIGJ5IHByb3ZpZGluZyBhIGxhcmdlciB0ZXh0dXJlXG4gICAgICogYW5kIGRvd25zYW1wbGluZyBoZXJlLiBJZiBzZXQgdG8gemVybywgdGV4dHVyZSB3aWxsIGJlIHN0cmV0Y2hlZCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZVJvcGUodGV4dHVyZSwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpIHtcbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwKSB7IHRleHR1cmVTY2FsZSA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJvcGVHZW9tZXRyeSA9IG5ldyBSb3BlR2VvbWV0cnkodGV4dHVyZS5oZWlnaHQsIHBvaW50cywgdGV4dHVyZVNjYWxlKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAvLyBhdHRlbXB0IHRvIHNldCBVViB3cmFwcGluZywgd2lsbCBmYWlsIG9uIG5vbi1wb3dlciBvZiB0d28gdGV4dHVyZXNcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvcGVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogcmUtY2FsY3VsYXRlIHZlcnRpY2VzIGJ5IHJvcGUgcG9pbnRzIGVhY2ggZnJhbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNpbXBsZVJvcGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSB8fCBnZW9tZXRyeS5fd2lkdGggIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5fd2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdlb21ldHJ5LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVSb3BlO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFNpbXBsZVBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFNpbXBsZVBsYW5lID0gbmV3IFBJWEkuU2ltcGxlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgU2ltcGxlUGxhbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZVBsYW5lLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBTaW1wbGVQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNYIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeC1heGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHktYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZVBsYW5lKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwbGFuZUdlb21ldHJ5ID0gbmV3IFBsYW5lR2VvbWV0cnkodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHZlcnRpY2VzWCwgdmVydGljZXNZKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5XSElURSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcGxhbmVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKSB8fCB0aGlzO1xuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgZm9yIG92ZXJyaWRlcywgdG8gZG8gc29tZXRoaW5nIGluIGNhc2UgdGV4dHVyZSBmcmFtZSB3YXMgY2hhbmdlZC5cbiAgICAgKiBNZXNoZXMgYmFzZWQgb24gcGxhbmUgY2FuIG92ZXJyaWRlIGl0IGFuZCBjaGFuZ2UgbW9yZSBkZXRhaWxzIGJhc2VkIG9uIHRleHR1cmUuXG4gICAgICovXG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLndpZHRoO1xuICAgICAgICBnZW9tZXRyeS5oZWlnaHQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgZ2VvbWV0cnkuYnVpbGQoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW1wbGVQbGFuZS5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBUcmFjayB0ZXh0dXJlIHNhbWUgd2F5IHNwcml0ZSBkb2VzLlxuICAgICAgICAgICAgLy8gRm9yIGdlbmVyYXRlZCBtZXNoZXMgbGlrZSBOaW5lU2xpY2VQbGFuZSBpdCBjYW4gY2hhbmdlIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIHRoaXMgbWV0aG9kIG1pZ2h0IG5vdCB3b3JrIGlmIHlvdSBkaXJlY3RseSBjaGFuZ2UgdGV4dHVyZSBpbiBtYXRlcmlhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLnNoYWRlci50ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVQbGFuZTtcbn0oTWVzaCkpO1xuXG4vKipcbiAqIFRoZSBTaW1wbGUgTWVzaCBjbGFzcyBtaW1pY3MgTWVzaCBpbiBQaXhpSlMgdjQsIHByb3ZpZGluZyBlYXN5LXRvLXVzZSBjb25zdHJ1Y3RvciBhcmd1bWVudHMuXG4gKiBGb3IgbW9yZSByb2J1c3QgY3VzdG9taXphdGlvbiwgdXNlIHtAbGluayBQSVhJLk1lc2h9LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2ltcGxlTWVzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlTWVzaCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmU9VGV4dHVyZS5FTVBUWV0gLSBUaGUgdGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3ZlcnRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt1dnNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdXZzXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gW2luZGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgaW5kaWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGVdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBNZXNoLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2ltcGxlTWVzaCh0ZXh0dXJlLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSkge1xuICAgICAgICBpZiAodGV4dHVyZSA9PT0gdm9pZCAwKSB7IHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kaWNlcyk7XG4gICAgICAgIGdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuc3RhdGljID0gZmFsc2U7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwsIG51bGwsIGRyYXdNb2RlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXBsb2FkIHZlcnRpY2VzIGJ1ZmZlciBlYWNoIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlTWVzaC5wcm90b3R5cGUsIFwidmVydGljZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiB2ZXJ0aWNlcyBkYXRhLlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTaW1wbGVNZXNoLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlTWVzaDtcbn0oTWVzaCkpO1xuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuLyoqXG4gKiBUaGUgTmluZVNsaWNlUGxhbmUgYWxsb3dzIHlvdSB0byBzdHJldGNoIGEgdGV4dHVyZSB1c2luZyA5LXNsaWNlIHNjYWxpbmcuIFRoZSBjb3JuZXJzIHdpbGwgcmVtYWluIHVuc2NhbGVkICh1c2VmdWxcbiAqIGZvciBidXR0b25zIHdpdGggcm91bmRlZCBjb3JuZXJzIGZvciBleGFtcGxlKSBhbmQgdGhlIG90aGVyIGFyZWFzIHdpbGwgYmUgc2NhbGVkIGhvcml6b250YWxseSBhbmQgb3IgdmVydGljYWxseVxuICpcbiAqYGBganNcbiAqIGxldCBQbGFuZTkgPSBuZXcgUElYSS5OaW5lU2xpY2VQbGFuZShQSVhJLlRleHR1cmUuZnJvbSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU2ltcGxlUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgTmluZVNsaWNlUGxhbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5pbmVTbGljZVBsYW5lLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlZnRXaWR0aD0xMF0gLSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RvcEhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSB0b3AgaG9yaXpvbnRhbCBiYXIgKEMpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyaWdodFdpZHRoPTEwXSAtIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JvdHRvbUhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmluZVNsaWNlUGxhbmUodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodCkge1xuICAgICAgICBpZiAobGVmdFdpZHRoID09PSB2b2lkIDApIHsgbGVmdFdpZHRoID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAodG9wSGVpZ2h0ID09PSB2b2lkIDApIHsgdG9wSGVpZ2h0ID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAocmlnaHRXaWR0aCA9PT0gdm9pZCAwKSB7IHJpZ2h0V2lkdGggPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIGlmIChib3R0b21IZWlnaHQgPT09IHZvaWQgMCkgeyBib3R0b21IZWlnaHQgPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFRleHR1cmUuV0hJVEUsIDQsIDQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIF90aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gX3RoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBfdGhpcy5fb3JpZ0hlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sZWZ0V2lkdGggPSBsZWZ0V2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JpZ2h0V2lkdGggPSByaWdodFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdyAoYylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RvcEhlaWdodCA9IHRvcEhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3cgKGQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3R0b21IZWlnaHQgPSBib3R0b21IZWlnaHQ7XG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcInZlcnRpY2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVIb3Jpem9udGFsVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG4gICAgICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzE3XSA9IHZlcnRpY2VzWzE5XSA9IHZlcnRpY2VzWzIxXSA9IHZlcnRpY2VzWzIzXSA9IHRoaXMuX2hlaWdodCAtICh0aGlzLl9ib3R0b21IZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzI1XSA9IHZlcnRpY2VzWzI3XSA9IHZlcnRpY2VzWzI5XSA9IHZlcnRpY2VzWzMxXSA9IHRoaXMuX2hlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzRdID0gdmVydGljZXNbMTJdID0gdmVydGljZXNbMjBdID0gdmVydGljZXNbMjhdID0gdGhpcy5fd2lkdGggLSAodGhpcy5fcmlnaHRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNtYWxsZXIgb2YgYSBzZXQgb2YgdmVydGljYWwgYW5kIGhvcml6b250YWwgc2NhbGUgb2YgbmluZSBzbGljZSBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBTbWFsbGVyIG51bWJlciBvZiB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fZ2V0TWluU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdmFyIHNjYWxlVyA9IHRoaXMuX3dpZHRoID4gdyA/IDEuMCA6IHRoaXMuX3dpZHRoIC8gdztcbiAgICAgICAgdmFyIGggPSB0aGlzLl90b3BIZWlnaHQgKyB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIHZhciBzY2FsZUggPSB0aGlzLl9oZWlnaHQgPiBoID8gMS4wIDogdGhpcy5faGVpZ2h0IC8gaDtcbiAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5taW4oc2NhbGVXLCBzY2FsZUgpO1xuICAgICAgICByZXR1cm4gc2NhbGU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJsZWZ0V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwicmlnaHRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ0b3BIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwiYm90dG9tSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLmRhdGE7XG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICB2YXIgX3V2aCA9IDEuMCAvIHRoaXMuX29yaWdIZWlnaHQ7XG4gICAgICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICAgICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICAgICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE5pbmVTbGljZVBsYW5lO1xufShTaW1wbGVQbGFuZSkpO1xuXG5leHBvcnQgeyBOaW5lU2xpY2VQbGFuZSwgUGxhbmVHZW9tZXRyeSwgUm9wZUdlb21ldHJ5LCBTaW1wbGVNZXNoLCBTaW1wbGVQbGFuZSwgU2ltcGxlUm9wZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzaC1leHRyYXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUtYW5pbWF0ZWQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBBbiBBbmltYXRlZFNwcml0ZSBpcyBhIHNpbXBsZSB3YXkgdG8gZGlzcGxheSBhbiBhbmltYXRpb24gZGVwaWN0ZWQgYnkgYSBsaXN0IG9mIHRleHR1cmVzLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgYWxpZW5JbWFnZXMgPSBbXCJpbWFnZV9zZXF1ZW5jZV8wMS5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAyLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDMucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wNC5wbmdcIl07XG4gKiBsZXQgdGV4dHVyZUFycmF5ID0gW107XG4gKlxuICogZm9yIChsZXQgaT0wOyBpIDwgNDsgaSsrKVxuICoge1xuICogICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKGFsaWVuSW1hZ2VzW2ldKTtcbiAqICAgICAgdGV4dHVyZUFycmF5LnB1c2godGV4dHVyZSk7XG4gKiB9O1xuICpcbiAqIGxldCBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgYW5kIHNpbXBsZXIgd2F5IHRvIGNyZWF0ZSBhbiBhbmltYXRlZCBzcHJpdGUgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH1cbiAqIGNvbnRhaW5pbmcgdGhlIGFuaW1hdGlvbiBkZWZpbml0aW9uczpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImltYWdlX3NlcXVlbmNlXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQW5pbWF0ZWRTcHJpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFuaW1hdGVkU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118UElYSS5BbmltYXRlZFNwcml0ZS5GcmFtZU9iamVjdFtdfSB0ZXh0dXJlcyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlRleHR1cmV9IG9yIGZyYW1lXG4gICAgICogIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1VwZGF0ZT10cnVlXSAtIFdoZXRoZXIgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcywgYXV0b1VwZGF0ZSkge1xuICAgICAgICBpZiAoYXV0b1VwZGF0ZSA9PT0gdm9pZCAwKSB7IGF1dG9VcGRhdGUgPSB0cnVlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB1c2VzIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgaW5zdGFuY2UgaXMgY3VycmVudGx5IGNvbm5lY3RlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVlZCB0aGF0IHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHBsYXkgYXQuIEhpZ2hlciBpcyBmYXN0ZXIsIGxvd2VyIGlzIHNsb3dlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0ZSBzcHJpdGUgcmVwZWF0cyBhZnRlciBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sb29wID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBhbmNob3IgdG8gW1RleHR1cmUncyBkZWZhdWx0QW5jaG9yXXtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0gd2hlbiBmcmFtZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBVc2VmdWwgd2l0aCBbc3ByaXRlIHNoZWV0IGFuaW1hdGlvbnNde0BsaW5rIFBJWEkuU3ByaXRlc2hlZXQjYW5pbWF0aW9uc30gY3JlYXRlZCB3aXRoIHRvb2xzLlxuICAgICAgICAgKiBDaGFuZ2luZyBhbmNob3IgZm9yIGVhY2ggZnJhbWUgYWxsb3dzIHRvIHBpbiBzcHJpdGUgb3JpZ2luIHRvIGNlcnRhaW4gbW92aW5nIGZlYXR1cmVcbiAgICAgICAgICogb2YgdGhlIGZyYW1lIChlLmcuIGxlZnQgZm9vdCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IEVuYWJsaW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgcHJldmlvdXNseSBzZXQgYGFuY2hvcmAgb24gZWFjaCBmcmFtZSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGRhdGVBbmNob3IgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXItYXNzaWduZWQgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGFuaW1hdGlvbi5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgIC8vIGZpbmlzaGVkIVxuICAgICAgICAgKiB9O1xuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlci1hc3NpZ25lZCBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBhbmltYXRpb24ub25GcmFtZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAvLyB1cGRhdGVkIVxuICAgICAgICAgKiB9O1xuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlci1hc3NpZ25lZCBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYGxvb3BgIGlzIHRydWUsIGFuZCBhbiBBbmltYXRlZFNwcml0ZSBpcyBwbGF5ZWQgYW5kXG4gICAgICAgICAqIGxvb3BzIGFyb3VuZCB0byBzdGFydCBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogYW5pbWF0aW9uLm9uTG9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAvLyBsb29wZWQhXG4gICAgICAgICAqIH07XG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Mb29wID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsYXBzZWQgdGltZSBzaW5jZSBhbmltYXRpb24gaGFzIGJlZW4gc3RhcnRlZCwgdXNlZCBpbnRlcm5hbGx5IHRvIGRpc3BsYXkgY3VycmVudCB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY3VycmVudFRpbWUgPSAwO1xuICAgICAgICBfdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgaW5kZXggdGhhdCB3YXMgZGlzcGxheWVkIGxhc3QgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJldmlvdXNGcmFtZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBnb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdG9wIGF0LlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kU3RvcCA9IGZ1bmN0aW9uIChmcmFtZU51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIHNwZWNpZmljIGZyYW1lIGFuZCBiZWdpbnMgcGxheWluZyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFBsYXkgPSBmdW5jdGlvbiAoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIGlmICh0aGlzLl9kdXJhdGlvbnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBsYWcgPSB0aGlzLl9jdXJyZW50VGltZSAlIDEgKiB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG4gICAgICAgICAgICB3aGlsZSAobGFnIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgICAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2lnbiA9IE1hdGguc2lnbih0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB3aGlsZSAobGFnID49IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gc2lnbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGxhZyAvIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBlbGFwc2VkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VGltZSA8IDAgJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9jdXJyZW50VGltZSA+PSB0aGlzLl90ZXh0dXJlcy5sZW5ndGggJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCh0aGlzLl90ZXh0dXJlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9vcCAmJiB0aGlzLm9uTG9vcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkID4gMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA8IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA8IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPiBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICBpZiAodGhpcy5fcHJldmlvdXNGcmFtZSA9PT0gY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IGN1cnJlbnRGcmFtZTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVzW2N1cnJlbnRGcmFtZV07XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odGhpcy5fdGV4dHVyZS5kZWZhdWx0QW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vbkZyYW1lQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGRlc3Ryb3lzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBJZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZnJhbWVzIC0gVGhlIGFycmF5IG9mIGZyYW1lcyBpZHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkFuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21GcmFtZXMgPSBmdW5jdGlvbiAoZnJhbWVzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oZnJhbWVzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgaW1hZ2UgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGltYWdlcyAtIFRoZSBhcnJheSBvZiBpbWFnZSB1cmxzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7UElYSS5BbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW1hZ2VzIGFzIGZyYW1lcy5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tSW1hZ2VzID0gZnVuY3Rpb24gKGltYWdlcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGltYWdlc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJ0b3RhbEZyYW1lc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgQW5pbWF0ZWRTcHJpdGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICAgICAqIGFzc2lnbmVkIHRvIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJ0ZXh0dXJlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgdGV4dHVyZXMgdXNlZCBmb3IgdGhpcyBBbmltYXRlZFNwcml0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcImN1cnJlbnRGcmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBBbmltYXRlZFNwcml0ZXMgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJwbGF5aW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgQW5pbWF0ZWRTcHJpdGUgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwiYXV0b1VwZGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgJiYgdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBbmltYXRlZFNwcml0ZTtcbn0oU3ByaXRlKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGcmFtZU9iamVjdFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHtAbGluayBQSVhJLlRleHR1cmV9IG9mIHRoZSBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgLSB0aGUgZHVyYXRpb24gb2YgdGhlIGZyYW1lIGluIG1zXG4gKi9cblxuZXhwb3J0IHsgQW5pbWF0ZWRTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS1hbmltYXRlZC5qcy5tYXBcbiIsIi8qIVxuICogcGl4aS5qcyAtIHY2LjAuNFxuICogQ29tcGlsZWQgVHVlLCAxMSBNYXkgMjAyMSAxODowMDoyMyBVVENcbiAqXG4gKiBwaXhpLmpzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0ICdAcGl4aS9wb2x5ZmlsbCc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAcGl4aS91dGlscyc7XG5leHBvcnQgeyB1dGlscyB9O1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIgfSBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuaW1wb3J0IHsgSW50ZXJhY3Rpb25NYW5hZ2VyIH0gZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tICdAcGl4aS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmltcG9ydCB7IFJlbmRlcmVyLCBCYXRjaFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEV4dHJhY3QgfSBmcm9tICdAcGl4aS9leHRyYWN0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuaW1wb3J0IHsgTG9hZGVyLCBBcHBMb2FkZXJQbHVnaW4gfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHsgQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIsIEREU0xvYWRlciwgS1RYTG9hZGVyIH0gZnJvbSAnQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzJztcbmltcG9ydCB7IFBhcnRpY2xlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmltcG9ydCB7IFByZXBhcmUgfSBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuaW1wb3J0IHsgU3ByaXRlc2hlZXRMb2FkZXIgfSBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLXRpbGluZyc7XG5pbXBvcnQgeyBCaXRtYXBGb250TG9hZGVyIH0gZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuaW1wb3J0IHsgVGlja2VyUGx1Z2luIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBBbHBoYUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1hbHBoYSc7XG5pbXBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbmltcG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCc7XG5pbXBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50JztcbmltcG9ydCB7IEZYQUFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZnhhYSc7XG5pbXBvcnQgeyBOb2lzZUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ub2lzZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tYXRoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaC1leHRyYXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcnVubmVyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtYW5pbWF0ZWQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8vIEluc3RhbGwgcmVuZGVyZXIgcGx1Z2luc1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIEV4dHJhY3QpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludGVyYWN0aW9uJywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwYXJ0aWNsZScsIFBhcnRpY2xlUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBQcmVwYXJlKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdiYXRjaCcsIEJhdGNoUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3RpbGluZ1Nwcml0ZScsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcbi8vIEluc3RhbGwgbG9hZGVyIHBsdWdpbnNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihCaXRtYXBGb250TG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihDb21wcmVzc2VkVGV4dHVyZUxvYWRlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oRERTTG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihLVFhMb2FkZXIpO1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKFNwcml0ZXNoZWV0TG9hZGVyKTtcbi8vIEluc3RhbGwgYXBwbGljYXRpb24gcGx1Z2luc1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFZFUlNJT04gPSAnNi4wLjQnO1xuLyoqXG4gKiBAbmFtZXNwYWNlIFBJWElcbiAqL1xuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBXZWJHTC1vbmx5IGRpc3BsYXkgZmlsdGVycyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBEaXNwbGF5T2JqZWN0cyB1c2luZyB0aGUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNmaWx0ZXJzIGZpbHRlcnN9IHByb3BlcnR5LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzXG4gKiBjYW4gYmUgZG93bmxvYWRlZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGVcbiAqIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQWxsIGZpbHRlcnMgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkuRmlsdGVyfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSBncmVlbiByZWN0YW5nbGVcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIGEgYmx1ciBmaWx0ZXJcbiAqIHJlY3QuZmlsdGVycyA9IFtuZXcgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIoKV07XG4gKlxuICogLy8gRGlzcGxheSByZWN0YW5nbGVcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICogQG5hbWVzcGFjZSBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIGZpbHRlcnMgPSB7XG4gICAgQWxwaGFGaWx0ZXI6IEFscGhhRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXI6IEJsdXJGaWx0ZXIsXG4gICAgQmx1ckZpbHRlclBhc3M6IEJsdXJGaWx0ZXJQYXNzLFxuICAgIENvbG9yTWF0cml4RmlsdGVyOiBDb2xvck1hdHJpeEZpbHRlcixcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXI6IERpc3BsYWNlbWVudEZpbHRlcixcbiAgICBGWEFBRmlsdGVyOiBGWEFBRmlsdGVyLFxuICAgIE5vaXNlRmlsdGVyOiBOb2lzZUZpbHRlcixcbn07XG5cbmV4cG9ydCB7IFZFUlNJT04sIGZpbHRlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpeGkuanMubWFwXG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTWFza2VkQ29udGFpbmVyID0gKFxuXHR4OiBudW1iZXIsXG5cdHk6IG51bWJlcixcblx0d2lkdGg6IG51bWJlcixcblx0aGVpZ2h0OiBudW1iZXJcbik6IFBJWEkuQ29udGFpbmVyID0+IHtcblx0Y29uc3QgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cdGNvbnRhaW5lci54ID0geDtcblx0Y29udGFpbmVyLnkgPSB5O1xuXHRjb250YWluZXIud2lkdGggPSB3aWR0aDtcblx0Y29udGFpbmVyLmhlaWdodCA9IGhlaWdodDtcblx0Y29udGFpbmVyLm1hc2sgPSBuZXcgUElYSS5HcmFwaGljcygpLmJlZ2luRmlsbCgweGZmZmZmZikuZHJhd1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCkuZW5kRmlsbCgpO1xuXHQvLyBjb250YWluZXIuYWRkQ2hpbGQoXG5cdC8vIFx0bmV3IFBJWEkuR3JhcGhpY3MoKS5iZWdpbkZpbGwoMHhmZmZmZmYpLmRyYXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpLmVuZEZpbGwoKVxuXHQvLyApO1xuXHRyZXR1cm4gY29udGFpbmVyO1xufTtcbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICcuL0V2ZW50RW1pdHRlcic7XG5cbmV4cG9ydCBjbGFzcyBHYW1lIHtcblx0c3RhdGljIGFwcDogUElYSS5BcHBsaWNhdGlvbjtcblx0c3RhdGljIHJlc291cmNlczogeyBbbmFtZTogc3RyaW5nXTogUElYSS5JTG9hZGVyUmVzb3VyY2UgfTtcblx0c3RhdGljIGV2ZW50czogRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5cdHN0YXRpYyBzcGlubmVyc0NvbnRhaW5lcjogUElYSS5Db250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcblx0c3RhdGljIGJhY2tncm91bmRDb250YWluZXI6IFBJWEkuQ29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG59XG4iLCJleHBvcnQgY2xhc3MgRXZlbnRFbWl0dGVyIHtcblx0cHJpdmF0ZSBldmVudHM6IE1hcDxzdHJpbmcsIFNldDxDYWxsYWJsZUZ1bmN0aW9uPj4gPSBuZXcgTWFwKCk7XG5cblx0ZW1pdChldmVudDogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XG5cdFx0Y29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnQpO1xuXHRcdGlmIChzdWJzY3JpYmVycykge1xuXHRcdFx0Zm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzLnZhbHVlcygpKSB7XG5cdFx0XHRcdHN1YnNjcmliZXIoZGF0YSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0b24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IENhbGxhYmxlRnVuY3Rpb24pOiB2b2lkIHtcblx0XHRjb25zdCBzdWJzY3JpYmVycyA9IHRoaXMuZXZlbnRzLmdldChldmVudCk7XG5cdFx0aWYgKHN1YnNjcmliZXJzKSB7XG5cdFx0XHRzdWJzY3JpYmVycy5hZGQoY2FsbGJhY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBzdWJzY3JpYmVycyA9IG5ldyBTZXQ8Q2FsbGFibGVGdW5jdGlvbj4oKTtcblx0XHRcdHN1YnNjcmliZXJzLmFkZChjYWxsYmFjayk7XG5cdFx0XHR0aGlzLmV2ZW50cy5zZXQoZXZlbnQsIHN1YnNjcmliZXJzKTtcblx0XHR9XG5cdH1cblxuXHRvZmYoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IENhbGxhYmxlRnVuY3Rpb24pOiB2b2lkIHtcblx0XHRjb25zdCBzdWJzY3JpYmVycyA9IHRoaXMuZXZlbnRzLmdldChldmVudCk7XG5cdFx0aWYgKHN1YnNjcmliZXJzKSB7XG5cdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0c3Vic2NyaWJlcnMuZGVsZXRlKGNhbGxiYWNrKTtcblx0XHRcdH0gZWxzZSB0aGlzLmV2ZW50cy5kZWxldGUoZXZlbnQpO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCB7IEdhbWUgfSBmcm9tICcuLi9HYW1lJztcblxuZXhwb3J0IGNsYXNzIFN5bWJvbENvbXBvbmVudCB7XG5cdHNwcml0ZTogUElYSS5TcHJpdGU7XG5cdGNvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG5cdGRlc3RpbmF0aW9uID0gMDtcblx0c291cmNlID0gMDtcblx0c3BpbkRlbGF5TWF4OiBudW1iZXI7XG5cdHNwaW5EZWxheSA9IDA7XG5cdHNwaW5UaW1lID0gNTAwO1xuXHRjb25zdHJ1Y3Rvcih0ZXh0dXJlOiBQSVhJLlRleHR1cmUsIGNvbnRhaW5lcjogUElYSS5Db250YWluZXIsIHBvc2l0aW9uOiBudW1iZXIsIGRlbGF5OiBudW1iZXIpIHtcblx0XHR0aGlzLnNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcblx0XHR0aGlzLnNwcml0ZS55ID0gcG9zaXRpb247XG5cdFx0dGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cdFx0dGhpcy5zcGluRGVsYXlNYXggPSBkZWxheTtcblx0fVxufVxuIiwiaW1wb3J0IHsgRW50aXR5LCBRdWVyeSwgU3lzdGVtLCBFbnRpdHlTbmFwc2hvdCB9IGZyb20gJ3RpY2sta25vY2snO1xuaW1wb3J0IHsgU3ltYm9sQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9TeW1ib2xDb21wb25lbnQnO1xuaW1wb3J0IHsgbGVycCwgZWFzZUluT3V0QmFjayB9IGZyb20gJy4uL2hlbHBlcnMvVXRpbCc7XG5cbmltcG9ydCB7IEdhbWUgfSBmcm9tICcuLi9HYW1lJztcblxuY29uc3QgU1BJTl9USU1FX01BWCA9IDUwMDtcblxuZXhwb3J0IGNsYXNzIFNwaW5uZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuXHRxdWVyeSA9IG5ldyBRdWVyeSgoZW50aXR5OiBFbnRpdHkpID0+IGVudGl0eS5oYXMoU3ltYm9sQ29tcG9uZW50KSk7XG5cdGlzU3Bpbm5pbmcgPSBmYWxzZTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0dGhpcy5xdWVyeS5vbkVudGl0eUFkZGVkLmNvbm5lY3QoKHsgY3VycmVudCB9OiBFbnRpdHlTbmFwc2hvdCkgPT4ge1xuXHRcdFx0Y29uc3QgY29tcG9uZW50ID0gY3VycmVudC5nZXQoU3ltYm9sQ29tcG9uZW50KTtcblx0XHRcdGlmIChjb21wb25lbnQpIHtcblx0XHRcdFx0Y29tcG9uZW50LmNvbnRhaW5lci5hZGRDaGlsZChjb21wb25lbnQuc3ByaXRlKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIHRoaXMucXVlcnkub25FbnRpdHlSZW1vdmVkLmNvbm5lY3QoKHsgY3VycmVudCB9OiBFbnRpdHlTbmFwc2hvdCkgPT4ge1xuXHRcdC8vIFx0Y29uc3QgY29tcCA9IGN1cnJlbnQuZ2V0KENvbXBvbmVudCkgYXMgQ29tcG9uZW50O1xuXHRcdC8vIFx0Y29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbXAuc3ByaXRlKTtcblx0XHQvLyB9KTtcblxuXHRcdEdhbWUuZXZlbnRzLm9uKCdzcGluJywgKHRpbWU6IG51bWJlcikgPT4ge1xuXHRcdFx0aWYgKCF0aGlzLmlzU3Bpbm5pbmcpIHtcblx0XHRcdFx0dGhpcy5pc1NwaW5uaW5nID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5xdWVyeS5lbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcblx0XHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBlbnRpdHkuZ2V0KFN5bWJvbENvbXBvbmVudCk7XG5cdFx0XHRcdFx0aWYgKGNvbXBvbmVudCkge1xuXHRcdFx0XHRcdFx0Y29tcG9uZW50LnNvdXJjZSA9IGNvbXBvbmVudC5zcHJpdGUueTtcblx0XHRcdFx0XHRcdGNvbXBvbmVudC5kZXN0aW5hdGlvbiA9IGNvbXBvbmVudC5zcHJpdGUuaGVpZ2h0ICogdGltZTtcblx0XHRcdFx0XHRcdGNvbXBvbmVudC5zcGluRGVsYXkgPSAwO1xuXHRcdFx0XHRcdFx0Y29tcG9uZW50LnNwaW5UaW1lID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0b25BZGRlZFRvRW5naW5lKCkge1xuXHRcdHRoaXMuZW5naW5lLmFkZFF1ZXJ5KHRoaXMucXVlcnkpO1xuXHR9XG5cblx0cHVibGljIHVwZGF0ZShkdDogbnVtYmVyKSB7XG5cdFx0c3VwZXIudXBkYXRlKGR0KTtcblx0XHRpZiAodGhpcy5pc1NwaW5uaW5nKSB7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCctLS0tLScpO1xuXHRcdFx0dGhpcy5xdWVyeS5lbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcblx0XHRcdFx0Y29uc3QgY29tcG9uZW50ID0gZW50aXR5LmdldChTeW1ib2xDb21wb25lbnQpO1xuXHRcdFx0XHRpZiAoY29tcG9uZW50KSB7XG5cdFx0XHRcdFx0dGhpcy5pc1NwaW5uaW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0aWYgKGNvbXBvbmVudC5zcGluRGVsYXkgPiBjb21wb25lbnQuc3BpbkRlbGF5TWF4ICYmIGNvbXBvbmVudC5zcGluVGltZSA8IFNQSU5fVElNRV9NQVgpIHtcblx0XHRcdFx0XHRcdGNvbnN0IG5vcm0gPSBjb21wb25lbnQuc3BpblRpbWUgLyBTUElOX1RJTUVfTUFYO1xuXHRcdFx0XHRcdFx0Y29uc3QgZWFzZSA9IGVhc2VJbk91dEJhY2sobm9ybSk7XG5cdFx0XHRcdFx0XHRjb25zdCB0ID0gbGVycCgwLCBjb21wb25lbnQuZGVzdGluYXRpb24sIGVhc2UpO1xuXHRcdFx0XHRcdFx0bGV0IHBvcyA9IGNvbXBvbmVudC5zb3VyY2UgKyB0O1xuXHRcdFx0XHRcdFx0aWYgKHBvcyA+IDkgKiBjb21wb25lbnQuc3ByaXRlLmhlaWdodCkge1xuXHRcdFx0XHRcdFx0XHRwb3MgPSAtY29tcG9uZW50LnNwcml0ZS5oZWlnaHQgKyAocG9zICUgKDkgKiBjb21wb25lbnQuc3ByaXRlLmhlaWdodCkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29tcG9uZW50LnNwcml0ZS55ID0gcG9zO1xuXHRcdFx0XHRcdFx0Ly8gaWYgKCFjb21wb25lbnQuc3BpbkRlbGF5TWF4KVxuXHRcdFx0XHRcdFx0Ly8gXHRjb25zb2xlLmxvZyhjb21wb25lbnQuc3ByaXRlLmhlaWdodCAqIDMsIGNvbXBvbmVudC5zb3VyY2UgKyB0LCBwb3MpO1xuXHRcdFx0XHRcdFx0Y29tcG9uZW50LnNwaW5UaW1lICs9IGR0ICogMC4yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoY29tcG9uZW50LnNwaW5UaW1lIDwgU1BJTl9USU1FX01BWCkgdGhpcy5pc1NwaW5uaW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRjb21wb25lbnQuc3BpbkRlbGF5ICs9IGR0O1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cbiIsImV4cG9ydCBjb25zdCBnZXRSYW5kb21WYWx1ZSA9IChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT5cblx0TWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xuXG5leHBvcnQgY29uc3QgbGVycCA9IChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgdDogbnVtYmVyKSA9PiB7XG5cdHJldHVybiBzdGFydCAqICgxIC0gdCkgKyBlbmQgKiB0O1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJbk91dEJhY2sgPSAoeDogbnVtYmVyKTogbnVtYmVyID0+IHtcblx0Y29uc3QgYzEgPSAwLjkwMTU4O1xuXHRjb25zdCBjMiA9IGMxICogMS41MjU7XG5cblx0cmV0dXJuIHggPCAwLjVcblx0XHQ/IChNYXRoLnBvdygyICogeCwgMikgKiAoKGMyICsgMSkgKiAyICogeCAtIGMyKSkgLyAyXG5cdFx0OiAoTWF0aC5wb3coMiAqIHggLSAyLCAyKSAqICgoYzIgKyAxKSAqICh4ICogMiAtIDIpICsgYzIpICsgMikgLyAyO1xufTtcbiIsImltcG9ydCB7IEVuZ2luZSwgRW50aXR5LCBRdWVyeSwgU3lzdGVtLCBFbnRpdHlTbmFwc2hvdCB9IGZyb20gJ3RpY2sta25vY2snO1xuaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCB7IGNyZWF0ZU1hc2tlZENvbnRhaW5lciB9IGZyb20gJy4vaGVscGVycy9QaXhpSGVscGVyJztcbmltcG9ydCB7IGdldFJhbmRvbVZhbHVlIH0gZnJvbSAnLi9oZWxwZXJzL1V0aWwnO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4vR2FtZSc7XG5cbmltcG9ydCB7IFNwaW5uZXJTeXN0ZW0gfSBmcm9tICcuL3N5c3RlbXMvU3Bpbm5lclN5c3RlbSc7XG5pbXBvcnQgeyBTeW1ib2xDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvU3ltYm9sQ29tcG9uZW50JztcblxuY29uc3QgZW5naW5lID0gbmV3IEVuZ2luZSgpO1xuXG5jb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbih7XG5cdHdpZHRoOiAxMDI0LFxuXHRoZWlnaHQ6IDU3Myxcblx0YmFja2dyb3VuZENvbG9yOiAweDRlYzBjYSxcbn0pO1xuXG5jb25zdCBnYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUtY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XG5nYW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKGFwcC5yZW5kZXJlci52aWV3KTtcbmNvbnN0IHNwaW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXNwaW4nKSBhcyBIVE1MRWxlbWVudDtcbnNwaW5CdXR0b24ub25wb2ludGVyZG93biA9ICgpID0+IHtcblx0c3BpbkJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gJzEnO1xufTtcblxuc3BpbkJ1dHRvbi5vbnBvaW50ZXJ1cCA9ICgpID0+IHtcblx0Y29uc29sZS5sb2coJ2NsaWNrJyk7XG5cdHNwaW5CdXR0b24uc3R5bGUub3BhY2l0eSA9ICcwLjUnO1xuXHRHYW1lLmV2ZW50cy5lbWl0KCdzcGluJywgOSk7XG59O1xuXG5hcHAubG9hZGVyLmFkZCgnc3ltYm9scycsICdhc3NldHMvc3ltYm9scy5qc29uJykubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcblx0R2FtZS5hcHAgPSBhcHA7XG5cdEdhbWUucmVzb3VyY2VzID0gcmVzb3VyY2VzO1xuXG5cdGFwcC5zdGFnZS5hZGRDaGlsZChHYW1lLmJhY2tncm91bmRDb250YWluZXIpO1xuXHRhcHAuc3RhZ2UuYWRkQ2hpbGQoR2FtZS5zcGlubmVyc0NvbnRhaW5lcik7XG5cblx0Y29uc3QgYmFja2dyb3VuZCA9IFBJWEkuU3ByaXRlLmZyb20oJy4vYXNzZXRzL3RhYmxlLnBuZycpO1xuXHRiYWNrZ3JvdW5kLnNjYWxlLnNldCgwLjYpO1xuXHRiYWNrZ3JvdW5kLnggPSAyNTtcblx0R2FtZS5iYWNrZ3JvdW5kQ29udGFpbmVyLmFkZENoaWxkKGJhY2tncm91bmQpO1xuXG5cdGNvbnN0IGNvbnRhaW5lcjAgPSBjcmVhdGVNYXNrZWRDb250YWluZXIoMTMwLCAxMTUsIDEzMCwgMzUwKTtcblx0R2FtZS5zcGlubmVyc0NvbnRhaW5lci5hZGRDaGlsZChjb250YWluZXIwKTtcblx0Y29uc3QgY29udGFpbmVyMSA9IGNyZWF0ZU1hc2tlZENvbnRhaW5lcigyODAsIDExNSwgMTMwLCAzNTApO1xuXHRHYW1lLnNwaW5uZXJzQ29udGFpbmVyLmFkZENoaWxkKGNvbnRhaW5lcjEpO1xuXHRjb25zdCBjb250YWluZXIyID0gY3JlYXRlTWFza2VkQ29udGFpbmVyKDQzNSwgMTE1LCAxMzAsIDM1MCk7XG5cdEdhbWUuc3Bpbm5lcnNDb250YWluZXIuYWRkQ2hpbGQoY29udGFpbmVyMik7XG5cdGNvbnN0IGNvbnRhaW5lcjMgPSBjcmVhdGVNYXNrZWRDb250YWluZXIoNTkwLCAxMTUsIDEzMCwgMzUwKTtcblx0R2FtZS5zcGlubmVyc0NvbnRhaW5lci5hZGRDaGlsZChjb250YWluZXIzKTtcblx0Y29uc3QgY29udGFpbmVyNCA9IGNyZWF0ZU1hc2tlZENvbnRhaW5lcig3NDUsIDExNSwgMTMwLCAzNTApO1xuXHRHYW1lLnNwaW5uZXJzQ29udGFpbmVyLmFkZENoaWxkKGNvbnRhaW5lcjQpO1xuXG5cdGNvbnN0IHN5bWJvbHMgPSBPYmplY3Qua2V5cyhyZXNvdXJjZXMuc3ltYm9scy50ZXh0dXJlcyk7XG5cblx0Y29uc3QgZ2V0VGV4dHVyZSA9ICgpOiBQSVhJLlRleHR1cmUgPT4ge1xuXHRcdGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcihnZXRSYW5kb21WYWx1ZSgwLCBzeW1ib2xzLmxlbmd0aCkpO1xuXHRcdGNvbnN0IHRleHR1cmUgPSByZXNvdXJjZXMuc3ltYm9scy50ZXh0dXJlc1tzeW1ib2xzW2luZGV4XV07XG5cdFx0cmV0dXJuIHRleHR1cmU7XG5cdH07XG5cblx0Y29uc3QgcG9wdWxhdGUgPSAoY29udGFpbmVyOiBQSVhJLkNvbnRhaW5lciwgZGVsYXk6IG51bWJlcikgPT4ge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0Y29uc3QgZW50aXR5ID0gbmV3IEVudGl0eSgpO1xuXHRcdFx0Y29uc3QgdGV4dHVyZSA9IGdldFRleHR1cmUoKTtcblx0XHRcdGVudGl0eS5hZGRDb21wb25lbnQoXG5cdFx0XHRcdG5ldyBTeW1ib2xDb21wb25lbnQodGV4dHVyZSwgY29udGFpbmVyLCAtdGV4dHVyZS5oZWlnaHQgKyBpICogdGV4dHVyZS5oZWlnaHQsIGRlbGF5KVxuXHRcdFx0KTtcblx0XHRcdGVuZ2luZS5hZGRFbnRpdHkoZW50aXR5KTtcblx0XHR9XG5cdH07XG5cblx0cG9wdWxhdGUoY29udGFpbmVyMCwgMCk7XG5cdHBvcHVsYXRlKGNvbnRhaW5lcjEsIDEwMCk7XG5cdHBvcHVsYXRlKGNvbnRhaW5lcjIsIDIwMCk7XG5cdHBvcHVsYXRlKGNvbnRhaW5lcjMsIDMwMCk7XG5cdHBvcHVsYXRlKGNvbnRhaW5lcjQsIDQwMCk7XG5cblx0ZW5naW5lLmFkZFN5c3RlbShuZXcgU3Bpbm5lclN5c3RlbSgpKTtcblxuXHRsZXQgbGFzdFRpbWVzdGFtcCA9IDE2O1xuXHRjb25zdCBydW4gPSAodGltZXN0YW1wID0gMCkgPT4ge1xuXHRcdGNvbnN0IGR0ID0gdGltZXN0YW1wIC0gbGFzdFRpbWVzdGFtcDtcblx0XHRsYXN0VGltZXN0YW1wID0gdGltZXN0YW1wO1xuXHRcdGVuZ2luZS51cGRhdGUoZHQpO1xuXHRcdGFwcC5yZW5kZXJlci5yZW5kZXIoYXBwLnN0YWdlKTtcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnVuKTtcblx0fTtcblx0cnVuKCk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=